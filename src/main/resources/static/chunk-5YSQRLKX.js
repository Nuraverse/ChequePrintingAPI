import{$a as S,$b as on,A as jd,Aa as Ns,Ab as Ro,Ac as ui,B as Hd,Ba as Qd,Bb as au,Bc as Et,C as Ud,Ca as Jd,Cb as lu,Da as eu,Db as cu,Dc as pt,E as Wd,Ea as tu,Eb as qt,Ec as Uo,Fa as iu,Fb as me,Fc as Tt,Ga as nu,Gb as Ei,Gc as js,Ha as su,Hb as ae,Hc as yu,I as zd,Ia as Xn,Ib as Fe,Ic as Hs,Ja as kr,Jb as ki,Jc as bu,Ka as Mr,Kb as Tn,La as Vo,Lb as No,Ma as Fr,Mb as hu,Na as g,Nb as du,O as Yd,Oa as B,Ob as uu,Pb as xt,Qa as Lo,R as rn,Rb as pu,S as Rt,Sa as ru,T as Qe,Ta as ct,U as de,Ua as Po,W as Ut,Wa as Wt,Xa as ge,Xb as Ke,Y as Xe,Ya as Ee,Yb as fu,Z as Dt,Zb as H,_b as fe,a as Se,aa as Or,ac as qn,b as At,ba as G,bb as k,bc as mu,c as Bd,ca as ue,cb as f,da as Ot,db as xn,dc as Bs,e as T1,ea as El,eb as di,ec as gu,f as S1,fa as Gd,fb as ou,fc as _u,g as Pt,ga as Xd,gb as z,gc as ke,ha as qd,hb as I,ia as Ui,ib as D,j as Dl,ja as O,jb as P,ka as E,kb as Q,la as Ce,lb as J,m as sn,ma as be,mb as le,mc as Bo,na as Er,nb as Z,nc as Me,oa as Kd,ob as W,oc as ni,p as Ao,pa as X,pb as _,pc as Be,q as Ol,qa as et,qb as ut,qc as Ae,ra as kl,rb as tt,rc as qe,sa as Oe,sb as Pe,sc as we,ta as $d,tb as ve,tc as vu,u as Gn,ua as Ml,ub as ee,uc as vt,va as Zd,vb as te,vc as jo,wa as lt,wb as it,xb as ce,xc as Ho,ya as Fl,yb as ze,za as Rs,zb as Nt}from"./chunk-S75CAB2Z.js";var Tp=T1((Fc,Qs)=>{"use strict";(function(s,t){typeof Fc=="object"&&typeof Qs<"u"?Qs.exports=t():typeof define=="function"&&define.amd?define(t):s.moment=t()})(Fc,function(){"use strict";var s;function t(){return s.apply(null,arguments)}function e(a){s=a}function i(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}function n(a){return a!=null&&Object.prototype.toString.call(a)==="[object Object]"}function r(a,h){return Object.prototype.hasOwnProperty.call(a,h)}function o(a){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(a).length===0;var h;for(h in a)if(r(a,h))return!1;return!0}function l(a){return a===void 0}function c(a){return typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]"}function d(a){return a instanceof Date||Object.prototype.toString.call(a)==="[object Date]"}function u(a,h){var p=[],m,b=a.length;for(m=0;m<b;++m)p.push(h(a[m],m));return p}function v(a,h){for(var p in h)r(h,p)&&(a[p]=h[p]);return r(h,"toString")&&(a.toString=h.toString),r(h,"valueOf")&&(a.valueOf=h.valueOf),a}function y(a,h,p,m){return gd(a,h,p,m,!0).utc()}function C(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(a){return a._pf==null&&(a._pf=C()),a._pf}var T;Array.prototype.some?T=Array.prototype.some:T=function(a){var h=Object(this),p=h.length>>>0,m;for(m=0;m<p;m++)if(m in h&&a.call(this,h[m],m,h))return!0;return!1};function x(a){var h=null,p=!1,m=a._d&&!isNaN(a._d.getTime());if(m&&(h=w(a),p=T.call(h.parsedDateParts,function(b){return b!=null}),m=h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&p),a._strict&&(m=m&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(a))a._isValid=m;else return m;return a._isValid}function L(a){var h=y(NaN);return a!=null?v(w(h),a):w(h).userInvalidated=!0,h}var R=t.momentProperties=[],U=!1;function q(a,h){var p,m,b,F=R.length;if(l(h._isAMomentObject)||(a._isAMomentObject=h._isAMomentObject),l(h._i)||(a._i=h._i),l(h._f)||(a._f=h._f),l(h._l)||(a._l=h._l),l(h._strict)||(a._strict=h._strict),l(h._tzm)||(a._tzm=h._tzm),l(h._isUTC)||(a._isUTC=h._isUTC),l(h._offset)||(a._offset=h._offset),l(h._pf)||(a._pf=w(h)),l(h._locale)||(a._locale=h._locale),F>0)for(p=0;p<F;p++)m=R[p],b=h[m],l(b)||(a[m]=b);return a}function K(a){q(this,a),this._d=new Date(a._d!=null?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),U===!1&&(U=!0,t.updateOffset(this),U=!1)}function ie(a){return a instanceof K||a!=null&&a._isAMomentObject!=null}function _e(a){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+a)}function $(a,h){var p=!0;return v(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,a),p){var m=[],b,F,j,ne=arguments.length;for(F=0;F<ne;F++){if(b="",typeof arguments[F]=="object"){b+=`
[`+F+"] ";for(j in arguments[0])r(arguments[0],j)&&(b+=j+": "+arguments[0][j]+", ");b=b.slice(0,-2)}else b=arguments[F];m.push(b)}_e(a+`
Arguments: `+Array.prototype.slice.call(m).join("")+`
`+new Error().stack),p=!1}return h.apply(this,arguments)},h)}var Te={};function He(a,h){t.deprecationHandler!=null&&t.deprecationHandler(a,h),Te[a]||(_e(h),Te[a]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function $e(a){return typeof Function<"u"&&a instanceof Function||Object.prototype.toString.call(a)==="[object Function]"}function _t(a){var h,p;for(p in a)r(a,p)&&(h=a[p],$e(h)?this[p]=h:this["_"+p]=h);this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ue(a,h){var p=v({},a),m;for(m in h)r(h,m)&&(n(a[m])&&n(h[m])?(p[m]={},v(p[m],a[m]),v(p[m],h[m])):h[m]!=null?p[m]=h[m]:delete p[m]);for(m in a)r(a,m)&&!r(h,m)&&n(a[m])&&(p[m]=v({},p[m]));return p}function rt(a){a!=null&&this.set(a)}var Lt;Object.keys?Lt=Object.keys:Lt=function(a){var h,p=[];for(h in a)r(a,h)&&p.push(h);return p};var jt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ci(a,h,p){var m=this._calendar[a]||this._calendar.sameElse;return $e(m)?m.call(h,p):m}function We(a,h,p){var m=""+Math.abs(a),b=h-m.length,F=a>=0;return(F?p?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+m}var ti=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ii=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,vn={},Ni={};function oe(a,h,p,m){var b=m;typeof m=="string"&&(b=function(){return this[m]()}),a&&(Ni[a]=b),h&&(Ni[h[0]]=function(){return We(b.apply(this,arguments),h[1],h[2])}),p&&(Ni[p]=function(){return this.localeData().ordinal(b.apply(this,arguments),a)})}function Bi(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Os(a){var h=a.match(ti),p,m;for(p=0,m=h.length;p<m;p++)Ni[h[p]]?h[p]=Ni[h[p]]:h[p]=Bi(h[p]);return function(b){var F="",j;for(j=0;j<m;j++)F+=$e(h[j])?h[j].call(b,a):h[j];return F}}function vi(a,h){return a.isValid()?(h=yn(h,a.localeData()),vn[h]=vn[h]||Os(h),vn[h](a)):a.localeData().invalidDate()}function yn(a,h){var p=5;function m(b){return h.longDateFormat(b)||b}for(ii.lastIndex=0;p>=0&&ii.test(a);)a=a.replace(ii,m),ii.lastIndex=0,p-=1;return a}var nl={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function vr(a){var h=this._longDateFormat[a],p=this._longDateFormat[a.toUpperCase()];return h||!p?h:(this._longDateFormat[a]=p.match(ti).map(function(m){return m==="MMMM"||m==="MM"||m==="DD"||m==="dddd"?m.slice(1):m}).join(""),this._longDateFormat[a])}var ji="Invalid date";function Vm(){return this._invalidDate}var Lm="%d",Pm=/\d{1,2}/;function Rm(a){return this._ordinal.replace("%d",a)}var Nm={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Bm(a,h,p,m){var b=this._relativeTime[p];return $e(b)?b(a,h,p,m):b.replace(/%d/i,a)}function jm(a,h){var p=this._relativeTime[a>0?"future":"past"];return $e(p)?p(h):p.replace(/%s/i,h)}var Kh={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function yi(a){return typeof a=="string"?Kh[a]||Kh[a.toLowerCase()]:void 0}function sl(a){var h={},p,m;for(m in a)r(a,m)&&(p=yi(m),p&&(h[p]=a[m]));return h}var Hm={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Um(a){var h=[],p;for(p in a)r(a,p)&&h.push({unit:p,priority:Hm[p]});return h.sort(function(m,b){return m.priority-b.priority}),h}var $h=/\d/,hi=/\d\d/,Zh=/\d{3}/,rl=/\d{4}/,mo=/[+-]?\d{6}/,ot=/\d\d?/,Qh=/\d\d\d\d?/,Jh=/\d\d\d\d\d\d?/,go=/\d{1,3}/,ol=/\d{1,4}/,_o=/[+-]?\d{1,6}/,Es=/\d+/,vo=/[+-]?\d+/,Wm=/Z|[+-]\d\d:?\d\d/gi,yo=/Z|[+-]\d\d(?::?\d\d)?/gi,zm=/[+-]?\d+(\.\d{1,3})?/,yr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ks=/^[1-9]\d?/,al=/^([1-9]\d|\d)/,bo;bo={};function se(a,h,p){bo[a]=$e(h)?h:function(m,b){return m&&p?p:h}}function Ym(a,h){return r(bo,a)?bo[a](h._strict,h._locale):new RegExp(Gm(a))}function Gm(a){return qi(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,p,m,b,F){return p||m||b||F}))}function qi(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function bi(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function Ve(a){var h=+a,p=0;return h!==0&&isFinite(h)&&(p=bi(h)),p}var ll={};function Je(a,h){var p,m=h,b;for(typeof a=="string"&&(a=[a]),c(h)&&(m=function(F,j){j[h]=Ve(F)}),b=a.length,p=0;p<b;p++)ll[a[p]]=m}function br(a,h){Je(a,function(p,m,b,F){b._w=b._w||{},h(p,b._w,b,F)})}function Xm(a,h,p){h!=null&&r(ll,a)&&ll[a](h,p._a,p,a)}function Co(a){return a%4===0&&a%100!==0||a%400===0}var Ht=0,Ki=1,Hi=2,Ft=3,Di=4,$i=5,Wn=6,qm=7,Km=8;oe("Y",0,0,function(){var a=this.year();return a<=9999?We(a,4):"+"+a}),oe(0,["YY",2],0,function(){return this.year()%100}),oe(0,["YYYY",4],0,"year"),oe(0,["YYYYY",5],0,"year"),oe(0,["YYYYYY",6,!0],0,"year"),se("Y",vo),se("YY",ot,hi),se("YYYY",ol,rl),se("YYYYY",_o,mo),se("YYYYYY",_o,mo),Je(["YYYYY","YYYYYY"],Ht),Je("YYYY",function(a,h){h[Ht]=a.length===2?t.parseTwoDigitYear(a):Ve(a)}),Je("YY",function(a,h){h[Ht]=t.parseTwoDigitYear(a)}),Je("Y",function(a,h){h[Ht]=parseInt(a,10)});function Cr(a){return Co(a)?366:365}t.parseTwoDigitYear=function(a){return Ve(a)+(Ve(a)>68?1900:2e3)};var ed=Ms("FullYear",!0);function $m(){return Co(this.year())}function Ms(a,h){return function(p){return p!=null?(td(this,a,p),t.updateOffset(this,h),this):wr(this,a)}}function wr(a,h){if(!a.isValid())return NaN;var p=a._d,m=a._isUTC;switch(h){case"Milliseconds":return m?p.getUTCMilliseconds():p.getMilliseconds();case"Seconds":return m?p.getUTCSeconds():p.getSeconds();case"Minutes":return m?p.getUTCMinutes():p.getMinutes();case"Hours":return m?p.getUTCHours():p.getHours();case"Date":return m?p.getUTCDate():p.getDate();case"Day":return m?p.getUTCDay():p.getDay();case"Month":return m?p.getUTCMonth():p.getMonth();case"FullYear":return m?p.getUTCFullYear():p.getFullYear();default:return NaN}}function td(a,h,p){var m,b,F,j,ne;if(!(!a.isValid()||isNaN(p))){switch(m=a._d,b=a._isUTC,h){case"Milliseconds":return void(b?m.setUTCMilliseconds(p):m.setMilliseconds(p));case"Seconds":return void(b?m.setUTCSeconds(p):m.setSeconds(p));case"Minutes":return void(b?m.setUTCMinutes(p):m.setMinutes(p));case"Hours":return void(b?m.setUTCHours(p):m.setHours(p));case"Date":return void(b?m.setUTCDate(p):m.setDate(p));case"FullYear":break;default:return}F=p,j=a.month(),ne=a.date(),ne=ne===29&&j===1&&!Co(F)?28:ne,b?m.setUTCFullYear(F,j,ne):m.setFullYear(F,j,ne)}}function Zm(a){return a=yi(a),$e(this[a])?this[a]():this}function Qm(a,h){if(typeof a=="object"){a=sl(a);var p=Um(a),m,b=p.length;for(m=0;m<b;m++)this[p[m].unit](a[p[m].unit])}else if(a=yi(a),$e(this[a]))return this[a](h);return this}function Jm(a,h){return(a%h+h)%h}var wt;Array.prototype.indexOf?wt=Array.prototype.indexOf:wt=function(a){var h;for(h=0;h<this.length;++h)if(this[h]===a)return h;return-1};function cl(a,h){if(isNaN(a)||isNaN(h))return NaN;var p=Jm(h,12);return a+=(h-p)/12,p===1?Co(a)?29:28:31-p%7%2}oe("M",["MM",2],"Mo",function(){return this.month()+1}),oe("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),oe("MMMM",0,0,function(a){return this.localeData().months(this,a)}),se("M",ot,ks),se("MM",ot,hi),se("MMM",function(a,h){return h.monthsShortRegex(a)}),se("MMMM",function(a,h){return h.monthsRegex(a)}),Je(["M","MM"],function(a,h){h[Ki]=Ve(a)-1}),Je(["MMM","MMMM"],function(a,h,p,m){var b=p._locale.monthsParse(a,m,p._strict);b!=null?h[Ki]=b:w(p).invalidMonth=a});var eg="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),id="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nd=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,tg=yr,ig=yr;function ng(a,h){return a?i(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||nd).test(h)?"format":"standalone"][a.month()]:i(this._months)?this._months:this._months.standalone}function sg(a,h){return a?i(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[nd.test(h)?"format":"standalone"][a.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function rg(a,h,p){var m,b,F,j=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],m=0;m<12;++m)F=y([2e3,m]),this._shortMonthsParse[m]=this.monthsShort(F,"").toLocaleLowerCase(),this._longMonthsParse[m]=this.months(F,"").toLocaleLowerCase();return p?h==="MMM"?(b=wt.call(this._shortMonthsParse,j),b!==-1?b:null):(b=wt.call(this._longMonthsParse,j),b!==-1?b:null):h==="MMM"?(b=wt.call(this._shortMonthsParse,j),b!==-1?b:(b=wt.call(this._longMonthsParse,j),b!==-1?b:null)):(b=wt.call(this._longMonthsParse,j),b!==-1?b:(b=wt.call(this._shortMonthsParse,j),b!==-1?b:null))}function og(a,h,p){var m,b,F;if(this._monthsParseExact)return rg.call(this,a,h,p);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),m=0;m<12;m++){if(b=y([2e3,m]),p&&!this._longMonthsParse[m]&&(this._longMonthsParse[m]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[m]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!p&&!this._monthsParse[m]&&(F="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[m]=new RegExp(F.replace(".",""),"i")),p&&h==="MMMM"&&this._longMonthsParse[m].test(a))return m;if(p&&h==="MMM"&&this._shortMonthsParse[m].test(a))return m;if(!p&&this._monthsParse[m].test(a))return m}}function sd(a,h){if(!a.isValid())return a;if(typeof h=="string"){if(/^\d+$/.test(h))h=Ve(h);else if(h=a.localeData().monthsParse(h),!c(h))return a}var p=h,m=a.date();return m=m<29?m:Math.min(m,cl(a.year(),p)),a._isUTC?a._d.setUTCMonth(p,m):a._d.setMonth(p,m),a}function rd(a){return a!=null?(sd(this,a),t.updateOffset(this,!0),this):wr(this,"Month")}function ag(){return cl(this.year(),this.month())}function lg(a){return this._monthsParseExact?(r(this,"_monthsRegex")||od.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=tg),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function cg(a){return this._monthsParseExact?(r(this,"_monthsRegex")||od.call(this),a?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=ig),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function od(){function a(ye,Le){return Le.length-ye.length}var h=[],p=[],m=[],b,F,j,ne;for(b=0;b<12;b++)F=y([2e3,b]),j=qi(this.monthsShort(F,"")),ne=qi(this.months(F,"")),h.push(j),p.push(ne),m.push(ne),m.push(j);h.sort(a),p.sort(a),m.sort(a),this._monthsRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function hg(a,h,p,m,b,F,j){var ne;return a<100&&a>=0?(ne=new Date(a+400,h,p,m,b,F,j),isFinite(ne.getFullYear())&&ne.setFullYear(a)):ne=new Date(a,h,p,m,b,F,j),ne}function xr(a){var h,p;return a<100&&a>=0?(p=Array.prototype.slice.call(arguments),p[0]=a+400,h=new Date(Date.UTC.apply(null,p)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(a)):h=new Date(Date.UTC.apply(null,arguments)),h}function wo(a,h,p){var m=7+h-p,b=(7+xr(a,0,m).getUTCDay()-h)%7;return-b+m-1}function ad(a,h,p,m,b){var F=(7+p-m)%7,j=wo(a,m,b),ne=1+7*(h-1)+F+j,ye,Le;return ne<=0?(ye=a-1,Le=Cr(ye)+ne):ne>Cr(a)?(ye=a+1,Le=ne-Cr(a)):(ye=a,Le=ne),{year:ye,dayOfYear:Le}}function Tr(a,h,p){var m=wo(a.year(),h,p),b=Math.floor((a.dayOfYear()-m-1)/7)+1,F,j;return b<1?(j=a.year()-1,F=b+Zi(j,h,p)):b>Zi(a.year(),h,p)?(F=b-Zi(a.year(),h,p),j=a.year()+1):(j=a.year(),F=b),{week:F,year:j}}function Zi(a,h,p){var m=wo(a,h,p),b=wo(a+1,h,p);return(Cr(a)-m+b)/7}oe("w",["ww",2],"wo","week"),oe("W",["WW",2],"Wo","isoWeek"),se("w",ot,ks),se("ww",ot,hi),se("W",ot,ks),se("WW",ot,hi),br(["w","ww","W","WW"],function(a,h,p,m){h[m.substr(0,1)]=Ve(a)});function dg(a){return Tr(a,this._week.dow,this._week.doy).week}var ug={dow:0,doy:6};function pg(){return this._week.dow}function fg(){return this._week.doy}function mg(a){var h=this.localeData().week(this);return a==null?h:this.add((a-h)*7,"d")}function gg(a){var h=Tr(this,1,4).week;return a==null?h:this.add((a-h)*7,"d")}oe("d",0,"do","day"),oe("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),oe("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),oe("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),oe("e",0,0,"weekday"),oe("E",0,0,"isoWeekday"),se("d",ot),se("e",ot),se("E",ot),se("dd",function(a,h){return h.weekdaysMinRegex(a)}),se("ddd",function(a,h){return h.weekdaysShortRegex(a)}),se("dddd",function(a,h){return h.weekdaysRegex(a)}),br(["dd","ddd","dddd"],function(a,h,p,m){var b=p._locale.weekdaysParse(a,m,p._strict);b!=null?h.d=b:w(p).invalidWeekday=a}),br(["d","e","E"],function(a,h,p,m){h[m]=Ve(a)});function _g(a,h){return typeof a!="string"?a:isNaN(a)?(a=h.weekdaysParse(a),typeof a=="number"?a:null):parseInt(a,10)}function vg(a,h){return typeof a=="string"?h.weekdaysParse(a)%7||7:isNaN(a)?null:a}function hl(a,h){return a.slice(h,7).concat(a.slice(0,h))}var yg="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ld="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bg="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Cg=yr,wg=yr,xg=yr;function Tg(a,h){var p=i(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return a===!0?hl(p,this._week.dow):a?p[a.day()]:p}function Sg(a){return a===!0?hl(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ig(a){return a===!0?hl(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Dg(a,h,p){var m,b,F,j=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],m=0;m<7;++m)F=y([2e3,1]).day(m),this._minWeekdaysParse[m]=this.weekdaysMin(F,"").toLocaleLowerCase(),this._shortWeekdaysParse[m]=this.weekdaysShort(F,"").toLocaleLowerCase(),this._weekdaysParse[m]=this.weekdays(F,"").toLocaleLowerCase();return p?h==="dddd"?(b=wt.call(this._weekdaysParse,j),b!==-1?b:null):h==="ddd"?(b=wt.call(this._shortWeekdaysParse,j),b!==-1?b:null):(b=wt.call(this._minWeekdaysParse,j),b!==-1?b:null):h==="dddd"?(b=wt.call(this._weekdaysParse,j),b!==-1||(b=wt.call(this._shortWeekdaysParse,j),b!==-1)?b:(b=wt.call(this._minWeekdaysParse,j),b!==-1?b:null)):h==="ddd"?(b=wt.call(this._shortWeekdaysParse,j),b!==-1||(b=wt.call(this._weekdaysParse,j),b!==-1)?b:(b=wt.call(this._minWeekdaysParse,j),b!==-1?b:null)):(b=wt.call(this._minWeekdaysParse,j),b!==-1||(b=wt.call(this._weekdaysParse,j),b!==-1)?b:(b=wt.call(this._shortWeekdaysParse,j),b!==-1?b:null))}function Og(a,h,p){var m,b,F;if(this._weekdaysParseExact)return Dg.call(this,a,h,p);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),m=0;m<7;m++){if(b=y([2e3,1]).day(m),p&&!this._fullWeekdaysParse[m]&&(this._fullWeekdaysParse[m]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[m]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[m]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[m]||(F="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[m]=new RegExp(F.replace(".",""),"i")),p&&h==="dddd"&&this._fullWeekdaysParse[m].test(a))return m;if(p&&h==="ddd"&&this._shortWeekdaysParse[m].test(a))return m;if(p&&h==="dd"&&this._minWeekdaysParse[m].test(a))return m;if(!p&&this._weekdaysParse[m].test(a))return m}}function Eg(a){if(!this.isValid())return a!=null?this:NaN;var h=wr(this,"Day");return a!=null?(a=_g(a,this.localeData()),this.add(a-h,"d")):h}function kg(a){if(!this.isValid())return a!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return a==null?h:this.add(a-h,"d")}function Mg(a){if(!this.isValid())return a!=null?this:NaN;if(a!=null){var h=vg(a,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function Fg(a){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||dl.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=Cg),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ag(a){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||dl.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wg),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Vg(a){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||dl.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xg),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function dl(){function a(Xt,nn){return nn.length-Xt.length}var h=[],p=[],m=[],b=[],F,j,ne,ye,Le;for(F=0;F<7;F++)j=y([2e3,1]).day(F),ne=qi(this.weekdaysMin(j,"")),ye=qi(this.weekdaysShort(j,"")),Le=qi(this.weekdays(j,"")),h.push(ne),p.push(ye),m.push(Le),b.push(ne),b.push(ye),b.push(Le);h.sort(a),p.sort(a),m.sort(a),b.sort(a),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function ul(){return this.hours()%12||12}function Lg(){return this.hours()||24}oe("H",["HH",2],0,"hour"),oe("h",["hh",2],0,ul),oe("k",["kk",2],0,Lg),oe("hmm",0,0,function(){return""+ul.apply(this)+We(this.minutes(),2)}),oe("hmmss",0,0,function(){return""+ul.apply(this)+We(this.minutes(),2)+We(this.seconds(),2)}),oe("Hmm",0,0,function(){return""+this.hours()+We(this.minutes(),2)}),oe("Hmmss",0,0,function(){return""+this.hours()+We(this.minutes(),2)+We(this.seconds(),2)});function cd(a,h){oe(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}cd("a",!0),cd("A",!1);function hd(a,h){return h._meridiemParse}se("a",hd),se("A",hd),se("H",ot,al),se("h",ot,ks),se("k",ot,ks),se("HH",ot,hi),se("hh",ot,hi),se("kk",ot,hi),se("hmm",Qh),se("hmmss",Jh),se("Hmm",Qh),se("Hmmss",Jh),Je(["H","HH"],Ft),Je(["k","kk"],function(a,h,p){var m=Ve(a);h[Ft]=m===24?0:m}),Je(["a","A"],function(a,h,p){p._isPm=p._locale.isPM(a),p._meridiem=a}),Je(["h","hh"],function(a,h,p){h[Ft]=Ve(a),w(p).bigHour=!0}),Je("hmm",function(a,h,p){var m=a.length-2;h[Ft]=Ve(a.substr(0,m)),h[Di]=Ve(a.substr(m)),w(p).bigHour=!0}),Je("hmmss",function(a,h,p){var m=a.length-4,b=a.length-2;h[Ft]=Ve(a.substr(0,m)),h[Di]=Ve(a.substr(m,2)),h[$i]=Ve(a.substr(b)),w(p).bigHour=!0}),Je("Hmm",function(a,h,p){var m=a.length-2;h[Ft]=Ve(a.substr(0,m)),h[Di]=Ve(a.substr(m))}),Je("Hmmss",function(a,h,p){var m=a.length-4,b=a.length-2;h[Ft]=Ve(a.substr(0,m)),h[Di]=Ve(a.substr(m,2)),h[$i]=Ve(a.substr(b))});function Pg(a){return(a+"").toLowerCase().charAt(0)==="p"}var Rg=/[ap]\.?m?\.?/i,Ng=Ms("Hours",!0);function Bg(a,h,p){return a>11?p?"pm":"PM":p?"am":"AM"}var dd={calendar:jt,longDateFormat:nl,invalidDate:ji,ordinal:Lm,dayOfMonthOrdinalParse:Pm,relativeTime:Nm,months:eg,monthsShort:id,week:ug,weekdays:yg,weekdaysMin:bg,weekdaysShort:ld,meridiemParse:Rg},dt={},Sr={},Ir;function jg(a,h){var p,m=Math.min(a.length,h.length);for(p=0;p<m;p+=1)if(a[p]!==h[p])return p;return m}function ud(a){return a&&a.toLowerCase().replace("_","-")}function Hg(a){for(var h=0,p,m,b,F;h<a.length;){for(F=ud(a[h]).split("-"),p=F.length,m=ud(a[h+1]),m=m?m.split("-"):null;p>0;){if(b=xo(F.slice(0,p).join("-")),b)return b;if(m&&m.length>=p&&jg(F,m)>=p-1)break;p--}h++}return Ir}function Ug(a){return!!(a&&a.match("^[^/\\\\]*$"))}function xo(a){var h=null,p;if(dt[a]===void 0&&typeof Qs<"u"&&Qs&&Qs.exports&&Ug(a))try{h=Ir._abbr,p=Bd,p("./locale/"+a),bn(h)}catch{dt[a]=null}return dt[a]}function bn(a,h){var p;return a&&(l(h)?p=Qi(a):p=pl(a,h),p?Ir=p:typeof console<"u"&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),Ir._abbr}function pl(a,h){if(h!==null){var p,m=dd;if(h.abbr=a,dt[a]!=null)He("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),m=dt[a]._config;else if(h.parentLocale!=null)if(dt[h.parentLocale]!=null)m=dt[h.parentLocale]._config;else if(p=xo(h.parentLocale),p!=null)m=p._config;else return Sr[h.parentLocale]||(Sr[h.parentLocale]=[]),Sr[h.parentLocale].push({name:a,config:h}),null;return dt[a]=new rt(Ue(m,h)),Sr[a]&&Sr[a].forEach(function(b){pl(b.name,b.config)}),bn(a),dt[a]}else return delete dt[a],null}function Wg(a,h){if(h!=null){var p,m,b=dd;dt[a]!=null&&dt[a].parentLocale!=null?dt[a].set(Ue(dt[a]._config,h)):(m=xo(a),m!=null&&(b=m._config),h=Ue(b,h),m==null&&(h.abbr=a),p=new rt(h),p.parentLocale=dt[a],dt[a]=p),bn(a)}else dt[a]!=null&&(dt[a].parentLocale!=null?(dt[a]=dt[a].parentLocale,a===bn()&&bn(a)):dt[a]!=null&&delete dt[a]);return dt[a]}function Qi(a){var h;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ir;if(!i(a)){if(h=xo(a),h)return h;a=[a]}return Hg(a)}function zg(){return Lt(dt)}function fl(a){var h,p=a._a;return p&&w(a).overflow===-2&&(h=p[Ki]<0||p[Ki]>11?Ki:p[Hi]<1||p[Hi]>cl(p[Ht],p[Ki])?Hi:p[Ft]<0||p[Ft]>24||p[Ft]===24&&(p[Di]!==0||p[$i]!==0||p[Wn]!==0)?Ft:p[Di]<0||p[Di]>59?Di:p[$i]<0||p[$i]>59?$i:p[Wn]<0||p[Wn]>999?Wn:-1,w(a)._overflowDayOfYear&&(h<Ht||h>Hi)&&(h=Hi),w(a)._overflowWeeks&&h===-1&&(h=qm),w(a)._overflowWeekday&&h===-1&&(h=Km),w(a).overflow=h),a}var Yg=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xg=/Z|[+-]\d\d(?::?\d\d)?/,To=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ml=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qg=/^\/?Date\((-?\d+)/i,Kg=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,$g={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function pd(a){var h,p,m=a._i,b=Yg.exec(m)||Gg.exec(m),F,j,ne,ye,Le=To.length,Xt=ml.length;if(b){for(w(a).iso=!0,h=0,p=Le;h<p;h++)if(To[h][1].exec(b[1])){j=To[h][0],F=To[h][2]!==!1;break}if(j==null){a._isValid=!1;return}if(b[3]){for(h=0,p=Xt;h<p;h++)if(ml[h][1].exec(b[3])){ne=(b[2]||" ")+ml[h][0];break}if(ne==null){a._isValid=!1;return}}if(!F&&ne!=null){a._isValid=!1;return}if(b[4])if(Xg.exec(b[4]))ye="Z";else{a._isValid=!1;return}a._f=j+(ne||"")+(ye||""),_l(a)}else a._isValid=!1}function Zg(a,h,p,m,b,F){var j=[Qg(a),id.indexOf(h),parseInt(p,10),parseInt(m,10),parseInt(b,10)];return F&&j.push(parseInt(F,10)),j}function Qg(a){var h=parseInt(a,10);return h<=49?2e3+h:h<=999?1900+h:h}function Jg(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function e0(a,h,p){if(a){var m=ld.indexOf(a),b=new Date(h[0],h[1],h[2]).getDay();if(m!==b)return w(p).weekdayMismatch=!0,p._isValid=!1,!1}return!0}function t0(a,h,p){if(a)return $g[a];if(h)return 0;var m=parseInt(p,10),b=m%100,F=(m-b)/100;return F*60+b}function fd(a){var h=Kg.exec(Jg(a._i)),p;if(h){if(p=Zg(h[4],h[3],h[2],h[5],h[6],h[7]),!e0(h[1],p,a))return;a._a=p,a._tzm=t0(h[8],h[9],h[10]),a._d=xr.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),w(a).rfc2822=!0}else a._isValid=!1}function i0(a){var h=qg.exec(a._i);if(h!==null){a._d=new Date(+h[1]);return}if(pd(a),a._isValid===!1)delete a._isValid;else return;if(fd(a),a._isValid===!1)delete a._isValid;else return;a._strict?a._isValid=!1:t.createFromInputFallback(a)}t.createFromInputFallback=$("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});function Fs(a,h,p){return a??h??p}function n0(a){var h=new Date(t.now());return a._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function gl(a){var h,p,m=[],b,F,j;if(!a._d){for(b=n0(a),a._w&&a._a[Hi]==null&&a._a[Ki]==null&&s0(a),a._dayOfYear!=null&&(j=Fs(a._a[Ht],b[Ht]),(a._dayOfYear>Cr(j)||a._dayOfYear===0)&&(w(a)._overflowDayOfYear=!0),p=xr(j,0,a._dayOfYear),a._a[Ki]=p.getUTCMonth(),a._a[Hi]=p.getUTCDate()),h=0;h<3&&a._a[h]==null;++h)a._a[h]=m[h]=b[h];for(;h<7;h++)a._a[h]=m[h]=a._a[h]==null?h===2?1:0:a._a[h];a._a[Ft]===24&&a._a[Di]===0&&a._a[$i]===0&&a._a[Wn]===0&&(a._nextDay=!0,a._a[Ft]=0),a._d=(a._useUTC?xr:hg).apply(null,m),F=a._useUTC?a._d.getUTCDay():a._d.getDay(),a._tzm!=null&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Ft]=24),a._w&&typeof a._w.d<"u"&&a._w.d!==F&&(w(a).weekdayMismatch=!0)}}function s0(a){var h,p,m,b,F,j,ne,ye,Le;h=a._w,h.GG!=null||h.W!=null||h.E!=null?(F=1,j=4,p=Fs(h.GG,a._a[Ht],Tr(at(),1,4).year),m=Fs(h.W,1),b=Fs(h.E,1),(b<1||b>7)&&(ye=!0)):(F=a._locale._week.dow,j=a._locale._week.doy,Le=Tr(at(),F,j),p=Fs(h.gg,a._a[Ht],Le.year),m=Fs(h.w,Le.week),h.d!=null?(b=h.d,(b<0||b>6)&&(ye=!0)):h.e!=null?(b=h.e+F,(h.e<0||h.e>6)&&(ye=!0)):b=F),m<1||m>Zi(p,F,j)?w(a)._overflowWeeks=!0:ye!=null?w(a)._overflowWeekday=!0:(ne=ad(p,m,b,F,j),a._a[Ht]=ne.year,a._dayOfYear=ne.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function _l(a){if(a._f===t.ISO_8601){pd(a);return}if(a._f===t.RFC_2822){fd(a);return}a._a=[],w(a).empty=!0;var h=""+a._i,p,m,b,F,j,ne=h.length,ye=0,Le,Xt;for(b=yn(a._f,a._locale).match(ti)||[],Xt=b.length,p=0;p<Xt;p++)F=b[p],m=(h.match(Ym(F,a))||[])[0],m&&(j=h.substr(0,h.indexOf(m)),j.length>0&&w(a).unusedInput.push(j),h=h.slice(h.indexOf(m)+m.length),ye+=m.length),Ni[F]?(m?w(a).empty=!1:w(a).unusedTokens.push(F),Xm(F,m,a)):a._strict&&!m&&w(a).unusedTokens.push(F);w(a).charsLeftOver=ne-ye,h.length>0&&w(a).unusedInput.push(h),a._a[Ft]<=12&&w(a).bigHour===!0&&a._a[Ft]>0&&(w(a).bigHour=void 0),w(a).parsedDateParts=a._a.slice(0),w(a).meridiem=a._meridiem,a._a[Ft]=r0(a._locale,a._a[Ft],a._meridiem),Le=w(a).era,Le!==null&&(a._a[Ht]=a._locale.erasConvertYear(Le,a._a[Ht])),gl(a),fl(a)}function r0(a,h,p){var m;return p==null?h:a.meridiemHour!=null?a.meridiemHour(h,p):(a.isPM!=null&&(m=a.isPM(p),m&&h<12&&(h+=12),!m&&h===12&&(h=0)),h)}function o0(a){var h,p,m,b,F,j,ne=!1,ye=a._f.length;if(ye===0){w(a).invalidFormat=!0,a._d=new Date(NaN);return}for(b=0;b<ye;b++)F=0,j=!1,h=q({},a),a._useUTC!=null&&(h._useUTC=a._useUTC),h._f=a._f[b],_l(h),x(h)&&(j=!0),F+=w(h).charsLeftOver,F+=w(h).unusedTokens.length*10,w(h).score=F,ne?F<m&&(m=F,p=h):(m==null||F<m||j)&&(m=F,p=h,j&&(ne=!0));v(a,p||h)}function a0(a){if(!a._d){var h=sl(a._i),p=h.day===void 0?h.date:h.day;a._a=u([h.year,h.month,p,h.hour,h.minute,h.second,h.millisecond],function(m){return m&&parseInt(m,10)}),gl(a)}}function l0(a){var h=new K(fl(md(a)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function md(a){var h=a._i,p=a._f;return a._locale=a._locale||Qi(a._l),h===null||p===void 0&&h===""?L({nullInput:!0}):(typeof h=="string"&&(a._i=h=a._locale.preparse(h)),ie(h)?new K(fl(h)):(d(h)?a._d=h:i(p)?o0(a):p?_l(a):c0(a),x(a)||(a._d=null),a))}function c0(a){var h=a._i;l(h)?a._d=new Date(t.now()):d(h)?a._d=new Date(h.valueOf()):typeof h=="string"?i0(a):i(h)?(a._a=u(h.slice(0),function(p){return parseInt(p,10)}),gl(a)):n(h)?a0(a):c(h)?a._d=new Date(h):t.createFromInputFallback(a)}function gd(a,h,p,m,b){var F={};return(h===!0||h===!1)&&(m=h,h=void 0),(p===!0||p===!1)&&(m=p,p=void 0),(n(a)&&o(a)||i(a)&&a.length===0)&&(a=void 0),F._isAMomentObject=!0,F._useUTC=F._isUTC=b,F._l=p,F._i=a,F._f=h,F._strict=m,l0(F)}function at(a,h,p,m){return gd(a,h,p,m,!1)}var h0=$("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=at.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:L()}),d0=$("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=at.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:L()});function _d(a,h){var p,m;if(h.length===1&&i(h[0])&&(h=h[0]),!h.length)return at();for(p=h[0],m=1;m<h.length;++m)(!h[m].isValid()||h[m][a](p))&&(p=h[m]);return p}function u0(){var a=[].slice.call(arguments,0);return _d("isBefore",a)}function p0(){var a=[].slice.call(arguments,0);return _d("isAfter",a)}var f0=function(){return Date.now?Date.now():+new Date},Dr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function m0(a){var h,p=!1,m,b=Dr.length;for(h in a)if(r(a,h)&&!(wt.call(Dr,h)!==-1&&(a[h]==null||!isNaN(a[h]))))return!1;for(m=0;m<b;++m)if(a[Dr[m]]){if(p)return!1;parseFloat(a[Dr[m]])!==Ve(a[Dr[m]])&&(p=!0)}return!0}function g0(){return this._isValid}function _0(){return Oi(NaN)}function So(a){var h=sl(a),p=h.year||0,m=h.quarter||0,b=h.month||0,F=h.week||h.isoWeek||0,j=h.day||0,ne=h.hour||0,ye=h.minute||0,Le=h.second||0,Xt=h.millisecond||0;this._isValid=m0(h),this._milliseconds=+Xt+Le*1e3+ye*6e4+ne*1e3*60*60,this._days=+j+F*7,this._months=+b+m*3+p*12,this._data={},this._locale=Qi(),this._bubble()}function Io(a){return a instanceof So}function vl(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function v0(a,h,p){var m=Math.min(a.length,h.length),b=Math.abs(a.length-h.length),F=0,j;for(j=0;j<m;j++)(p&&a[j]!==h[j]||!p&&Ve(a[j])!==Ve(h[j]))&&F++;return F+b}function vd(a,h){oe(a,0,0,function(){var p=this.utcOffset(),m="+";return p<0&&(p=-p,m="-"),m+We(~~(p/60),2)+h+We(~~p%60,2)})}vd("Z",":"),vd("ZZ",""),se("Z",yo),se("ZZ",yo),Je(["Z","ZZ"],function(a,h,p){p._useUTC=!0,p._tzm=yl(yo,a)});var y0=/([\+\-]|\d\d)/gi;function yl(a,h){var p=(h||"").match(a),m,b,F;return p===null?null:(m=p[p.length-1]||[],b=(m+"").match(y0)||["-",0,0],F=+(b[1]*60)+Ve(b[2]),F===0?0:b[0]==="+"?F:-F)}function bl(a,h){var p,m;return h._isUTC?(p=h.clone(),m=(ie(a)||d(a)?a.valueOf():at(a).valueOf())-p.valueOf(),p._d.setTime(p._d.valueOf()+m),t.updateOffset(p,!1),p):at(a).local()}function Cl(a){return-Math.round(a._d.getTimezoneOffset())}t.updateOffset=function(){};function b0(a,h,p){var m=this._offset||0,b;if(!this.isValid())return a!=null?this:NaN;if(a!=null){if(typeof a=="string"){if(a=yl(yo,a),a===null)return this}else Math.abs(a)<16&&!p&&(a=a*60);return!this._isUTC&&h&&(b=Cl(this)),this._offset=a,this._isUTC=!0,b!=null&&this.add(b,"m"),m!==a&&(!h||this._changeInProgress?wd(this,Oi(a-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?m:Cl(this)}function C0(a,h){return a!=null?(typeof a!="string"&&(a=-a),this.utcOffset(a,h),this):-this.utcOffset()}function w0(a){return this.utcOffset(0,a)}function x0(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Cl(this),"m")),this}function T0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var a=yl(Wm,this._i);a!=null?this.utcOffset(a):this.utcOffset(0,!0)}return this}function S0(a){return this.isValid()?(a=a?at(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function I0(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function D0(){if(!l(this._isDSTShifted))return this._isDSTShifted;var a={},h;return q(a,this),a=md(a),a._a?(h=a._isUTC?y(a._a):at(a._a),this._isDSTShifted=this.isValid()&&v0(a._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function O0(){return this.isValid()?!this._isUTC:!1}function E0(){return this.isValid()?this._isUTC:!1}function yd(){return this.isValid()?this._isUTC&&this._offset===0:!1}var k0=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,M0=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Oi(a,h){var p=a,m=null,b,F,j;return Io(a)?p={ms:a._milliseconds,d:a._days,M:a._months}:c(a)||!isNaN(+a)?(p={},h?p[h]=+a:p.milliseconds=+a):(m=k0.exec(a))?(b=m[1]==="-"?-1:1,p={y:0,d:Ve(m[Hi])*b,h:Ve(m[Ft])*b,m:Ve(m[Di])*b,s:Ve(m[$i])*b,ms:Ve(vl(m[Wn]*1e3))*b}):(m=M0.exec(a))?(b=m[1]==="-"?-1:1,p={y:zn(m[2],b),M:zn(m[3],b),w:zn(m[4],b),d:zn(m[5],b),h:zn(m[6],b),m:zn(m[7],b),s:zn(m[8],b)}):p==null?p={}:typeof p=="object"&&("from"in p||"to"in p)&&(j=F0(at(p.from),at(p.to)),p={},p.ms=j.milliseconds,p.M=j.months),F=new So(p),Io(a)&&r(a,"_locale")&&(F._locale=a._locale),Io(a)&&r(a,"_isValid")&&(F._isValid=a._isValid),F}Oi.fn=So.prototype,Oi.invalid=_0;function zn(a,h){var p=a&&parseFloat(a.replace(",","."));return(isNaN(p)?0:p)*h}function bd(a,h){var p={};return p.months=h.month()-a.month()+(h.year()-a.year())*12,a.clone().add(p.months,"M").isAfter(h)&&--p.months,p.milliseconds=+h-+a.clone().add(p.months,"M"),p}function F0(a,h){var p;return a.isValid()&&h.isValid()?(h=bl(h,a),a.isBefore(h)?p=bd(a,h):(p=bd(h,a),p.milliseconds=-p.milliseconds,p.months=-p.months),p):{milliseconds:0,months:0}}function Cd(a,h){return function(p,m){var b,F;return m!==null&&!isNaN(+m)&&(He(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),F=p,p=m,m=F),b=Oi(p,m),wd(this,b,a),this}}function wd(a,h,p,m){var b=h._milliseconds,F=vl(h._days),j=vl(h._months);a.isValid()&&(m=m??!0,j&&sd(a,wr(a,"Month")+j*p),F&&td(a,"Date",wr(a,"Date")+F*p),b&&a._d.setTime(a._d.valueOf()+b*p),m&&t.updateOffset(a,F||j))}var A0=Cd(1,"add"),V0=Cd(-1,"subtract");function xd(a){return typeof a=="string"||a instanceof String}function L0(a){return ie(a)||d(a)||xd(a)||c(a)||R0(a)||P0(a)||a===null||a===void 0}function P0(a){var h=n(a)&&!o(a),p=!1,m=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,F,j=m.length;for(b=0;b<j;b+=1)F=m[b],p=p||r(a,F);return h&&p}function R0(a){var h=i(a),p=!1;return h&&(p=a.filter(function(m){return!c(m)&&xd(a)}).length===0),h&&p}function N0(a){var h=n(a)&&!o(a),p=!1,m=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,F;for(b=0;b<m.length;b+=1)F=m[b],p=p||r(a,F);return h&&p}function B0(a,h){var p=a.diff(h,"days",!0);return p<-6?"sameElse":p<-1?"lastWeek":p<0?"lastDay":p<1?"sameDay":p<2?"nextDay":p<7?"nextWeek":"sameElse"}function j0(a,h){arguments.length===1&&(arguments[0]?L0(arguments[0])?(a=arguments[0],h=void 0):N0(arguments[0])&&(h=arguments[0],a=void 0):(a=void 0,h=void 0));var p=a||at(),m=bl(p,this).startOf("day"),b=t.calendarFormat(this,m)||"sameElse",F=h&&($e(h[b])?h[b].call(this,p):h[b]);return this.format(F||this.localeData().calendar(b,this,at(p)))}function H0(){return new K(this)}function U0(a,h){var p=ie(a)?a:at(a);return this.isValid()&&p.isValid()?(h=yi(h)||"millisecond",h==="millisecond"?this.valueOf()>p.valueOf():p.valueOf()<this.clone().startOf(h).valueOf()):!1}function W0(a,h){var p=ie(a)?a:at(a);return this.isValid()&&p.isValid()?(h=yi(h)||"millisecond",h==="millisecond"?this.valueOf()<p.valueOf():this.clone().endOf(h).valueOf()<p.valueOf()):!1}function z0(a,h,p,m){var b=ie(a)?a:at(a),F=ie(h)?h:at(h);return this.isValid()&&b.isValid()&&F.isValid()?(m=m||"()",(m[0]==="("?this.isAfter(b,p):!this.isBefore(b,p))&&(m[1]===")"?this.isBefore(F,p):!this.isAfter(F,p))):!1}function Y0(a,h){var p=ie(a)?a:at(a),m;return this.isValid()&&p.isValid()?(h=yi(h)||"millisecond",h==="millisecond"?this.valueOf()===p.valueOf():(m=p.valueOf(),this.clone().startOf(h).valueOf()<=m&&m<=this.clone().endOf(h).valueOf())):!1}function G0(a,h){return this.isSame(a,h)||this.isAfter(a,h)}function X0(a,h){return this.isSame(a,h)||this.isBefore(a,h)}function q0(a,h,p){var m,b,F;if(!this.isValid())return NaN;if(m=bl(a,this),!m.isValid())return NaN;switch(b=(m.utcOffset()-this.utcOffset())*6e4,h=yi(h),h){case"year":F=Do(this,m)/12;break;case"month":F=Do(this,m);break;case"quarter":F=Do(this,m)/3;break;case"second":F=(this-m)/1e3;break;case"minute":F=(this-m)/6e4;break;case"hour":F=(this-m)/36e5;break;case"day":F=(this-m-b)/864e5;break;case"week":F=(this-m-b)/6048e5;break;default:F=this-m}return p?F:bi(F)}function Do(a,h){if(a.date()<h.date())return-Do(h,a);var p=(h.year()-a.year())*12+(h.month()-a.month()),m=a.clone().add(p,"months"),b,F;return h-m<0?(b=a.clone().add(p-1,"months"),F=(h-m)/(m-b)):(b=a.clone().add(p+1,"months"),F=(h-m)/(b-m)),-(p+F)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function K0(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $0(a){if(!this.isValid())return null;var h=a!==!0,p=h?this.clone().utc():this;return p.year()<0||p.year()>9999?vi(p,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$e(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",vi(p,"Z")):vi(p,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Z0(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",h="",p,m,b,F;return this.isLocal()||(a=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),p="["+a+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",F=h+'[")]',this.format(p+m+b+F)}function Q0(a){a||(a=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var h=vi(this,a);return this.localeData().postformat(h)}function J0(a,h){return this.isValid()&&(ie(a)&&a.isValid()||at(a).isValid())?Oi({to:this,from:a}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function e_(a){return this.from(at(),a)}function t_(a,h){return this.isValid()&&(ie(a)&&a.isValid()||at(a).isValid())?Oi({from:this,to:a}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function i_(a){return this.to(at(),a)}function Td(a){var h;return a===void 0?this._locale._abbr:(h=Qi(a),h!=null&&(this._locale=h),this)}var Sd=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===void 0?this.localeData():this.locale(a)});function Id(){return this._locale}var Oo=1e3,As=60*Oo,Eo=60*As,Dd=(365*400+97)*24*Eo;function Vs(a,h){return(a%h+h)%h}function Od(a,h,p){return a<100&&a>=0?new Date(a+400,h,p)-Dd:new Date(a,h,p).valueOf()}function Ed(a,h,p){return a<100&&a>=0?Date.UTC(a+400,h,p)-Dd:Date.UTC(a,h,p)}function n_(a){var h,p;if(a=yi(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?Ed:Od,a){case"year":h=p(this.year(),0,1);break;case"quarter":h=p(this.year(),this.month()-this.month()%3,1);break;case"month":h=p(this.year(),this.month(),1);break;case"week":h=p(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=p(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=Vs(h+(this._isUTC?0:this.utcOffset()*As),Eo);break;case"minute":h=this._d.valueOf(),h-=Vs(h,As);break;case"second":h=this._d.valueOf(),h-=Vs(h,Oo);break}return this._d.setTime(h),t.updateOffset(this,!0),this}function s_(a){var h,p;if(a=yi(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?Ed:Od,a){case"year":h=p(this.year()+1,0,1)-1;break;case"quarter":h=p(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=p(this.year(),this.month()+1,1)-1;break;case"week":h=p(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=p(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=Eo-Vs(h+(this._isUTC?0:this.utcOffset()*As),Eo)-1;break;case"minute":h=this._d.valueOf(),h+=As-Vs(h,As)-1;break;case"second":h=this._d.valueOf(),h+=Oo-Vs(h,Oo)-1;break}return this._d.setTime(h),t.updateOffset(this,!0),this}function r_(){return this._d.valueOf()-(this._offset||0)*6e4}function o_(){return Math.floor(this.valueOf()/1e3)}function a_(){return new Date(this.valueOf())}function l_(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function c_(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function h_(){return this.isValid()?this.toISOString():null}function d_(){return x(this)}function u_(){return v({},w(this))}function p_(){return w(this).overflow}function f_(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}oe("N",0,0,"eraAbbr"),oe("NN",0,0,"eraAbbr"),oe("NNN",0,0,"eraAbbr"),oe("NNNN",0,0,"eraName"),oe("NNNNN",0,0,"eraNarrow"),oe("y",["y",1],"yo","eraYear"),oe("y",["yy",2],0,"eraYear"),oe("y",["yyy",3],0,"eraYear"),oe("y",["yyyy",4],0,"eraYear"),se("N",wl),se("NN",wl),se("NNN",wl),se("NNNN",S_),se("NNNNN",I_),Je(["N","NN","NNN","NNNN","NNNNN"],function(a,h,p,m){var b=p._locale.erasParse(a,m,p._strict);b?w(p).era=b:w(p).invalidEra=a}),se("y",Es),se("yy",Es),se("yyy",Es),se("yyyy",Es),se("yo",D_),Je(["y","yy","yyy","yyyy"],Ht),Je(["yo"],function(a,h,p,m){var b;p._locale._eraYearOrdinalRegex&&(b=a.match(p._locale._eraYearOrdinalRegex)),p._locale.eraYearOrdinalParse?h[Ht]=p._locale.eraYearOrdinalParse(a,b):h[Ht]=parseInt(a,10)});function m_(a,h){var p,m,b,F=this._eras||Qi("en")._eras;for(p=0,m=F.length;p<m;++p){switch(typeof F[p].since){case"string":b=t(F[p].since).startOf("day"),F[p].since=b.valueOf();break}switch(typeof F[p].until){case"undefined":F[p].until=1/0;break;case"string":b=t(F[p].until).startOf("day").valueOf(),F[p].until=b.valueOf();break}}return F}function g_(a,h,p){var m,b,F=this.eras(),j,ne,ye;for(a=a.toUpperCase(),m=0,b=F.length;m<b;++m)if(j=F[m].name.toUpperCase(),ne=F[m].abbr.toUpperCase(),ye=F[m].narrow.toUpperCase(),p)switch(h){case"N":case"NN":case"NNN":if(ne===a)return F[m];break;case"NNNN":if(j===a)return F[m];break;case"NNNNN":if(ye===a)return F[m];break}else if([j,ne,ye].indexOf(a)>=0)return F[m]}function __(a,h){var p=a.since<=a.until?1:-1;return h===void 0?t(a.since).year():t(a.since).year()+(h-a.offset)*p}function v_(){var a,h,p,m=this.localeData().eras();for(a=0,h=m.length;a<h;++a)if(p=this.clone().startOf("day").valueOf(),m[a].since<=p&&p<=m[a].until||m[a].until<=p&&p<=m[a].since)return m[a].name;return""}function y_(){var a,h,p,m=this.localeData().eras();for(a=0,h=m.length;a<h;++a)if(p=this.clone().startOf("day").valueOf(),m[a].since<=p&&p<=m[a].until||m[a].until<=p&&p<=m[a].since)return m[a].narrow;return""}function b_(){var a,h,p,m=this.localeData().eras();for(a=0,h=m.length;a<h;++a)if(p=this.clone().startOf("day").valueOf(),m[a].since<=p&&p<=m[a].until||m[a].until<=p&&p<=m[a].since)return m[a].abbr;return""}function C_(){var a,h,p,m,b=this.localeData().eras();for(a=0,h=b.length;a<h;++a)if(p=b[a].since<=b[a].until?1:-1,m=this.clone().startOf("day").valueOf(),b[a].since<=m&&m<=b[a].until||b[a].until<=m&&m<=b[a].since)return(this.year()-t(b[a].since).year())*p+b[a].offset;return this.year()}function w_(a){return r(this,"_erasNameRegex")||xl.call(this),a?this._erasNameRegex:this._erasRegex}function x_(a){return r(this,"_erasAbbrRegex")||xl.call(this),a?this._erasAbbrRegex:this._erasRegex}function T_(a){return r(this,"_erasNarrowRegex")||xl.call(this),a?this._erasNarrowRegex:this._erasRegex}function wl(a,h){return h.erasAbbrRegex(a)}function S_(a,h){return h.erasNameRegex(a)}function I_(a,h){return h.erasNarrowRegex(a)}function D_(a,h){return h._eraYearOrdinalRegex||Es}function xl(){var a=[],h=[],p=[],m=[],b,F,j,ne,ye,Le=this.eras();for(b=0,F=Le.length;b<F;++b)j=qi(Le[b].name),ne=qi(Le[b].abbr),ye=qi(Le[b].narrow),h.push(j),a.push(ne),p.push(ye),m.push(j),m.push(ne),m.push(ye);this._erasRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+p.join("|")+")","i")}oe(0,["gg",2],0,function(){return this.weekYear()%100}),oe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ko(a,h){oe(0,[a,a.length],0,h)}ko("gggg","weekYear"),ko("ggggg","weekYear"),ko("GGGG","isoWeekYear"),ko("GGGGG","isoWeekYear"),se("G",vo),se("g",vo),se("GG",ot,hi),se("gg",ot,hi),se("GGGG",ol,rl),se("gggg",ol,rl),se("GGGGG",_o,mo),se("ggggg",_o,mo),br(["gggg","ggggg","GGGG","GGGGG"],function(a,h,p,m){h[m.substr(0,2)]=Ve(a)}),br(["gg","GG"],function(a,h,p,m){h[m]=t.parseTwoDigitYear(a)});function O_(a){return kd.call(this,a,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function E_(a){return kd.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function k_(){return Zi(this.year(),1,4)}function M_(){return Zi(this.isoWeekYear(),1,4)}function F_(){var a=this.localeData()._week;return Zi(this.year(),a.dow,a.doy)}function A_(){var a=this.localeData()._week;return Zi(this.weekYear(),a.dow,a.doy)}function kd(a,h,p,m,b){var F;return a==null?Tr(this,m,b).year:(F=Zi(a,m,b),h>F&&(h=F),V_.call(this,a,h,p,m,b))}function V_(a,h,p,m,b){var F=ad(a,h,p,m,b),j=xr(F.year,0,F.dayOfYear);return this.year(j.getUTCFullYear()),this.month(j.getUTCMonth()),this.date(j.getUTCDate()),this}oe("Q",0,"Qo","quarter"),se("Q",$h),Je("Q",function(a,h){h[Ki]=(Ve(a)-1)*3});function L_(a){return a==null?Math.ceil((this.month()+1)/3):this.month((a-1)*3+this.month()%3)}oe("D",["DD",2],"Do","date"),se("D",ot,ks),se("DD",ot,hi),se("Do",function(a,h){return a?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),Je(["D","DD"],Hi),Je("Do",function(a,h){h[Hi]=Ve(a.match(ot)[0])});var Md=Ms("Date",!0);oe("DDD",["DDDD",3],"DDDo","dayOfYear"),se("DDD",go),se("DDDD",Zh),Je(["DDD","DDDD"],function(a,h,p){p._dayOfYear=Ve(a)});function P_(a){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?h:this.add(a-h,"d")}oe("m",["mm",2],0,"minute"),se("m",ot,al),se("mm",ot,hi),Je(["m","mm"],Di);var R_=Ms("Minutes",!1);oe("s",["ss",2],0,"second"),se("s",ot,al),se("ss",ot,hi),Je(["s","ss"],$i);var N_=Ms("Seconds",!1);oe("S",0,0,function(){return~~(this.millisecond()/100)}),oe(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),oe(0,["SSS",3],0,"millisecond"),oe(0,["SSSS",4],0,function(){return this.millisecond()*10}),oe(0,["SSSSS",5],0,function(){return this.millisecond()*100}),oe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),oe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),oe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),oe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),se("S",go,$h),se("SS",go,hi),se("SSS",go,Zh);var Cn,Fd;for(Cn="SSSS";Cn.length<=9;Cn+="S")se(Cn,Es);function B_(a,h){h[Wn]=Ve(("0."+a)*1e3)}for(Cn="S";Cn.length<=9;Cn+="S")Je(Cn,B_);Fd=Ms("Milliseconds",!1),oe("z",0,0,"zoneAbbr"),oe("zz",0,0,"zoneName");function j_(){return this._isUTC?"UTC":""}function H_(){return this._isUTC?"Coordinated Universal Time":""}var Y=K.prototype;Y.add=A0,Y.calendar=j0,Y.clone=H0,Y.diff=q0,Y.endOf=s_,Y.format=Q0,Y.from=J0,Y.fromNow=e_,Y.to=t_,Y.toNow=i_,Y.get=Zm,Y.invalidAt=p_,Y.isAfter=U0,Y.isBefore=W0,Y.isBetween=z0,Y.isSame=Y0,Y.isSameOrAfter=G0,Y.isSameOrBefore=X0,Y.isValid=d_,Y.lang=Sd,Y.locale=Td,Y.localeData=Id,Y.max=d0,Y.min=h0,Y.parsingFlags=u_,Y.set=Qm,Y.startOf=n_,Y.subtract=V0,Y.toArray=l_,Y.toObject=c_,Y.toDate=a_,Y.toISOString=$0,Y.inspect=Z0,typeof Symbol<"u"&&Symbol.for!=null&&(Y[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Y.toJSON=h_,Y.toString=K0,Y.unix=o_,Y.valueOf=r_,Y.creationData=f_,Y.eraName=v_,Y.eraNarrow=y_,Y.eraAbbr=b_,Y.eraYear=C_,Y.year=ed,Y.isLeapYear=$m,Y.weekYear=O_,Y.isoWeekYear=E_,Y.quarter=Y.quarters=L_,Y.month=rd,Y.daysInMonth=ag,Y.week=Y.weeks=mg,Y.isoWeek=Y.isoWeeks=gg,Y.weeksInYear=F_,Y.weeksInWeekYear=A_,Y.isoWeeksInYear=k_,Y.isoWeeksInISOWeekYear=M_,Y.date=Md,Y.day=Y.days=Eg,Y.weekday=kg,Y.isoWeekday=Mg,Y.dayOfYear=P_,Y.hour=Y.hours=Ng,Y.minute=Y.minutes=R_,Y.second=Y.seconds=N_,Y.millisecond=Y.milliseconds=Fd,Y.utcOffset=b0,Y.utc=w0,Y.local=x0,Y.parseZone=T0,Y.hasAlignedHourOffset=S0,Y.isDST=I0,Y.isLocal=O0,Y.isUtcOffset=E0,Y.isUtc=yd,Y.isUTC=yd,Y.zoneAbbr=j_,Y.zoneName=H_,Y.dates=$("dates accessor is deprecated. Use date instead.",Md),Y.months=$("months accessor is deprecated. Use month instead",rd),Y.years=$("years accessor is deprecated. Use year instead",ed),Y.zone=$("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",C0),Y.isDSTShifted=$("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",D0);function U_(a){return at(a*1e3)}function W_(){return at.apply(null,arguments).parseZone()}function Ad(a){return a}var Ge=rt.prototype;Ge.calendar=ci,Ge.longDateFormat=vr,Ge.invalidDate=Vm,Ge.ordinal=Rm,Ge.preparse=Ad,Ge.postformat=Ad,Ge.relativeTime=Bm,Ge.pastFuture=jm,Ge.set=_t,Ge.eras=m_,Ge.erasParse=g_,Ge.erasConvertYear=__,Ge.erasAbbrRegex=x_,Ge.erasNameRegex=w_,Ge.erasNarrowRegex=T_,Ge.months=ng,Ge.monthsShort=sg,Ge.monthsParse=og,Ge.monthsRegex=cg,Ge.monthsShortRegex=lg,Ge.week=dg,Ge.firstDayOfYear=fg,Ge.firstDayOfWeek=pg,Ge.weekdays=Tg,Ge.weekdaysMin=Ig,Ge.weekdaysShort=Sg,Ge.weekdaysParse=Og,Ge.weekdaysRegex=Fg,Ge.weekdaysShortRegex=Ag,Ge.weekdaysMinRegex=Vg,Ge.isPM=Pg,Ge.meridiem=Bg;function Mo(a,h,p,m){var b=Qi(),F=y().set(m,h);return b[p](F,a)}function Vd(a,h,p){if(c(a)&&(h=a,a=void 0),a=a||"",h!=null)return Mo(a,h,p,"month");var m,b=[];for(m=0;m<12;m++)b[m]=Mo(a,m,p,"month");return b}function Tl(a,h,p,m){typeof a=="boolean"?(c(h)&&(p=h,h=void 0),h=h||""):(h=a,p=h,a=!1,c(h)&&(p=h,h=void 0),h=h||"");var b=Qi(),F=a?b._week.dow:0,j,ne=[];if(p!=null)return Mo(h,(p+F)%7,m,"day");for(j=0;j<7;j++)ne[j]=Mo(h,(j+F)%7,m,"day");return ne}function z_(a,h){return Vd(a,h,"months")}function Y_(a,h){return Vd(a,h,"monthsShort")}function G_(a,h,p){return Tl(a,h,p,"weekdays")}function X_(a,h,p){return Tl(a,h,p,"weekdaysShort")}function q_(a,h,p){return Tl(a,h,p,"weekdaysMin")}bn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var h=a%10,p=Ve(a%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return a+p}}),t.lang=$("moment.lang is deprecated. Use moment.locale instead.",bn),t.langData=$("moment.langData is deprecated. Use moment.localeData instead.",Qi);var Ji=Math.abs;function K_(){var a=this._data;return this._milliseconds=Ji(this._milliseconds),this._days=Ji(this._days),this._months=Ji(this._months),a.milliseconds=Ji(a.milliseconds),a.seconds=Ji(a.seconds),a.minutes=Ji(a.minutes),a.hours=Ji(a.hours),a.months=Ji(a.months),a.years=Ji(a.years),this}function Ld(a,h,p,m){var b=Oi(h,p);return a._milliseconds+=m*b._milliseconds,a._days+=m*b._days,a._months+=m*b._months,a._bubble()}function $_(a,h){return Ld(this,a,h,1)}function Z_(a,h){return Ld(this,a,h,-1)}function Pd(a){return a<0?Math.floor(a):Math.ceil(a)}function Q_(){var a=this._milliseconds,h=this._days,p=this._months,m=this._data,b,F,j,ne,ye;return a>=0&&h>=0&&p>=0||a<=0&&h<=0&&p<=0||(a+=Pd(Sl(p)+h)*864e5,h=0,p=0),m.milliseconds=a%1e3,b=bi(a/1e3),m.seconds=b%60,F=bi(b/60),m.minutes=F%60,j=bi(F/60),m.hours=j%24,h+=bi(j/24),ye=bi(Rd(h)),p+=ye,h-=Pd(Sl(ye)),ne=bi(p/12),p%=12,m.days=h,m.months=p,m.years=ne,this}function Rd(a){return a*4800/146097}function Sl(a){return a*146097/4800}function J_(a){if(!this.isValid())return NaN;var h,p,m=this._milliseconds;if(a=yi(a),a==="month"||a==="quarter"||a==="year")switch(h=this._days+m/864e5,p=this._months+Rd(h),a){case"month":return p;case"quarter":return p/3;case"year":return p/12}else switch(h=this._days+Math.round(Sl(this._months)),a){case"week":return h/7+m/6048e5;case"day":return h+m/864e5;case"hour":return h*24+m/36e5;case"minute":return h*1440+m/6e4;case"second":return h*86400+m/1e3;case"millisecond":return Math.floor(h*864e5)+m;default:throw new Error("Unknown unit "+a)}}function en(a){return function(){return this.as(a)}}var Nd=en("ms"),e1=en("s"),t1=en("m"),i1=en("h"),n1=en("d"),s1=en("w"),r1=en("M"),o1=en("Q"),a1=en("y"),l1=Nd;function c1(){return Oi(this)}function h1(a){return a=yi(a),this.isValid()?this[a+"s"]():NaN}function Yn(a){return function(){return this.isValid()?this._data[a]:NaN}}var d1=Yn("milliseconds"),u1=Yn("seconds"),p1=Yn("minutes"),f1=Yn("hours"),m1=Yn("days"),g1=Yn("months"),_1=Yn("years");function v1(){return bi(this.days()/7)}var tn=Math.round,Ls={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function y1(a,h,p,m,b){return b.relativeTime(h||1,!!p,a,m)}function b1(a,h,p,m){var b=Oi(a).abs(),F=tn(b.as("s")),j=tn(b.as("m")),ne=tn(b.as("h")),ye=tn(b.as("d")),Le=tn(b.as("M")),Xt=tn(b.as("w")),nn=tn(b.as("y")),wn=F<=p.ss&&["s",F]||F<p.s&&["ss",F]||j<=1&&["m"]||j<p.m&&["mm",j]||ne<=1&&["h"]||ne<p.h&&["hh",ne]||ye<=1&&["d"]||ye<p.d&&["dd",ye];return p.w!=null&&(wn=wn||Xt<=1&&["w"]||Xt<p.w&&["ww",Xt]),wn=wn||Le<=1&&["M"]||Le<p.M&&["MM",Le]||nn<=1&&["y"]||["yy",nn],wn[2]=h,wn[3]=+a>0,wn[4]=m,y1.apply(null,wn)}function C1(a){return a===void 0?tn:typeof a=="function"?(tn=a,!0):!1}function w1(a,h){return Ls[a]===void 0?!1:h===void 0?Ls[a]:(Ls[a]=h,a==="s"&&(Ls.ss=h-1),!0)}function x1(a,h){if(!this.isValid())return this.localeData().invalidDate();var p=!1,m=Ls,b,F;return typeof a=="object"&&(h=a,a=!1),typeof a=="boolean"&&(p=a),typeof h=="object"&&(m=Object.assign({},Ls,h),h.s!=null&&h.ss==null&&(m.ss=h.s-1)),b=this.localeData(),F=b1(this,!p,m,b),p&&(F=b.pastFuture(+this,F)),b.postformat(F)}var Il=Math.abs;function Ps(a){return(a>0)-(a<0)||+a}function Fo(){if(!this.isValid())return this.localeData().invalidDate();var a=Il(this._milliseconds)/1e3,h=Il(this._days),p=Il(this._months),m,b,F,j,ne=this.asSeconds(),ye,Le,Xt,nn;return ne?(m=bi(a/60),b=bi(m/60),a%=60,m%=60,F=bi(p/12),p%=12,j=a?a.toFixed(3).replace(/\.?0+$/,""):"",ye=ne<0?"-":"",Le=Ps(this._months)!==Ps(ne)?"-":"",Xt=Ps(this._days)!==Ps(ne)?"-":"",nn=Ps(this._milliseconds)!==Ps(ne)?"-":"",ye+"P"+(F?Le+F+"Y":"")+(p?Le+p+"M":"")+(h?Xt+h+"D":"")+(b||m||a?"T":"")+(b?nn+b+"H":"")+(m?nn+m+"M":"")+(a?nn+j+"S":"")):"P0D"}var Ne=So.prototype;Ne.isValid=g0,Ne.abs=K_,Ne.add=$_,Ne.subtract=Z_,Ne.as=J_,Ne.asMilliseconds=Nd,Ne.asSeconds=e1,Ne.asMinutes=t1,Ne.asHours=i1,Ne.asDays=n1,Ne.asWeeks=s1,Ne.asMonths=r1,Ne.asQuarters=o1,Ne.asYears=a1,Ne.valueOf=l1,Ne._bubble=Q_,Ne.clone=c1,Ne.get=h1,Ne.milliseconds=d1,Ne.seconds=u1,Ne.minutes=p1,Ne.hours=f1,Ne.days=m1,Ne.weeks=v1,Ne.months=g1,Ne.years=_1,Ne.humanize=x1,Ne.toISOString=Fo,Ne.toString=Fo,Ne.toJSON=Fo,Ne.locale=Td,Ne.localeData=Id,Ne.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fo),Ne.lang=Sd,oe("X",0,0,"unix"),oe("x",0,0,"valueOf"),se("x",vo),se("X",zm),Je("X",function(a,h,p){p._d=new Date(parseFloat(a)*1e3)}),Je("x",function(a,h,p){p._d=new Date(Ve(a))});return t.version="2.30.1",e(at),t.fn=Y,t.min=u0,t.max=p0,t.now=f0,t.utc=y,t.unix=U_,t.months=z_,t.isDate=d,t.locale=bn,t.invalid=L,t.duration=Oi,t.isMoment=ie,t.weekdays=G_,t.parseZone=W_,t.localeData=Qi,t.isDuration=Io,t.monthsShort=Y_,t.weekdaysMin=q_,t.defineLocale=pl,t.updateLocale=Wg,t.locales=zg,t.weekdaysShort=X_,t.normalizeUnits=yi,t.relativeTimeRounding=C1,t.relativeTimeThreshold=w1,t.calendarFormat=B0,t.prototype=Y,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var Vr=class{},zo=class{},an=class s{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let n=e.slice(0,i),r=n.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof s?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new s;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof s?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let n=(t.op==="a"?this.headers.get(e):void 0)||[];n.push(...i),this.headers.set(e,n);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(l=>r.indexOf(l)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),n=t.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Vl=class{encodeKey(t){return Cu(t)}encodeValue(t){return Cu(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function O1(s,t){let e=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(n=>{let r=n.indexOf("="),[o,l]=r==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,r)),t.decodeValue(n.slice(r+1))],c=e.get(o)||[];c.push(l),e.set(o,c)}),e}var E1=/%(\d[a-f0-9])/gi,k1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Cu(s){return encodeURIComponent(s).replace(E1,(t,e)=>k1[e]??t)}function Wo(s){return`${s}`}var In=class s{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Vl,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=O1(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],n=Array.isArray(i)?i.map(Wo):[Wo(i)];this.map.set(e,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let n=t[i];Array.isArray(n)?n.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new s({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Wo(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],n=i.indexOf(Wo(t.value));n!==-1&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ll=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function M1(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wu(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function xu(s){return typeof Blob<"u"&&s instanceof Blob}function Tu(s){return typeof FormData<"u"&&s instanceof FormData}function F1(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}var Ar=class s{constructor(t,e,i,n){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let r;if(M1(this.method)||n?(this.body=i!==void 0?i:null,r=n):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new an,this.context??=new Ll,!this.params)this.params=new In,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let l=e.indexOf("?"),c=l===-1?"?":l<e.length-1?"&":"";this.urlWithParams=e+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wu(this.body)||xu(this.body)||Tu(this.body)||F1(this.body)?this.body:this.body instanceof In?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Tu(this.body)?null:xu(this.body)?this.body.type||null:wu(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof In?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,r=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,l=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,d=t.headers||this.headers,u=t.params||this.params,v=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((y,C)=>y.set(C,t.setHeaders[C]),d)),t.setParams&&(u=Object.keys(t.setParams).reduce((y,C)=>y.set(C,t.setParams[C]),u)),new s(e,i,o,{params:u,headers:d,context:v,reportProgress:c,responseType:n,withCredentials:l,transferCache:r})}},Ci=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(Ci||{}),Lr=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new an,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Yo=class s extends Lr{constructor(t={}){super(t),this.type=Ci.ResponseHeader}clone(t={}){return new s({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Pr=class s extends Lr{constructor(t={}){super(t),this.type=Ci.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new s({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Sn=class extends Lr{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Ou=200,A1=204;function Al(s,t){return{body:t,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,transferCache:s.transferCache}}var Kn=(()=>{class s{constructor(e){this.handler=e}request(e,i,n={}){let r;if(e instanceof Ar)r=e;else{let c;n.headers instanceof an?c=n.headers:c=new an(n.headers);let d;n.params&&(n.params instanceof In?d=n.params:d=new In({fromObject:n.params})),r=new Ar(e,i,n.body!==void 0?n.body:null,{headers:c,context:n.context,params:d,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let o=Ol(r).pipe(Wd(c=>this.handler.handle(c)));if(e instanceof Ar||n.observe==="events")return o;let l=o.pipe(Ud(c=>c instanceof Pr));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return l.pipe(Gn(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Gn(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Gn(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(Gn(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new In().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,n={}){return this.request("PATCH",e,Al(n,i))}post(e,i,n={}){return this.request("POST",e,Al(n,i))}put(e,i,n={}){return this.request("PUT",e,Al(n,i))}static{this.\u0275fac=function(i){return new(i||s)(Xe(Vr))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})(),V1=/^\)\]\}',?\n/,L1="X-Request-URL";function Su(s){if(s.url)return s.url;let t=L1.toLocaleLowerCase();return s.headers.get(t)}var P1=(()=>{class s{constructor(){this.fetchImpl=Dt(Pl,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=Dt(et)}handle(e){return new Dl(i=>{let n=new AbortController;return this.doRequest(e,n.signal,i).then(Rl,r=>i.error(new Sn({error:r}))),()=>n.abort()})}doRequest(e,i,n){return Pt(this,null,function*(){let r=this.createRequestInit(e),o;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,Se({signal:i},r)));R1(C),n.next({type:Ci.Sent}),o=yield C}catch(C){n.error(new Sn({error:C,status:C.status??0,statusText:C.statusText,url:e.urlWithParams,headers:C.headers}));return}let l=new an(o.headers),c=o.statusText,d=Su(o)??e.urlWithParams,u=o.status,v=null;if(e.reportProgress&&n.next(new Yo({headers:l,status:u,statusText:c,url:d})),o.body){let C=o.headers.get("content-length"),w=[],T=o.body.getReader(),x=0,L,R,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Pt(this,null,function*(){for(;;){let{done:K,value:ie}=yield T.read();if(K)break;if(w.push(ie),x+=ie.length,e.reportProgress){R=e.responseType==="text"?(R??"")+(L??=new TextDecoder).decode(ie,{stream:!0}):void 0;let _e=()=>n.next({type:Ci.DownloadProgress,total:C?+C:void 0,loaded:x,partialText:R});U?U.run(_e):_e()}}}));let q=this.concatChunks(w,x);try{let K=o.headers.get("Content-Type")??"";v=this.parseBody(e,q,K)}catch(K){n.error(new Sn({error:K,headers:new an(o.headers),status:o.status,statusText:o.statusText,url:Su(o)??e.urlWithParams}));return}}u===0&&(u=v?Ou:0),u>=200&&u<300?(n.next(new Pr({body:v,headers:l,status:u,statusText:c,url:d})),n.complete()):n.error(new Sn({error:v,headers:l,status:u,statusText:c,url:d}))})}parseBody(e,i,n){switch(e.responseType){case"json":let r=new TextDecoder().decode(i).replace(V1,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:n});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},n=e.withCredentials?"include":void 0;if(e.headers.forEach((r,o)=>i[r]=o.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let r=e.detectContentTypeHeader();r!==null&&(i["Content-Type"]=r)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:n}}concatChunks(e,i){let n=new Uint8Array(i),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})(),Pl=class{};function Rl(){}function R1(s){s.then(Rl,Rl)}function N1(s,t){return t(s)}function B1(s,t,e){return(i,n)=>qd(e,()=>t(i,r=>s(r,n)))}var Eu=new Ut(""),j1=new Ut(""),H1=new Ut("",{providedIn:"root",factory:()=>!0});var Iu=(()=>{class s extends Vr{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Dt(Kd),this.contributeToStability=Dt(H1)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Eu),...this.injector.get(j1,[])]));this.chain=i.reduceRight((n,r)=>B1(n,r,this.injector),N1)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,n=>this.backend.handle(n)).pipe(zd(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||s)(Xe(zo),Xe(Xd))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})();var U1=/^\)\]\}',?\n/;function W1(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}var Du=(()=>{class s{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new rn(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ao(i.\u0275loadImpl()):Ol(null)).pipe(Yd(()=>new Dl(r=>{let o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((T,x)=>o.setRequestHeader(T,x.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let T=e.detectContentTypeHeader();T!==null&&o.setRequestHeader("Content-Type",T)}if(e.responseType){let T=e.responseType.toLowerCase();o.responseType=T!=="json"?T:"text"}let l=e.serializeBody(),c=null,d=()=>{if(c!==null)return c;let T=o.statusText||"OK",x=new an(o.getAllResponseHeaders()),L=W1(o)||e.url;return c=new Yo({headers:x,status:o.status,statusText:T,url:L}),c},u=()=>{let{headers:T,status:x,statusText:L,url:R}=d(),U=null;x!==A1&&(U=typeof o.response>"u"?o.responseText:o.response),x===0&&(x=U?Ou:0);let q=x>=200&&x<300;if(e.responseType==="json"&&typeof U=="string"){let K=U;U=U.replace(U1,"");try{U=U!==""?JSON.parse(U):null}catch(ie){U=K,q&&(q=!1,U={error:ie,text:U})}}q?(r.next(new Pr({body:U,headers:T,status:x,statusText:L,url:R||void 0})),r.complete()):r.error(new Sn({error:U,headers:T,status:x,statusText:L,url:R||void 0}))},v=T=>{let{url:x}=d(),L=new Sn({error:T,status:o.status||0,statusText:o.statusText||"Unknown Error",url:x||void 0});r.error(L)},y=!1,C=T=>{y||(r.next(d()),y=!0);let x={type:Ci.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(x.total=T.total),e.responseType==="text"&&o.responseText&&(x.partialText=o.responseText),r.next(x)},w=T=>{let x={type:Ci.UploadProgress,loaded:T.loaded};T.lengthComputable&&(x.total=T.total),r.next(x)};return o.addEventListener("load",u),o.addEventListener("error",v),o.addEventListener("timeout",v),o.addEventListener("abort",v),e.reportProgress&&(o.addEventListener("progress",C),l!==null&&o.upload&&o.upload.addEventListener("progress",w)),o.send(l),r.next({type:Ci.Sent}),()=>{o.removeEventListener("error",v),o.removeEventListener("abort",v),o.removeEventListener("load",u),o.removeEventListener("timeout",v),e.reportProgress&&(o.removeEventListener("progress",C),l!==null&&o.upload&&o.upload.removeEventListener("progress",w)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||s)(Xe(Ho))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})(),ku=new Ut(""),z1="XSRF-TOKEN",Y1=new Ut("",{providedIn:"root",factory:()=>z1}),G1="X-XSRF-TOKEN",X1=new Ut("",{providedIn:"root",factory:()=>G1}),Go=class{},q1=(()=>{class s{constructor(e,i,n){this.doc=e,this.platform=i,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bo(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||s)(Xe(ke),Xe(lt),Xe(Y1))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})();function K1(s,t){let e=s.url.toLowerCase();if(!Dt(ku)||s.method==="GET"||s.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(s);let i=Dt(Go).getToken(),n=Dt(X1);return i!=null&&!s.headers.has(n)&&(s=s.clone({headers:s.headers.set(n,i)})),t(s)}function Mu(...s){let t=[Kn,Du,Iu,{provide:Vr,useExisting:Iu},{provide:zo,useFactory:()=>Dt(P1,{optional:!0})??Dt(Du)},{provide:Eu,useValue:K1,multi:!0},{provide:ku,useValue:!0},{provide:Go,useClass:q1}];for(let e of s)t.push(...e.\u0275providers);return El(t)}var Hl=class extends _u{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ul=class s extends Hl{static makeCurrent(){gu(new s)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Q1();return e==null?null:J1(e)}resetBaseElement(){Rr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Bo(document.cookie,t)}},Rr=null;function Q1(){return Rr=Rr||document.querySelector("base"),Rr?Rr.getAttribute("href"):null}function J1(s){return new URL(s,document.baseURI).pathname}var ev=(()=>{class s{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})(),Wl=new Ut(""),Lu=(()=>{class s{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,n){return this._findPluginFor(i).addEventListener(e,i,n)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new rn(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||s)(Xe(Wl),Xe(et))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})(),Xo=class{constructor(t){this._doc=t}},Bl="ng-app-id",Pu=(()=>{class s{constructor(e,i,n,r={}){this.doc=e,this.appId=i,this.nonce=n,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jo(r),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(n=>n.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Bl}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(n=>{n.textContent!=null&&i.set(n.textContent,n)}),i}return null}changeUsageCount(e,i){let n=this.styleRef;if(n.has(e)){let r=n.get(e);return r.usage+=i,r.usage}return n.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let n=this.styleNodesInDOM,r=n?.get(i);if(r?.parentNode===e)return n.delete(i),r.removeAttribute(Bl),r;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Bl,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){let n=this.getStyleElement(e,i),r=this.styleRef,o=r.get(i)?.elements;o?o.push(n):r.set(i,{elements:[n],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||s)(Xe(ke),Xe(Ml),Xe(Fl,8),Xe(lt))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})(),jl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yl=/%COMP%/g,Ru="%COMP%",tv=`_nghost-${Ru}`,iv=`_ngcontent-${Ru}`,nv=!0,sv=new Ut("",{providedIn:"root",factory:()=>nv});function rv(s){return iv.replace(Yl,s)}function ov(s){return tv.replace(Yl,s)}function Nu(s,t){return t.map(e=>e.replace(Yl,s))}var Fu=(()=>{class s{constructor(e,i,n,r,o,l,c,d=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=jo(l),this.defaultRenderer=new Nr(e,o,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Or.ShadowDom&&(i=At(Se({},i),{encapsulation:Or.Emulated}));let n=this.getOrCreateRenderer(e,i);return n instanceof qo?n.applyToHost(e):n instanceof Br&&n.applyStyles(),n}getOrCreateRenderer(e,i){let n=this.rendererByCompId,r=n.get(i.id);if(!r){let o=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(i.encapsulation){case Or.Emulated:r=new qo(c,d,i,this.appId,u,o,l,v);break;case Or.ShadowDom:return new zl(c,d,e,i,o,l,this.nonce,v);default:r=new Br(c,d,i,u,o,l,v);break}n.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||s)(Xe(Lu),Xe(Pu),Xe(Ml),Xe(sv),Xe(ke),Xe(lt),Xe(et),Xe(Fl))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})(),Nr=class{constructor(t,e,i,n){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(jl[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Au(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Au(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new rn(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;let r=jl[n];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let n=jl[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(Fr.DashCase|Fr.Important)?t.style.setProperty(e,i,n&Fr.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Fr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=Bs().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Au(s){return s.tagName==="TEMPLATE"&&s.content!==void 0}var zl=class extends Nr{constructor(t,e,i,n,r,o,l,c){super(t,r,o,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=Nu(n.id,n.styles);for(let u of d){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=u,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Br=class extends Nr{constructor(t,e,i,n,r,o,l,c){super(t,r,o,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n,this.styles=c?Nu(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qo=class extends Br{constructor(t,e,i,n,r,o,l,c){let d=n+"-"+i.id;super(t,e,i,r,o,l,c,d),this.contentAttr=rv(d),this.hostAttr=ov(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},av=(()=>{class s extends Xo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n){return e.addEventListener(i,n,!1),()=>this.removeEventListener(e,i,n)}removeEventListener(e,i,n){return e.removeEventListener(i,n)}static{this.\u0275fac=function(i){return new(i||s)(Xe(ke))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})(),Vu=["alt","control","meta","shift"],lv={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cv={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey},hv=(()=>{class s extends Xo{constructor(e){super(e)}supports(e){return s.parseEventName(e)!=null}addEventListener(e,i,n){let r=s.parseEventName(i),o=s.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bs().onAndCancel(e,r.domEventName,o))}static parseEventName(e){let i=e.toLowerCase().split("."),n=i.shift();if(i.length===0||!(n==="keydown"||n==="keyup"))return null;let r=s._normalizeKey(i.pop()),o="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),o="code."),Vu.forEach(d=>{let u=i.indexOf(d);u>-1&&(i.splice(u,1),o+=d+".")}),o+=r,i.length!=0||r.length===0)return null;let c={};return c.domEventName=n,c.fullKey=o,c}static matchEventFullKeyCode(e,i){let n=lv[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(n=e.code,r="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),Vu.forEach(o=>{if(o!==n){let l=cv[o];l(e)&&(r+=o+".")}}),r+=n,r===i)}static eventCallback(e,i,n){return r=>{s.matchEventFullKeyCode(r,e)&&n.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||s)(Xe(ke))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac})}}return s})();function kE(s,t){return fu(Se({rootComponent:s},dv(t)))}function dv(s){return{appProviders:[...gv,...s?.providers??[]],platformProviders:mv}}function uv(){Ul.makeCurrent()}function pv(){return new kl}function fv(){return $d(document),document}var mv=[{provide:lt,useValue:vu},{provide:Zd,useValue:uv,multi:!0},{provide:ke,useFactory:fv,deps:[]}];var gv=[{provide:Gd,useValue:"root"},{provide:kl,useFactory:pv,deps:[]},{provide:Wl,useClass:av,multi:!0,deps:[ke,et,lt]},{provide:Wl,useClass:hv,multi:!0,deps:[ke]},Fu,Pu,Lu,{provide:ru,useExisting:Fu},{provide:Ho,useClass:ev,deps:[]},[]];var ME=(()=>{class s{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||s)(Xe(ke))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Gl=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Qe({token:s,factory:function(i){let n=null;return i?n=new(i||s):n=Xe(_v),n},providedIn:"root"})}}return s})(),_v=(()=>{class s extends Gl{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Xn.NONE:return i;case Xn.HTML:return Ns(i,"HTML")?Rs(i):su(this._doc,String(i)).toString();case Xn.STYLE:return Ns(i,"Style")?Rs(i):i;case Xn.SCRIPT:if(Ns(i,"Script"))return Rs(i);throw new rn(5200,!1);case Xn.URL:return Ns(i,"URL")?Rs(i):nu(String(i));case Xn.RESOURCE_URL:if(Ns(i,"ResourceURL"))return Rs(i);throw new rn(5201,!1);default:throw new rn(5202,!1)}}bypassSecurityTrustHtml(e){return Qd(e)}bypassSecurityTrustStyle(e){return Jd(e)}bypassSecurityTrustScript(e){return eu(e)}bypassSecurityTrustUrl(e){return tu(e)}bypassSecurityTrustResourceUrl(e){return iu(e)}static{this.\u0275fac=function(i){return new(i||s)(Xe(ke))}}static{this.\u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var he=class s{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=Array.isArray(t),n=Array.isArray(e),r,o,l;if(i&&n){if(o=t.length,o!=e.length)return!1;for(r=o;r--!==0;)if(!this.equalsByValue(t[r],e[r]))return!1;return!0}if(i!=n)return!1;var c=this.isDate(t),d=this.isDate(e);if(c!=d)return!1;if(c&&d)return t.getTime()==e.getTime();var u=t instanceof RegExp,v=e instanceof RegExp;if(u!=v)return!1;if(u&&v)return t.toString()==e.toString();var y=Object.keys(t);if(o=y.length,o!==Object.keys(e).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,y[r]))return!1;for(r=o;r--!==0;)if(l=y[r],!this.equalsByValue(t[l],e[l]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let i=e.split("."),n=t;for(let r=0,o=i.length;r<o;++r){if(n==null)return null;n=n[i[r]]}return n}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){let n;t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,n){if(i.length>0){let r=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],n)>e){i.splice(o,0,t),r=!0;break}r||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e){for(let n=0;n<e.length;n++)if(e[n]==t){i=n;break}}return i}static contains(t,e){if(t!=null&&e&&e.length){for(let i of e)if(this.equals(t,i))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,n=1){let r=-1,o=this.isEmpty(t),l=this.isEmpty(e);return o&&l?r=0:o?r=n:l?r=-n:typeof t=="string"&&typeof e=="string"?r=t.localeCompare(e,i,{numeric:!0}):r=t<e?-1:t>e?1:0,r}static sort(t,e,i=1,n,r=1){let o=s.compare(t,e,n,i),l=i;return(s.isEmpty(t)||s.isEmpty(e))&&(l=r===1?i:r),l*o}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return Se(Se({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=Array.isArray(t),n=Array.isArray(e),r,o,l;if(i&&n){if(o=t.length,o!=e.length)return!1;for(r=o;r--!==0;)if(!this.deepEquals(t[r],e[r]))return!1;return!0}if(i!=n)return!1;var c=t instanceof Date,d=e instanceof Date;if(c!=d)return!1;if(c&&d)return t.getTime()==e.getTime();var u=t instanceof RegExp,v=e instanceof RegExp;if(u!=v)return!1;if(u&&v)return t.toString()==e.toString();var y=Object.keys(t);if(o=y.length,o!==Object.keys(e).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,y[r]))return!1;for(r=o;r--!==0;)if(l=y[r],!this.deepEquals(t[l],e[l]))return!1;return!0}return t!==t&&e!==e}},Bu=0;function Re(s="pn_id_"){return Bu++,`${s}${Bu}`}function yv(){let s=[],t=(r,o)=>{let l=s.length>0?s[s.length-1]:{key:r,value:o},c=l.value+(l.key===r?0:o)+2;return s.push({key:r,value:c}),c},e=r=>{s=s.filter(o=>o.value!==r)},i=()=>s.length>0?s[s.length-1].value:0,n=r=>r&&parseInt(r.style.zIndex,10)||0;return{get:n,set:(r,o,l)=>{o&&(o.style.zIndex=String(t(r,l)))},clear:r=>{r&&(e(n(r)),r.style.zIndex="")},getCurrent:()=>i()}}var ft=yv();var ju=["*"],$n=function(s){return s[s.ACCEPT=0]="ACCEPT",s[s.REJECT=1]="REJECT",s[s.CANCEL=2]="CANCEL",s}($n||{}),Ko=(()=>{class s{requireConfirmationSource=new sn;acceptConfirmationSource=new sn;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Qe({token:s,factory:s.\u0275fac})}return s})();var zt=(()=>{class s{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return s})();var Hu=(()=>{class s{filter(e,i,n,r,o){let l=[];if(e)for(let c of e)for(let d of i){let u=he.resolveFieldData(c,d);if(this.filters[r](u,n,o)){l.push(c);break}}return l}filters={startsWith:(e,i,n)=>{if(i==null||i.trim()==="")return!0;if(e==null)return!1;let r=he.removeAccents(i.toString()).toLocaleLowerCase(n);return he.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,r.length)===r},contains:(e,i,n)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(e==null)return!1;let r=he.removeAccents(i.toString()).toLocaleLowerCase(n);return he.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)!==-1},notContains:(e,i,n)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(e==null)return!1;let r=he.removeAccents(i.toString()).toLocaleLowerCase(n);return he.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)===-1},endsWith:(e,i,n)=>{if(i==null||i.trim()==="")return!0;if(e==null)return!1;let r=he.removeAccents(i.toString()).toLocaleLowerCase(n),o=he.removeAccents(e.toString()).toLocaleLowerCase(n);return o.indexOf(r,o.length-r.length)!==-1},equals:(e,i,n)=>i==null||typeof i=="string"&&i.trim()===""?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()===i.getTime():e==i?!0:he.removeAccents(e.toString()).toLocaleLowerCase(n)==he.removeAccents(i.toString()).toLocaleLowerCase(n),notEquals:(e,i,n)=>i==null||typeof i=="string"&&i.trim()===""?!1:e==null?!0:e.getTime&&i.getTime?e.getTime()!==i.getTime():e==i?!1:he.removeAccents(e.toString()).toLocaleLowerCase(n)!=he.removeAccents(i.toString()).toLocaleLowerCase(n),in:(e,i)=>{if(i==null||i.length===0)return!0;for(let n=0;n<i.length;n++)if(he.equals(e,i[n]))return!0;return!1},between:(e,i)=>i==null||i[0]==null||i[1]==null?!0:e==null?!1:e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1],lt:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()<i.getTime():e<i,lte:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i,gt:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()>i.getTime():e>i,gte:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i,is:(e,i,n)=>this.filters.equals(e,i,n),isNot:(e,i,n)=>this.filters.notEquals(e,i,n),before:(e,i,n)=>this.filters.lt(e,i,n),after:(e,i,n)=>this.filters.gt(e,i,n),dateIs:(e,i)=>i==null?!0:e==null?!1:e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>i==null?!0:e==null?!1:e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>i==null?!0:e==null?!1:e.getTime()<i.getTime(),dateAfter:(e,i)=>{if(i==null)return!0;if(e==null)return!1;let n=new Date(e);return n.setHours(0,0,0,0),n.getTime()>i.getTime()}};register(e,i){this.filters[e]=i}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Us=(()=>{class s{messageSource=new sn;clearSource=new sn;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Qe({token:s,factory:s.\u0275fac})}return s})(),$o=(()=>{class s{clickSource=new sn;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var nt=(()=>{class s{ripple=!1;inputStyle=Wt("outlined");overlayOptions={};csp=Wt({nonce:void 0});filterMatchModeOptions={text:[zt.STARTS_WITH,zt.CONTAINS,zt.NOT_CONTAINS,zt.ENDS_WITH,zt.EQUALS,zt.NOT_EQUALS],numeric:[zt.EQUALS,zt.NOT_EQUALS,zt.LESS_THAN,zt.LESS_THAN_OR_EQUAL_TO,zt.GREATER_THAN,zt.GREATER_THAN_OR_EQUAL_TO],date:[zt.DATE_IS,zt.DATE_IS_NOT,zt.DATE_BEFORE,zt.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new sn;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Se(Se({},this.translation),e),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Uu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=G({type:s,selectors:[["p-header"]],standalone:!0,features:[me],ngContentSelectors:ju,decls:1,vars:0,template:function(i,n){i&1&&(ut(),tt(0))},encapsulation:2})}return s})(),Zo=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=G({type:s,selectors:[["p-footer"]],standalone:!0,features:[me],ngContentSelectors:ju,decls:1,vars:0,template:function(i,n){i&1&&(ut(),tt(0))},encapsulation:2})}return s})(),Ye=(()=>{class s{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||s)(B(Lo))};static \u0275dir=Ot({type:s,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return s})(),De=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({})}return s})(),ht=(()=>{class s{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return s})();var M=(()=>{class s{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let n=i.trim().split(" ");for(let r=0;r<n.length;r++)e.classList.add(n[r])}else{let n=i.split(" ");for(let r=0;r<n.length;r++)e.className+=" "+n[r]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(n=>n.split(" ").forEach(r=>this.removeClass(e,r)))}static hasClass(e,i){return e&&i?e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,n=0;for(var r=0;r<i.length;r++){if(i[r]==e)return n;i[r].nodeType==1&&n++}return-1}static indexWithinGroup(e,i){let n=e.parentNode?e.parentNode.childNodes:[],r=0;for(var o=0;o<n.length;o++){if(n[o]==e)return r;n[o].attributes&&n[o].attributes[i]&&n[o].nodeType==1&&r++}return-1}static appendOverlay(e,i,n="self"){n!=="self"&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,n="self",r=!0){e&&i&&(r&&(e.style.minWidth=`${s.getOuterWidth(i)}px`),n==="self"?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,n=!0){let r=R=>{if(R)return getComputedStyle(R).getPropertyValue("position")==="relative"?R:r(R.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),l=i.offsetHeight??i.getBoundingClientRect().height,c=i.getBoundingClientRect(),d=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),v=this.getViewport(),C=r(e)?.getBoundingClientRect()||{top:-1*d,left:-1*u},w,T;c.top+l+o.height>v.height?(w=c.top-C.top-o.height,e.style.transformOrigin="bottom",c.top+w<0&&(w=-1*c.top)):(w=l+c.top-C.top,e.style.transformOrigin="top");let x=c.left+o.width-v.width,L=c.left-C.left;o.width>v.width?T=(c.left-C.left)*-1:x>0?T=L-x:T=c.left-C.left,e.style.top=w+"px",e.style.left=T+"px",n&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,n=!0){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,l=r.width,c=i.offsetHeight??i.getBoundingClientRect().height,d=i.offsetWidth??i.getBoundingClientRect().width,u=i.getBoundingClientRect(),v=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),C=this.getViewport(),w,T;u.top+c+o>C.height?(w=u.top+v-o,e.style.transformOrigin="bottom",w<0&&(w=v)):(w=c+u.top+v,e.style.transformOrigin="top"),u.left+l>C.width?T=Math.max(0,u.left+y+d-l):T=u.left+y,e.style.top=w+"px",e.style.left=T+"px",n&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return e.parentNode===null?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let n=this.getParents(e),r=/(auto|scroll)/,o=l=>{let c=window.getComputedStyle(l,null);return r.test(c.getPropertyValue("overflow"))||r.test(c.getPropertyValue("overflowX"))||r.test(c.getPropertyValue("overflowY"))};for(let l of n){let c=l.nodeType===1&&l.dataset.scrollselectors;if(c){let d=c.split(",");for(let u of d){let v=this.findSingle(l,u);v&&o(v)&&i.push(v)}}l.nodeType!==9&&o(l)&&i.push(l)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),l=o?parseFloat(o):0,c=e.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(c.top+document.body.scrollTop)-r-l,v=e.scrollTop,y=e.clientHeight,C=this.getOuterHeight(i);u<0?e.scrollTop=v+u:u+C>y&&(e.scrollTop=v+u-y+C)}static fadeIn(e,i){e.style.opacity=0;let n=+new Date,r=0,o=function(){r=+e.style.opacity.replace(",",".")+(new Date().getTime()-n)/i,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var n=1,r=50,o=i,l=r/o;let c=setInterval(()=>{n=n-l,n<=0&&(n=0,clearInterval(c)),e.style.opacity=n},r)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var n=Element.prototype,r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return r.call(e,i)}static getOuterWidth(e,i){let n=e.offsetWidth;if(i){let r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,n=getComputedStyle(e);return i+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),i}static width(e){let i=e.offsetWidth,n=getComputedStyle(e);return i-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,n=getComputedStyle(e);return i+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),i}static getOuterHeight(e,i){let n=e.offsetHeight;if(i){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}static getHeight(e){let i=e.offsetHeight,n=getComputedStyle(e);return i-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,n=getComputedStyle(e);return i-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),i}static getViewport(){let e=window,i=document,n=i.documentElement,r=i.getElementsByTagName("body")[0],o=e.innerWidth||n.clientWidth||r.clientWidth,l=e.innerHeight||n.clientHeight||r.clientHeight;return{width:o,height:l}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let n=e.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return!0;var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return!0}var o=e.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(e);else throw"Cannot append "+i+" to "+e}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+i}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let n=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=n,n}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,n){e[i].apply(e,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let n=this.find(e,this.getFocusableSelectorString(i)),r=[];for(let o of n){let l=getComputedStyle(o);this.isVisible(o)&&l.display!="none"&&l.visibility!="hidden"&&r.push(o)}return r}static getFocusableElement(e,i=""){let n=this.findSingle(e,this.getFocusableSelectorString(i));if(n){let r=getComputedStyle(n);if(this.isVisible(n)&&r.display!="none"&&r.visibility!="hidden")return n}return null}static getFirstFocusableElement(e,i=""){let n=this.getFocusableElements(e,i);return n.length>0?n[0]:null}static getLastFocusableElement(e,i){let n=this.getFocusableElements(e,i);return n.length>0?n[n.length-1]:null}static getNextFocusableElement(e,i=!1){let n=s.getFocusableElements(e),r=0;if(n&&n.length>0){let o=n.indexOf(n[0].ownerDocument.activeElement);i?o==-1||o===0?r=n.length-1:r=o-1:o!=-1&&o!==n.length-1&&(r=o+1)}return n[r]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let n=typeof e;if(n==="string")return document.querySelector(e);if(n==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let o=(l=>!!(l&&l.constructor&&l.call&&l.apply))(e)?e():e;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){let n=e.getAttribute(i);return isNaN(n)?n==="true"||n==="false"?n==="true":n:+n}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,i={},...n){if(e){let r=document.createElement(e);return this.setAttributes(r,i),r.append(...n),r}}static setAttribute(e,i="",n){this.isElement(e)&&n!==null&&n!==void 0&&e.setAttribute(i,n)}static setAttributes(e,i={}){if(this.isElement(e)){let n=(r,o)=>{let l=e?.$attrs?.[r]?[e?.$attrs?.[r]]:[];return[o].flat().reduce((c,d)=>{if(d!=null){let u=typeof d;if(u==="string"||u==="number")c.push(d);else if(u==="object"){let v=Array.isArray(d)?n(r,d):Object.entries(d).map(([y,C])=>r==="style"&&(C||C===0)?`${y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${C}`:C?y:void 0);c=v.length?c.concat(v.filter(y=>!!y)):c}}return c},l)};Object.entries(i).forEach(([r,o])=>{if(o!=null){let l=r.match(/^on(.+)/);l?e.addEventListener(l[1].toLowerCase(),o):r==="pBind"?this.setAttributes(e,o):(o=r==="class"?[...new Set(n("class",o))].join(" ").trim():r==="style"?n("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[r]=o),e.setAttribute(r,o))}})}}static isFocusableElement(e,i=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return s})(),Dn=class{element;listener;scrollableParents;constructor(t,e=()=>{}){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=M.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var bv=["*"],xe=(()=>{class s{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let e=he.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=G({type:s,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",H],styleClass:"styleClass"},standalone:!0,features:[Ee,me],ngContentSelectors:bv,decls:1,vars:0,template:function(i,n){i&1&&(ut(),tt(0))},encapsulation:2,changeDetection:0})}return s})();var Xl=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["EyeIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var ql=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["RefreshIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var Kl=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["SearchMinusIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var $l=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["SearchPlusIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var st=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["TimesIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Zl=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["UndoIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var Wu=(()=>{class s{pFocusTrapDisabled=!1;platformId=Dt(lt);host=Dt(Oe);document=Dt(ke);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){vt(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){e.pFocusTrapDisabled&&vt(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let e="0",i=n=>M.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:e,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:n?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:i,relatedTarget:n}=e,r=n===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(n)?M.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;M.focus(r)}onLastHiddenElementFocus(e){let{currentTarget:i,relatedTarget:n}=e,r=n===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(n)?M.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;M.focus(r)}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Ot({type:s,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",H]},features:[Ee,Ui]})}return s})(),zu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we]})}return s})();var wv=["mask"],xv=["previewButton"],Tv=["closeButton"],Sv=(s,t)=>({height:s,width:t,border:"none"}),Iv=(s,t)=>({showTransitionParams:s,hideTransitionParams:t}),Dv=s=>({value:"visible",params:s});function Ov(s,t){s&1&&le(0)}function Ev(s,t){if(s&1&&(Q(0),S(1,Ov,1,0,"ng-container",10),J()),s&2){let e=_(2);g(),f("ngTemplateOutlet",e.indicatorTemplate)}}function kv(s,t){s&1&&P(0,"EyeIcon",11),s&2&&f("styleClass","p-image-preview-icon")}function Mv(s,t){if(s&1){let e=Z();I(0,"button",8,0),W("click",function(){O(e);let n=_();return E(n.onImageClick())}),S(2,Ev,2,1,"ng-container",9)(3,kv,1,1,"ng-template",null,1,xt),D()}if(s&2){let e=it(4),i=_();f("ngStyle",Fe(4,Sv,i.height+"px",i.width+"px")),k("aria-label",i.zoomImageAriaLabel),g(2),f("ngIf",i.indicatorTemplate)("ngIfElse",e)}}function Fv(s,t){s&1&&P(0,"RefreshIcon")}function Av(s,t){}function Vv(s,t){s&1&&S(0,Av,0,0,"ng-template")}function Lv(s,t){s&1&&P(0,"UndoIcon")}function Pv(s,t){}function Rv(s,t){s&1&&S(0,Pv,0,0,"ng-template")}function Nv(s,t){s&1&&P(0,"SearchMinusIcon")}function Bv(s,t){}function jv(s,t){s&1&&S(0,Bv,0,0,"ng-template")}function Hv(s,t){s&1&&P(0,"SearchPlusIcon")}function Uv(s,t){}function Wv(s,t){s&1&&S(0,Uv,0,0,"ng-template")}function zv(s,t){s&1&&P(0,"TimesIcon")}function Yv(s,t){}function Gv(s,t){s&1&&S(0,Yv,0,0,"ng-template")}function Xv(s,t){if(s&1){let e=Z();I(0,"div"),W("@animation.start",function(n){O(e);let r=_(2);return E(r.onAnimationStart(n))})("@animation.done",function(n){O(e);let r=_(2);return E(r.onAnimationEnd(n))}),I(1,"img",17),W("click",function(){O(e);let n=_(2);return E(n.onPreviewImageClick())}),D()()}if(s&2){let e=_(2);f("@animation",ae(8,Dv,Fe(5,Iv,e.showTransitionOptions,e.hideTransitionOptions))),g(),f("ngStyle",e.imagePreviewStyle()),k("src",e.previewImageSrc?e.previewImageSrc:e.src,Mr)("srcset",e.previewImageSrcSet)("sizes",e.previewImageSizes)}}function qv(s,t){if(s&1){let e=Z();I(0,"div",12,2),W("click",function(){O(e);let n=_();return E(n.onMaskClick())})("keydown",function(n){O(e);let r=_();return E(r.onMaskKeydown(n))}),I(2,"div",13),W("click",function(n){O(e);let r=_();return E(r.handleToolbarClick(n))}),I(3,"button",14),W("click",function(){O(e);let n=_();return E(n.rotateRight())}),S(4,Fv,1,0,"RefreshIcon",15)(5,Vv,1,0,null,10),D(),I(6,"button",14),W("click",function(){O(e);let n=_();return E(n.rotateLeft())}),S(7,Lv,1,0,"UndoIcon",15)(8,Rv,1,0,null,10),D(),I(9,"button",16),W("click",function(){O(e);let n=_();return E(n.zoomOut())}),S(10,Nv,1,0,"SearchMinusIcon",15)(11,jv,1,0,null,10),D(),I(12,"button",16),W("click",function(){O(e);let n=_();return E(n.zoomIn())}),S(13,Hv,1,0,"SearchPlusIcon",15)(14,Wv,1,0,null,10),D(),I(15,"button",14,3),W("click",function(){O(e);let n=_();return E(n.closePreview())}),S(17,zv,1,0,"TimesIcon",15)(18,Gv,1,0,null,10),D()(),S(19,Xv,2,10,"div",15),D()}if(s&2){let e=_();k("aria-modal",e.maskVisible),g(3),k("aria-label",e.rightAriaLabel()),g(),f("ngIf",!e.rotateRightIconTemplate),g(),f("ngTemplateOutlet",e.rotateRightIconTemplate),g(),k("aria-label",e.leftAriaLabel()),g(),f("ngIf",!e.rotateLeftIconTemplate),g(),f("ngTemplateOutlet",e.rotateLeftIconTemplate),g(),f("disabled",e.isZoomOutDisabled),k("aria-label",e.zoomOutAriaLabel()),g(),f("ngIf",!e.zoomOutIconTemplate),g(),f("ngTemplateOutlet",e.zoomOutIconTemplate),g(),f("disabled",e.isZoomInDisabled),k("aria-label",e.zoomInAriaLabel()),g(),f("ngIf",!e.zoomInIconTemplate),g(),f("ngTemplateOutlet",e.zoomInIconTemplate),g(),k("aria-label",e.closeAriaLabel()),g(2),f("ngIf",!e.closeIconTemplate),g(),f("ngTemplateOutlet",e.closeIconTemplate),g(),f("ngIf",e.previewVisible)}}var Wk=(()=>{class s{document;config;cd;el;imageClass;imageStyle;styleClass;style;src;srcSet;sizes;previewImageSrc;previewImageSrcSet;previewImageSizes;alt;width;height;loading;appendTo;preview=!1;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";onShow=new X;onHide=new X;onImageError=new X;mask;previewButton;closeButton;templates;indicatorTemplate;rotateRightIconTemplate;rotateLeftIconTemplate;zoomOutIconTemplate;zoomInIconTemplate;closeIconTemplate;maskVisible=!1;previewVisible=!1;rotate=0;scale=1;previewClick=!1;container;wrapper;get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}zoomSettings={default:1,step:.1,max:1.5,min:.5};constructor(e,i,n,r){this.document=e,this.config=i,this.cd=n,this.el=r}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"indicator":this.indicatorTemplate=e.template;break;case"rotaterighticon":this.rotateRightIconTemplate=e.template;break;case"rotatelefticon":this.rotateLeftIconTemplate=e.template;break;case"zoomouticon":this.zoomOutIconTemplate=e.template;break;case"zoominicon":this.zoomInIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.indicatorTemplate=e.template;break}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0,M.blockBodyScroll())}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(e){switch(e.code){case"Escape":this.onMaskClick(),setTimeout(()=>{M.focus(this.previewButton.nativeElement)},25),e.preventDefault();break;default:break}}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),setTimeout(()=>{M.focus(this.closeButton.nativeElement)},25);break;case"void":M.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":ft.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({});break}}moveOnTop(){ft.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):M.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}get zoomImageAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomImage:void 0}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}handleToolbarClick(e){e.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default,M.unblockBodyScroll()}imageError(e){this.onImageError.emit(e)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(e){this.previewVisible&&this.closePreview()}static \u0275fac=function(i){return new(i||s)(B(ke),B(nt),B(Ke),B(Oe))};static \u0275cmp=G({type:s,selectors:[["p-image"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ve(wv,5),ve(xv,5),ve(Tv,5)),i&2){let r;ee(r=te())&&(n.mask=r.first),ee(r=te())&&(n.previewButton=r.first),ee(r=te())&&(n.closeButton=r.first)}},hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&W("keydown.escape",function(o){return n.onKeydownHandler(o)},!1,Vo)},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",srcSet:"srcSet",sizes:"sizes",previewImageSrc:"previewImageSrc",previewImageSrcSet:"previewImageSrcSet",previewImageSizes:"previewImageSizes",alt:"alt",width:"width",height:"height",loading:"loading",appendTo:"appendTo",preview:[2,"preview","preview",H],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},features:[Ee],decls:4,vars:16,consts:[["previewButton",""],["defaultTemplate",""],["mask",""],["closeButton",""],[3,"ngClass","ngStyle"],[3,"error","ngStyle"],["type","button","class","p-image-preview-indicator",3,"ngStyle","click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter","role","dialog","pFocusTrap","",3,"click","keydown",4,"ngIf"],["type","button",1,"p-image-preview-indicator",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[3,"styleClass"],["role","dialog","pFocusTrap","",1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click","keydown"],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-link",3,"click"],[4,"ngIf"],["type","button",1,"p-image-action","p-link",3,"click","disabled"],[1,"p-image-preview",3,"click","ngStyle"]],template:function(i,n){i&1&&(I(0,"span",4)(1,"img",5),W("error",function(o){return n.imageError(o)}),D(),S(2,Mv,5,7,"button",6)(3,qv,20,19,"div",7),D()),i&2&&(z(n.styleClass),f("ngClass",n.containerClass())("ngStyle",n.style),g(),z(n.imageClass),f("ngStyle",n.imageStyle),k("src",n.src,Mr)("srcset",n.srcSet)("sizes",n.sizes)("alt",n.alt)("width",n.width)("height",n.height)("loading",n.loading),g(),f("ngIf",n.preview),g(),f("ngIf",n.maskVisible))},dependencies:()=>[Me,Be,qe,Ae,ql,Xl,Zl,Kl,$l,st,Wu],styles:[`@layer primeng{.p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block;line-height:0}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;outline:none;border:none;padding:0;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon.pi{font-size:1.5rem}.p-image-preview-icon.p-icon{scale:1.5}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex;z-index:1}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-action.p-link[disabled]{opacity:.5}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}}
`],encapsulation:2,data:{animation:[ui("animation",[Tt("void => visible",[pt({transform:"scale(0.7)",opacity:0}),Et("{{showTransitionParams}}")]),Tt("visible => void",[Et("{{hideTransitionParams}}",pt({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return s})(),Ql=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,De,ql,Xl,Zl,Kl,$l,st,zu,De]})}return s})();var Qu=(()=>{class s{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||s)(B(ct),B(Oe))}}static{this.\u0275dir=Ot({type:s})}}return s})(),Kv=(()=>{class s extends Qu{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})()}static{this.\u0275dir=Ot({type:s,features:[ge]})}}return s})(),si=new Ut("");var $v={provide:si,useExisting:Rt(()=>Ju),multi:!0};function Zv(){let s=Bs()?Bs().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}var Qv=new Ut(""),Ju=(()=>{class s extends Qu{constructor(e,i,n){super(e,i),this._compositionMode=n,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Zv())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||s)(B(ct),B(Oe),B(Qv,8))}}static{this.\u0275dir=Ot({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){i&1&&W("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},features:[qt([$v]),ge]})}}return s})();var Jv=new Ut(""),ey=new Ut("");function ep(s){return s!=null}function tp(s){return pu(s)?Ao(s):s}function ip(s){let t={};return s.forEach(e=>{t=e!=null?Se(Se({},t),e):t}),Object.keys(t).length===0?null:t}function np(s,t){return t.map(e=>e(s))}function ty(s){return!s.validate}function sp(s){return s.map(t=>ty(t)?t:e=>t.validate(e))}function iy(s){if(!s)return null;let t=s.filter(ep);return t.length==0?null:function(e){return ip(np(e,t))}}function rp(s){return s!=null?iy(sp(s)):null}function ny(s){if(!s)return null;let t=s.filter(ep);return t.length==0?null:function(e){let i=np(e,t).map(tp);return jd(i).pipe(Gn(ip))}}function op(s){return s!=null?ny(sp(s)):null}function Yu(s,t){return s===null?[t]:Array.isArray(s)?[...s,t]:[s,t]}function sy(s){return s._rawValidators}function ry(s){return s._rawAsyncValidators}function Jl(s){return s?Array.isArray(s)?s:[s]:[]}function Jo(s,t){return Array.isArray(s)?s.includes(t):s===t}function Gu(s,t){let e=Jl(t);return Jl(s).forEach(n=>{Jo(e,n)||e.push(n)}),e}function Xu(s,t){return Jl(t).filter(e=>!Jo(s,e))}var ea=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=rp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=op(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},ec=class extends ea{get formDirective(){return null}get path(){return null}},ln=class extends ea{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},tc=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},oy={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oM=At(Se({},oy),{"[class.ng-submitted]":"isSubmitted"}),aM=(()=>{class s extends tc{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||s)(B(ln,2))}}static{this.\u0275dir=Ot({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){i&2&&di("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[ge]})}}return s})();var jr="VALID",Qo="INVALID",Ws="PENDING",Hr="DISABLED",Ys=class{},ta=class extends Ys{constructor(t,e){super(),this.value=t,this.source=e}},Ur=class extends Ys{constructor(t,e){super(),this.pristine=t,this.source=e}},Wr=class extends Ys{constructor(t,e){super(),this.touched=t,this.source=e}},zs=class extends Ys{constructor(t,e){super(),this.status=t,this.source=e}};function ay(s){return(ia(s)?s.validators:s)||null}function ly(s){return Array.isArray(s)?rp(s):s||null}function cy(s,t){return(ia(t)?t.asyncValidators:s)||null}function hy(s){return Array.isArray(s)?op(s):s||null}function ia(s){return s!=null&&!Array.isArray(s)&&typeof s=="object"}var ic=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=on(()=>this.statusReactive()),this.statusReactive=Wt(void 0),this._pristine=on(()=>this.pristineReactive()),this.pristineReactive=Wt(!0),this._touched=on(()=>this.touchedReactive()),this.touchedReactive=Wt(!1),this._events=new sn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return qn(this.statusReactive)}set status(t){qn(()=>this.statusReactive.set(t))}get valid(){return this.status===jr}get invalid(){return this.status===Qo}get pending(){return this.status==Ws}get disabled(){return this.status===Hr}get enabled(){return this.status!==Hr}get pristine(){return qn(this.pristineReactive)}set pristine(t){qn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return qn(this.touchedReactive)}set touched(t){qn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Gu(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Gu(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Xu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Xu(t,this._rawAsyncValidators))}hasValidator(t){return Jo(this._rawValidators,t)}hasAsyncValidator(t){return Jo(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(At(Se({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Wr(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Wr(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(At(Se({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Ur(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Ur(!0,i))}markAsPending(t={}){this.status=Ws;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new zs(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(At(Se({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Hr,this.errors=null,this._forEachChild(n=>{n.disable(At(Se({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ta(this.value,i)),this._events.next(new zs(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(At(Se({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=jr,this._forEachChild(i=>{i.enable(At(Se({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(At(Se({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jr||this.status===Ws)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ta(this.value,e)),this._events.next(new zs(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(At(Se({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hr:jr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Ws,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=tp(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,n)=>i&&i._find(n),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new zs(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Hr:this.errors?Qo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ws)?Ws:this._anyControlsHaveStatus(Qo)?Qo:jr}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),n&&this._events.next(new Ur(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Wr(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ia(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=ly(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=hy(this._rawAsyncValidators)}};var ap=new Ut("CallSetDisabledState",{providedIn:"root",factory:()=>nc}),nc="always";function dy(s,t){return[...t.path,s]}function uy(s,t,e=nc){fy(s,t),t.valueAccessor.writeValue(s.value),(s.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(s.disabled),my(s,t),_y(s,t),gy(s,t),py(s,t)}function qu(s,t){s.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function py(s,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};s.registerOnDisabledChange(e),t._registerOnDestroy(()=>{s._unregisterOnDisabledChange(e)})}}function fy(s,t){let e=sy(s);t.validator!==null?s.setValidators(Yu(e,t.validator)):typeof e=="function"&&s.setValidators([e]);let i=ry(s);t.asyncValidator!==null?s.setAsyncValidators(Yu(i,t.asyncValidator)):typeof i=="function"&&s.setAsyncValidators([i]);let n=()=>s.updateValueAndValidity();qu(t._rawValidators,n),qu(t._rawAsyncValidators,n)}function my(s,t){t.valueAccessor.registerOnChange(e=>{s._pendingValue=e,s._pendingChange=!0,s._pendingDirty=!0,s.updateOn==="change"&&lp(s,t)})}function gy(s,t){t.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,s.updateOn==="blur"&&s._pendingChange&&lp(s,t),s.updateOn!=="submit"&&s.markAsTouched()})}function lp(s,t){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function _y(s,t){let e=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};s.registerOnChange(e),t._registerOnDestroy(()=>{s._unregisterOnChange(e)})}function vy(s,t){if(!s.hasOwnProperty("model"))return!1;let e=s.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function yy(s){return Object.getPrototypeOf(s.constructor)===Kv}function by(s,t){if(!t)return null;Array.isArray(t);let e,i,n;return t.forEach(r=>{r.constructor===Ju?e=r:yy(r)?i=r:n=r}),n||i||e||null}function Ku(s,t){let e=s.indexOf(t);e>-1&&s.splice(e,1)}function $u(s){return typeof s=="object"&&s!==null&&Object.keys(s).length===2&&"value"in s&&"disabled"in s}var Cy=class extends ic{constructor(t=null,e,i){super(ay(e),cy(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ia(e)&&(e.nonNullable||e.initialValueIsDefault)&&($u(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ku(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ku(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){$u(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var wy={provide:ln,useExisting:Rt(()=>sc)},Zu=Promise.resolve(),sc=(()=>{class s extends ln{constructor(e,i,n,r,o,l){super(),this._changeDetectorRef=o,this.callSetDisabledState=l,this.control=new Cy,this._registered=!1,this.name="",this.update=new X,this._parent=e,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=by(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),vy(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){uy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Zu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,n=i!==0&&H(i);Zu.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?dy(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||s)(B(ec,9),B(Jv,10),B(ey,10),B(si,10),B(Ke,8),B(ap,8))}}static{this.\u0275dir=Ot({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qt([wy]),ge,Ui]})}}return s})();var xy=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=ue({type:s})}static{this.\u0275inj=de({})}}return s})();var rc=(()=>{class s{static withConfig(e){return{ngModule:s,providers:[{provide:ap,useValue:e.callSetDisabledState??nc}]}}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=ue({type:s})}static{this.\u0275inj=de({imports:[xy]})}}return s})();var wi=(()=>{class s{autofocus=!1;focused=!1;platformId=Dt(lt);document=Dt(ke);host=Dt(Oe);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){vt(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=M.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Ot({type:s,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",H]},standalone:!0,features:[Ee]})}return s})(),Wi=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({})}return s})();var Sy=["overlay"],Iy=["content"],Dy=["*"],Oy=(s,t,e,i,n,r,o,l,c,d,u,v,y,C)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":s,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":n,"p-overlay-bottom":r,"p-overlay-bottom-start":o,"p-overlay-bottom-end":l,"p-overlay-left":c,"p-overlay-left-start":d,"p-overlay-left-end":u,"p-overlay-right":v,"p-overlay-right-start":y,"p-overlay-right-end":C}),Ey=(s,t,e)=>({showTransitionParams:s,hideTransitionParams:t,transform:e}),ky=s=>({value:"visible",params:s}),My=s=>({mode:s}),Fy=s=>({$implicit:s});function Ay(s,t){s&1&&le(0)}function Vy(s,t){if(s&1){let e=Z();I(0,"div",3,1),W("click",function(n){O(e);let r=_(2);return E(r.onOverlayContentClick(n))})("@overlayContentAnimation.start",function(n){O(e);let r=_(2);return E(r.onOverlayContentAnimationStart(n))})("@overlayContentAnimation.done",function(n){O(e);let r=_(2);return E(r.onOverlayContentAnimationDone(n))}),tt(2),S(3,Ay,1,0,"ng-container",4),D()}if(s&2){let e=_(2);z(e.contentStyleClass),f("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",ae(11,ky,ki(7,Ey,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),g(3),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",ae(15,Fy,ae(13,My,e.overlayMode)))}}function Ly(s,t){if(s&1){let e=Z();I(0,"div",3,0),W("click",function(){O(e);let n=_();return E(n.onOverlayClick())}),S(2,Vy,4,17,"div",2),D()}if(s&2){let e=_();z(e.styleClass),f("ngStyle",e.style)("ngClass",uu(5,Oy,[e.modal,e.modal&&e.overlayResponsiveDirection==="center",e.modal&&e.overlayResponsiveDirection==="top",e.modal&&e.overlayResponsiveDirection==="top-start",e.modal&&e.overlayResponsiveDirection==="top-end",e.modal&&e.overlayResponsiveDirection==="bottom",e.modal&&e.overlayResponsiveDirection==="bottom-start",e.modal&&e.overlayResponsiveDirection==="bottom-end",e.modal&&e.overlayResponsiveDirection==="left",e.modal&&e.overlayResponsiveDirection==="left-start",e.modal&&e.overlayResponsiveDirection==="left-end",e.modal&&e.overlayResponsiveDirection==="right",e.modal&&e.overlayResponsiveDirection==="right-start",e.modal&&e.overlayResponsiveDirection==="right-end"])),g(2),f("ngIf",e.visible)}}var Py={provide:si,useExisting:Rt(()=>oc),multi:!0},Ry=js([pt({transform:"{{transform}}",opacity:0}),Et("{{showTransitionParams}}")]),Ny=js([Et("{{hideTransitionParams}}",pt({transform:"{{transform}}",opacity:0}))]),oc=(()=>{class s{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return he.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return he.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return he.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return he.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new X;onBeforeShow=new X;onShow=new X;onBeforeHide=new X;onHide=new X;onAnimationStart=new X;onAnimationDone=new X;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(vt(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return Se(Se({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return Se(Se({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return M.getTargetElement(this.target,this.el?.nativeElement)}constructor(e,i,n,r,o,l,c,d){this.document=e,this.platformId=i,this.el=n,this.renderer=r,this.config=o,this.overlayService=l,this.cd=c,this.zone=d,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&M.focus(this.targetEl),this.modal&&M.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&M.focus(this.targetEl),this.modal&&M.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&M.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&ft.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),M.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&M.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),ft.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Dn(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let n=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&n}):n)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),ft.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||s)(B(ke),B(lt),B(Oe),B(ct),B(nt),B($o),B(Ke),B(et))};static \u0275cmp=G({type:s,selectors:[["p-overlay"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ve(Sy,5),ve(Iy,5)),i&2){let r;ee(r=te())&&(n.overlayViewChild=r.first),ee(r=te())&&(n.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[qt([Py])],ngContentSelectors:Dy,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(ut(),S(0,Ly,3,20,"div",2)),i&2&&f("ngIf",n.modalVisible)},dependencies:[Me,Be,qe,Ae],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[ui("overlayContentAnimation",[Tt(":enter",[Hs(Ry)]),Tt(":leave",[Hs(Ny)])])]},changeDetection:0})}return s})(),ac=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,De,De]})}return s})();var Yt=(()=>{class s{document;platformId;renderer;el;zone;config;constructor(e,i,n,r,o,l){this.document=e,this.platformId=i,this.renderer=n,this.el=r,this.zone=o,this.config=l}animationListener;mouseDownListener;timeout;ngAfterViewInit(){vt(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(M.removeClass(i,"p-ink-active"),!M.getHeight(i)&&!M.getWidth(i)){let l=Math.max(M.getOuterWidth(this.el.nativeElement),M.getOuterHeight(this.el.nativeElement));i.style.height=l+"px",i.style.width=l+"px"}let n=M.getOffset(this.el.nativeElement),r=e.pageX-n.left+this.document.body.scrollTop-M.getWidth(i)/2,o=e.pageY-n.top+this.document.body.scrollLeft-M.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",r+"px"),M.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let l=this.getInk();l&&M.removeClass(l,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if(typeof e[i].className=="string"&&e[i].className.indexOf("p-ink")!==-1)return e[i];return null}resetInk(){let e=this.getInk();e&&M.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),M.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,M.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||s)(B(ke),B(lt),B(ct),B(Oe),B(et),B(nt,8))};static \u0275dir=Ot({type:s,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return s})(),ri=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({})}return s})();var Yr=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["SpinnerIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var jy=["element"],Hy=["content"],Uy=["*"],Wy=(s,t,e)=>({"p-scroller":!0,"p-scroller-inline":s,"p-both-scroll":t,"p-horizontal-scroll":e}),lc=(s,t)=>({$implicit:s,options:t}),zy=s=>({"p-scroller-loading":s}),Yy=s=>({"p-component-overlay":s}),Gy=s=>({numCols:s}),cp=s=>({options:s}),Xy=()=>({styleClass:"p-scroller-loading-icon"}),qy=(s,t)=>({rows:s,columns:t});function Ky(s,t){s&1&&le(0)}function $y(s,t){if(s&1&&(Q(0),S(1,Ky,1,0,"ng-container",10),J()),s&2){let e=_(2);g(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Fe(2,lc,e.loadedItems,e.getContentOptions()))}}function Zy(s,t){s&1&&le(0)}function Qy(s,t){if(s&1&&(Q(0),S(1,Zy,1,0,"ng-container",10),J()),s&2){let e=t.$implicit,i=t.index,n=_(3);g(),f("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",Fe(2,lc,e,n.getOptions(i)))}}function Jy(s,t){if(s&1&&(I(0,"div",11,3),S(2,Qy,2,5,"ng-container",12),D()),s&2){let e=_(2);f("ngClass",ae(5,zy,e.d_loading))("ngStyle",e.contentStyle),k("data-pc-section","content"),g(2),f("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function eb(s,t){if(s&1&&P(0,"div",13),s&2){let e=_(2);f("ngStyle",e.spacerStyle),k("data-pc-section","spacer")}}function tb(s,t){s&1&&le(0)}function ib(s,t){if(s&1&&(Q(0),S(1,tb,1,0,"ng-container",10),J()),s&2){let e=t.index,i=_(4);g(),f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",ae(4,cp,i.getLoaderOptions(e,i.both&&ae(2,Gy,i._numItemsInViewport.cols))))}}function nb(s,t){if(s&1&&(Q(0),S(1,ib,2,6,"ng-container",15),J()),s&2){let e=_(3);g(),f("ngForOf",e.loaderArr)}}function sb(s,t){s&1&&le(0)}function rb(s,t){if(s&1&&(Q(0),S(1,sb,1,0,"ng-container",10),J()),s&2){let e=_(4);g(),f("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",ae(3,cp,Ei(2,Xy)))}}function ob(s,t){s&1&&P(0,"SpinnerIcon",16),s&2&&(f("styleClass","p-scroller-loading-icon pi-spin"),k("data-pc-section","loadingIcon"))}function ab(s,t){if(s&1&&S(0,rb,2,5,"ng-container",6)(1,ob,1,2,"ng-template",null,5,xt),s&2){let e=it(2),i=_(3);f("ngIf",i.loaderIconTemplate)("ngIfElse",e)}}function lb(s,t){if(s&1&&(I(0,"div",14),S(1,nb,2,1,"ng-container",6)(2,ab,3,2,"ng-template",null,4,xt),D()),s&2){let e=it(3),i=_(2);f("ngClass",ae(4,Yy,!i.loaderTemplate)),k("data-pc-section","loader"),g(),f("ngIf",i.loaderTemplate)("ngIfElse",e)}}function cb(s,t){if(s&1){let e=Z();Q(0),I(1,"div",7,1),W("scroll",function(n){O(e);let r=_();return E(r.onContainerScroll(n))}),S(3,$y,2,5,"ng-container",6)(4,Jy,3,7,"ng-template",null,2,xt)(6,eb,1,2,"div",8)(7,lb,4,6,"div",9),D(),J()}if(s&2){let e=it(5),i=_();g(),z(i._styleClass),f("ngStyle",i._style)("ngClass",ki(12,Wy,i.inline,i.both,i.horizontal)),k("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),g(2),f("ngIf",i.contentTemplate)("ngIfElse",e),g(3),f("ngIf",i._showSpacer),g(),f("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function hb(s,t){s&1&&le(0)}function db(s,t){if(s&1&&(Q(0),S(1,hb,1,0,"ng-container",10),J()),s&2){let e=_(2);g(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Fe(5,lc,e.items,Fe(2,qy,e._items,e.loadedColumns)))}}function ub(s,t){if(s&1&&(tt(0),S(1,db,2,8,"ng-container",17)),s&2){let e=_();g(),f("ngIf",e.contentTemplate)}}var hp=(()=>{class s{document;platformId;renderer;cd;zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([i,n])=>this[`_${i}`]!==n&&(this[`_${i}`]=n))}onLazyLoad=new X;onScroll=new X;onScrollIndexChange=new X;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;resizeObserver;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(e,i,n,r,o){this.document=e,this.platformId=i,this.renderer=n,this.cd=r,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){let{previousValue:n,currentValue:r}=e.loading;this.lazy&&n!==r&&r!==this.d_loading&&(this.d_loading=r,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:n,currentValue:r}=e.numToleratedItems;n!==r&&r!==this.d_numToleratedItems&&(this.d_numToleratedItems=r)}if(e.options){let{previousValue:n,currentValue:r}=e.options;this.lazy&&n?.loading!==r?.loading&&r?.loading!==this.d_loading&&(this.d_loading=r.loading,i=!0),n?.numToleratedItems!==r?.numToleratedItems&&r?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=r.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){vt(this.platformId)&&!this.initialized&&M.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=M.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=M.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=M.getWidth(this.contentEl),this.defaultContentHeight=M.getHeight(this.contentEl),this.resizeObserver=new ResizeObserver(()=>this.onResize()),this.resizeObserver.observe(this.elementViewChild?.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||M.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){if(this.both?e.every(r=>r>-1):e>-1){let r=this.first,{scrollTop:o=0,scrollLeft:l=0}=this.elementViewChild?.nativeElement,{numToleratedItems:c}=this.calculateNumItems(),d=this.getContentPosition(),u=this.itemSize,v=(L=0,R)=>L<=R?0:L,y=(L,R,U)=>L*R+U,C=(L=0,R=0)=>this.scrollTo({left:L,top:R,behavior:i}),w=this.both?{rows:0,cols:0}:0,T=!1,x=!1;this.both?(w={rows:v(e[0],c[0]),cols:v(e[1],c[1])},C(y(w.cols,u[1],d.left),y(w.rows,u[0],d.top)),x=this.lastScrollPos.top!==o||this.lastScrollPos.left!==l,T=w.rows!==r.rows||w.cols!==r.cols):(w=v(e,c),this.horizontal?C(y(w,u,d.left),o):C(l,y(w,u,d.top)),x=this.lastScrollPos!==(this.horizontal?l:o),T=w!==r),this.isRangeChanged=T,x&&(this.first=w)}}scrollInView(e,i,n="auto"){if(i){let{first:r,viewport:o}=this.getRenderedRange(),l=(u=0,v=0)=>this.scrollTo({left:u,top:v,behavior:n}),c=i==="to-start",d=i==="to-end";if(c){if(this.both)o.first.rows-r.rows>e[0]?l(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-r.cols>e[1]&&l((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-r>e){let u=(o.first-1)*this._itemSize;this.horizontal?l(u,0):l(0,u)}}else if(d){if(this.both)o.last.rows-r.rows<=e[0]+1?l(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-r.cols<=e[1]+1&&l((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-r<=e+1){let u=(o.first+1)*this._itemSize;this.horizontal?l(u,0):l(0,u)}}}else this.scrollToIndex(e,n)}getRenderedRange(){let e=(r,o)=>o||r?Math.floor(r/(o||r)):0,i=this.first,n=0;if(this.elementViewChild?.nativeElement){let{scrollTop:r,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:e(r,this._itemSize[0]),cols:e(o,this._itemSize[1])},n={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let l=this.horizontal?o:r;i=e(l,this._itemSize),n=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:n}}}calculateNumItems(){let e=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,n=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,r=(d,u)=>u||d?Math.ceil(d/(u||d)):0,o=d=>Math.ceil(d/2),l=this.both?{rows:r(n,this._itemSize[0]),cols:r(i,this._itemSize[1])}:r(this.horizontal?i:n,this._itemSize),c=this.d_numToleratedItems||(this.both?[o(l.rows),o(l.cols)]:o(l));return{numItemsInViewport:l,numToleratedItems:c}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),n=(l,c,d,u=!1)=>this.getLast(l+c+(l<d?2:3)*d,u),r=this.first,o=this.both?{rows:n(this.first.rows,e.rows,i[0]),cols:n(this.first.cols,e.cols,i[1],!0)}:n(this.first,e,i);this.last=o,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:r.cols}:0:r,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,i]=[M.getWidth(this.contentEl),M.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[n,r]=[M.getWidth(this.elementViewChild.nativeElement),M.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=n<this.defaultWidth?n+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=r<this.defaultHeight?r+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),n=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),r=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),o=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:n,top:r,bottom:o,x:i+n,y:r+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,n=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,r=(o,l)=>this.elementViewChild.nativeElement.style[o]=l;this.both||this.horizontal?(r("height",n),r("width",i)):r("height",n)}}setSpacerSize(){if(this._items){let e=(n,r,o)=>this.spacerStyle=At(Se({},this.spacerStyle),{[`${n}`]:r*o+"px"}),i=this._items.length;this.both?(e("height",i,this._itemSize[0]),e("width",this._columns?.length||this._items[1]?.length,this._itemSize[1])):this.horizontal?e("width",this._columns.length||this._items.length,this._itemSize):e("height",i,this._itemSize)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let i=e?e.first:this.first,n=(o,l)=>o*l,r=(o=0,l=0)=>this.contentStyle=At(Se({},this.contentStyle),{transform:`translate3d(${o}px, ${l}px, 0)`});if(this.both)r(n(i.cols,this._itemSize[1]),n(i.rows,this._itemSize[0]));else{let o=n(i,this._itemSize);this.horizontal?r(o,0):r(0,o)}}}onScrollPositionChange(e){let i=e.target,n=this.getContentPosition(),r=(x,L)=>x?x>L?x-L:x:0,o=(x,L)=>L||x?Math.floor(x/(L||x)):0,l=(x,L,R,U,q,K)=>x<=q?q:K?R-U-q:L+q-1,c=(x,L,R,U,q,K,ie)=>x<=K?0:Math.max(0,ie?x<L?R:x-K:x>L?R:x-2*K),d=(x,L,R,U,q,K=!1)=>{let ie=L+U+2*q;return x>=q&&(ie+=q+1),this.getLast(ie,K)},u=r(i.scrollTop,n.top),v=r(i.scrollLeft,n.left),y=this.both?{rows:0,cols:0}:0,C=this.last,w=!1,T=this.lastScrollPos;if(this.both){let x=this.lastScrollPos.top<=u,L=this.lastScrollPos.left<=v;if(!this._appendOnly||this._appendOnly&&(x||L)){let R={rows:o(u,this._itemSize[0]),cols:o(v,this._itemSize[1])},U={rows:l(R.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],x),cols:l(R.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],L)};y={rows:c(R.rows,U.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],x),cols:c(R.cols,U.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],L)},C={rows:d(R.rows,y.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(R.cols,y.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},w=y.rows!==this.first.rows||C.rows!==this.last.rows||y.cols!==this.first.cols||C.cols!==this.last.cols||this.isRangeChanged,T={top:u,left:v}}}else{let x=this.horizontal?v:u,L=this.lastScrollPos<=x;if(!this._appendOnly||this._appendOnly&&L){let R=o(x,this._itemSize),U=l(R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,L);y=c(R,U,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,L),C=d(R,y,this.last,this.numItemsInViewport,this.d_numToleratedItems),w=y!==this.first||C!==this.last||this.isRangeChanged,T=x}}return{first:y,last:C,isRangeChanged:w,scrollPos:T}}onScrollChange(e){let{first:i,last:n,isRangeChanged:r,scrollPos:o}=this.onScrollPositionChange(e);if(r){let l={first:i,last:n};if(this.setContentPosition(l),this.first=i,this.last=n,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",l),this._lazy&&this.isPageChanged(i)){let c={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:n,this.items.length)};(this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last)&&this.handleEvents("onLazyLoad",c),this.lazyLoadState=c}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(e);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}unbindResizeListener(){this.resizeObserver&&(this.resizeObserver.unobserve(this.elementViewChild?.nativeElement),this.resizeObserver=null)}onResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(M.isVisible(this.elementViewChild?.nativeElement)){let[e,i]=[M.getWidth(this.elementViewChild?.nativeElement),M.getHeight(this.elementViewChild?.nativeElement)],[n,r]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?n||r:this.horizontal?n:this.vertical?r:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=M.getWidth(this.contentEl),this.defaultContentHeight=M.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let i=(this._items||[]).length,n=this.both?this.first.rows+e:this.first+e;return{index:n,count:i,first:n===0,last:n===i-1,even:n%2===0,odd:n%2!==0}}getLoaderOptions(e,i){let n=this.loaderArr.length;return Se({index:e,count:n,first:e===0,last:e===n-1,even:e%2===0,odd:e%2!==0},i)}static \u0275fac=function(i){return new(i||s)(B(ke),B(lt),B(ct),B(Ke),B(et))};static \u0275cmp=G({type:s,selectors:[["p-scroller"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ve(jy,5),ve(Hy,5)),i&2){let r;ee(r=te())&&(n.elementViewChild=r.first),ee(r=te())&&(n.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Ui],ngContentSelectors:Uy,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,n){if(i&1&&(ut(),S(0,cb,8,16,"ng-container",6)(1,ub,2,1,"ng-template",null,0,xt)),i&2){let r=it(2);f("ngIf",!n._disabled)("ngIfElse",r)}},dependencies:()=>[Me,ni,Be,qe,Ae,Yr],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return s})(),cc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,De,Yr,De]})}return s})();var na=(()=>{class s{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Re()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(e,i,n,r,o,l){this.platformId=e,this.el=i,this.zone=n,this.config=r,this.renderer=o,this.viewContainer=l}ngAfterViewInit(){vt(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement)),i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=Se(Se({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(M.hasClass(e.relatedTarget,"p-tooltip")||M.hasClass(e.relatedTarget,"p-tooltip-text")||M.hasClass(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?M.appendChild(this.container,this.el.nativeElement):M.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),M.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?ft.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&ft.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e instanceof Lo){let i=this.viewContainer.createEmbeddedView(e);i.detectChanges(),i.rootNodes.forEach(n=>this.tooltipText.appendChild(n))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),i=e.left+M.getWindowScrollLeft(),n=e.top+M.getWindowScrollTop();return{left:i,top:n}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.activeElement,i=this.getHostOffset(),n=i.left+M.getOuterWidth(e),r=i.top+(M.getOuterHeight(e)-M.getOuterHeight(this.container))/2;this.container.style.left=n+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?M.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-M.getOuterWidth(this.container),n=e.top+(M.getOuterHeight(this.el.nativeElement)-M.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,n=e.top-M.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,n=e.top+M.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Se(Se({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return M.hasClass(e,"p-inputwrapper")?M.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,n=e.left,r=M.getOuterWidth(this.container),o=M.getOuterHeight(this.container),l=M.getViewport();return n+r>l.width||n<0||i<0||i+o>l.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Dn(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement))}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):M.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&ft.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||s)(B(lt),B(Oe),B(et),B(nt),B(ct),B(Po))};static \u0275dir=Ot({type:s,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&W("keydown.escape",function(o){return n.onPressEscape(o)},!1,Vo)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",H],showDelay:[2,"showDelay","showDelay",fe],hideDelay:[2,"hideDelay","hideDelay",fe],life:[2,"life","life",fe],positionTop:[2,"positionTop","positionTop",fe],positionLeft:[2,"positionLeft","positionLeft",fe],autoHide:[2,"autoHide","autoHide",H],fitContent:[2,"fitContent","fitContent",H],hideOnEscape:[2,"hideOnEscape","hideOnEscape",H],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ee,Ui]})}return s})(),sa=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we]})}return s})();var Kt=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["CheckIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var hc=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["BlankIcon"]],standalone:!0,features:[ge,me],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"rect",1),D())},encapsulation:2})}return s})();var Gs=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["ChevronDownIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var dc=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["SearchIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var Gr=s=>({height:s}),fb=(s,t,e)=>({"p-dropdown-item":!0,"p-highlight":s,"p-disabled":t,"p-focus":e}),uc=s=>({$implicit:s});function mb(s,t){s&1&&P(0,"CheckIcon",4),s&2&&f("styleClass","p-dropdown-check-icon")}function gb(s,t){s&1&&P(0,"BlankIcon",4),s&2&&f("styleClass","p-dropdown-blank-icon")}function _b(s,t){if(s&1&&(Q(0),S(1,mb,1,1,"CheckIcon",3)(2,gb,1,1,"BlankIcon",3),J()),s&2){let e=_();g(),f("ngIf",e.selected),g(),f("ngIf",!e.selected)}}function vb(s,t){if(s&1&&(I(0,"span"),ce(1),D()),s&2){let e,i=_();g(),ze((e=i.label)!==null&&e!==void 0?e:"empty")}}function yb(s,t){s&1&&le(0)}var bb=["container"],Cb=["filter"],wb=["focusInput"],xb=["editableInput"],Tb=["items"],Sb=["scroller"],Ib=["overlay"],Db=["firstHiddenFocusableEl"],Ob=["lastHiddenFocusableEl"],Eb=s=>({"max-height":s}),up=s=>({options:s}),kb=s=>({"p-variant-filled":s}),pp=(s,t)=>({$implicit:s,options:t}),Mb=()=>({});function Fb(s,t){if(s&1&&(Q(0),ce(1),J()),s&2){let e=_(2);g(),ze(e.label()==="p-emptylabel"?"\xA0":e.label())}}function Ab(s,t){if(s&1&&le(0,25),s&2){let e=_(2);f("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",ae(2,uc,e.selectedOption))}}function Vb(s,t){if(s&1&&(I(0,"span"),ce(1),D()),s&2){let e=_(3);g(),ze(e.label()==="p-emptylabel"?"\xA0":e.label())}}function Lb(s,t){if(s&1&&S(0,Vb,2,1,"span",18),s&2){let e=_(2);f("ngIf",e.isSelectedOptionEmpty())}}function Pb(s,t){if(s&1){let e=Z();I(0,"span",23,3),W("focus",function(n){O(e);let r=_();return E(r.onInputFocus(n))})("blur",function(n){O(e);let r=_();return E(r.onInputBlur(n))})("keydown",function(n){O(e);let r=_();return E(r.onKeyDown(n))}),S(2,Fb,2,1,"ng-container",20)(3,Ab,1,4,"ng-container",24)(4,Lb,1,1,"ng-template",null,4,xt),D()}if(s&2){let e,i=it(5),n=_();f("ngClass",n.inputClass)("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass)("autofocus",n.autofocus),k("aria-disabled",n.disabled)("id",n.inputId)("aria-label",n.ariaLabel||(n.label()==="p-emptylabel"?void 0:n.label()))("aria-labelledby",n.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(e=n.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",n.overlayVisible?n.id+"_list":null)("tabindex",n.disabled?-1:n.tabindex)("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("aria-required",n.required)("required",n.required),g(2),f("ngIf",!n.selectedItemTemplate)("ngIfElse",i),g(),f("ngIf",n.selectedItemTemplate&&!n.isSelectedOptionEmpty())}}function Rb(s,t){if(s&1){let e=Z();I(0,"input",26,5),W("input",function(n){O(e);let r=_();return E(r.onEditableInput(n))})("keydown",function(n){O(e);let r=_();return E(r.onKeyDown(n))})("focus",function(n){O(e);let r=_();return E(r.onInputFocus(n))})("blur",function(n){O(e);let r=_();return E(r.onInputBlur(n))}),D()}if(s&2){let e=_();f("ngClass",e.inputClass)("disabled",e.disabled)("autofocus",e.autofocus),k("id",e.inputId)("maxlength",e.maxlength)("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function Nb(s,t){if(s&1){let e=Z();I(0,"TimesIcon",29),W("click",function(n){O(e);let r=_(2);return E(r.clear(n))}),D()}s&2&&(f("styleClass","p-dropdown-clear-icon"),k("data-pc-section","clearicon"))}function Bb(s,t){}function jb(s,t){s&1&&S(0,Bb,0,0,"ng-template")}function Hb(s,t){if(s&1){let e=Z();I(0,"span",30),W("click",function(n){O(e);let r=_(2);return E(r.clear(n))}),S(1,jb,1,0,null,31),D()}if(s&2){let e=_(2);k("data-pc-section","clearicon"),g(),f("ngTemplateOutlet",e.clearIconTemplate)}}function Ub(s,t){if(s&1&&(Q(0),S(1,Nb,1,2,"TimesIcon",27)(2,Hb,2,2,"span",28),J()),s&2){let e=_();g(),f("ngIf",!e.clearIconTemplate),g(),f("ngIf",e.clearIconTemplate)}}function Wb(s,t){s&1&&le(0)}function zb(s,t){if(s&1&&(Q(0),S(1,Wb,1,0,"ng-container",31),J()),s&2){let e=_(2);g(),f("ngTemplateOutlet",e.loadingIconTemplate)}}function Yb(s,t){if(s&1&&P(0,"span",34),s&2){let e=_(3);f("ngClass","p-dropdown-trigger-icon pi-spin "+e.loadingIcon)}}function Gb(s,t){s&1&&P(0,"span",35),s&2&&z("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function Xb(s,t){if(s&1&&(Q(0),S(1,Yb,1,1,"span",32)(2,Gb,1,2,"span",33),J()),s&2){let e=_(2);g(),f("ngIf",e.loadingIcon),g(),f("ngIf",!e.loadingIcon)}}function qb(s,t){if(s&1&&(Q(0),S(1,zb,2,1,"ng-container",18)(2,Xb,3,2,"ng-container",18),J()),s&2){let e=_();g(),f("ngIf",e.loadingIconTemplate),g(),f("ngIf",!e.loadingIconTemplate)}}function Kb(s,t){if(s&1&&P(0,"span",39),s&2){let e=_(3);f("ngClass",e.dropdownIcon)}}function $b(s,t){s&1&&P(0,"ChevronDownIcon",40),s&2&&f("styleClass","p-dropdown-trigger-icon")}function Zb(s,t){if(s&1&&(Q(0),S(1,Kb,1,1,"span",37)(2,$b,1,1,"ChevronDownIcon",38),J()),s&2){let e=_(2);g(),f("ngIf",e.dropdownIcon),g(),f("ngIf",!e.dropdownIcon)}}function Qb(s,t){}function Jb(s,t){s&1&&S(0,Qb,0,0,"ng-template")}function eC(s,t){if(s&1&&(I(0,"span",41),S(1,Jb,1,0,null,31),D()),s&2){let e=_(2);g(),f("ngTemplateOutlet",e.dropdownIconTemplate)}}function tC(s,t){if(s&1&&S(0,Zb,3,2,"ng-container",18)(1,eC,2,1,"span",36),s&2){let e=_();f("ngIf",!e.dropdownIconTemplate),g(),f("ngIf",e.dropdownIconTemplate)}}function iC(s,t){s&1&&le(0)}function nC(s,t){s&1&&le(0)}function sC(s,t){if(s&1&&(Q(0),S(1,nC,1,0,"ng-container",48),J()),s&2){let e=_(3);g(),f("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",ae(2,up,e.filterOptions))}}function rC(s,t){s&1&&P(0,"SearchIcon",40),s&2&&f("styleClass","p-dropdown-filter-icon")}function oC(s,t){}function aC(s,t){s&1&&S(0,oC,0,0,"ng-template")}function lC(s,t){if(s&1&&(I(0,"span",52),S(1,aC,1,0,null,31),D()),s&2){let e=_(4);g(),f("ngTemplateOutlet",e.filterIconTemplate)}}function cC(s,t){if(s&1){let e=Z();I(0,"div",49)(1,"input",50,10),W("input",function(n){O(e);let r=_(3);return E(r.onFilterInputChange(n))})("keydown",function(n){O(e);let r=_(3);return E(r.onFilterKeyDown(n))})("blur",function(n){O(e);let r=_(3);return E(r.onFilterBlur(n))}),D(),S(3,rC,1,1,"SearchIcon",38)(4,lC,2,1,"span",51),D()}if(s&2){let e=_(3);g(),f("value",e._filterValue()||"")("ngClass",ae(8,kb,e.variant==="filled"||e.config.inputStyle()==="filled")),k("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),g(2),f("ngIf",!e.filterIconTemplate),g(),f("ngIf",e.filterIconTemplate)}}function hC(s,t){if(s&1){let e=Z();I(0,"div",47),W("click",function(n){return O(e),E(n.stopPropagation())}),S(1,sC,2,4,"ng-container",20)(2,cC,5,10,"ng-template",null,9,xt),D()}if(s&2){let e=it(3),i=_(2);g(),f("ngIf",i.filterTemplate)("ngIfElse",e)}}function dC(s,t){s&1&&le(0)}function uC(s,t){if(s&1&&S(0,dC,1,0,"ng-container",48),s&2){let e=t.$implicit,i=t.options;_(2);let n=it(9);f("ngTemplateOutlet",n)("ngTemplateOutletContext",Fe(2,pp,e,i))}}function pC(s,t){s&1&&le(0)}function fC(s,t){if(s&1&&S(0,pC,1,0,"ng-container",48),s&2){let e=t.options,i=_(4);f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",ae(2,up,e))}}function mC(s,t){s&1&&(Q(0),S(1,fC,1,4,"ng-template",54),J())}function gC(s,t){if(s&1){let e=Z();I(0,"p-scroller",53,11),W("onLazyLoad",function(n){O(e);let r=_(2);return E(r.onLazyLoad.emit(n))}),S(2,uC,1,5,"ng-template",22)(3,mC,2,0,"ng-container",18),D()}if(s&2){let e=_(2);ou(ae(8,Gr,e.scrollHeight)),f("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),g(3),f("ngIf",e.loaderTemplate)}}function _C(s,t){s&1&&le(0)}function vC(s,t){if(s&1&&(Q(0),S(1,_C,1,0,"ng-container",48),J()),s&2){_();let e=it(9),i=_();g(),f("ngTemplateOutlet",e)("ngTemplateOutletContext",Fe(3,pp,i.visibleOptions(),Ei(2,Mb)))}}function yC(s,t){if(s&1&&(I(0,"span"),ce(1),D()),s&2){let e=_(2).$implicit,i=_(3);g(),ze(i.getOptionGroupLabel(e.optionGroup))}}function bC(s,t){s&1&&le(0)}function CC(s,t){if(s&1&&(Q(0),I(1,"li",58),S(2,yC,2,1,"span",18)(3,bC,1,0,"ng-container",48),D(),J()),s&2){let e=_(),i=e.$implicit,n=e.index,r=_().options,o=_(2);g(),f("ngStyle",ae(5,Gr,r.itemSize+"px")),k("id",o.id+"_"+o.getOptionIndex(n,r)),g(),f("ngIf",!o.groupTemplate),g(),f("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",ae(7,uc,i.optionGroup))}}function wC(s,t){if(s&1){let e=Z();Q(0),I(1,"p-dropdownItem",59),W("onClick",function(n){O(e);let r=_().$implicit,o=_(3);return E(o.onOptionSelect(n,r))})("onMouseEnter",function(n){O(e);let r=_().index,o=_().options,l=_(2);return E(l.onOptionMouseEnter(n,l.getOptionIndex(r,o)))}),D(),J()}if(s&2){let e=_(),i=e.$implicit,n=e.index,r=_().options,o=_(2);g(),f("id",o.id+"_"+o.getOptionIndex(n,r))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(n,r))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(n,r)))("ariaSetSize",o.ariaSetSize)}}function xC(s,t){if(s&1&&S(0,CC,4,9,"ng-container",18)(1,wC,2,10,"ng-container",18),s&2){let e=t.$implicit,i=_(3);f("ngIf",i.isOptionGroup(e)),g(),f("ngIf",!i.isOptionGroup(e))}}function TC(s,t){if(s&1&&(Q(0),ce(1),J()),s&2){let e=_(4);g(),Nt(" ",e.emptyFilterMessageLabel," ")}}function SC(s,t){s&1&&le(0,null,13)}function IC(s,t){if(s&1&&(I(0,"li",60),S(1,TC,2,1,"ng-container",20)(2,SC,2,0,"ng-container",31),D()),s&2){let e=_().options,i=_(2);f("ngStyle",ae(4,Gr,e.itemSize+"px")),g(),f("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),g(),f("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function DC(s,t){if(s&1&&(Q(0),ce(1),J()),s&2){let e=_(4);g(),Nt(" ",e.emptyMessageLabel," ")}}function OC(s,t){s&1&&le(0,null,14)}function EC(s,t){if(s&1&&(I(0,"li",60),S(1,DC,2,1,"ng-container",20)(2,OC,2,0,"ng-container",31),D()),s&2){let e=_().options,i=_(2);f("ngStyle",ae(4,Gr,e.itemSize+"px")),g(),f("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),g(),f("ngTemplateOutlet",i.emptyTemplate)}}function kC(s,t){if(s&1&&(I(0,"ul",55,12),S(2,xC,2,2,"ng-template",56)(3,IC,3,6,"li",57)(4,EC,3,6,"li",57),D()),s&2){let e=t.$implicit,i=t.options,n=_(2);f("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),k("id",n.id+"_list")("aria-label",n.listLabel),g(2),f("ngForOf",e),g(),f("ngIf",n.filterValue&&n.isEmpty()),g(),f("ngIf",!n.filterValue&&n.isEmpty())}}function MC(s,t){s&1&&le(0)}function FC(s,t){if(s&1){let e=Z();I(0,"div",42)(1,"span",43,6),W("focus",function(n){O(e);let r=_();return E(r.onFirstHiddenFocus(n))}),D(),S(3,iC,1,0,"ng-container",31)(4,hC,4,2,"div",44),I(5,"div",45),S(6,gC,4,10,"p-scroller",46)(7,vC,2,6,"ng-container",18)(8,kC,5,7,"ng-template",null,7,xt),D(),S(10,MC,1,0,"ng-container",31),I(11,"span",43,8),W("focus",function(n){O(e);let r=_();return E(r.onLastHiddenFocus(n))}),D()()}if(s&2){let e=_();z(e.panelStyleClass),f("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),g(),k("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),g(2),f("ngTemplateOutlet",e.headerTemplate),g(),f("ngIf",e.filter),g(),f("ngStyle",ae(16,Eb,e.virtualScroll?"auto":e.scrollHeight||"auto")),g(),f("ngIf",e.virtualScroll),g(),f("ngIf",!e.virtualScroll),g(3),f("ngTemplateOutlet",e.footerTemplate),g(),k("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var AC={provide:si,useExisting:Rt(()=>LC),multi:!0},VC=(()=>{class s{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new X;onMouseEnter=new X;ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=G({type:s,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",H],focused:[2,"focused","focused",H],label:"label",disabled:[2,"disabled","disabled",H],visible:[2,"visible","visible",H],itemSize:[2,"itemSize","itemSize",fe],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",H]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Ee],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,n){i&1&&(I(0,"li",0),W("click",function(o){return n.onOptionClick(o)})("mouseenter",function(o){return n.onOptionMouseEnter(o)}),S(1,_b,3,2,"ng-container",1)(2,vb,2,1,"span",1)(3,yb,1,0,"ng-container",2),D()),i&2&&(f("id",n.id)("ngStyle",ae(14,Gr,n.itemSize+"px"))("ngClass",ki(16,fb,n.selected,n.disabled,n.focused)),k("aria-label",n.label)("aria-setsize",n.ariaSetSize)("aria-posinset",n.ariaPosInset)("aria-selected",n.selected)("data-p-focused",n.focused)("data-p-highlight",n.selected)("data-p-disabled",n.disabled),g(),f("ngIf",n.checkmark),g(),f("ngIf",!n.template),g(),f("ngTemplateOutlet",n.template)("ngTemplateOutletContext",ae(20,uc,n.option)))},dependencies:()=>[Me,Be,qe,Ae,Yt,hc,Kt],encapsulation:2})}return s})(),LC=(()=>{class s{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){he.deepEquals(e,this._options())||this._options.set(e)}onChange=new X;onFilter=new X;onFocus=new X;onBlur=new X;onClick=new X;onShow=new X;onHide=new X;onClear=new X;onLazyLoad=new X;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=Wt(null);_placeholder=Wt(void 0);modelValue=Wt(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=Wt(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=Wt(-1);labelId;listId;clicked=Wt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(ht.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(ht.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(ht.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=on(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let n=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(r=>r.label?r.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:r.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let r=this.options||[],o=[];return r.forEach(l=>{let d=this.getOptionGroupChildren(l).filter(u=>n.includes(u));d.length>0&&o.push(At(Se({},l),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...d]}))}),this.flatOptions(o)}return n}return e});label=on(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),i=e.findIndex(n=>this.isOptionValueEqualsModelValue(n));return i!==-1?this.getOptionLabel(e[i]):this.placeholder()||"p-emptylabel"});filled=on(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=on(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,i,n,r,o,l){this.el=e,this.renderer=i,this.cd=n,this.zone=r,this.filterService=o,this.config=l,mu(()=>{let c=this.modelValue(),d=this.visibleOptions();if(d&&he.isNotEmpty(d)){let u=this.findSelectedOptionIndex();(u!==-1||c===void 0||typeof c=="string"&&c.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=d[u])}he.isEmpty(d)&&(c===void 0||this.isModelValueNotSet())&&he.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),c!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||Re(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&M.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((i,n,r)=>{i.push({optionGroup:n,group:!0,index:r});let o=this.getOptionGroupChildren(n);return o&&o.forEach(l=>i.push(l)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,i,n=!0,r=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),r===!1&&this.onChange.emit({originalEvent:e,value:o})}n&&this.hide(!0)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}updateModel(e,i){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return he.isEmpty(this.selectedOption)}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return he.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let e=this.el.nativeElement.parentElement,i=e?.classList.contains("p-float-label");if(e&&i&&!this.selectedOption){let n=e.querySelector("label");n&&this._placeholder.set(n.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?he.resolveFieldData(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?he.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?he.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?he.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?he.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let i=e.target.value;this.searchValue="",!this.searchOptions(e,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:i})},1),!this.overlayVisible&&he.isNotEmpty(i)&&this.show()}show(e){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),e&&M.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=M.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&M.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&setTimeout(()=>{M.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{M.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(e){e.preventDefault()}onKeyDown(e,i){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&he.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let n=this.visibleOptions()[i];this.onOptionSelect(e,n,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=M.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?he.findLastIndex(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}findLastOptionIndex(){return he.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,i=!1){if(e.altKey&&!i){if(this.focusedOptionIndex()!==-1){let n=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,n)}this.overlayVisible&&this.hide()}else{let n=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,i=!1){if(i){let n=e.currentTarget;e.shiftKey?n.setSelectionRange(0,n.value.length):(n.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,i=!1){if(i){let n=e.currentTarget;if(e.shiftKey)n.setSelectionRange(0,n.value.length);else{let r=n.value.length;n.setSelectionRange(r,r),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,i=!1){!this.editable&&!i&&this.onEnterKey(e)}onEnterKey(e,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let n=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,n)}!i&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())M.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let n=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,n)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;M.focus(i)}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;M.focus(i)}hasFocusableElements(){return M.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(e,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,r=!1;return this.focusedOptionIndex()!==-1?(n=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),n=n===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):n+this.focusedOptionIndex()):n=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),n!==-1&&(r=!0),n===-1&&this.focusedOptionIndex()===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let i=e.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?M.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():M.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(i){return new(i||s)(B(Oe),B(ct),B(Ke),B(et),B(Hu),B(nt))};static \u0275cmp=G({type:s,selectors:[["p-dropdown"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ve(bb,5),ve(Cb,5),ve(wb,5),ve(xb,5),ve(Tb,5),ve(Sb,5),ve(Ib,5),ve(Db,5),ve(Ob,5)),i&2){let r;ee(r=te())&&(n.containerViewChild=r.first),ee(r=te())&&(n.filterViewChild=r.first),ee(r=te())&&(n.focusInputViewChild=r.first),ee(r=te())&&(n.editableInputViewChild=r.first),ee(r=te())&&(n.itemsViewChild=r.first),ee(r=te())&&(n.scroller=r.first),ee(r=te())&&(n.overlayViewChild=r.first),ee(r=te())&&(n.firstHiddenFocusableElementOnOverlay=r.first),ee(r=te())&&(n.lastHiddenFocusableElementOnOverlay=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,n){i&2&&di("p-inputwrapper-filled",n.filled())("p-inputwrapper-focus",n.focused||n.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",H],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",H],required:[2,"required","required",H],editable:[2,"editable","editable",H],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",fe],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",H],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",H],checkmark:[2,"checkmark","checkmark",H],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",H],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",H],group:[2,"group","group",H],showClear:[2,"showClear","showClear",H],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",H],virtualScroll:[2,"virtualScroll","virtualScroll",H],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",fe],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",fe],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",H],selectOnFocus:[2,"selectOnFocus","selectOnFocus",H],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",H],autofocusFilter:[2,"autofocusFilter","autofocusFilter",H],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[qt([AC]),Ee],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,n){if(i&1){let r=Z();I(0,"div",15,0),W("click",function(l){return O(r),E(n.onContainerClick(l))}),S(2,Pb,6,20,"span",16)(3,Rb,2,8,"input",17)(4,Ub,3,2,"ng-container",18),I(5,"div",19),W("mousedown",function(l){return O(r),E(n.onMouseDown(l))}),S(6,qb,3,2,"ng-container",20)(7,tC,2,2,"ng-template",null,1,xt),D(),I(9,"p-overlay",21,2),cu("visibleChange",function(l){return O(r),lu(n.overlayVisible,l)||(n.overlayVisible=l),E(l)}),W("onAnimationStart",function(l){return O(r),E(n.onOverlayAnimationStart(l))})("onHide",function(){return O(r),E(n.hide())}),S(11,FC,13,18,"ng-template",22),D()()}if(i&2){let r,o=it(8);z(n.styleClass),f("ngClass",n.containerClass)("ngStyle",n.style),k("id",n.id),g(2),f("ngIf",!n.editable),g(),f("ngIf",n.editable),g(),f("ngIf",n.isVisibleClearIcon),g(),k("aria-expanded",(r=n.overlayVisible)!==null&&r!==void 0?r:!1)("data-pc-section","trigger"),g(),f("ngIf",n.loading)("ngIfElse",o),g(3),au("visible",n.overlayVisible),f("options",n.overlayOptions)("target","@parent")("appendTo",n.appendTo)("autoZIndex",n.autoZIndex)("baseZIndex",n.baseZIndex)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}},dependencies:()=>[Me,ni,Be,qe,Ae,oc,Ye,na,hp,wi,st,Gs,dc,VC],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return s})(),pc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,ac,De,sa,ri,cc,Wi,st,Gs,dc,hc,Kt,ac,De,cc]})}return s})();var PC=["*"],fp=s=>({class:s});function RC(s,t){s&1&&le(0)}function NC(s,t){if(s&1&&P(0,"span",8),s&2){let e=_(3);f("ngClass",e.iconClass()),k("aria-hidden",!0)("data-pc-section","loadingicon")}}function BC(s,t){if(s&1&&P(0,"SpinnerIcon",9),s&2){let e=_(3);f("styleClass",e.spinnerIconClass())("spin",!0),k("aria-hidden",!0)("data-pc-section","loadingicon")}}function jC(s,t){if(s&1&&(Q(0),S(1,NC,1,3,"span",6)(2,BC,1,4,"SpinnerIcon",7),J()),s&2){let e=_(2);g(),f("ngIf",e.loadingIcon),g(),f("ngIf",!e.loadingIcon)}}function HC(s,t){}function UC(s,t){if(s&1&&S(0,HC,0,0,"ng-template",10),s&2){let e=_(2);f("ngIf",e.loadingIconTemplate)}}function WC(s,t){if(s&1&&(Q(0),S(1,jC,3,2,"ng-container",2)(2,UC,1,1,null,5),J()),s&2){let e=_();g(),f("ngIf",!e.loadingIconTemplate),g(),f("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",ae(3,fp,e.iconClass()))}}function zC(s,t){if(s&1&&P(0,"span",8),s&2){let e=_(2);f("ngClass",e.iconClass()),k("data-pc-section","icon")}}function YC(s,t){}function GC(s,t){if(s&1&&S(0,YC,0,0,"ng-template",10),s&2){let e=_(2);f("ngIf",!e.icon&&e.iconTemplate)}}function XC(s,t){if(s&1&&(Q(0),S(1,zC,1,2,"span",6)(2,GC,1,1,null,5),J()),s&2){let e=_();g(),f("ngIf",e.icon&&!e.iconTemplate),g(),f("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",ae(3,fp,e.iconClass()))}}function qC(s,t){if(s&1&&(I(0,"span",11),ce(1),D()),s&2){let e=_();k("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),g(),ze(e.label)}}function KC(s,t){if(s&1&&(I(0,"span",8),ce(1),D()),s&2){let e=_();z(e.badgeClass),f("ngClass",e.badgeStyleClass()),k("data-pc-section","badge"),g(),ze(e.badge)}}var On={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},En=(()=>{class s{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(On);constructor(e,i){this.el=e,this.document=i}ngAfterViewInit(){M.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e=[On.button,On.component];return this.icon&&!this.label&&he.isEmpty(this.htmlElement.textContent)&&e.push(On.iconOnly),this.loading&&(e.push(On.disabled,On.loading),!this.icon&&this.label&&e.push(On.labelOnly),this.icon&&!this.label&&!he.isEmpty(this.htmlElement.textContent)&&e.push(On.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),e}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!M.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!M.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let n=this.label?"p-button-icon-"+this.iconPos:null;n&&M.addClass(i,n);let r=this.getIconClass();r&&M.addMultipleClasses(i,r),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let e=M.findSingle(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=M.findSingle(this.htmlElement,".p-button-icon"),i=M.findSingle(this.htmlElement,".p-button-label");e?this.iconPos?e.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||s)(B(Oe),B(ke))};static \u0275dir=Ot({type:s,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",H],rounded:[2,"rounded","rounded",H],text:[2,"text","text",H],outlined:[2,"outlined","outlined",H],size:"size",plain:[2,"plain","plain",H]},standalone:!0,features:[Ee]})}return s})(),fc=(()=>{class s{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new X;onFocus=new X;onBlur=new X;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[i])=>e+` ${i}`,"p-button-loading-icon")}iconClass(){let e={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||s)(B(Oe))};static \u0275cmp=G({type:s,selectors:[["p-button"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,n){i&2&&di("p-disabled",n.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",H],loading:[2,"loading","loading",H],loadingIcon:"loadingIcon",raised:[2,"raised","raised",H],rounded:[2,"rounded","rounded",H],text:[2,"text","text",H],plain:[2,"plain","plain",H],severity:"severity",outlined:[2,"outlined","outlined",H],link:[2,"link","link",H],tabindex:[2,"tabindex","tabindex",fe],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",H]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Ee,me],ngContentSelectors:PC,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,n){i&1&&(ut(),I(0,"button",0),W("click",function(o){return n.onClick.emit(o)})("focus",function(o){return n.onFocus.emit(o)})("blur",function(o){return n.onBlur.emit(o)}),tt(1),S(2,RC,1,0,"ng-container",1)(3,WC,3,5,"ng-container",2)(4,XC,3,5,"ng-container",2)(5,qC,2,3,"span",3)(6,KC,2,5,"span",4),D()),i&2&&(f("ngStyle",n.style)("disabled",n.disabled||n.loading)("ngClass",n.buttonClass)("autofocus",n.autofocus),k("type",n.type)("aria-label",n.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",n.tabindex),g(2),f("ngTemplateOutlet",n.contentTemplate),g(),f("ngIf",n.loading),g(),f("ngIf",!n.loading),g(),f("ngIf",!n.contentTemplate&&n.label),g(),f("ngIf",!n.contentTemplate&&n.badge))},dependencies:[Be,qe,Ae,Me,Yt,wi,Yr],encapsulation:2,changeDetection:0})}return s})(),Mi=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[fc,De]})}return s})();var Xs=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var qs=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["ChevronRightIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var mc=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["ChevronUpIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var gc=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["CalendarIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var $C=["container"],ZC=["inputfield"],QC=["contentWrapper"],JC=[[["p-header"]],[["p-footer"]]],ew=["p-header","p-footer"],tw=(s,t,e,i,n)=>({"p-calendar":!0,"p-input-icon-right":s,"p-calendar-w-btn":t,"p-calendar-timeonly":e,"p-calendar-disabled":i,"p-focus":n}),iw=s=>({clickCallBack:s}),nw=s=>({"p-datepicker-icon":s}),sw=(s,t,e,i,n,r)=>({"p-datepicker p-component":!0,"p-datepicker-inline":s,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":n,"p-datepicker-touch-ui":r}),mp=(s,t)=>({showTransitionParams:s,hideTransitionParams:t}),rw=s=>({value:"visibleTouchUI",params:s}),ow=s=>({value:"visible",params:s}),_c=s=>({$implicit:s}),aw=(s,t)=>({"p-datepicker-other-month":s,"p-datepicker-today":t}),lw=(s,t)=>({"p-highlight p-datepicker-current-day":s,"p-disabled":t}),_p=(s,t)=>({"p-highlight":s,"p-disabled":t}),gp=s=>[s];function cw(s,t){if(s&1){let e=Z();I(0,"TimesIcon",11),W("click",function(){O(e);let n=_(3);return E(n.clear())}),D()}s&2&&f("styleClass","p-calendar-clear-icon")}function hw(s,t){}function dw(s,t){s&1&&S(0,hw,0,0,"ng-template")}function uw(s,t){if(s&1){let e=Z();I(0,"span",12),W("click",function(){O(e);let n=_(3);return E(n.clear())}),S(1,dw,1,0,null,13),D()}if(s&2){let e=_(3);g(),f("ngTemplateOutlet",e.clearIconTemplate)}}function pw(s,t){if(s&1&&(Q(0),S(1,cw,1,1,"TimesIcon",9)(2,uw,2,1,"span",10),J()),s&2){let e=_(2);g(),f("ngIf",!e.clearIconTemplate),g(),f("ngIf",e.clearIconTemplate)}}function fw(s,t){if(s&1&&P(0,"span",16),s&2){let e=_(3);f("ngClass",e.icon)}}function mw(s,t){s&1&&P(0,"CalendarIcon")}function gw(s,t){}function _w(s,t){s&1&&S(0,gw,0,0,"ng-template")}function vw(s,t){if(s&1&&(Q(0),S(1,mw,1,0,"CalendarIcon",7)(2,_w,1,0,null,13),J()),s&2){let e=_(3);g(),f("ngIf",!e.triggerIconTemplate),g(),f("ngTemplateOutlet",e.triggerIconTemplate)}}function yw(s,t){if(s&1){let e=Z();I(0,"button",14),W("click",function(n){O(e),_();let r=it(1),o=_();return E(o.onButtonClick(n,r))}),S(1,fw,1,1,"span",15)(2,vw,3,2,"ng-container",7),D()}if(s&2){let e,i=_(2);f("disabled",i.disabled),k("aria-label",i.iconButtonAriaLabel)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.panelId:null),g(),f("ngIf",i.icon),g(),f("ngIf",!i.icon)}}function bw(s,t){if(s&1){let e=Z();I(0,"CalendarIcon",19),W("click",function(n){O(e);let r=_(3);return E(r.onButtonClick(n))}),D()}if(s&2){let e=_(3);f("ngClass",ae(1,nw,e.showOnFocus))}}function Cw(s,t){s&1&&le(0)}function ww(s,t){if(s&1&&(Q(0),S(1,bw,1,3,"CalendarIcon",17)(2,Cw,1,0,"ng-container",18),J()),s&2){let e=_(2);g(),f("ngIf",!e.inputIconTemplate),g(),f("ngTemplateOutlet",e.inputIconTemplate)("ngTemplateOutletContext",ae(3,iw,e.onButtonClick.bind(e)))}}function xw(s,t){if(s&1){let e=Z();I(0,"input",6,1),W("focus",function(n){O(e);let r=_();return E(r.onInputFocus(n))})("keydown",function(n){O(e);let r=_();return E(r.onInputKeydown(n))})("click",function(){O(e);let n=_();return E(n.onInputClick())})("blur",function(n){O(e);let r=_();return E(r.onInputBlur(n))})("input",function(n){O(e);let r=_();return E(r.onUserInput(n))}),D(),S(2,pw,3,2,"ng-container",7)(3,yw,3,6,"button",8)(4,ww,3,5,"ng-container",7)}if(s&2){let e,i=_();z(i.inputStyleClass),f("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass",i.inputClass)("autofocus",i.autofocus),k("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.panelId:null)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null),g(2),f("ngIf",i.showClear&&!i.disabled&&i.value!=null),g(),f("ngIf",i.showIcon&&i.iconDisplay==="button"),g(),f("ngIf",i.iconDisplay==="input"&&i.showIcon)}}function Tw(s,t){s&1&&le(0)}function Sw(s,t){s&1&&P(0,"ChevronLeftIcon",40),s&2&&f("styleClass","p-datepicker-prev-icon")}function Iw(s,t){}function Dw(s,t){s&1&&S(0,Iw,0,0,"ng-template")}function Ow(s,t){if(s&1&&(I(0,"span",41),S(1,Dw,1,0,null,13),D()),s&2){let e=_(5);g(),f("ngTemplateOutlet",e.previousIconTemplate)}}function Ew(s,t){if(s&1){let e=Z();I(0,"button",38),W("keydown",function(n){O(e);let r=_(4);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=_(4);return E(r.onPrevButtonClick(n))}),S(1,Sw,1,1,"ChevronLeftIcon",35)(2,Ow,2,1,"span",39),D()}if(s&2){let e=_(4);k("aria-label",e.prevIconAriaLabel),g(),f("ngIf",!e.previousIconTemplate),g(),f("ngIf",e.previousIconTemplate)}}function kw(s,t){if(s&1){let e=Z();I(0,"button",42),W("click",function(n){O(e);let r=_(4);return E(r.switchToMonthView(n))})("keydown",function(n){O(e);let r=_(4);return E(r.onContainerButtonKeydown(n))}),ce(1),D()}if(s&2){let e=_().$implicit,i=_(3);f("disabled",i.switchViewButtonDisabled()),k("aria-label",i.getTranslation("chooseMonth")),g(),Nt(" ",i.getMonthName(e.month)," ")}}function Mw(s,t){if(s&1){let e=Z();I(0,"button",43),W("click",function(n){O(e);let r=_(4);return E(r.switchToYearView(n))})("keydown",function(n){O(e);let r=_(4);return E(r.onContainerButtonKeydown(n))}),ce(1),D()}if(s&2){let e=_().$implicit,i=_(3);f("disabled",i.switchViewButtonDisabled()),k("aria-label",i.getTranslation("chooseYear")),g(),Nt(" ",i.getYear(e)," ")}}function Fw(s,t){if(s&1&&(Q(0),ce(1),J()),s&2){let e=_(5);g(),Ro("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function Aw(s,t){s&1&&le(0)}function Vw(s,t){if(s&1&&(I(0,"span",44),S(1,Fw,2,2,"ng-container",7)(2,Aw,1,0,"ng-container",18),D()),s&2){let e=_(4);g(),f("ngIf",!e.decadeTemplate),g(),f("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",ae(3,_c,e.yearPickerValues))}}function Lw(s,t){s&1&&P(0,"ChevronRightIcon",40),s&2&&f("styleClass","p-datepicker-next-icon")}function Pw(s,t){}function Rw(s,t){s&1&&S(0,Pw,0,0,"ng-template")}function Nw(s,t){if(s&1&&(I(0,"span",45),S(1,Rw,1,0,null,13),D()),s&2){let e=_(4);g(),f("ngTemplateOutlet",e.nextIconTemplate)}}function Bw(s,t){if(s&1&&(I(0,"th",51)(1,"span"),ce(2),D()()),s&2){let e=_(5);g(2),ze(e.getTranslation("weekHeader"))}}function jw(s,t){if(s&1&&(I(0,"th",52)(1,"span"),ce(2),D()()),s&2){let e=t.$implicit;g(2),ze(e)}}function Hw(s,t){if(s&1&&(I(0,"td",55)(1,"span",56),ce(2),D()()),s&2){let e=_().index,i=_(2).$implicit;g(2),Nt(" ",i.weekNumbers[e]," ")}}function Uw(s,t){if(s&1&&(Q(0),ce(1),J()),s&2){let e=_(2).$implicit;g(),ze(e.day)}}function Ww(s,t){s&1&&le(0)}function zw(s,t){if(s&1&&(Q(0),S(1,Ww,1,0,"ng-container",18),J()),s&2){let e=_(2).$implicit,i=_(6);g(),f("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",ae(2,_c,e))}}function Yw(s,t){s&1&&le(0)}function Gw(s,t){if(s&1&&(Q(0),S(1,Yw,1,0,"ng-container",18),J()),s&2){let e=_(2).$implicit,i=_(6);g(),f("ngTemplateOutlet",i.disabledDateTemplate)("ngTemplateOutletContext",ae(2,_c,e))}}function Xw(s,t){if(s&1&&(I(0,"div",59),ce(1),D()),s&2){let e=_(2).$implicit;g(),Nt(" ",e.day," ")}}function qw(s,t){if(s&1){let e=Z();Q(0),I(1,"span",57),W("click",function(n){O(e);let r=_().$implicit,o=_(6);return E(o.onDateSelect(n,r))})("keydown",function(n){O(e);let r=_().$implicit,o=_(3).index,l=_(3);return E(l.onDateCellKeydown(n,r,o))}),S(2,Uw,2,1,"ng-container",7)(3,zw,2,4,"ng-container",7)(4,Gw,2,4,"ng-container",7),D(),S(5,Xw,2,1,"div",58),J()}if(s&2){let e=_().$implicit,i=_(6);g(),f("ngClass",Fe(6,lw,i.isSelected(e)&&e.selectable,!e.selectable)),k("data-date",i.formatDateKey(i.formatDateMetaToDate(e))),g(),f("ngIf",!i.dateTemplate&&(e.selectable||!i.disabledDateTemplate)),g(),f("ngIf",e.selectable||!i.disabledDateTemplate),g(),f("ngIf",!e.selectable),g(),f("ngIf",i.isSelected(e))}}function Kw(s,t){if(s&1&&(I(0,"td",16),S(1,qw,6,9,"ng-container",7),D()),s&2){let e=t.$implicit,i=_(6);f("ngClass",Fe(3,aw,e.otherMonth,e.today)),k("aria-label",e.day),g(),f("ngIf",e.otherMonth?i.showOtherMonths:!0)}}function $w(s,t){if(s&1&&(I(0,"tr"),S(1,Hw,3,1,"td",53)(2,Kw,2,6,"td",54),D()),s&2){let e=t.$implicit,i=_(5);g(),f("ngIf",i.showWeek),g(),f("ngForOf",e)}}function Zw(s,t){if(s&1&&(I(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),S(4,Bw,3,1,"th",48)(5,jw,3,1,"th",49),D()(),I(6,"tbody"),S(7,$w,3,2,"tr",50),D()()()),s&2){let e=_().$implicit,i=_(3);g(4),f("ngIf",i.showWeek),g(),f("ngForOf",i.weekDays),g(2),f("ngForOf",e.dates)}}function Qw(s,t){if(s&1){let e=Z();I(0,"div",27)(1,"div",28),S(2,Ew,3,3,"button",29),I(3,"div",30),S(4,kw,2,3,"button",31)(5,Mw,2,3,"button",32)(6,Vw,3,5,"span",33),D(),I(7,"button",34),W("keydown",function(n){O(e);let r=_(3);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=_(3);return E(r.onNextButtonClick(n))}),S(8,Lw,1,1,"ChevronRightIcon",35)(9,Nw,2,1,"span",36),D()(),S(10,Zw,8,3,"div",37),D()}if(s&2){let e=t.index,i=_(3);g(2),f("ngIf",e===0),g(2),f("ngIf",i.currentView==="date"),g(),f("ngIf",i.currentView!=="year"),g(),f("ngIf",i.currentView==="year"),g(),xn("display",i.numberOfMonths===1||e===i.numberOfMonths-1?"inline-flex":"none"),k("aria-label",i.nextIconAriaLabel),g(),f("ngIf",!i.nextIconTemplate),g(),f("ngIf",i.nextIconTemplate),g(),f("ngIf",i.currentView==="date")}}function Jw(s,t){if(s&1&&(I(0,"div",59),ce(1),D()),s&2){let e=_().$implicit;g(),Nt(" ",e," ")}}function ex(s,t){if(s&1){let e=Z();I(0,"span",62),W("click",function(n){let r=O(e).index,o=_(4);return E(o.onMonthSelect(n,r))})("keydown",function(n){let r=O(e).index,o=_(4);return E(o.onMonthCellKeydown(n,r))}),ce(1),S(2,Jw,2,1,"div",58),D()}if(s&2){let e=t.$implicit,i=t.index,n=_(4);f("ngClass",Fe(3,_p,n.isMonthSelected(i),n.isMonthDisabled(i))),g(),Nt(" ",e," "),g(),f("ngIf",n.isMonthSelected(i))}}function tx(s,t){if(s&1&&(I(0,"div",60),S(1,ex,3,6,"span",61),D()),s&2){let e=_(3);g(),f("ngForOf",e.monthPickerValues())}}function ix(s,t){if(s&1&&(I(0,"div",59),ce(1),D()),s&2){let e=_().$implicit;g(),Nt(" ",e," ")}}function nx(s,t){if(s&1){let e=Z();I(0,"span",65),W("click",function(n){let r=O(e).$implicit,o=_(4);return E(o.onYearSelect(n,r))})("keydown",function(n){let r=O(e).$implicit,o=_(4);return E(o.onYearCellKeydown(n,r))}),ce(1),S(2,ix,2,1,"div",58),D()}if(s&2){let e=t.$implicit,i=_(4);f("ngClass",Fe(3,_p,i.isYearSelected(e),i.isYearDisabled(e))),g(),Nt(" ",e," "),g(),f("ngIf",i.isYearSelected(e))}}function sx(s,t){if(s&1&&(I(0,"div",63),S(1,nx,3,6,"span",64),D()),s&2){let e=_(3);g(),f("ngForOf",e.yearPickerValues())}}function rx(s,t){if(s&1&&(Q(0),I(1,"div",23),S(2,Qw,11,10,"div",24),D(),S(3,tx,2,1,"div",25)(4,sx,2,1,"div",26),J()),s&2){let e=_(2);g(2),f("ngForOf",e.months),g(),f("ngIf",e.currentView==="month"),g(),f("ngIf",e.currentView==="year")}}function ox(s,t){s&1&&P(0,"ChevronUpIcon")}function ax(s,t){}function lx(s,t){s&1&&S(0,ax,0,0,"ng-template")}function cx(s,t){s&1&&(Q(0),ce(1,"0"),J())}function hx(s,t){s&1&&P(0,"ChevronDownIcon")}function dx(s,t){}function ux(s,t){s&1&&S(0,dx,0,0,"ng-template")}function px(s,t){s&1&&P(0,"ChevronUpIcon")}function fx(s,t){}function mx(s,t){s&1&&S(0,fx,0,0,"ng-template")}function gx(s,t){s&1&&(Q(0),ce(1,"0"),J())}function _x(s,t){s&1&&P(0,"ChevronDownIcon")}function vx(s,t){}function yx(s,t){s&1&&S(0,vx,0,0,"ng-template")}function bx(s,t){if(s&1&&(I(0,"div",69)(1,"span"),ce(2),D()()),s&2){let e=_(3);g(2),ze(e.timeSeparator)}}function Cx(s,t){s&1&&P(0,"ChevronUpIcon")}function wx(s,t){}function xx(s,t){s&1&&S(0,wx,0,0,"ng-template")}function Tx(s,t){s&1&&(Q(0),ce(1,"0"),J())}function Sx(s,t){s&1&&P(0,"ChevronDownIcon")}function Ix(s,t){}function Dx(s,t){s&1&&S(0,Ix,0,0,"ng-template")}function Ox(s,t){if(s&1){let e=Z();I(0,"div",74)(1,"button",68),W("keydown",function(n){O(e);let r=_(3);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=_(3);return E(r.incrementSecond(n))})("keydown.space",function(n){O(e);let r=_(3);return E(r.incrementSecond(n))})("mousedown",function(n){O(e);let r=_(3);return E(r.onTimePickerElementMouseDown(n,2,1))})("mouseup",function(n){O(e);let r=_(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=_(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=_(3);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=_(3);return E(n.onTimePickerElementMouseLeave())}),S(2,Cx,1,0,"ChevronUpIcon",7)(3,xx,1,0,null,13),D(),I(4,"span"),S(5,Tx,2,0,"ng-container",7),ce(6),D(),I(7,"button",68),W("keydown",function(n){O(e);let r=_(3);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=_(3);return E(r.decrementSecond(n))})("keydown.space",function(n){O(e);let r=_(3);return E(r.decrementSecond(n))})("mousedown",function(n){O(e);let r=_(3);return E(r.onTimePickerElementMouseDown(n,2,-1))})("mouseup",function(n){O(e);let r=_(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=_(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=_(3);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=_(3);return E(n.onTimePickerElementMouseLeave())}),S(8,Sx,1,0,"ChevronDownIcon",7)(9,Dx,1,0,null,13),D()()}if(s&2){let e=_(3);g(),k("aria-label",e.getTranslation("nextSecond")),g(),f("ngIf",!e.incrementIconTemplate),g(),f("ngTemplateOutlet",e.incrementIconTemplate),g(2),f("ngIf",e.currentSecond<10),g(),ze(e.currentSecond),g(),k("aria-label",e.getTranslation("prevSecond")),g(),f("ngIf",!e.decrementIconTemplate),g(),f("ngTemplateOutlet",e.decrementIconTemplate)}}function Ex(s,t){s&1&&P(0,"ChevronUpIcon")}function kx(s,t){}function Mx(s,t){s&1&&S(0,kx,0,0,"ng-template")}function Fx(s,t){s&1&&P(0,"ChevronDownIcon")}function Ax(s,t){}function Vx(s,t){s&1&&S(0,Ax,0,0,"ng-template")}function Lx(s,t){if(s&1){let e=Z();I(0,"div",75)(1,"button",76),W("keydown",function(n){O(e);let r=_(3);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=_(3);return E(r.toggleAMPM(n))})("keydown.enter",function(n){O(e);let r=_(3);return E(r.toggleAMPM(n))}),S(2,Ex,1,0,"ChevronUpIcon",7)(3,Mx,1,0,null,13),D(),I(4,"span"),ce(5),D(),I(6,"button",76),W("keydown",function(n){O(e);let r=_(3);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=_(3);return E(r.toggleAMPM(n))})("keydown.enter",function(n){O(e);let r=_(3);return E(r.toggleAMPM(n))}),S(7,Fx,1,0,"ChevronDownIcon",7)(8,Vx,1,0,null,13),D()()}if(s&2){let e=_(3);g(),k("aria-label",e.getTranslation("am")),g(),f("ngIf",!e.incrementIconTemplate),g(),f("ngTemplateOutlet",e.incrementIconTemplate),g(2),ze(e.pm?"PM":"AM"),g(),k("aria-label",e.getTranslation("pm")),g(),f("ngIf",!e.decrementIconTemplate),g(),f("ngTemplateOutlet",e.decrementIconTemplate)}}function Px(s,t){if(s&1){let e=Z();I(0,"div",66)(1,"div",67)(2,"button",68),W("keydown",function(n){O(e);let r=_(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=_(2);return E(r.incrementHour(n))})("keydown.space",function(n){O(e);let r=_(2);return E(r.incrementHour(n))})("mousedown",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseDown(n,0,1))})("mouseup",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=_(2);return E(n.onTimePickerElementMouseLeave())}),S(3,ox,1,0,"ChevronUpIcon",7)(4,lx,1,0,null,13),D(),I(5,"span"),S(6,cx,2,0,"ng-container",7),ce(7),D(),I(8,"button",68),W("keydown",function(n){O(e);let r=_(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=_(2);return E(r.decrementHour(n))})("keydown.space",function(n){O(e);let r=_(2);return E(r.decrementHour(n))})("mousedown",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseDown(n,0,-1))})("mouseup",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=_(2);return E(n.onTimePickerElementMouseLeave())}),S(9,hx,1,0,"ChevronDownIcon",7)(10,ux,1,0,null,13),D()(),I(11,"div",69)(12,"span"),ce(13),D()(),I(14,"div",70)(15,"button",68),W("keydown",function(n){O(e);let r=_(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=_(2);return E(r.incrementMinute(n))})("keydown.space",function(n){O(e);let r=_(2);return E(r.incrementMinute(n))})("mousedown",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseDown(n,1,1))})("mouseup",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=_(2);return E(n.onTimePickerElementMouseLeave())}),S(16,px,1,0,"ChevronUpIcon",7)(17,mx,1,0,null,13),D(),I(18,"span"),S(19,gx,2,0,"ng-container",7),ce(20),D(),I(21,"button",68),W("keydown",function(n){O(e);let r=_(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=_(2);return E(r.decrementMinute(n))})("keydown.space",function(n){O(e);let r=_(2);return E(r.decrementMinute(n))})("mousedown",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseDown(n,1,-1))})("mouseup",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=_(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=_(2);return E(n.onTimePickerElementMouseLeave())}),S(22,_x,1,0,"ChevronDownIcon",7)(23,yx,1,0,null,13),D()(),S(24,bx,3,1,"div",71)(25,Ox,10,8,"div",72)(26,Lx,9,7,"div",73),D()}if(s&2){let e=_(2);g(2),k("aria-label",e.getTranslation("nextHour")),g(),f("ngIf",!e.incrementIconTemplate),g(),f("ngTemplateOutlet",e.incrementIconTemplate),g(2),f("ngIf",e.currentHour<10),g(),ze(e.currentHour),g(),k("aria-label",e.getTranslation("prevHour")),g(),f("ngIf",!e.decrementIconTemplate),g(),f("ngTemplateOutlet",e.decrementIconTemplate),g(3),ze(e.timeSeparator),g(2),k("aria-label",e.getTranslation("nextMinute")),g(),f("ngIf",!e.incrementIconTemplate),g(),f("ngTemplateOutlet",e.incrementIconTemplate),g(2),f("ngIf",e.currentMinute<10),g(),ze(e.currentMinute),g(),k("aria-label",e.getTranslation("prevMinute")),g(),f("ngIf",!e.decrementIconTemplate),g(),f("ngTemplateOutlet",e.decrementIconTemplate),g(),f("ngIf",e.showSeconds),g(),f("ngIf",e.showSeconds),g(),f("ngIf",e.hourFormat=="12")}}function Rx(s,t){if(s&1){let e=Z();I(0,"div",77)(1,"button",78),W("keydown",function(n){O(e);let r=_(2);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=_(2);return E(r.onTodayButtonClick(n))}),D(),I(2,"button",78),W("keydown",function(n){O(e);let r=_(2);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=_(2);return E(r.onClearButtonClick(n))}),D()()}if(s&2){let e=_(2);g(),f("label",e.getTranslation("today"))("ngClass",ae(4,gp,e.todayButtonStyleClass)),g(),f("label",e.getTranslation("clear"))("ngClass",ae(6,gp,e.clearButtonStyleClass))}}function Nx(s,t){s&1&&le(0)}function Bx(s,t){if(s&1){let e=Z();I(0,"div",20,2),W("@overlayAnimation.start",function(n){O(e);let r=_();return E(r.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){O(e);let r=_();return E(r.onOverlayAnimationDone(n))})("click",function(n){O(e);let r=_();return E(r.onOverlayClick(n))}),tt(2),S(3,Tw,1,0,"ng-container",13)(4,rx,5,3,"ng-container",7)(5,Px,27,20,"div",21)(6,Rx,3,8,"div",22),tt(7,1),S(8,Nx,1,0,"ng-container",13),D()}if(s&2){let e=_();z(e.panelStyleClass),f("ngStyle",e.panelStyle)("ngClass",hu(15,sw,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,e.view==="month",e.touchUI))("@overlayAnimation",e.touchUI?ae(25,rw,Fe(22,mp,e.showTransitionOptions,e.hideTransitionOptions)):ae(30,ow,Fe(27,mp,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),k("id",e.panelId)("aria-label",e.getTranslation("chooseDate"))("role",e.inline?null:"dialog")("aria-modal",e.inline?null:"true"),g(3),f("ngTemplateOutlet",e.headerTemplate),g(),f("ngIf",!e.timeOnly),g(),f("ngIf",(e.showTime||e.timeOnly)&&e.currentView==="date"),g(),f("ngIf",e.showButtonBar),g(2),f("ngTemplateOutlet",e.footerTemplate)}}var jx={provide:si,useExisting:Rt(()=>Hx),multi:!0},Hx=(()=>{class s{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(e){this._minDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){let i=e.split(":"),n=parseInt(i[0]),r=parseInt(i[1]);this.populateYearOptions(n,r)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){let i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new X;onBlur=new X;onClose=new X;onSelect=new X;onClear=new X;onInput=new X;onTodayClick=new X;onClearClick=new X;onMonthChange=new X;onYearChange=new X;onClickOutside=new X;onShow=new X;templates;containerViewChild;inputfieldViewChild;set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(e,i,n,r,o,l,c){this.document=e,this.el=i,this.renderer=n,this.cd=r,this.zone=o,this.config=l,this.overlayService=c,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=Re(),this.panelId=this.attributeSelector+"_panel";let e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"inputicon":this.inputIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"triggericon":this.triggerIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"decrementicon":this.decrementIconTemplate=e.template;break;case"incrementicon":this.incrementIconTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=M.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let n=e;n<=i;n++)this.yearOptions.push(n)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(ht.DAY_NAMES_MIN);for(let n=0;n<7;n++)this.weekDays.push(i[e]),e=e==6?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%this.stepYearPicker;for(let n=0;n<this.stepYearPicker;n++)e.push(i+n);return e}createMonths(e,i){this.months=this.months=[];for(let n=0;n<this.numberOfMonths;n++){let r=e+n,o=i;r>11&&(r=r%11-1,o=i+1),this.months.push(this.createMonth(r,o))}}getWeekNumber(e){let i=new Date(e.getTime());if(this.startWeekFromFirstDayOfYear){let r=+this.getFirstDateOfWeek();i.setDate(i.getDate()+6+r-i.getDay())}else i.setDate(i.getDate()+4-(i.getDay()||7));let n=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((n-i.getTime())/864e5)/7)+1}createMonth(e,i){let n=[],r=this.getFirstDayOfMonthIndex(e,i),o=this.getDaysCountInMonth(e,i),l=this.getDaysCountInPrevMonth(e,i),c=1,d=new Date,u=[],v=Math.ceil((o+r)/7);for(let y=0;y<v;y++){let C=[];if(y==0){for(let T=l-r+1;T<=l;T++){let x=this.getPreviousMonthAndYear(e,i);C.push({day:T,month:x.month,year:x.year,otherMonth:!0,today:this.isToday(d,T,x.month,x.year),selectable:this.isSelectable(T,x.month,x.year,!0)})}let w=7-C.length;for(let T=0;T<w;T++)C.push({day:c,month:e,year:i,today:this.isToday(d,c,e,i),selectable:this.isSelectable(c,e,i,!1)}),c++}else for(let w=0;w<7;w++){if(c>o){let T=this.getNextMonthAndYear(e,i);C.push({day:c-o,month:T.month,year:T.year,otherMonth:!0,today:this.isToday(d,c-o,T.month,T.year),selectable:this.isSelectable(c-o,T.month,T.year,!0)})}else C.push({day:c,month:e,year:i,today:this.isToday(d,c,e,i),selectable:this.isSelectable(c,e,i,!1)});c++}this.showWeek&&u.push(this.getWeekNumber(new Date(C[0].year,C[0].month,C[0].day))),n.push(C)}return{month:e,year:i,dates:n,weekNumbers:u}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear<e[0]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]-i,e[e.length-1]-i)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear>e[e.length-1]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]+i,e[e.length-1]+i)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){if(this.disabled||!i.selectable){e.preventDefault();return}this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((n,r)=>!this.isDateEquals(n,i)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()}shouldSelectDate(e){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(e,i){this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){this.view==="year"?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value){if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++){let n=this.formatDateTime(this.value[i]);e+=n,i!==this.value.length-1&&(e+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[0],n=this.value[1];e=this.formatDateTime(i),n&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(n))}}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null,n=this.isValidDateForTimeConstraints(e);return this.isValidDate(e)?this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e))):this.dataType==="string"&&(i=e),i=n?i:"",i}formatDateMetaToDate(e){return new Date(e.year,e.month,e.day)}formatDateKey(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}setCurrentHourPM(e){this.hourFormat=="12"?(this.pm=e>11,e>=12?this.currentHour=e==12?12:e-12:this.currentHour=e==0?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=this.formatDateMetaToDate(e);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let n=this.value[0],r=this.value[1];!r&&i.getTime()>=n.getTime()?r=i:(n=i,r=null),this.updateModel([n,r])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(n=>this.formatDateTime(n))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let n=new Date;n.setDate(1),n.setMonth(e),n.setFullYear(i);let r=n.getDay()+this.getSundayIndex();return r>=7?r-7:r}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let n=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(n.month,n.year)}getPreviousMonthAndYear(e,i){let n,r;return e===0?(n=11,r=i-1):(n=e-1,r=i),{month:n,year:r}}getNextMonthAndYear(e,i){let n,r;return e===11?(n=0,r=i+1):(n=e+1,r=i),{month:n,year:r}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let n of this.value)if(i=this.isDateEquals(n,e),i)break;return i}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){let[i,n]=this.isRangeSelection()?this.value:[this.value,this.value],r=new Date(this.currentYear,e,1);return r>=i&&r<=(n??i)}return!1}isMonthDisabled(e,i){let n=i??this.currentYear;for(let r=1;r<this.getDaysCountInMonth(e,n)+1;r++)if(this.isSelectable(r,e,n,!1))return!1;return!0}isYearDisabled(e){return Array(12).fill(0).every((i,n)=>this.isMonthDisabled(n,e))}isYearSelected(e){if(!this.isComparable()||this.isMultipleSelection())return!1;let i=this.isRangeSelection()?this.value[0]:this.value;return i?i.getFullYear()===e:!1}isDateEquals(e,i){return e&&he.isDate(e)?e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year:!1}isDateBetween(e,i,n){let r=!1;if(he.isDate(e)&&he.isDate(i)){let o=this.formatDateMetaToDate(n);return e.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return r}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(e,i,n,r){return e.getDate()===i&&e.getMonth()===n&&e.getFullYear()===r}isSelectable(e,i,n,r){let o=!0,l=!0,c=!0,d=!0;return r&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>n||this.minDate.getFullYear()===n&&this.currentView!="year"&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<n||this.maxDate.getFullYear()===n&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(l=!1),this.disabledDates&&(c=!this.isDateDisabled(e,i,n)),this.disabledDays&&(d=!this.isDayDisabled(e,i,n)),o&&l&&c&&d)}isDateDisabled(e,i,n){if(this.disabledDates){for(let r of this.disabledDates)if(r.getFullYear()===n&&r.getMonth()===i&&r.getDate()===e)return!0}return!1}isDayDisabled(e,i,n){if(this.disabledDays){let o=new Date(n,i,e).getDay();return this.disabledDays.indexOf(o)!==-1}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return this.currentView==="month"?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){let i=M.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),n=e.target;if(this.timeOnly)return;n==i.children[i?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;default:break}}onInputKeydown(e){this.isKeydown=!0,e.keyCode===40&&this.contentViewChild?this.trapFocus(e):e.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):e.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):e.keyCode===9&&this.contentViewChild&&(M.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,n){let r=e.currentTarget,o=r.parentElement,l=this.formatDateMetaToDate(i);switch(e.which){case 40:{r.tabIndex="-1";let w=M.index(o),T=o.parentElement.nextElementSibling;if(T){let x=T.children[w].children[0];M.hasClass(x,"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(T.children[w].children[0].tabIndex="0",T.children[w].children[0].focus())}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case 38:{r.tabIndex="-1";let w=M.index(o),T=o.parentElement.previousElementSibling;if(T){let x=T.children[w].children[0];M.hasClass(x,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(x.tabIndex="0",x.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{r.tabIndex="-1";let w=o.previousElementSibling;if(w){let T=w.children[0];M.hasClass(T,"p-disabled")||M.hasClass(T.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,n):(T.tabIndex="0",T.focus())}else this.navigateToMonth(!0,n);e.preventDefault();break}case 39:{r.tabIndex="-1";let w=o.nextElementSibling;if(w){let T=w.children[0];M.hasClass(T,"p-disabled")?this.navigateToMonth(!1,n):(T.tabIndex="0",T.focus())}else this.navigateToMonth(!1,n);e.preventDefault();break}case 13:case 32:{this.onDateSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}case 33:{r.tabIndex="-1";let w=new Date(l.getFullYear(),l.getMonth()-1,l.getDate()),T=this.formatDateKey(w);this.navigateToMonth(!0,n,`span[data-date='${T}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 34:{r.tabIndex="-1";let w=new Date(l.getFullYear(),l.getMonth()+1,l.getDate()),T=this.formatDateKey(w);this.navigateToMonth(!1,n,`span[data-date='${T}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 36:r.tabIndex="-1";let c=new Date(l.getFullYear(),l.getMonth(),1),d=this.formatDateKey(c),u=M.findSingle(r.offsetParent,`span[data-date='${d}']:not(.p-disabled):not(.p-ink)`);u&&(u.tabIndex="0",u.focus()),e.preventDefault();break;case 35:r.tabIndex="-1";let v=new Date(l.getFullYear(),l.getMonth()+1,0),y=this.formatDateKey(v),C=M.findSingle(r.offsetParent,`span[data-date='${y}']:not(.p-disabled):not(.p-ink)`);v&&(C.tabIndex="0",C.focus()),e.preventDefault();break;default:break}}onMonthCellKeydown(e,i){let n=e.currentTarget;switch(e.which){case 38:case 40:{n.tabIndex="-1";var r=n.parentElement.children,o=M.index(n);let l=r[e.which===40?o+3:o-3];l&&(l.tabIndex="0",l.focus()),e.preventDefault();break}case 37:{n.tabIndex="-1";let l=n.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{n.tabIndex="-1";let l=n.nextElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onMonthSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}default:break}}onYearCellKeydown(e,i){let n=e.currentTarget;switch(e.which){case 38:case 40:{n.tabIndex="-1";var r=n.parentElement.children,o=M.index(n);let l=r[e.which===40?o+2:o-2];l&&(l.tabIndex="0",l.focus()),e.preventDefault();break}case 37:{n.tabIndex="-1";let l=n.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{n.tabIndex="-1";let l=n.nextElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onYearSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.trapFocus(e);break}default:break}}navigateToMonth(e,i,n){if(e)if(this.numberOfMonths===1||i===0)this.navigationState={backward:!0},this._focusKey=n,this.navBackward(event);else{let r=this.contentViewChild.nativeElement.children[i-1];if(n){let o=M.findSingle(r,n);o.tabIndex="0",o.focus()}else{let o=M.find(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),l=o[o.length-1];l.tabIndex="0",l.focus()}}else if(this.numberOfMonths===1||i===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=n,this.navForward(event);else{let r=this.contentViewChild.nativeElement.children[i+1];if(n){let o=M.findSingle(r,n);o.tabIndex="0",o.focus()}else{let o=M.findSingle(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?M.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():M.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;this.currentView==="month"?i=M.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=M.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=M.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else this.currentView==="month"?e=M.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?e=M.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):e=M.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let e=this.contentViewChild?.nativeElement,i;if(this.currentView==="month"){let n=M.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=M.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");n.forEach(o=>o.tabIndex=-1),i=r||n[0],n.length===0&&M.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(l=>l.tabIndex=-1)}else if(this.currentView==="year"){let n=M.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=M.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");n.forEach(o=>o.tabIndex=-1),i=r||n[0],n.length===0&&M.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(l=>l.tabIndex=-1)}else if(i=M.findSingle(e,"span.p-highlight"),!i){let n=M.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");n?i=n:i=M.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=M.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(!i[0].ownerDocument.activeElement)i[0].focus();else{let n=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(n==-1||n===0)if(this.focusTrap)i[i.length-1].focus();else{if(n===-1)return this.hideOverlay();if(n===0)return}else i[n-1].focus();else if(n==-1)if(this.timeOnly)i[0].focus();else{let r=0;for(let o=0;o<i.length;o++)i[o].tagName==="SPAN"&&(r=o);i[r].focus()}else if(n===i.length-1){if(!this.focusTrap&&n!=-1)return this.hideOverlay();i[0].focus()}else i[n+1].focus()}e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(e,i){return this.hourFormat=="12"?e===12?i?12:0:i?e+12:e:e}constrainTime(e,i,n,r){let o=[e,i,n],l,c=this.value,d=this.convertTo24Hour(e,r),u=this.isRangeSelection(),v=this.isMultipleSelection();(u||v)&&(this.value||(this.value=[new Date,new Date]),u&&(c=this.value[1]||this.value[0]),v&&(c=this.value[this.value.length-1]));let C=c?c.toDateString():null,w=this.minDate&&C&&this.minDate.toDateString()===C,T=this.maxDate&&C&&this.maxDate.toDateString()===C;switch(w&&(l=this.minDate.getHours()>=12),!0){case(w&&l&&this.minDate.getHours()===12&&this.minDate.getHours()>d):o[0]=11;case(w&&this.minDate.getHours()===d&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===d&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(w&&!l&&this.minDate.getHours()-1===d&&this.minDate.getHours()>d):o[0]=11,this.pm=!0;case(w&&this.minDate.getHours()===d&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===d&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(w&&l&&this.minDate.getHours()>d&&d!==12):this.setCurrentHourPM(this.minDate.getHours()),o[0]=this.currentHour;case(w&&this.minDate.getHours()===d&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===d&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(w&&this.minDate.getHours()>d):o[0]=this.minDate.getHours();case(w&&this.minDate.getHours()===d&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===d&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(T&&this.maxDate.getHours()<d):o[0]=this.maxDate.getHours();case(T&&this.maxDate.getHours()===d&&this.maxDate.getMinutes()<i):o[1]=this.maxDate.getMinutes();case(T&&this.maxDate.getHours()===d&&this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<n):o[2]=this.maxDate.getSeconds();break}return o}incrementHour(e){let i=this.currentHour??0,n=(this.currentHour??0)+this.stepHour,r=this.pm;this.hourFormat=="24"?n=n>=24?n-24:n:this.hourFormat=="12"&&(i<12&&n>11&&(r=!this.pm),n=n>=13?n-12:n),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(n,this.currentMinute,this.currentSecond,r),e.preventDefault()}toggleAMPMIfNotMinDate(e){let i=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(i)&&i.length>0&&(i=i[i.length-1]);let n=i?i.toDateString():null;this.minDate&&n&&this.minDate.toDateString()===n&&this.minDate.getHours()>=12?this.pm=!0:this.pm=e}onTimePickerElementMouseDown(e,i,n){this.disabled||(this.repeat(e,null,i,n),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,n,r){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,n,r),this.cd.markForCheck()},o),n){case 0:r===1?this.incrementHour(e):this.decrementHour(e);break;case 1:r===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:r===1?this.incrementSecond(e):this.decrementSecond(e);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=(this.currentHour??0)-this.stepHour,n=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(n=!this.pm),i=i<=0?12+i:i),this.toggleAMPMIfNotMinDate(n),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(i,this.currentMinute,this.currentSecond,n),e.preventDefault()}incrementMinute(e){let i=(this.currentMinute??0)+this.stepMinute;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),e.preventDefault()}decrementMinute(e){let i=(this.currentMinute??0)-this.stepMinute;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?e.setHours(this.pm?12:0):e.setHours(this.pm?this.currentHour+12:this.currentHour):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?e=[this.value[0],e]:e=[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){let i=!this.pm;this.pm=i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,i),this.updateTime(),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let n=this.parseValueFromString(i);this.isValidSelection(n)?(this.updateModel(n),this.updateUI()):this.keepInvalid&&this.updateModel(n)}catch{let r=this.keepInvalid?i:null;this.updateModel(r)}this.filled=i!=null&&i.length,this.onInput.emit(e)}isValidSelection(e){if(this.isSingleSelection())return this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1);let i=e.every(n=>this.isSelectable(n.getDate(),n.getMonth(),n.getFullYear(),!1));return i&&this.isRangeSelection()&&(i=e.length===1||e.length>1&&e[1]>=e[0]),i}parseValueFromString(e){if(!e||e.trim().length===0)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let n=e.split(this.multipleSeparator);i=[];for(let r of n)i.push(this.parseDateTime(r.trim()))}else if(this.isRangeSelection()){let n=e.split(" "+this.rangeSeparator+" ");i=[];for(let r=0;r<n.length;r++)i[r]=this.parseDateTime(n[r].trim())}return i}parseDateTime(e){let i,n=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,n[0],n[1]);else{let r=this.getDateFormat();if(this.showTime){let o=this.hourFormat=="12"?n.pop():null,l=n.pop();i=this.parseDate(n.join(" "),r),this.populateTime(i,l,o)}else i=this.parseDate(e,r)}return i}populateTime(e,i,n){if(this.hourFormat=="12"&&!n)throw"Invalid Time";this.pm=n==="PM"||n==="pm";let r=this.parseTime(i);e.setHours(r.hour),e.setMinutes(r.minute),e.setSeconds(r.second)}isValidDate(e){return he.isDate(e)&&he.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[1]||e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?ft.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):ft.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e);break}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&ft.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):M.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=M.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=M.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=M.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),M.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):M.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),M.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",n=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),M.blockBodyScroll())}disableModality(){this.mask&&(M.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let e=this.document.body.children,i;for(let n=0;n<e.length;n++){let r=e[n];if(M.hasClass(r,"p-datepicker-mask-scrollblocker")){i=!0;break}}i||M.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(ht.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let n,r=u=>{let v=n+1<i.length&&i.charAt(n+1)===u;return v&&n++,v},o=(u,v,y)=>{let C=""+v;if(r(u))for(;C.length<y;)C="0"+C;return C},l=(u,v,y,C)=>r(u)?C[v]:y[v],c="",d=!1;if(e)for(n=0;n<i.length;n++)if(d)i.charAt(n)==="'"&&!r("'")?d=!1:c+=i.charAt(n);else switch(i.charAt(n)){case"d":c+=o("d",e.getDate(),2);break;case"D":c+=l("D",e.getDay(),this.getTranslation(ht.DAY_NAMES_SHORT),this.getTranslation(ht.DAY_NAMES));break;case"o":c+=o("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=o("m",e.getMonth()+1,2);break;case"M":c+=l("M",e.getMonth(),this.getTranslation(ht.MONTH_NAMES_SHORT),this.getTranslation(ht.MONTH_NAMES));break;case"y":c+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=e.getTime()*1e4+this.ticksTo1970;break;case"'":r("'")?c+="'":d=!0;break;default:c+=i.charAt(n)}return c}formatTime(e){if(!e)return"";let i="",n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return this.hourFormat=="12"&&n>11&&n!=12&&(n-=12),this.hourFormat=="12"?i+=n===0?12:n<10?"0"+n:n:i+=n<10?"0"+n:n,i+=":",i+=r<10?"0"+r:r,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),this.hourFormat=="12"&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":"),n=this.showSeconds?3:2;if(i.length!==n)throw"Invalid time";let r=parseInt(i[0]),o=parseInt(i[1]),l=this.showSeconds?parseInt(i[2]):null;if(isNaN(r)||isNaN(o)||r>23||o>59||this.hourFormat=="12"&&r>12||this.showSeconds&&(isNaN(l)||l>59))throw"Invalid time";return this.hourFormat=="12"&&(r!==12&&this.pm?r+=12:!this.pm&&r===12&&(r-=12)),{hour:r,minute:o,second:l}}parseDate(e,i){if(i==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e.toString():e+"",e==="")return null;let n,r,o,l=0,c=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),d=-1,u=-1,v=-1,y=-1,C=!1,w,T=U=>{let q=n+1<i.length&&i.charAt(n+1)===U;return q&&n++,q},x=U=>{let q=T(U),K=U==="@"?14:U==="!"?20:U==="y"&&q?4:U==="o"?3:2,ie=U==="y"?K:1,_e=new RegExp("^\\d{"+ie+","+K+"}"),$=e.substring(l).match(_e);if(!$)throw"Missing number at position "+l;return l+=$[0].length,parseInt($[0],10)},L=(U,q,K)=>{let ie=-1,_e=T(U)?K:q,$=[];for(let Te=0;Te<_e.length;Te++)$.push([Te,_e[Te]]);$.sort((Te,He)=>-(Te[1].length-He[1].length));for(let Te=0;Te<$.length;Te++){let He=$[Te][1];if(e.substr(l,He.length).toLowerCase()===He.toLowerCase()){ie=$[Te][0],l+=He.length;break}}if(ie!==-1)return ie+1;throw"Unknown name at position "+l},R=()=>{if(e.charAt(l)!==i.charAt(n))throw"Unexpected literal at position "+l;l++};for(this.view==="month"&&(v=1),n=0;n<i.length;n++)if(C)i.charAt(n)==="'"&&!T("'")?C=!1:R();else switch(i.charAt(n)){case"d":v=x("d");break;case"D":L("D",this.getTranslation(ht.DAY_NAMES_SHORT),this.getTranslation(ht.DAY_NAMES));break;case"o":y=x("o");break;case"m":u=x("m");break;case"M":u=L("M",this.getTranslation(ht.MONTH_NAMES_SHORT),this.getTranslation(ht.MONTH_NAMES));break;case"y":d=x("y");break;case"@":w=new Date(x("@")),d=w.getFullYear(),u=w.getMonth()+1,v=w.getDate();break;case"!":w=new Date((x("!")-this.ticksTo1970)/1e4),d=w.getFullYear(),u=w.getMonth()+1,v=w.getDate();break;case"'":T("'")?R():C=!0;break;default:R()}if(l<e.length&&(o=e.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(d===-1?d=new Date().getFullYear():d<100&&(d+=new Date().getFullYear()-new Date().getFullYear()%100+(d<=c?0:-100)),y>-1){u=1,v=y;do{if(r=this.getDaysCountInMonth(d,u-1),v<=r)break;u++,v-=r}while(!0)}if(this.view==="year"&&(u=u===-1?1:u,v=v===-1?1:v),w=this.daylightSavingAdjust(new Date(d,u-1,v)),w.getFullYear()!==d||w.getMonth()+1!==u||w.getDate()!==v)throw"Invalid date";return w}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(e){return this.keepInvalid?!0:(!this.minDate||e>=this.minDate)&&(!this.maxDate||e<=this.maxDate)}onTodayButtonClick(e){let i=new Date,n={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(e,n),this.onTodayClick.emit(i)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",M.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(n=>!!(n.breakpoint&&n.numMonths)).sort((n,r)=>-1*n.breakpoint.localeCompare(r.breakpoint,void 0,{numeric:!0}));for(let n=0;n<i.length;n++){let{breakpoint:r,numMonths:o}=i[n],l=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let c=o;c<this.numberOfMonths;c++)l+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c+1}) {
                                display: none !important;
                            }
                        `;e+=`
                        @media screen and (max-width: ${r}) {
                            ${l}
                        }
                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Dn(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return M.hasClass(e.target,"p-datepicker-prev")||M.hasClass(e.target,"p-datepicker-prev-icon")||M.hasClass(e.target,"p-datepicker-next")||M.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!M.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&ft.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||s)(B(ke),B(Oe),B(ct),B(Ke),B(et),B(nt),B($o))};static \u0275cmp=G({type:s,selectors:[["p-calendar"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ve($C,5),ve(ZC,5),ve(QC,5)),i&2){let r;ee(r=te())&&(n.containerViewChild=r.first),ee(r=te())&&(n.inputfieldViewChild=r.first),ee(r=te())&&(n.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,n){i&2&&di("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focus)("p-calendar-clearable",n.showClear&&!n.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",H],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",H],showOtherMonths:[2,"showOtherMonths","showOtherMonths",H],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",H],showIcon:[2,"showIcon","showIcon",H],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",H],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",H],yearNavigator:[2,"yearNavigator","yearNavigator",H],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",H],stepYearPicker:[2,"stepYearPicker","stepYearPicker",fe],stepHour:[2,"stepHour","stepHour",fe],stepMinute:[2,"stepMinute","stepMinute",fe],stepSecond:[2,"stepSecond","stepSecond",fe],showSeconds:[2,"showSeconds","showSeconds",H],required:[2,"required","required",H],showOnFocus:[2,"showOnFocus","showOnFocus",H],showWeek:[2,"showWeek","showWeek",H],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",H],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",fe],showButtonBar:[2,"showButtonBar","showButtonBar",H],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",H],autoZIndex:[2,"autoZIndex","autoZIndex",H],baseZIndex:[2,"baseZIndex","baseZIndex",fe],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",H],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",H],touchUI:[2,"touchUI","touchUI",H],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",H],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",fe],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[qt([jx]),Ee],ngContentSelectors:ew,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(i,n){i&1&&(ut(JC),I(0,"span",3,0),S(2,xw,5,22,"ng-template",4)(3,Bx,9,32,"div",5),D()),i&2&&(z(n.styleClass),f("ngClass",No(6,tw,n.showIcon&&n.iconDisplay==="input",n.showIcon&&n.iconDisplay==="button",n.timeOnly,n.disabled,n.focus||n.overlayVisible))("ngStyle",n.style),g(2),f("ngIf",!n.inline),g(),f("ngIf",n.inline||n.overlayVisible))},dependencies:()=>[Me,ni,Be,qe,Ae,En,Yt,Xs,qs,mc,Gs,st,gc,wi],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[ui("overlayAnimation",[Uo("visibleTouchUI",pt({transform:"translate(-50%,-50%)",opacity:1})),Tt("void => visible",[pt({opacity:0,transform:"scaleY(0.8)"}),Et("{{showTransitionParams}}",pt({opacity:1,transform:"*"}))]),Tt("visible => void",[Et("{{hideTransitionParams}}",pt({opacity:0}))]),Tt("void => visibleTouchUI",[pt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Et("{{showTransitionParams}}")]),Tt("visibleTouchUI => void",[Et("{{hideTransitionParams}}",pt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return s})(),vc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,Mi,De,ri,Xs,qs,mc,Gs,st,gc,Wi,Mi,De]})}return s})();var vp=["*"];function Ux(s,t){s&1&&le(0)}function Wx(s,t){if(s&1&&(Q(0),S(1,Ux,1,0,"ng-container",3),J()),s&2){let e=_(2);g(),f("ngTemplateOutlet",e.contentTemplate)}}function zx(s,t){if(s&1&&(I(0,"div",1),tt(1),S(2,Wx,2,1,"ng-container",2),D()),s&2){let e=_();f("hidden",!e.selected),k("id",e.tabView.getTabContentId(e.id))("aria-hidden",!e.selected)("aria-labelledby",e.tabView.getTabHeaderActionId(e.id))("data-pc-name","tabpanel"),g(2),f("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}var Yx=["content"],Gx=["navbar"],Xx=["prevBtn"],qx=["nextBtn"],Kx=["inkbar"],$x=["elementToObserve"],Zx=s=>({"p-tabview p-component":!0,"p-tabview-scrollable":s}),Qx=(s,t)=>({"p-highlight":s,"p-disabled":t});function Jx(s,t){s&1&&P(0,"ChevronLeftIcon"),s&2&&k("aria-hidden",!0)}function e2(s,t){}function t2(s,t){s&1&&S(0,e2,0,0,"ng-template")}function i2(s,t){if(s&1){let e=Z();I(0,"button",15,4),W("click",function(){O(e);let n=_();return E(n.navBackward())}),S(2,Jx,1,1,"ChevronLeftIcon",16)(3,t2,1,0,null,17),D()}if(s&2){let e=_();k("tabindex",e.tabindex)("aria-label",e.prevButtonAriaLabel),g(2),f("ngIf",!e.previousIconTemplate),g(),f("ngTemplateOutlet",e.previousIconTemplate)}}function n2(s,t){if(s&1&&P(0,"span",26),s&2){let e=_(3).$implicit;f("ngClass",e.leftIcon)}}function s2(s,t){}function r2(s,t){s&1&&S(0,s2,0,0,"ng-template")}function o2(s,t){if(s&1&&(I(0,"span",27),S(1,r2,1,0,null,17),D()),s&2){let e=_(3).$implicit;g(),f("ngTemplateOutlet",e.leftIconTemplate)}}function a2(s,t){if(s&1&&P(0,"span",28),s&2){let e=_(3).$implicit;f("ngClass",e.rightIcon)}}function l2(s,t){}function c2(s,t){s&1&&S(0,l2,0,0,"ng-template")}function h2(s,t){if(s&1&&(I(0,"span",29),S(1,c2,1,0,null,17),D()),s&2){let e=_(3).$implicit;g(),f("ngTemplateOutlet",e.rightIconTemplate)}}function d2(s,t){if(s&1&&(Q(0),S(1,n2,1,1,"span",21)(2,o2,2,1,"span",22),I(3,"span",23),ce(4),D(),S(5,a2,1,1,"span",24)(6,h2,2,1,"span",25),J()),s&2){let e=_(2).$implicit;g(),f("ngIf",e.leftIcon&&!e.leftIconTemplate),g(),f("ngIf",e.leftIconTemplate),g(2),ze(e.header),g(),f("ngIf",e.rightIcon&&!e.rightIconTemplate),g(),f("ngIf",e.rightIconTemplate)}}function u2(s,t){s&1&&le(0)}function p2(s,t){if(s&1){let e=Z();I(0,"TimesIcon",32),W("click",function(n){O(e);let r=_(3).$implicit,o=_();return E(o.close(n,r))}),D()}s&2&&f("styleClass","p-tabview-close")}function f2(s,t){s&1&&P(0,"span",33)}function m2(s,t){}function g2(s,t){s&1&&S(0,m2,0,0,"ng-template")}function _2(s,t){if(s&1&&(Q(0),S(1,p2,1,1,"TimesIcon",30)(2,f2,1,0,"span",31)(3,g2,1,0,null,17),J()),s&2){let e=_(2).$implicit;g(),f("ngIf",!e.closeIconTemplate),g(),f("ngIf",e.closeIconTemplate),g(),f("ngTemplateOutlet",e.closeIconTemplate)}}function v2(s,t){if(s&1){let e=Z();I(0,"li",19)(1,"a",20),W("click",function(n){O(e);let r=_().$implicit,o=_();return E(o.open(n,r))})("keydown",function(n){O(e);let r=_().$implicit,o=_();return E(o.onTabKeyDown(n,r))}),S(2,d2,7,5,"ng-container",16)(3,u2,1,0,"ng-container",17)(4,_2,4,3,"ng-container",16),D()()}if(s&2){let e=_(),i=e.$implicit,n=e.index,r=_();z(i.headerStyleClass),f("ngClass",Fe(19,Qx,i.selected,i.disabled))("ngStyle",i.headerStyle),k("data-p-disabled",i.disabled),g(),f("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),k("id",r.getTabHeaderActionId(i.id))("aria-controls",r.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":r.tabindex)("aria-disabled",i.disabled)("data-pc-index",n)("data-pc-section","headeraction"),g(),f("ngIf",!i.headerTemplate),g(),f("ngTemplateOutlet",i.headerTemplate),g(),f("ngIf",i.closable)}}function y2(s,t){if(s&1&&S(0,v2,5,22,"li",18),s&2){let e=t.$implicit;f("ngIf",!e.closed)}}function b2(s,t){s&1&&P(0,"ChevronRightIcon"),s&2&&k("aria-hidden",!0)}function C2(s,t){}function w2(s,t){s&1&&S(0,C2,0,0,"ng-template")}function x2(s,t){if(s&1){let e=Z();I(0,"button",34,5),W("click",function(){O(e);let n=_();return E(n.navForward())}),S(2,b2,1,1,"ChevronRightIcon",16)(3,w2,1,0,null,17),D()}if(s&2){let e=_();k("tabindex",e.tabindex)("aria-label",e.nextButtonAriaLabel),g(2),f("ngIf",!e.nextIconTemplate),g(),f("ngTemplateOutlet",e.nextIconTemplate)}}var T2=(()=>{class s{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(e){this._headerStyle=e,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(e){this._headerStyleClass=e,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(e,i,n,r){this.el=i,this.viewContainer=n,this.cd=r,this.tabView=e,this.id=Re()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"righticon":this.rightIconTemplate=e.template;break;case"lefticon":this.leftIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||s)(B(Rt(()=>S2)),B(Oe),B(Po),B(Ke))};static \u0275cmp=G({type:s,selectors:[["p-tabPanel"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",H],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",H],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[Ee],ngContentSelectors:vp,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,n){i&1&&(ut(),S(0,zx,3,6,"div",0)),i&2&&f("ngIf",!n.closed)},dependencies:[Be,qe],encapsulation:2})}return s})(),S2=(()=>{class s{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.tabs&&this.tabs.length&&this._activeIndex!=null&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new X;onClose=new X;activeIndexChange=new X;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(e,i,n,r){this.platformId=e,this.el=i,this.cd=n,this.renderer=r}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(e=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(e=>{switch(e.getType()){case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break}})}callResizeObserver(){vt(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=M.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=M.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){vt(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(this.activeIndex!=null&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(e,i){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onTabEndKey(e);break;case"PageUp":this.onTabHomeKey(e);break;case"Enter":case"Space":this.open(e,i);break;default:break}}onTabArrowLeftKey(e){let i=this.findPrevHeaderAction(e.target.parentElement),n=M.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,n):this.onTabEndKey(e),e.preventDefault()}onTabArrowRightKey(e){let i=this.findNextHeaderAction(e.target.parentElement),n=M.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,n):this.onTabHomeKey(e),e.preventDefault()}onTabHomeKey(e){let i=this.findFirstHeaderAction(),n=M.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,n),e.preventDefault()}onTabEndKey(e){let i=this.findLastHeaderAction(),n=M.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,n),e.preventDefault()}changeFocusedTab(e,i,n){if(i&&(M.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)){let r=this.tabs[n];this.open(e,r)}}findNextHeaderAction(e,i=!1){let n=i?e:e.nextElementSibling;return n?M.getAttribute(n,"data-p-disabled")||M.getAttribute(n,"data-pc-section")==="inkbar"?this.findNextHeaderAction(n):M.findSingle(n,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,i=!1){let n=i?e:e.previousElementSibling;return n?M.getAttribute(n,"data-p-disabled")||M.getAttribute(n,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(n):M.findSingle(n,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.navbar.nativeElement.firstElementChild;return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.navbar.nativeElement.lastElementChild,i=M.getAttribute(e,"data-pc-section")==="inkbar"?e.previousElementSibling:e;return this.findPrevHeaderAction(i,!0)}open(e,i){if(i.disabled){e&&e.preventDefault();return}if(!i.selected){let n=this.findSelectedTab();n&&(n.selected=!1),this.tabChanged=!0,i.selected=!0;let r=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(r),this.onChange.emit({originalEvent:e,index:r}),this.updateScrollBar(r)}e&&e.preventDefault()}close(e,i){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:e,index:this.findTabIndex(i)}))}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let i=0;i<this.tabs.length;i++){let n=this.tabs[i];if(!n.closed&&!e.disabled){n.selected=!0;break}}}e.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let i=-1;for(let n=0;n<this.tabs.length;n++)if(this.tabs[n]==e){i=n;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(vt(this.platformId)&&this.navbar){let e=M.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!e)return;this.inkbar.nativeElement.style.width=M.getWidth(e)+"px",this.inkbar.nativeElement.style.left=M.getOffset(e).left-M.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){let i=this.navbar.nativeElement.children[e];i&&i.scrollIntoView({block:"nearest"})}updateButtonState(){let e=this.content.nativeElement,{scrollLeft:i,scrollWidth:n}=e,r=M.getWidth(e);this.backwardIsDisabled=i===0,this.forwardIsDisabled=Math.round(i)===n-r}refreshButtonState(){this.container=M.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=M.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.markForCheck())}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,i)=>i?e+M.getWidth(i):e,0)}navBackward(){let e=this.content.nativeElement,i=M.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft-i;e.scrollLeft=n<=0?0:n}navForward(){let e=this.content.nativeElement,i=M.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+i,r=e.scrollWidth-i;e.scrollLeft=n>=r?r:n}static \u0275fac=function(i){return new(i||s)(B(lt),B(Oe),B(Ke),B(ct))};static \u0275cmp=G({type:s,selectors:[["p-tabView"]],contentQueries:function(i,n,r){if(i&1&&(Pe(r,T2,4),Pe(r,Ye,4)),i&2){let o;ee(o=te())&&(n.tabPanels=o),ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ve(Yx,5),ve(Gx,5),ve(Xx,5),ve(qx,5),ve(Kx,5),ve($x,5)),i&2){let r;ee(r=te())&&(n.content=r.first),ee(r=te())&&(n.navbar=r.first),ee(r=te())&&(n.prevBtn=r.first),ee(r=te())&&(n.nextBtn=r.first),ee(r=te())&&(n.inkbar=r.first),ee(r=te())&&(n.elementToObserve=r.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",H],scrollable:[2,"scrollable","scrollable",H],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",H],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",H],tabindex:[2,"tabindex","tabindex",fe]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[Ee],ngContentSelectors:vp,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(i,n){if(i&1){let r=Z();ut(),I(0,"div",6)(1,"div",7,0),S(3,i2,4,4,"button",8),I(4,"div",9,1),W("scroll",function(l){return O(r),E(n.onScroll(l))}),I(6,"ul",10,2),S(8,y2,1,1,"ng-template",11),P(9,"li",12,3),D()(),S(11,x2,4,4,"button",13),D(),I(12,"div",14),tt(13),D()()}i&2&&(z(n.styleClass),f("ngClass",ae(11,Zx,n.scrollable))("ngStyle",n.style),k("data-pc-name","tabview"),g(3),f("ngIf",n.scrollable&&!n.backwardIsDisabled&&n.autoHideButtons),g(),k("data-pc-section","navcontent"),g(2),k("data-pc-section","nav"),g(2),f("ngForOf",n.tabs),g(),k("data-pc-section","inkbar"),g(2),f("ngIf",n.scrollable&&!n.forwardIsDisabled&&n.buttonVisible))},dependencies:()=>[Me,ni,Be,qe,Ae,na,Yt,st,Xs,qs],styles:[`@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}
`],encapsulation:2,changeDetection:0})}return s})(),yc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,De,sa,ri,st,Xs,qs,De]})}return s})();var I2=["input"],D2=(s,t,e,i)=>({"p-checkbox p-component":!0,"p-checkbox-checked":s,"p-checkbox-disabled":t,"p-checkbox-focused":e,"p-variant-filled":i}),O2=(s,t,e)=>({"p-highlight":s,"p-disabled":t,"p-focus":e}),E2=(s,t,e)=>({"p-checkbox-label":!0,"p-checkbox-label-active":s,"p-disabled":t,"p-checkbox-label-focus":e});function k2(s,t){if(s&1&&P(0,"span",10),s&2){let e=_(3);f("ngClass",e.checkboxIcon),k("data-pc-section","icon")}}function M2(s,t){s&1&&P(0,"CheckIcon",11),s&2&&(f("styleClass","p-checkbox-icon"),k("data-pc-section","icon"))}function F2(s,t){if(s&1&&(Q(0),S(1,k2,1,2,"span",8)(2,M2,1,2,"CheckIcon",9),J()),s&2){let e=_(2);g(),f("ngIf",e.checkboxIcon),g(),f("ngIf",!e.checkboxIcon)}}function A2(s,t){}function V2(s,t){s&1&&S(0,A2,0,0,"ng-template")}function L2(s,t){if(s&1&&(I(0,"span",12),S(1,V2,1,0,null,13),D()),s&2){let e=_(2);k("data-pc-section","icon"),g(),f("ngTemplateOutlet",e.checkboxIconTemplate)}}function P2(s,t){if(s&1&&(Q(0),S(1,F2,3,2,"ng-container",5)(2,L2,2,2,"span",7),J()),s&2){let e=_();g(),f("ngIf",!e.checkboxIconTemplate),g(),f("ngIf",e.checkboxIconTemplate)}}function R2(s,t){if(s&1){let e=Z();I(0,"label",14),W("click",function(n){O(e);let r=_(),o=it(3);return E(r.onClick(n,o,!0))}),ce(1),D()}if(s&2){let e=_();z(e.labelStyleClass),f("ngClass",ki(6,E2,e.checked(),e.disabled,e.focused)),k("for",e.inputId)("data-pc-section","label"),g(),Nt(" ",e.label,"")}}var N2={provide:si,useExisting:Rt(()=>B2),multi:!0},B2=(()=>{class s{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new X;onFocus=new X;onBlur=new X;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(e,i,n){this.cd=e,this.injector=i,this.config=n}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.checkboxIconTemplate=e.template;break}})}onClick(e,i,n){e.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(e),n&&i.focus())}updateModel(e){let i,n=this.injector.get(ln,null,{optional:!0,self:!0}),r=n&&!this.formControl?n.value:this.model;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(this.checked()?i=r.filter(o=>!he.equals(o,this.value)):i=r?[...r,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:he.contains(this.value,this.model)}static \u0275fac=function(i){return new(i||s)(B(Ke),B(Er),B(nt))};static \u0275cmp=G({type:s,selectors:[["p-checkbox"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ve(I2,5),i&2){let r;ee(r=te())&&(n.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",H],binary:[2,"binary","binary",H],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",fe],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",H],required:[2,"required","required",H],autofocus:[2,"autofocus","autofocus",H],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[qt([N2]),Ee],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(i,n){if(i&1){let r=Z();I(0,"div",1)(1,"div",2)(2,"input",3,0),W("change",function(l){return O(r),E(n.handleChange(l))})("focus",function(l){return O(r),E(n.onInputFocus(l))})("blur",function(l){return O(r),E(n.onInputBlur(l))}),D()(),I(4,"div",4),W("click",function(l){O(r);let c=it(3);return E(n.onClick(l,c,!0))}),S(5,P2,3,2,"ng-container",5),D()(),S(6,R2,2,10,"label",6)}i&2&&(z(n.styleClass),f("ngStyle",n.style)("ngClass",Tn(28,D2,n.checked(),n.disabled,n.focused,n.variant==="filled"||n.config.inputStyle()==="filled")),k("data-pc-name","checkbox")("data-pc-section","root"),g(),k("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),g(),f("value",n.value)("checked",n.checked())("disabled",n.disabled)("readonly",n.readonly)("autofocus",n.autofocus),k("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("required",n.required)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("data-pc-section","hiddenInput"),g(2),f("ngClass",ki(33,O2,n.checked(),n.disabled,n.focused)),k("data-p-highlight",n.checked())("data-p-disabled",n.disabled)("data-p-focused",n.focused)("data-pc-section","input"),g(),f("ngIf",n.checked()),g(),f("ngIf",n.label))},dependencies:()=>[Me,Be,qe,Ae,wi,Kt],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0})}return s})(),bc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,Wi,Kt,De]})}return s})();var yp=(()=>{class s{el;ngModel;cd;config;variant="outlined";filled;constructor(e,i,n,r){this.el=e,this.ngModel=i,this.cd=n,this.config=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||s)(B(Oe),B(sc,8),B(Ke),B(nt))};static \u0275dir=Ot({type:s,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,n){i&1&&W("input",function(o){return n.onInput(o)}),i&2&&di("p-filled",n.filled)("p-variant-filled",n.variant==="filled"||n.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return s})(),Xr=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we]})}return s})();var Cc=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["AngleDownIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var wc=(()=>{class s extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["AngleUpIcon"]],standalone:!0,features:[ge,me],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0),P(1,"path",1),D()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var H2=["input"],U2=(s,t,e)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":s,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}),bp=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),Cp=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function W2(s,t){if(s&1){let e=Z();I(0,"TimesIcon",8),W("click",function(){O(e);let n=_(2);return E(n.clear())}),D()}s&2&&(f("ngClass","p-inputnumber-clear-icon"),k("data-pc-section","clearIcon"))}function z2(s,t){}function Y2(s,t){s&1&&S(0,z2,0,0,"ng-template")}function G2(s,t){if(s&1){let e=Z();I(0,"span",9),W("click",function(){O(e);let n=_(2);return E(n.clear())}),S(1,Y2,1,0,null,10),D()}if(s&2){let e=_(2);k("data-pc-section","clearIcon"),g(),f("ngTemplateOutlet",e.clearIconTemplate)}}function X2(s,t){if(s&1&&(Q(0),S(1,W2,1,2,"TimesIcon",6)(2,G2,2,2,"span",7),J()),s&2){let e=_();g(),f("ngIf",!e.clearIconTemplate),g(),f("ngIf",e.clearIconTemplate)}}function q2(s,t){if(s&1&&P(0,"span",14),s&2){let e=_(2);f("ngClass",e.incrementButtonIcon),k("data-pc-section","incrementbuttonicon")}}function K2(s,t){s&1&&P(0,"AngleUpIcon"),s&2&&k("data-pc-section","incrementbuttonicon")}function $2(s,t){}function Z2(s,t){s&1&&S(0,$2,0,0,"ng-template")}function Q2(s,t){if(s&1&&(Q(0),S(1,K2,1,1,"AngleUpIcon",3)(2,Z2,1,0,null,10),J()),s&2){let e=_(2);g(),f("ngIf",!e.incrementButtonIconTemplate),g(),f("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function J2(s,t){if(s&1&&P(0,"span",14),s&2){let e=_(2);f("ngClass",e.decrementButtonIcon),k("data-pc-section","decrementbuttonicon")}}function eT(s,t){s&1&&P(0,"AngleDownIcon"),s&2&&k("data-pc-section","decrementbuttonicon")}function tT(s,t){}function iT(s,t){s&1&&S(0,tT,0,0,"ng-template")}function nT(s,t){if(s&1&&(Q(0),S(1,eT,1,1,"AngleDownIcon",3)(2,iT,1,0,null,10),J()),s&2){let e=_(2);g(),f("ngIf",!e.decrementButtonIconTemplate),g(),f("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function sT(s,t){if(s&1){let e=Z();I(0,"span",11)(1,"button",12),W("mousedown",function(n){O(e);let r=_();return E(r.onUpButtonMouseDown(n))})("mouseup",function(){O(e);let n=_();return E(n.onUpButtonMouseUp())})("mouseleave",function(){O(e);let n=_();return E(n.onUpButtonMouseLeave())})("keydown",function(n){O(e);let r=_();return E(r.onUpButtonKeyDown(n))})("keyup",function(){O(e);let n=_();return E(n.onUpButtonKeyUp())}),S(2,q2,1,2,"span",13)(3,Q2,3,2,"ng-container",3),D(),I(4,"button",12),W("mousedown",function(n){O(e);let r=_();return E(r.onDownButtonMouseDown(n))})("mouseup",function(){O(e);let n=_();return E(n.onDownButtonMouseUp())})("mouseleave",function(){O(e);let n=_();return E(n.onDownButtonMouseLeave())})("keydown",function(n){O(e);let r=_();return E(r.onDownButtonKeyDown(n))})("keyup",function(){O(e);let n=_();return E(n.onDownButtonKeyUp())}),S(5,J2,1,2,"span",13)(6,nT,3,2,"ng-container",3),D()()}if(s&2){let e=_();k("data-pc-section","buttonGroup"),g(),z(e.incrementButtonClass),f("ngClass",Ei(17,bp))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section","incrementbutton"),g(),f("ngIf",e.incrementButtonIcon),g(),f("ngIf",!e.incrementButtonIcon),g(),z(e.decrementButtonClass),f("ngClass",Ei(18,Cp))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section",e.decrementbutton),g(),f("ngIf",e.decrementButtonIcon),g(),f("ngIf",!e.decrementButtonIcon)}}function rT(s,t){if(s&1&&P(0,"span",14),s&2){let e=_(2);f("ngClass",e.incrementButtonIcon),k("data-pc-section","incrementbuttonicon")}}function oT(s,t){s&1&&P(0,"AngleUpIcon"),s&2&&k("data-pc-section","incrementbuttonicon")}function aT(s,t){}function lT(s,t){s&1&&S(0,aT,0,0,"ng-template")}function cT(s,t){if(s&1&&(Q(0),S(1,oT,1,1,"AngleUpIcon",3)(2,lT,1,0,null,10),J()),s&2){let e=_(2);g(),f("ngIf",!e.incrementButtonIconTemplate),g(),f("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function hT(s,t){if(s&1){let e=Z();I(0,"button",12),W("mousedown",function(n){O(e);let r=_();return E(r.onUpButtonMouseDown(n))})("mouseup",function(){O(e);let n=_();return E(n.onUpButtonMouseUp())})("mouseleave",function(){O(e);let n=_();return E(n.onUpButtonMouseLeave())})("keydown",function(n){O(e);let r=_();return E(r.onUpButtonKeyDown(n))})("keyup",function(){O(e);let n=_();return E(n.onUpButtonKeyUp())}),S(1,rT,1,2,"span",13)(2,cT,3,2,"ng-container",3),D()}if(s&2){let e=_();z(e.incrementButtonClass),f("ngClass",Ei(8,bp))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section","incrementbutton"),g(),f("ngIf",e.incrementButtonIcon),g(),f("ngIf",!e.incrementButtonIcon)}}function dT(s,t){if(s&1&&P(0,"span",14),s&2){let e=_(2);f("ngClass",e.decrementButtonIcon),k("data-pc-section","decrementbuttonicon")}}function uT(s,t){s&1&&P(0,"AngleDownIcon"),s&2&&k("data-pc-section","decrementbuttonicon")}function pT(s,t){}function fT(s,t){s&1&&S(0,pT,0,0,"ng-template")}function mT(s,t){if(s&1&&(Q(0),S(1,uT,1,1,"AngleDownIcon",3)(2,fT,1,0,null,10),J()),s&2){let e=_(2);g(),f("ngIf",!e.decrementButtonIconTemplate),g(),f("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function gT(s,t){if(s&1){let e=Z();I(0,"button",12),W("mousedown",function(n){O(e);let r=_();return E(r.onDownButtonMouseDown(n))})("mouseup",function(){O(e);let n=_();return E(n.onDownButtonMouseUp())})("mouseleave",function(){O(e);let n=_();return E(n.onDownButtonMouseLeave())})("keydown",function(n){O(e);let r=_();return E(r.onDownButtonKeyDown(n))})("keyup",function(){O(e);let n=_();return E(n.onDownButtonKeyUp())}),S(1,dT,1,2,"span",13)(2,mT,3,2,"ng-container",3),D()}if(s&2){let e=_();z(e.decrementButtonClass),f("ngClass",Ei(8,Cp))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section","decrementbutton"),g(),f("ngIf",e.decrementButtonIcon),g(),f("ngIf",!e.decrementButtonIcon)}}var _T={provide:si,useExisting:Rt(()=>vT),multi:!0},vT=(()=>{class s{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}onInput=new X;onFocus=new X;onBlur=new X;onKeyDown=new X;onClear=new X;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(e,i,n,r,o){this.document=e,this.el=i,this.cd=n,this.injector=r,this.config=o}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(n=>!!e[n])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=e.template;break}})}ngOnInit(){this.ngControl=this.injector.get(ln,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((n,r)=>[n,r]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=n=>i.get(n)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,At(Se({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let n=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(n=this.prefix+n),this.suffix&&e!=this.suffix&&(n=n+this.suffix),n}return e.toString()}return""}parseValue(e){let i=new RegExp(this._suffix,""),n=new RegExp(this._prefix,""),r=new RegExp(this._currency,""),o=e.replace(i,"").replace(n,"").trim().replace(/\s/g,"").replace(r,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(o){if(o==="-")return o;let l=+o;return isNaN(l)?null:l}return null}repeat(e,i,n){if(this.readonly)return;let r=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,n)},r),this.spin(e,n)}spin(e,i){let n=this.step*i,r=this.parseValue(this.input?.nativeElement.value)||0,o=this.validateValue(r+n);this.maxlength&&this.maxlength<this.formatValue(o).length||(this.updateInput(o,null,"spin",null),this.updateModel(e,o),this.handleOnInput(e,r,o))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let i=e.target.selectionStart,n=e.target.selectionEnd,r=e.target.value,o=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let l=i;l<=r.length;l++){let c=l===0?0:l-1;if(this.isNumeralChar(r.charAt(c))){this.input.nativeElement.setSelectionRange(l,l);break}}break;case"ArrowRight":for(let l=n;l>=0;l--)if(this.isNumeralChar(r.charAt(l))){this.input.nativeElement.setSelectionRange(l,l);break}break;case"Tab":case"Enter":o=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,o);break;case"Backspace":{if(e.preventDefault(),i===n){if(i==1&&this.prefix||i==r.length&&this.suffix)break;let l=r.charAt(i-1),{decimalCharIndex:c,decimalCharIndexWithoutPrefix:d}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(l)){let u=this.getDecimalLength(r);if(this._group.test(l))this._group.lastIndex=0,o=r.slice(0,i-2)+r.slice(i-1);else if(this._decimal.test(l))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i-1,i-1):o=r.slice(0,i-1)+r.slice(i);else if(c>0&&i>c){let v=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=r.slice(0,i-1)+v+r.slice(i)}else d===1?(o=r.slice(0,i-1)+"0"+r.slice(i),o=this.parseValue(o)>0?o:""):o=r.slice(0,i-1)+r.slice(i)}else this.mode==="currency"&&l.search(this._currency)!=-1&&(o=r.slice(1));this.updateValue(e,o,null,"delete-single")}else o=this.deleteRange(r,i,n),this.updateValue(e,o,null,"delete-range");break}case"Delete":if(e.preventDefault(),i===n){if(i==0&&this.prefix||i==r.length-1&&this.suffix)break;let l=r.charAt(i),{decimalCharIndex:c,decimalCharIndexWithoutPrefix:d}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(l)){let u=this.getDecimalLength(r);if(this._group.test(l))this._group.lastIndex=0,o=r.slice(0,i)+r.slice(i+2);else if(this._decimal.test(l))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(i+1,i+1):o=r.slice(0,i)+r.slice(i+1);else if(c>0&&i>c){let v=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=r.slice(0,i)+v+r.slice(i+1)}else d===1?(o=r.slice(0,i)+"0"+r.slice(i+1),o=this.parseValue(o)>0?o:""):o=r.slice(0,i)+r.slice(i+1)}this.updateValue(e,o,null,"delete-back-single")}else o=this.deleteRange(r,i,n),this.updateValue(e,o,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let i=e.which||e.keyCode,n=String.fromCharCode(i),r=this.isDecimalSign(n),o=this.isMinusSign(n);i!=13&&e.preventDefault(),!r&&e.code==="NumpadDecimal"&&(r=!0,n=this._decimalChar,i=n.charCodeAt(0));let l=this.parseValue(this.input.nativeElement.value+n),c=l!=null?l.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(e,n,{isDecimalSign:r,isMinusSign:o});return}this.maxlength&&c.length>this.maxlength||(48<=i&&i<=57||o||r)&&this.insert(e,n,{isDecimalSign:r,isMinusSign:o})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(i){this.maxlength&&(i=i.toString().substring(0,this.maxlength));let n=this.parseValue(i);n!=null&&this.insert(e,n.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;let r=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:r}}getCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;let n=e.search(this._minusSign);this._minusSign.lastIndex=0;let r=e.search(this._suffix);this._suffix.lastIndex=0;let o=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:n,suffixCharIndex:r,currencyCharIndex:o}}insert(e,i,n={isDecimalSign:!1,isMinusSign:!1}){let r=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&r!==-1)return;let o=this.input?.nativeElement.selectionStart,l=this.input?.nativeElement.selectionEnd,c=this.input?.nativeElement.value.trim(),{decimalCharIndex:d,minusCharIndex:u,suffixCharIndex:v,currencyCharIndex:y}=this.getCharIndexes(c),C;if(n.isMinusSign)o===0&&(C=c,(u===-1||l!==0)&&(C=this.insertText(c,i,0,l)),this.updateValue(e,C,i,"insert"));else if(n.isDecimalSign)d>0&&o===d?this.updateValue(e,c,i,"insert"):d>o&&d<l?(C=this.insertText(c,i,o,l),this.updateValue(e,C,i,"insert")):d===-1&&this.maxFractionDigits&&(C=this.insertText(c,i,o,l),this.updateValue(e,C,i,"insert"));else{let w=this.numberFormat.resolvedOptions().maximumFractionDigits,T=o!==l?"range-insert":"insert";if(d>0&&o>d){if(o+i.length-(d+1)<=w){let x=y>=o?y-1:v>=o?v:c.length;C=c.slice(0,o)+i+c.slice(o+i.length,x)+c.slice(x),this.updateValue(e,C,i,T)}}else C=this.insertText(c,i,o,l),this.updateValue(e,C,i,T)}}insertText(e,i,n,r){if((i==="."?i:i.split(".")).length===2){let l=e.slice(n,r).search(this._decimal);return this._decimal.lastIndex=0,l>0?e.slice(0,n)+this.formatValue(i)+e.slice(r):e||this.formatValue(i)}else return r-n===e.length?this.formatValue(i):n===0?i+e.slice(r):r===e.length?e.slice(0,n)+i:e.slice(0,n)+i+e.slice(r)}deleteRange(e,i,n){let r;return n-i===e.length?r="":i===0?r=e.slice(n):n===e.length?r=e.slice(0,i):r=e.slice(0,i)+e.slice(n),r}initCursor(){let e=this.input?.nativeElement.selectionStart,i=this.input?.nativeElement.selectionEnd,n=this.input?.nativeElement.value,r=n.length,o=null,l=(this.prefixChar||"").length;n=n.replace(this._prefix,""),(e===i||e!==0||i<l)&&(e-=l);let c=n.charAt(e);if(this.isNumeralChar(c))return e+l;let d=e-1;for(;d>=0;)if(c=n.charAt(d),this.isNumeralChar(c)){o=d+l;break}else d--;if(o!==null)this.input?.nativeElement.setSelectionRange(o+1,o+1);else{for(d=e;d<r;)if(c=n.charAt(d),this.isNumeralChar(c)){o=d+l;break}else d++;o!==null&&this.input?.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==M.getSelection()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,n,r){let o=this.input?.nativeElement.value,l=null;i!=null&&(l=this.parseValue(i),l=!l&&!this.allowEmpty?0:l,this.updateInput(l,n,r,i),this.handleOnInput(e,o,l))}handleOnInput(e,i,n){this.isValueChanged(i,n)&&(this.input.nativeElement.value=this.formatValue(n),this.input?.nativeElement.setAttribute("aria-valuenow",n),!this.isBlurUpdateOnMode&&this.updateModel(e,n),this.onInput.emit({originalEvent:e,value:n,formattedValue:i}))}isValueChanged(e,i){if(i===null&&e!==null)return!0;if(i!=null){let n=typeof e=="string"?this.parseValue(e):e;return i!==n}return!1}validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e}updateInput(e,i,n,r){i=i||"";let o=this.input?.nativeElement.value,l=this.formatValue(e),c=o.length;if(l!==r&&(l=this.concatValues(l,r)),c===0){this.input.nativeElement.value=l,this.input.nativeElement.setSelectionRange(0,0);let u=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(u,u)}else{let d=this.input.nativeElement.selectionStart,u=this.input.nativeElement.selectionEnd;if(this.maxlength&&l.length>this.maxlength&&(l=l.slice(0,this.maxlength),d=Math.min(d,this.maxlength),u=Math.min(u,this.maxlength)),this.maxlength&&this.maxlength<l.length)return;this.input.nativeElement.value=l;let v=l.length;if(n==="range-insert"){let y=this.parseValue((o||"").slice(0,d)),w=(y!==null?y.toString():"").split("").join(`(${this.groupChar})?`),T=new RegExp(w,"g");T.test(l);let x=i.split("").join(`(${this.groupChar})?`),L=new RegExp(x,"g");L.test(l.slice(T.lastIndex)),u=T.lastIndex+L.lastIndex,this.input.nativeElement.setSelectionRange(u,u)}else if(v===c)n==="insert"||n==="delete-back-single"?this.input.nativeElement.setSelectionRange(u+1,u+1):n==="delete-single"?this.input.nativeElement.setSelectionRange(u-1,u-1):(n==="delete-range"||n==="spin")&&this.input.nativeElement.setSelectionRange(u,u);else if(n==="delete-back-single"){let y=o.charAt(u-1),C=o.charAt(u),w=c-v,T=this._group.test(C);T&&w===1?u+=1:!T&&this.isNumeralChar(y)&&(u+=-1*w+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(u,u)}else if(o==="-"&&n==="insert"){this.input.nativeElement.setSelectionRange(0,0);let C=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(C,C)}else u=u+(v-c),this.input.nativeElement.setSelectionRange(u,u)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let n=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?n!==-1?e:e.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(n)+this.suffixChar:n!==-1?e.split(this._decimal)[0]+i.slice(n):e}return e}getDecimalLength(e){if(e){let i=e.split(this._decimal);if(i.length===2)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value)),n=i?.toString();this.input.nativeElement.value=this.formatValue(n),this.input.nativeElement.setAttribute("aria-valuenow",n),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,i){this.value!==i&&(this.value=i,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(i):this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(i){return new(i||s)(B(ke),B(Oe),B(Ke),B(Er),B(nt))};static \u0275cmp=G({type:s,selectors:[["p-inputNumber"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ve(H2,5),i&2){let r;ee(r=te())&&(n.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,n){i&2&&di("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused)("p-inputnumber-clearable",n.showClear&&n.buttonLayout!="vertical")},inputs:{showButtons:[2,"showButtons","showButtons",H],format:[2,"format","format",H],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[2,"size","size",fe],maxlength:[2,"maxlength","maxlength",fe],tabindex:[2,"tabindex","tabindex",fe],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",H],name:"name",required:[2,"required","required",H],autocomplete:"autocomplete",min:[2,"min","min",fe],max:[2,"max","max",fe],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",H],step:[2,"step","step",fe],allowEmpty:[2,"allowEmpty","allowEmpty",H],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",H],variant:"variant",minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>fe(e,null)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>fe(e,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",H],autofocus:[2,"autofocus","autofocus",H],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[qt([_T]),Ee,Ui],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,n){if(i&1){let r=Z();I(0,"span",1)(1,"input",2,0),W("input",function(l){return O(r),E(n.onUserInput(l))})("keydown",function(l){return O(r),E(n.onInputKeyDown(l))})("keypress",function(l){return O(r),E(n.onInputKeyPress(l))})("paste",function(l){return O(r),E(n.onPaste(l))})("click",function(){return O(r),E(n.onInputClick())})("focus",function(l){return O(r),E(n.onInputFocus(l))})("blur",function(l){return O(r),E(n.onInputBlur(l))}),D(),S(3,X2,3,2,"ng-container",3)(4,sT,7,19,"span",4)(5,hT,3,9,"button",5)(6,gT,3,9,"button",5),D()}i&2&&(z(n.styleClass),f("ngClass",ki(39,U2,n.showButtons&&n.buttonLayout==="stacked",n.showButtons&&n.buttonLayout==="horizontal",n.showButtons&&n.buttonLayout==="vertical"))("ngStyle",n.style),k("data-pc-name","inputnumber")("data-pc-section","root"),g(),z(n.inputStyleClass),di("p-variant-filled",n.variant==="filled"||n.config.inputStyle()==="filled"),f("ngClass","p-inputnumber-input")("ngStyle",n.inputStyle)("value",n.formattedValue())("disabled",n.disabled)("readonly",n.readonly)("autofocus",n.autofocus),k("id",n.inputId)("variant",n.variant)("aria-valuemin",n.min)("aria-valuemax",n.max)("aria-valuenow",n.value)("placeholder",n.placeholder)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("title",n.title)("size",n.size)("name",n.name)("autocomplete",n.autocomplete)("maxlength",n.maxlength)("tabindex",n.tabindex)("aria-required",n.ariaRequired)("required",n.required)("min",n.min)("max",n.max)("data-pc-section","input"),g(2),f("ngIf",n.buttonLayout!="vertical"&&n.showClear&&n.value),g(),f("ngIf",n.showButtons&&n.buttonLayout==="stacked"),g(),f("ngIf",n.showButtons&&n.buttonLayout!=="stacked"),g(),f("ngIf",n.showButtons&&n.buttonLayout!=="stacked"))},dependencies:()=>[Me,Be,qe,Ae,yp,En,wi,st,wc,Cc],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return s})(),xc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,Xr,Mi,Wi,st,wc,Cc,De]})}return s})();var yT=["*",[["p-header"]],[["p-footer"]]],bT=["*","p-header","p-footer"];function CT(s,t){s&1&&le(0)}function wT(s,t){if(s&1&&(I(0,"div",8),tt(1,1),S(2,CT,1,0,"ng-container",6),D()),s&2){let e=_();g(2),f("ngTemplateOutlet",e.headerTemplate)}}function xT(s,t){s&1&&le(0)}function TT(s,t){if(s&1&&(I(0,"div",9),ce(1),S(2,xT,1,0,"ng-container",6),D()),s&2){let e=_();g(),Nt(" ",e.header," "),g(),f("ngTemplateOutlet",e.titleTemplate)}}function ST(s,t){s&1&&le(0)}function IT(s,t){if(s&1&&(I(0,"div",10),ce(1),S(2,ST,1,0,"ng-container",6),D()),s&2){let e=_();g(),Nt(" ",e.subheader," "),g(),f("ngTemplateOutlet",e.subtitleTemplate)}}function DT(s,t){s&1&&le(0)}function OT(s,t){s&1&&le(0)}function ET(s,t){if(s&1&&(I(0,"div",11),tt(1,2),S(2,OT,1,0,"ng-container",6),D()),s&2){let e=_();g(2),f("ngTemplateOutlet",e.footerTemplate)}}var uF=(()=>{class s{el;header;subheader;set style(e){he.equals(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=Wt(null);constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(i){return new(i||s)(B(Oe))};static \u0275cmp=G({type:s,selectors:[["p-card"]],contentQueries:function(i,n,r){if(i&1&&(Pe(r,Uu,5),Pe(r,Zo,5),Pe(r,Ye,4)),i&2){let o;ee(o=te())&&(n.headerFacet=o.first),ee(o=te())&&(n.footerFacet=o.first),ee(o=te())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:bT,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,n){i&1&&(ut(yT),I(0,"div",0),S(1,wT,3,1,"div",1),I(2,"div",2),S(3,TT,3,2,"div",3)(4,IT,3,2,"div",4),I(5,"div",5),tt(6),S(7,DT,1,0,"ng-container",6),D(),S(8,ET,3,1,"div",7),D()()),i&2&&(z(n.styleClass),f("ngClass","p-card p-component")("ngStyle",n._style()),k("data-pc-name","card"),g(),f("ngIf",n.headerFacet||n.headerTemplate),g(2),f("ngIf",n.header||n.titleTemplate),g(),f("ngIf",n.subheader||n.subtitleTemplate),g(3),f("ngTemplateOutlet",n.contentTemplate),g(),f("ngIf",n.footerFacet||n.footerTemplate))},dependencies:[Me,Be,qe,Ae],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return s})(),Tc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,De]})}return s})();var kT=["*"],gF=(()=>{class s{style;styleClass;static \u0275fac=function(i){return new(i||s)};static \u0275cmp=G({type:s,selectors:[["p-inputGroup"]],hostAttrs:[1,"p-element","p-inputgroup"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:kT,decls:2,vars:3,consts:[[1,"p-inputgroup",3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(ut(),I(0,"div",0),tt(1),D()),i&2&&(f("ngClass",n.styleClass)("ngStyle",n.style),k("data-pc-name","inputgroup"))},dependencies:[Me,Ae],encapsulation:2})}return s})(),Sc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,De]})}return s})();var MT=["*"],bF=(()=>{class s{style;styleClass;static \u0275fac=function(i){return new(i||s)};static \u0275cmp=G({type:s,selectors:[["p-inputGroupAddon"]],hostAttrs:[1,"p-element","p-inputgroup-addon"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:MT,decls:2,vars:3,consts:[[3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(ut(),I(0,"div",0),tt(1),D()),i&2&&(f("ngClass",n.styleClass)("ngStyle",n.style),k("data-pc-name","inputgroupaddon"))},dependencies:[Me,Ae],encapsulation:2})}return s})(),Ic=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,De]})}return s})();var Dc=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["PlusIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var Oc=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["UploadIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var Ks=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[ge,me],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1)(3,"path",2)(4,"path",3),D(),I(5,"defs")(6,"clipPath",4),P(7,"rect",5),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(5),f("id",n.pathId))},encapsulation:2})}return s})();var $s=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["InfoCircleIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var Zs=(()=>{class s extends xe{pathId;ngOnInit(){this.pathId="url(#"+Re()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=G({type:s,selectors:[["TimesCircleIcon"]],standalone:!0,features:[ge,me],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ce(),I(0,"svg",0)(1,"g"),P(2,"path",1),D(),I(3,"defs")(4,"clipPath",2),P(5,"rect",3),D()()()),i&2&&(z(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),g(),k("clip-path",n.pathId),g(3),f("id",n.pathId))},encapsulation:2})}return s})();var FT=(s,t)=>({showTransitionParams:s,hideTransitionParams:t}),AT=s=>({value:"visible",params:s});function VT(s,t){if(s&1&&P(0,"span"),s&2){let e=_().$implicit;z("p-message-icon pi "+e.icon),k("data-pc-section","icon")}}function LT(s,t){s&1&&P(0,"CheckIcon"),s&2&&k("data-pc-section","icon")}function PT(s,t){s&1&&P(0,"InfoCircleIcon"),s&2&&k("data-pc-section","icon")}function RT(s,t){s&1&&P(0,"TimesCircleIcon"),s&2&&k("data-pc-section","icon")}function NT(s,t){s&1&&P(0,"ExclamationTriangleIcon"),s&2&&k("data-pc-section","icon")}function BT(s,t){if(s&1&&(I(0,"span",10),Q(1),S(2,LT,1,1,"CheckIcon",11)(3,PT,1,1,"InfoCircleIcon",11)(4,RT,1,1,"TimesCircleIcon",11)(5,NT,1,1,"ExclamationTriangleIcon",11),J(),D()),s&2){let e=_().$implicit;g(2),f("ngIf",e.severity==="success"),g(),f("ngIf",e.severity==="info"),g(),f("ngIf",e.severity==="error"),g(),f("ngIf",e.severity==="warn")}}function jT(s,t){if(s&1&&P(0,"span",14),s&2){let e=_(2).$implicit;f("innerHTML",e.summary,kr),k("data-pc-section","summary")}}function HT(s,t){if(s&1&&P(0,"span",15),s&2){let e=_(2).$implicit;f("innerHTML",e.detail,kr),k("data-pc-section","detail")}}function UT(s,t){if(s&1&&(Q(0),S(1,jT,1,2,"span",12)(2,HT,1,2,"span",13),J()),s&2){let e=_().$implicit;g(),f("ngIf",e.summary),g(),f("ngIf",e.detail)}}function WT(s,t){if(s&1&&(I(0,"span",18),ce(1),D()),s&2){let e=_(2).$implicit;k("data-pc-section","summary"),g(),ze(e.summary)}}function zT(s,t){if(s&1&&(I(0,"span",19),ce(1),D()),s&2){let e=_(2).$implicit;k("data-pc-section","detail"),g(),ze(e.detail)}}function YT(s,t){if(s&1&&S(0,WT,2,2,"span",16)(1,zT,2,2,"span",17),s&2){let e=_().$implicit;f("ngIf",e.summary),g(),f("ngIf",e.detail)}}function GT(s,t){if(s&1){let e=Z();I(0,"button",20),W("click",function(){O(e);let n=_().index,r=_(2);return E(r.removeMessage(n))}),P(1,"TimesIcon",21),D()}if(s&2){let e=_(3);k("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),g(),f("styleClass","p-message-close-icon"),k("data-pc-section","closeicon")}}function XT(s,t){if(s&1&&(I(0,"div",5)(1,"div",6),S(2,VT,1,3,"span",7)(3,BT,6,4,"span",8)(4,UT,3,2,"ng-container",3)(5,YT,2,2,"ng-template",null,1,xt)(7,GT,2,4,"button",9),D()()),s&2){let e,i=t.$implicit,n=it(6),r=_(2);z("p-message p-message-"+i.severity),f("@messageAnimation",ae(13,AT,Fe(10,FT,r.showTransitionOptions,r.hideTransitionOptions))),g(),k("data-pc-section","wrapper")("id",i.id||null),g(),f("ngIf",i.icon),g(),f("ngIf",!i.icon),g(),f("ngIf",!r.escape)("ngIfElse",n),g(3),f("ngIf",r.closable&&((e=i.closable)!==null&&e!==void 0?e:!0))}}function qT(s,t){if(s&1&&(Q(0),S(1,XT,8,15,"div",4),J()),s&2){let e=_();g(),f("ngForOf",e.messages)}}function KT(s,t){s&1&&le(0)}function $T(s,t){if(s&1&&(I(0,"div",22)(1,"div",6),S(2,KT,1,0,"ng-container",23),D()()),s&2){let e=_();f("ngClass","p-message p-message-"+e.severity),g(2),f("ngTemplateOutlet",e.contentTemplate)}}var wp=(()=>{class s{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new X;onClose=new X;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,i,n,r){this.messageService=e,this.el=i,this.cd=n,this.config=r}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);let i=e.filter(n=>this.key===n.key);this.messages=this.messages?[...this.messages,...i]:[...i],this.startMessageLifes(i),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return e&&e.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){let i=this.messages[e];this.messages=this.messages?.filter((n,r)=>r!==e),i&&this.onClose.emit(i),this.valueChange.emit(this.messages)}get icon(){let e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(i=>i.life&&this.startMessageLife(i))}startMessageLife(e){let i=Hd(e.life).subscribe(()=>{this.messages=this.messages?.filter(n=>n!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(n=>n!==i),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(i)}static \u0275fac=function(i){return new(i||s)(B(Us,8),B(Oe),B(Ke),B(nt))};static \u0275cmp=G({type:s,selectors:[["p-messages"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",H],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",H],key:"key",escape:[2,"escape","escape",H],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[Ee],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(i,n){if(i&1&&(I(0,"div",2),S(1,qT,2,1,"ng-container",3)(2,$T,3,2,"ng-template",null,0,xt),D()),i&2){let r=it(3);z(n.styleClass),f("ngStyle",n.style),k("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),g(),f("ngIf",!n.contentTemplate)("ngIfElse",r)}},dependencies:()=>[Me,ni,Be,qe,Ae,Yt,Kt,$s,Zs,Ks,st],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[ui("messageAnimation",[Tt(":enter",[pt({opacity:0,transform:"translateY(-25%)"}),Et("{{showTransitionParams}}")]),Tt(":leave",[Et("{{hideTransitionParams}}",pt({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return s})(),Ec=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,ri,Kt,$s,Zs,Ks,st,De,De]})}return s})();var QT=(s,t)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":s,"p-progressbar-indeterminate":t}),JT=(s,t)=>({width:s,display:"flex",background:t}),eS=s=>({$implicit:s}),tS=s=>({display:s}),iS=s=>({background:s});function nS(s,t){if(s&1&&(I(0,"div",7),ce(1),D()),s&2){let e=_(2);f("ngStyle",ae(4,tS,e.value!=null&&e.value!==0?"flex":"none")),k("data-pc-section","label"),g(),Ro(" ",e.value,"",e.unit," ")}}function sS(s,t){s&1&&le(0)}function rS(s,t){if(s&1&&(I(0,"div",3)(1,"div",4),S(2,nS,2,6,"div",5)(3,sS,1,0,"ng-container",6),D()()),s&2){let e=_();f("ngStyle",Fe(5,JT,e.value+"%",e.color)),k("data-pc-section","value"),g(2),f("ngIf",e.showValue&&!e.contentTemplate),g(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",ae(8,eS,e.value))}}function oS(s,t){if(s&1&&(I(0,"div",8),P(1,"div",3),D()),s&2){let e=_();k("data-pc-section","container"),g(),f("ngStyle",ae(3,iS,e.color)),k("data-pc-section","value")}}var xp=(()=>{class s{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template}})}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=G({type:s,selectors:[["p-progressBar"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",fe],showValue:[2,"showValue","showValue",H],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[Ee],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(i,n){i&1&&(I(0,"div",0),S(1,rS,4,10,"div",1)(2,oS,2,5,"div",2),D()),i&2&&(z(n.styleClass),f("ngStyle",n.style)("ngClass",Fe(11,QT,n.mode==="determinate",n.mode==="indeterminate")),k("aria-valuemin",0)("aria-valuenow",n.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),g(),f("ngIf",n.mode==="determinate"),g(),f("ngIf",n.mode==="indeterminate"))},dependencies:[Me,Be,qe,Ae],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return s})(),kc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we]})}return s})();var lS=["advancedfileinput"],cS=["basicfileinput"],hS=["content"],dS=(s,t,e,i,n)=>({$implicit:s,uploadedFiles:t,chooseCallback:e,clearCallback:i,uploadCallback:n}),uS=(s,t,e,i,n,r,o,l)=>({$implicit:s,uploadedFiles:t,chooseCallback:e,clearCallback:i,removeUploadedFileCallback:n,removeFileCallback:r,progress:o,messages:l}),pS=(s,t)=>({"p-focus":s,"p-disabled":t}),fS=(s,t,e,i)=>({"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":s,"p-fileupload-choose-selected":t,"p-focus":e,"p-disabled":i});function mS(s,t){if(s&1&&P(0,"span",21),s&2){let e=_(3);z(e.chooseIcon),f("ngClass","p-button-icon p-button-icon-left"),k("aria-label",!0)("data-pc-section","chooseicon")}}function gS(s,t){s&1&&P(0,"PlusIcon",24),s&2&&(f("styleClass","p-button-icon p-button-icon-left"),k("aria-label",!0)("data-pc-section","chooseicon"))}function _S(s,t){}function vS(s,t){s&1&&S(0,_S,0,0,"ng-template")}function yS(s,t){if(s&1&&(I(0,"span",25),S(1,vS,1,0,null,11),D()),s&2){let e=_(4);k("aria-label",!0)("data-pc-section","chooseicon"),g(),f("ngTemplateOutlet",e.chooseIconTemplate)}}function bS(s,t){if(s&1&&(Q(0),S(1,gS,1,3,"PlusIcon",22)(2,yS,2,3,"span",23),J()),s&2){let e=_(3);g(),f("ngIf",!e.chooseIconTemplate),g(),f("ngIf",e.chooseIconTemplate)}}function CS(s,t){if(s&1&&P(0,"span",28),s&2){let e=_(4);f("ngClass",e.uploadIcon),k("aria-hidden",!0)}}function wS(s,t){s&1&&P(0,"UploadIcon",24),s&2&&f("styleClass","p-button-icon p-button-icon-left")}function xS(s,t){}function TS(s,t){s&1&&S(0,xS,0,0,"ng-template")}function SS(s,t){if(s&1&&(I(0,"span",25),S(1,TS,1,0,null,11),D()),s&2){let e=_(5);k("aria-hidden",!0),g(),f("ngTemplateOutlet",e.uploadIconTemplate)}}function IS(s,t){if(s&1&&(Q(0),S(1,wS,1,1,"UploadIcon",22)(2,SS,2,2,"span",23),J()),s&2){let e=_(4);g(),f("ngIf",!e.uploadIconTemplate),g(),f("ngIf",e.uploadIconTemplate)}}function DS(s,t){if(s&1){let e=Z();I(0,"p-button",26),W("onClick",function(){O(e);let n=_(3);return E(n.upload())}),S(1,CS,1,2,"span",27)(2,IS,3,2,"ng-container",9),D()}if(s&2){let e=_(3);f("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.uploadStyleClass),g(),f("ngIf",e.uploadIcon),g(),f("ngIf",!e.uploadIcon)}}function OS(s,t){if(s&1&&P(0,"span",28),s&2){let e=_(4);f("ngClass",e.cancelIcon)}}function ES(s,t){s&1&&P(0,"TimesIcon",24),s&2&&(f("styleClass","p-button-icon p-button-icon-left"),k("aria-hidden",!0))}function kS(s,t){}function MS(s,t){s&1&&S(0,kS,0,0,"ng-template")}function FS(s,t){if(s&1&&(I(0,"span",25),S(1,MS,1,0,null,11),D()),s&2){let e=_(5);k("aria-hidden",!0),g(),f("ngTemplateOutlet",e.cancelIconTemplate)}}function AS(s,t){if(s&1&&(Q(0),S(1,ES,1,2,"TimesIcon",22)(2,FS,2,2,"span",23),J()),s&2){let e=_(4);g(),f("ngIf",!e.cancelIconTemplate),g(),f("ngIf",e.cancelIconTemplate)}}function VS(s,t){if(s&1){let e=Z();I(0,"p-button",26),W("onClick",function(){O(e);let n=_(3);return E(n.clear())}),S(1,OS,1,1,"span",27)(2,AS,3,2,"ng-container",9),D()}if(s&2){let e=_(3);f("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cancelStyleClass),g(),f("ngIf",e.cancelIcon),g(),f("ngIf",!e.cancelIcon)}}function LS(s,t){if(s&1){let e=Z();Q(0),I(1,"span",17),W("focus",function(){O(e);let n=_(2);return E(n.onFocus())})("blur",function(){O(e);let n=_(2);return E(n.onBlur())})("click",function(){O(e);let n=_(2);return E(n.choose())})("keydown.enter",function(){O(e);let n=_(2);return E(n.choose())}),I(2,"input",7,0),W("change",function(n){O(e);let r=_(2);return E(r.onFileSelect(n))}),D(),S(4,mS,1,5,"span",18)(5,bS,3,2,"ng-container",9),I(6,"span",19),ce(7),D()(),S(8,DS,3,5,"p-button",20)(9,VS,3,5,"p-button",20),J()}if(s&2){let e=_(2);g(),z(e.chooseStyleClass),f("ngClass",Fe(16,pS,e.focus,e.disabled||e.isChooseDisabled())),k("data-pc-section","choosebutton"),g(),f("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),k("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),g(2),f("ngIf",e.chooseIcon),g(),f("ngIf",!e.chooseIcon),g(),k("data-pc-section","choosebuttonlabel"),g(),ze(e.chooseButtonLabel),g(),f("ngIf",!e.auto&&e.showUploadButton),g(),f("ngIf",!e.auto&&e.showCancelButton)}}function PS(s,t){s&1&&le(0)}function RS(s,t){s&1&&le(0)}function NS(s,t){if(s&1&&P(0,"p-progressBar",29),s&2){let e=_(2);f("value",e.progress)("showValue",!1)}}function BS(s,t){if(s&1){let e=Z();I(0,"div")(1,"img",35),W("error",function(n){O(e);let r=_(5);return E(r.imageError(n))}),D()()}if(s&2){let e=_().$implicit,i=_(4);g(),f("src",e.objectURL,Mr)("width",i.previewWidth)}}function jS(s,t){s&1&&P(0,"TimesIcon")}function HS(s,t){}function US(s,t){s&1&&S(0,HS,0,0,"ng-template")}function WS(s,t){if(s&1){let e=Z();I(0,"div",32),S(1,BS,2,2,"div",9),I(2,"div",33),ce(3),D(),I(4,"div"),ce(5),D(),I(6,"div")(7,"button",34),W("click",function(n){let r=O(e).index,o=_(4);return E(o.remove(n,r))}),S(8,jS,1,0,"TimesIcon",9)(9,US,1,0,null,11),D()()()}if(s&2){let e=t.$implicit,i=_(4);g(),f("ngIf",i.isImage(e)),g(2),ze(e.name),g(2),ze(i.formatSize(e.size)),g(2),z(i.removeStyleClass),f("disabled",i.uploading),g(),f("ngIf",!i.cancelIconTemplate),g(),f("ngTemplateOutlet",i.cancelIconTemplate)}}function zS(s,t){if(s&1&&(I(0,"div"),S(1,WS,10,8,"div",31),D()),s&2){let e=_(3);g(),f("ngForOf",e.files)}}function YS(s,t){}function GS(s,t){if(s&1&&(I(0,"div"),S(1,YS,0,0,"ng-template",36),D()),s&2){let e=_(3);g(),f("ngForOf",e.files)("ngForTemplate",e.fileTemplate)}}function XS(s,t){if(s&1&&(I(0,"div",30),S(1,zS,2,1,"div",9)(2,GS,2,2,"div",9),D()),s&2){let e=_(2);g(),f("ngIf",!e.fileTemplate),g(),f("ngIf",e.fileTemplate)}}function qS(s,t){s&1&&le(0)}function KS(s,t){s&1&&le(0)}function $S(s,t){if(s&1&&(I(0,"div",37),S(1,KS,1,0,"ng-container",11),D()),s&2){let e=_(2);g(),f("ngTemplateOutlet",e.emptyTemplate)}}function ZS(s,t){if(s&1){let e=Z();I(0,"div",6)(1,"input",7,0),W("change",function(n){O(e);let r=_();return E(r.onFileSelect(n))}),D(),I(3,"div",8),S(4,LS,10,19,"ng-container",9)(5,PS,1,0,"ng-container",10)(6,RS,1,0,"ng-container",11),D(),I(7,"div",12,1),W("dragenter",function(n){O(e);let r=_();return E(r.onDragEnter(n))})("dragleave",function(n){O(e);let r=_();return E(r.onDragLeave(n))})("drop",function(n){O(e);let r=_();return E(r.onDrop(n))}),S(9,NS,1,2,"p-progressBar",13),P(10,"p-messages",14),S(11,XS,3,2,"div",15)(12,qS,1,0,"ng-container",10)(13,$S,2,1,"div",16),D()()}if(s&2){let e=_();z(e.styleClass),f("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",e.style),k("data-pc-name","fileupload")("data-pc-section","root"),g(),xn("display","none"),f("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),k("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),g(2),k("data-pc-section","buttonbar"),g(),f("ngIf",!e.headerTemplate),g(),f("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",No(27,dS,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.upload.bind(e))),g(),f("ngTemplateOutlet",e.toolbarTemplate),g(),k("data-pc-section","content"),g(2),f("ngIf",e.hasFiles()),g(),f("value",e.msgs)("enableService",!1),g(),f("ngIf",e.hasFiles()),g(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",du(33,uS,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.removeUploadedFile.bind(e),e.remove.bind(e),e.progress,e.msgs)),g(),f("ngIf",e.emptyTemplate&&!e.hasFiles()&&!e.hasUploadedFiles())}}function QS(s,t){if(s&1&&P(0,"span",28),s&2){let e=_(3);f("ngClass",e.uploadIcon)}}function JS(s,t){s&1&&P(0,"UploadIcon",24),s&2&&f("styleClass","p-button-icon p-button-icon-left")}function eI(s,t){}function tI(s,t){s&1&&S(0,eI,0,0,"ng-template")}function iI(s,t){if(s&1&&(I(0,"span",25),S(1,tI,1,0,null,11),D()),s&2){let e=_(4);g(),f("ngTemplateOutlet",e.uploadIconTemplate)}}function nI(s,t){if(s&1&&(Q(0),S(1,JS,1,1,"UploadIcon",22)(2,iI,2,1,"span",23),J()),s&2){let e=_(3);g(),f("ngIf",!e.uploadIconTemplate),g(),f("ngIf",e.uploadIconTemplate)}}function sI(s,t){if(s&1&&(Q(0),S(1,QS,1,1,"span",27)(2,nI,3,2,"ng-container",9),J()),s&2){let e=_(2);g(),f("ngIf",e.uploadIcon),g(),f("ngIf",!e.uploadIcon)}}function rI(s,t){if(s&1&&P(0,"span",44),s&2){let e=_(3);f("ngClass",e.chooseIcon)}}function oI(s,t){s&1&&P(0,"PlusIcon",24),s&2&&(f("styleClass","p-button-icon p-button-icon-left pi"),k("aria-hidden",!0)("data-pc-section","uploadicon"))}function aI(s,t){}function lI(s,t){s&1&&S(0,aI,0,0,"ng-template")}function cI(s,t){if(s&1&&(I(0,"span",46),S(1,lI,1,0,null,11),D()),s&2){let e=_(4);k("aria-hidden",!0)("data-pc-section","uploadicon"),g(),f("ngTemplateOutlet",e.chooseIconTemplate)}}function hI(s,t){if(s&1&&(Q(0),S(1,oI,1,3,"PlusIcon",22)(2,cI,2,3,"span",45),J()),s&2){let e=_(3);g(),f("ngIf",!e.chooseIconTemplate),g(),f("ngIf",e.chooseIconTemplate)}}function dI(s,t){if(s&1&&S(0,rI,1,1,"span",43)(1,hI,3,2,"ng-container",9),s&2){let e=_(2);f("ngIf",e.chooseIcon),g(),f("ngIf",!e.chooseIcon)}}function uI(s,t){if(s&1&&(I(0,"span",19),ce(1),D()),s&2){let e=_(2);k("data-pc-section","label"),g(),ze(e.basicButtonLabel)}}function pI(s,t){if(s&1){let e=Z();I(0,"input",47,3),W("change",function(n){O(e);let r=_(2);return E(r.onFileSelect(n))})("focus",function(){O(e);let n=_(2);return E(n.onFocus())})("blur",function(){O(e);let n=_(2);return E(n.onBlur())}),D()}if(s&2){let e=_(2);f("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled),k("aria-label",e.browseFilesLabel)("data-pc-section","input")}}function fI(s,t){if(s&1){let e=Z();I(0,"div",38),P(1,"p-messages",14),I(2,"span",39),W("click",function(){O(e);let n=_();return E(n.onBasicUploaderClick())})("keydown",function(n){O(e);let r=_();return E(r.onBasicKeydown(n))}),S(3,sI,3,2,"ng-container",40)(4,dI,2,2,"ng-template",null,2,xt)(6,uI,2,2,"span",41)(7,pI,2,5,"input",42),D()()}if(s&2){let e=it(5),i=_();k("data-pc-name","fileupload"),g(),f("value",i.msgs)("enableService",!1),g(),z(i.styleClass),f("ngClass",Tn(12,fS,!i.basicButtonLabel,i.hasFiles(),i.focus,i.disabled))("ngStyle",i.style),k("data-pc-section","choosebutton"),g(),f("ngIf",i.hasFiles()&&!i.auto)("ngIfElse",e),g(3),f("ngIf",i.basicButtonLabel),g(),f("ngIf",!i.hasFiles())}}var FA=(()=>{class s{document;platformId;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new X;onSend=new X;onUpload=new X;onError=new X;onClear=new X;onRemove=new X;onSelect=new X;onProgress=new X;uploadHandler=new X;onImageError=new X;onRemoveUploadedFile=new X;templates;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let i=0;i<e.length;i++){let n=e[i];this.validate(n)&&(this.isImage(n)&&(n.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[i]))),this._files.push(e[i]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];fileUploadSubcription;constructor(e,i,n,r,o,l,c,d,u){this.document=e,this.platformId=i,this.renderer=n,this.el=r,this.sanitizer=o,this.zone=l,this.http=c,this.cd=d,this.config=u}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"file":this.fileTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"toolbar":this.toolbarTemplate=e.template;break;case"chooseicon":this.chooseIconTemplate=e.template;break;case"uploadicon":this.uploadIconTemplate=e.template;break;case"cancelicon":this.cancelIconTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;default:this.fileTemplate=e.template;break}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){vt(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let i=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let n=0;n<i.length;n++){let r=i[n];this.isFileSelected(r)||this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[n]))),this.files.push(i[n]))}this.onSelect.emit({originalEvent:e,files:i,currentFiles:this.files}),this.checkFileLimit(i),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let i of this.files)if(i.name+i.type+i.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(vt(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){return this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",e.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):this.maxFileSize&&e.size>this.maxFileSize?(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",e.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),!1):!0}isFileTypeValid(e){let i=this.accept?.split(",").map(n=>n.trim());for(let n of i)if(this.isWildcard(n)?this.getTypeClass(e.type)===this.getTypeClass(n):e.type==n||this.getFileExtension(e).toLowerCase()===n.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let i=0;i<this.files.length;i++)e.append(this.name,this.files[i],this.files[i].name);this.cancelUploadRequest(),this.fileUploadSubcription=this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(i=>{switch(i.type){case Ci.Sent:this.onSend.emit({originalEvent:i,formData:e});break;case Ci.Response:this.uploading=!1,this.progress=0,i.status>=200&&i.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:i,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles.push(...this.files),this.clear();break;case Ci.UploadProgress:{i.loaded&&(this.progress=Math.round(i.loaded*100/i.total)),this.onProgress.emit({originalEvent:i,progress:this.progress});break}}this.cd.markForCheck()},i=>{this.uploading=!1,this.onError.emit({files:this.files,error:i})})}}clear(){this.files=[],this.uploadedFileCount=0,this.cancelUploadRequest(),this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(e,i){this.cancelUploadRequest(),this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[i]}),this.files.splice(i,1),this.checkFileLimit(this.files)}removeUploadedFile(e){let i=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:i,files:this.uploadedFiles})}cancelUploadRequest(){this.fileUploadSubcription&&(this.fileUploadSubcription.unsubscribe(),this.fileUploadSubcription=void 0)}isFileLimitExceeded(){let i=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=i&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<i}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(e){this.msgs??=[];let i=this.msgs.length>0&&this.fileLimit<e.length;(this.isFileLimitExceeded()||i)&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(M.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||M.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){M.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let i=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||i&&i.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let r=this.getTranslation(ht.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let o=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,o)).toFixed(3)} ${r[o]}`}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(ht.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(ht.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(ht.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(ht.ARIA)[ht.BROWSE_FILES]}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||s)(B(ke),B(lt),B(ct),B(Oe),B(Gl),B(et),B(Kn),B(Ke),B(nt))};static \u0275cmp=G({type:s,selectors:[["p-fileUpload"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ve(lS,5),ve(cS,5),ve(hS,5)),i&2){let r;ee(r=te())&&(n.advancedFileInput=r.first),ee(r=te())&&(n.basicFileInput=r.first),ee(r=te())&&(n.content=r.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",H],accept:"accept",disabled:[2,"disabled","disabled",H],auto:[2,"auto","auto",H],withCredentials:[2,"withCredentials","withCredentials",H],maxFileSize:[2,"maxFileSize","maxFileSize",fe],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",fe],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",H],showCancelButton:[2,"showCancelButton","showCancelButton",H],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",H],fileLimit:[2,"fileLimit","fileLimit",e=>fe(e,null)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[Ee],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["chooseSection",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],["type","file",3,"change","multiple","accept","disabled"],[1,"p-fileupload-buttonbar"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],["class","p-fileupload-empty",4,"ngIf"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"focus","blur","click","keydown.enter","ngClass"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"onClick","label","disabled","styleClass"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"click","disabled"],[3,"error","src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload-empty"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"change","focus","blur","accept","multiple","disabled"]],template:function(i,n){i&1&&S(0,ZS,14,42,"div",4)(1,fI,8,17,"div",5),i&2&&(f("ngIf",n.mode==="advanced"),g(),f("ngIf",n.mode==="basic"))},dependencies:()=>[Me,ni,Be,qe,Ae,En,fc,xp,wp,Yt,Dc,Oc,st],styles:[`@layer primeng{.p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}}
`],encapsulation:2,changeDetection:0})}return s})(),Mc=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,De,Mi,kc,Ec,ri,Dc,Oc,st,De,Mi,kc,Ec]})}return s})();var Sp=S1(Tp()),qr=class{static generateDatePeriods(t,e){let i=(0,Sp.default)(t,"DD-MM-YYYY");return Array.from({length:e},(n,r)=>{let o=i.clone().add(r,"months"),l=i.date(),c=o.daysInMonth(),d=Math.min(l,c);return o.date(d),o.format("DD-MM-YYYY")})}};var Ip=(()=>{class s{units=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];tens=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];thousands=["","Thousand","Million","Billion"];convert(e){return e<0?"Minus "+this.numberToWords(Math.abs(e))+" Rials Only":this.numberToWords(e)+" Rials Only"}numberToWords(e){if(e===0)return"Zero";let i="";for(let n=0;n<this.thousands.length&&e!==0;n++){let r=e%1e3;r>0&&(i=this.convertHundreds(r)+(this.thousands[n]?" "+this.thousands[n]:"")+" "+i),e=Math.floor(e/1e3)}return i.trim()}convertHundreds(e){let i="";return e>=100&&(i+=this.units[Math.floor(e/100)]+" Hundred",e%=100,e>0&&(i+=" ")),e<20?i+=this.units[e]:(i+=this.tens[Math.floor(e/10)],e%10>0&&(i+=" "+this.units[e%10])),i.trim()}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function V(s,t,e){return(t=function(i){var n=function(r,o){if(typeof r!="object"||!r)return r;var l=r[Symbol.toPrimitive];if(l!==void 0){var c=l.call(r,o||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}(i,"string");return typeof n=="symbol"?n:n+""}(t))in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function Dp(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),e.push.apply(e,i)}return e}function A(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Dp(Object(e),!0).forEach(function(i){V(s,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):Dp(Object(e)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(e,i))})}return s}function gt(s,t){if(s==null)return{};var e,i,n=function(o,l){if(o==null)return{};var c={};for(var d in o)if({}.hasOwnProperty.call(o,d)){if(l.indexOf(d)>=0)continue;c[d]=o[d]}return c}(s,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(s,e)&&(n[e]=s[e])}return n}function jn(s,t){return t||(t=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(t)}}))}var ma=class{constructor(){V(this,"browserShadowBlurConstant",1),V(this,"DPI",96),V(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),V(this,"perfLimitSizeTotal",2097152),V(this,"maxCacheSideLimit",4096),V(this,"minCacheSideLimit",256),V(this,"disableStyleCopyPaste",!1),V(this,"enableGLFiltering",!0),V(this,"textureSize",4096),V(this,"forceGLPutImageData",!1),V(this,"cachesBoundsOfCurve",!1),V(this,"fontPaths",{}),V(this,"NUM_FRACTION_DIGITS",4)}},je=new class extends ma{constructor(s){super(),this.configure(s)}configure(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,s)}addFonts(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=A(A({},this.fontPaths),s)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(s=>{delete this.fontPaths[s]})}clearFonts(){this.fontPaths={}}restoreDefaults(s){let t=new ma,e=s?.reduce((i,n)=>(i[n]=t[n],i),{})||t;this.configure(e)}},Pn=function(s){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return console[s]("fabric",...e)},Ii=class extends Error{constructor(t,e){super("fabric: ".concat(t),e)}},ga=class extends Ii{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}},Yc=class{},Gc=class extends Yc{testPrecision(t,e){let i="precision ".concat(e,` float;
void main(){}`),n=t.createShader(t.FRAGMENT_SHADER);return!!n&&(t.shaderSource(n,i),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS))}queryWebGL(t){let e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(i=>this.testPrecision(e,i)),e.getExtension("WEBGL_lose_context").loseContext(),Pn("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}},gI={},Op;var Xi=()=>Op||(Op={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Gc,dispose(){},copyPasteData:gI}),pr=()=>Xi().document,Wa=()=>Xi().window,sf=()=>{var s;return Math.max((s=je.devicePixelRatio)!==null&&s!==void 0?s:Wa().devicePixelRatio,1)},Qr=new class{constructor(){V(this,"charWidthsCache",{}),V(this,"boundsOfCurveCache",{})}getFontCache(s){let{fontFamily:t,fontStyle:e,fontWeight:i}=s;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});let n=this.charWidthsCache[t],r="".concat(e.toLowerCase(),"_").concat((i+"").toLowerCase());return n[r]||(n[r]={}),n[r]}clearFontCache(s){(s=(s||"").toLowerCase())?this.charWidthsCache[s]&&delete this.charWidthsCache[s]:this.charWidthsCache={}}limitDimsByArea(s){let{perfLimitSizeTotal:t}=je,e=Math.sqrt(t*s);return[Math.floor(e),Math.floor(t/e)]}},Xc="6.4.3";function vs(){}var Rn=Math.PI/2,mn=2*Math.PI,xh=Math.PI/180,Qt=Object.freeze([1,0,0,1,0,0]),Th=16,kn=.4477152502,Ie="center",Ze="left",oi="top",qc="bottom",St="right",ai="none",Sh=/\r?\n/,rf="moving",za="scaling",of="rotating",Ih="rotate",af="skewing",so="resizing",lf="modifyPoly",_I="modifyPath",_a="changed",Ya="scale",Jt="scaleX",_i="scaleY",fr="skewX",mr="skewY",Mt="fill",li="stroke",va="modified",Js="json",Ac="svg",re=new class{constructor(){this[Js]=new Map,this[Ac]=new Map}has(s){return this[Js].has(s)}getClass(s){let t=this[Js].get(s);if(!t)throw new Ii("No class registered for ".concat(s));return t}setClass(s,t){t?this[Js].set(t,s):(this[Js].set(s.type,s),this[Js].set(s.type.toLowerCase(),s))}getSVGClass(s){return this[Ac].get(s)}setSVGClass(s,t){this[Ac].set(t??s.type.toLowerCase(),s)}},ya=new class extends Array{remove(s){let t=this.indexOf(s);t>-1&&this.splice(t,1)}cancelAll(){let s=this.splice(0);return s.forEach(t=>t.abort()),s}cancelByCanvas(s){if(!s)return[];let t=this.filter(e=>{var i;return e.target===s||typeof e.target=="object"&&((i=e.target)===null||i===void 0?void 0:i.canvas)===s});return t.forEach(e=>e.abort()),t}cancelByTarget(s){if(!s)return[];let t=this.filter(e=>e.target===s);return t.forEach(e=>e.abort()),t}},Kc=class{constructor(){V(this,"__eventListeners",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(i=>{let[n,r]=i;this.on(n,r)}),()=>this.off(t);if(e){let i=t;return this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(e),()=>this.off(i,e)}return()=>!1}once(t,e){if(typeof t=="object"){let i=[];return Object.entries(t).forEach(n=>{let[r,o]=n;i.push(this.once(r,o))}),()=>i.forEach(n=>n())}if(e){let i=this.on(t,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.call(this,...r),i()});return i}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){let i=this.__eventListeners[t],n=i.indexOf(e);n>-1&&i.splice(n,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(t===void 0)for(let i in this.__eventListeners)this._removeEventListener(i);else typeof t=="object"?Object.entries(t).forEach(i=>{let[n,r]=i;this._removeEventListener(n,r)}):this._removeEventListener(t,e)}fire(t,e){var i;if(!this.__eventListeners)return;let n=(i=this.__eventListeners[t])===null||i===void 0?void 0:i.concat();if(n)for(let r=0;r<n.length;r++)n[r].call(this,e||{})}},Qn=(s,t)=>{let e=s.indexOf(t);return e!==-1&&s.splice(e,1),s},Pi=s=>{if(s===0)return 1;switch(Math.abs(s)/Rn){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},Ri=s=>{if(s===0)return 0;let t=s/Rn,e=Math.sign(s);switch(t){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(s)},N=class s{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new s(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new s(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new s(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new s(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new s(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new s(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new s(this.x/t.x,this.y/t.y)}scalarDivide(t){return new s(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new s(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){let e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}midPointFrom(t){return this.lerp(t)}min(t){return new s(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new s(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){let e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i}clone(){return new s(this.x,this.y)}rotate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dh,i=Ri(t),n=Pi(t),r=this.subtract(e);return new s(r.x*n-r.y*i,r.x*i+r.y*n).add(e)}transform(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new s(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}},Dh=new N(0,0),pa=s=>!!s&&Array.isArray(s._objects);function cf(s){class t extends s{constructor(){super(...arguments),V(this,"_objects",[])}_onObjectAdded(i){}_onObjectRemoved(i){}_onStackOrderChanged(i){}add(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];let o=this._objects.push(...n);return n.forEach(l=>this._onObjectAdded(l)),o}insertAt(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this._objects.splice(i,0,...r),r.forEach(l=>this._onObjectAdded(l)),this._objects.length}remove(){let i=this._objects,n=[];for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return o.forEach(c=>{let d=i.indexOf(c);d!==-1&&(i.splice(d,1),n.push(c),this._onObjectRemoved(c))}),n}forEachObject(i){this.getObjects().forEach((n,r,o)=>i(n,r,o))}getObjects(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return n.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...n))}item(i){return this._objects[i]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(i,n){return!!this._objects.includes(i)||!!n&&this._objects.some(r=>r instanceof t&&r.contains(i,!0))}complexity(){return this._objects.reduce((i,n)=>i+=n.complexity?n.complexity():0,0)}sendObjectToBack(i){return!(!i||i===this._objects[0])&&(Qn(this._objects,i),this._objects.unshift(i),this._onStackOrderChanged(i),!0)}bringObjectToFront(i){return!(!i||i===this._objects[this._objects.length-1])&&(Qn(this._objects,i),this._objects.push(i),this._onStackOrderChanged(i),!0)}sendObjectBackwards(i,n){if(!i)return!1;let r=this._objects.indexOf(i);if(r!==0){let o=this.findNewLowerIndex(i,r,n);return Qn(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}bringObjectForward(i,n){if(!i)return!1;let r=this._objects.indexOf(i);if(r!==this._objects.length-1){let o=this.findNewUpperIndex(i,r,n);return Qn(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}moveObjectTo(i,n){return i!==this._objects[n]&&(Qn(this._objects,i),this._objects.splice(n,0,i),this._onStackOrderChanged(i),!0)}findNewLowerIndex(i,n,r){let o;if(r){o=n;for(let l=n-1;l>=0;--l)if(i.isOverlapping(this._objects[l])){o=l;break}}else o=n-1;return o}findNewUpperIndex(i,n,r){let o;if(r){o=n;for(let l=n+1;l<this._objects.length;++l)if(i.isOverlapping(this._objects[l])){o=l;break}}else o=n+1;return o}collectObjects(i){let{left:n,top:r,width:o,height:l}=i,{includeIntersecting:c=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=[],u=new N(n,r),v=u.add(new N(o,l));for(let y=this._objects.length-1;y>=0;y--){let C=this._objects[y];C.selectable&&C.visible&&(c&&C.intersectsWithRect(u,v)||C.isContainedWithinRect(u,v)||c&&C.containsPoint(u)||c&&C.containsPoint(v))&&d.push(C)}return d}}return t}var ba=class extends Kc{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let e in t)this.set(e,t[e])}_setObject(t){for(let e in t)this._set(e,t[e])}set(t,e){return typeof t=="object"?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){let e=this.get(t);return typeof e=="boolean"&&this.set(t,!e),this}get(t){return this[t]}};function Jr(s){return Wa().requestAnimationFrame(s)}function hf(s){return Wa().cancelAnimationFrame(s)}var vI=0,Nn=()=>vI++,It=()=>{let s=pr().createElement("canvas");if(!s||s.getContext===void 0)throw new Ii("Failed to create `canvas` element");return s},df=()=>pr().createElement("img"),Oh=(s,t,e)=>s.toDataURL("image/".concat(t),e),yt=s=>s*xh,Bn=s=>s/xh,uf=s=>s.every((t,e)=>t===Qt[e]),Gt=(s,t,e)=>new N(s).transform(t,e),gi=s=>{let t=1/(s[0]*s[3]-s[1]*s[2]),e=[t*s[3],-t*s[1],-t*s[2],t*s[0],0,0],{x:i,y:n}=new N(s[4],s[5]).transform(e,!0);return e[4]=-i,e[5]=-n,e},bt=(s,t,e)=>[s[0]*t[0]+s[2]*t[1],s[1]*t[0]+s[3]*t[1],s[0]*t[2]+s[2]*t[3],s[1]*t[2]+s[3]*t[3],e?0:s[0]*t[4]+s[2]*t[5]+s[4],e?0:s[1]*t[4]+s[3]*t[5]+s[5]],Ga=(s,t)=>s.reduceRight((e,i)=>i&&e?bt(i,e,t):i||e,void 0)||Qt.concat(),pf=s=>{let[t,e]=s;return Math.atan2(e,t)},cr=s=>{let t=pf(s),e=Math.pow(s[0],2)+Math.pow(s[1],2),i=Math.sqrt(e),n=(s[0]*s[3]-s[2]*s[1])/i,r=Math.atan2(s[0]*s[2]+s[1]*s[3],e);return{angle:Bn(t),scaleX:i,scaleY:n,skewX:Bn(r),skewY:0,translateX:s[4]||0,translateY:s[5]||0}},gr=function(s){return[1,0,0,1,s,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function _r(){let{angle:s=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:e=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=yt(s),n=Pi(i),r=Ri(i);return[n,r,-r,n,t?t-(n*t-r*e):0,e?e-(r*t+n*e):0]}var Xa=function(s){return[s,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,0,0]},ff=s=>Math.tan(yt(s)),Eh=s=>[1,0,ff(s),1,0,0],kh=s=>[1,ff(s),0,1,0,0],uo=s=>{let{scaleX:t=1,scaleY:e=1,flipX:i=!1,flipY:n=!1,skewX:r=0,skewY:o=0}=s,l=Xa(i?-t:t,n?-e:e);return r&&(l=bt(l,Eh(r),!0)),o&&(l=bt(l,kh(o),!0)),l},mf=s=>{let{translateX:t=0,translateY:e=0,angle:i=0}=s,n=gr(t,e);i&&(n=bt(n,_r({angle:i})));let r=uo(s);return uf(r)||(n=bt(n,r)),n},eo=function(s){let{signal:t,crossOrigin:e=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,n){if(t&&t.aborted)return n(new ga("loadImage"));let r=df(),o;t&&(o=function(c){r.src="",n(c)},t.addEventListener("abort",o,{once:!0}));let l=function(){r.onload=r.onerror=null,o&&t?.removeEventListener("abort",o),i(r)};s?(r.onload=l,r.onerror=function(){o&&t?.removeEventListener("abort",o),n(new Ii("Error loading ".concat(r.src)))},e&&(r.crossOrigin=e),r.src=s):l()})},hr=function(s){let{signal:t,reviver:e=vs}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((i,n)=>{let r=[];t&&t.addEventListener("abort",n,{once:!0}),Promise.all(s.map(o=>re.getClass(o.type).fromObject(o,{signal:t}).then(l=>(e(o,l),r.push(l),l)))).then(i).catch(o=>{r.forEach(l=>{l.dispose&&l.dispose()}),n(o)}).finally(()=>{t&&t.removeEventListener("abort",n)})})},po=function(s){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((e,i)=>{let n=[];t&&t.addEventListener("abort",i,{once:!0});let r=Object.values(s).map(l=>l&&l.type&&re.has(l.type)?hr([l],{signal:t}).then(c=>{let[d]=c;return n.push(d),d}):l),o=Object.keys(s);Promise.all(r).then(l=>l.reduce((c,d,u)=>(c[o[u]]=d,c),{})).then(e).catch(l=>{n.forEach(c=>{c.dispose&&c.dispose()}),i(l)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},Ss=function(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,e)=>(e in s&&(t[e]=s[e]),t),{})},Mh=(s,t)=>Object.keys(s).reduce((e,i)=>(t(s[i],i,s)&&(e[i]=s[i]),e),{}),Ep={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Vc=(s,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+6*(t-s)*e:e<.5?t:e<2/3?s+(t-s)*(2/3-e)*6:s),kp=(s,t,e,i)=>{s/=255,t/=255,e/=255;let n=Math.max(s,t,e),r=Math.min(s,t,e),o,l,c=(n+r)/2;if(n===r)o=l=0;else{let d=n-r;switch(l=c>.5?d/(2-n-r):d/(n+r),n){case s:o=(t-e)/d+(t<e?6:0);break;case t:o=(e-s)/d+2;break;case e:o=(s-t)/d+4}o/=6}return[Math.round(360*o),Math.round(100*l),Math.round(100*c),i]},Mp=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(s)/(s.endsWith("%")?100:1)},oa=s=>Math.min(Math.round(s),255).toString(16).toUpperCase().padStart(2,"0"),Fp=s=>{let[t,e,i,n=1]=s,r=Math.round(.3*t+.59*e+.11*i);return[r,r,r,n]},ei=class s{constructor(t){if(V(this,"isUnrecognised",!1),t)if(t instanceof s)this.setSource([...t._source]);else if(Array.isArray(t)){let[e,i,n,r=1]=t;this.setSource([e,i,n,r])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return t in Ep&&(t=Ep[t]),t==="transparent"?[255,255,255,0]:s.sourceFromHex(t)||s.sourceFromRgb(t)||s.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){let[t,e,i]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(i,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[t,e,i]=kp(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(i,"%)")}toHsla(){let[t,e,i,n]=kp(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(i,"%,").concat(n,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[t,e,i,n]=this.getSource();return"".concat(oa(t)).concat(oa(e)).concat(oa(i)).concat(oa(Math.round(255*n)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(Fp(this.getSource())),this}toBlackWhite(t){let[e,,,i]=Fp(this.getSource()),n=e<(t||127)?0:255;return this.setSource([n,n,n,i]),this}overlayWith(t){t instanceof s||(t=new s(t));let e=this.getSource(),i=t.getSource(),[n,r,o]=e.map((l,c)=>Math.round(.5*l+.5*i[c]));return this.setSource([n,r,o,e[3]]),this}static fromRgb(t){return s.fromRgba(t)}static fromRgba(t){return new s(s.sourceFromRgb(t))}static sourceFromRgb(t){let e=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(e){let[i,n,r]=e.slice(1,4).map(o=>{let l=parseFloat(o);return o.endsWith("%")?Math.round(2.55*l):l});return[i,n,r,Mp(e[4])]}}static fromHsl(t){return s.fromHsla(t)}static fromHsla(t){return new s(s.sourceFromHsl(t))}static sourceFromHsl(t){let e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!e)return;let i=(s.parseAngletoDegrees(e[1])%360+360)%360/360,n=parseFloat(e[2])/100,r=parseFloat(e[3])/100,o,l,c;if(n===0)o=l=c=r;else{let d=r<=.5?r*(n+1):r+n-r*n,u=2*r-d;o=Vc(u,d,i+1/3),l=Vc(u,d,i),c=Vc(u,d,i-1/3)}return[Math.round(255*o),Math.round(255*l),Math.round(255*c),Mp(e[4])]}static fromHex(t){return new s(s.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let e=t.slice(t.indexOf("#")+1),i;i=e.length<=4?e.split("").map(c=>c+c):e.match(/.{2}/g);let[n,r,o,l=255]=i.map(c=>parseInt(c,16));return[n,r,o,l/255]}}static parseAngletoDegrees(t){let e=t.toLowerCase(),i=parseFloat(e);return e.includes("rad")?Bn(i):e.includes("turn")?360*i:i}},mt=(s,t)=>parseFloat(Number(s).toFixed(t)),ys=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Th,e=/\D{0,2}$/.exec(s),i=parseFloat(s),n=je.DPI;switch(e?.[0]){case"mm":return i*n/25.4;case"cm":return i*n/2.54;case"in":return i*n;case"pt":return i*n/72;case"pc":return i*n/72*12;case"em":return i*t;default:return i}},gf=s=>{let[t,e]=s.trim().split(" "),[i,n]=(r=t)&&r!==ai?[r.slice(1,4),r.slice(5,8)]:r===ai?[r,r]:["Mid","Mid"];var r;return{meetOrSlice:e||"meet",alignX:i,alignY:n}},ro=s=>"matrix("+s.map(t=>mt(t,je.NUM_FRACTION_DIGITS)).join(" ")+")",oo=function(s,t){let e,i,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)e="url(#SVGID_".concat(t.id,")");else{let r=new ei(t),o=r.getAlpha();e=r.toRgb(),o!==1&&(i=o.toString())}else e="none";return n?"".concat(s,": ").concat(e,"; ").concat(i?"".concat(s,"-opacity: ").concat(i,"; "):""):"".concat(s,'="').concat(e,'" ').concat(i?"".concat(s,'-opacity="').concat(i,'" '):"")},Si=s=>!!s&&s.toLive!==void 0,Ap=s=>!!s&&typeof s.toObject=="function",Vp=s=>!!s&&s.offsetX!==void 0&&"source"in s,_f=s=>!!s&&typeof s._renderText=="function",Jn=s=>!!s&&"multiSelectionStacking"in s;function vf(s){let t=s&&Ai(s),e=0,i=0;if(!s||!t)return{left:e,top:i};let n=s,r=t.documentElement,o=t.body||{scrollLeft:0,scrollTop:0};for(;n&&(n.parentNode||n.host)&&(n=n.parentNode||n.host,n===t?(e=o.scrollLeft||r.scrollLeft||0,i=o.scrollTop||r.scrollTop||0):(e+=n.scrollLeft||0,i+=n.scrollTop||0),n.nodeType!==1||n.style.position!=="fixed"););return{left:e,top:i}}var Ai=s=>s.ownerDocument||null,yf=s=>{var t;return((t=s.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},bf=function(s,t,e){let{width:i,height:n}=e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;s.width=i,s.height=n,r>1&&(s.setAttribute("width",(i*r).toString()),s.setAttribute("height",(n*r).toString()),t.scale(r,r))},$c=(s,t)=>{let{width:e,height:i}=t;e&&(s.style.width=typeof e=="number"?"".concat(e,"px"):e),i&&(s.style.height=typeof i=="number"?"".concat(i,"px"):i)};function Lp(s){return s.onselectstart!==void 0&&(s.onselectstart=()=>!1),s.style.userSelect=ai,s}var Ca=class{constructor(t){V(this,"_originalCanvasStyle",void 0),V(this,"lower",void 0);let e=this.createLowerCanvas(t);this.lower={el:e,ctx:e.getContext("2d")}}createLowerCanvas(t){let e=(i=t)&&i.getContext!==void 0?t:t&&pr().getElementById(t)||It();var i;if(e.hasAttribute("data-fabric"))throw new Ii("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=e.style.cssText,e.setAttribute("data-fabric","main"),e.classList.add("lower-canvas"),e}cleanupDOM(t){let{width:e,height:i}=t,{el:n}=this.lower;n.classList.remove("lower-canvas"),n.removeAttribute("data-fabric"),n.setAttribute("width","".concat(e)),n.setAttribute("height","".concat(i)),n.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){let{el:i,ctx:n}=this.lower;bf(i,n,t,e)}setCSSDimensions(t){$c(this.lower.el,t)}calcOffset(){return function(t){var e;let i=t&&Ai(t),n={left:0,top:0};if(!i)return n;let r=((e=yf(t))===null||e===void 0?void 0:e.getComputedStyle(t,null))||{};n.left+=parseInt(r.borderLeftWidth,10)||0,n.top+=parseInt(r.borderTopWidth,10)||0,n.left+=parseInt(r.paddingLeft,10)||0,n.top+=parseInt(r.paddingTop,10)||0;let o={left:0,top:0},l=i.documentElement;t.getBoundingClientRect!==void 0&&(o=t.getBoundingClientRect());let c=vf(t);return{left:o.left+c.left-(l.clientLeft||0)+n.left,top:o.top+c.top-(l.clientTop||0)+n.top}}(this.lower.el)}dispose(){Xi().dispose(this.lower.el),delete this.lower}},yI={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Qt]},ao=class s extends cf(ba){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return s.ownDefaults}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new Ca(t)}add(){let t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=super.insertAt(t,...i);return i.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),r}remove(){let t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(Pn("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?sf():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:i=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e){let n=A({width:this.width,height:this.height},t);this.elements.setDimensions(n,this.getRetinaScaling()),this.hasLostContext=!0,this.width=n.width,this.height=n.height}i||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){let i=t,n=[...this.viewportTransform],r=Gt(t,gi(n));n[0]=e,n[3]=e;let o=Gt(r,n);n[4]+=i.x-o.x,n[5]+=i.y-o.y,this.setViewportTransform(n)}setZoom(t){this.zoomToPoint(new N(0,0),t)}absolutePan(t){let e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new N(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Jr(()=>this.renderAndReset()))}calcViewportBoundaries(){let t=this.width,e=this.height,i=gi(this.viewportTransform),n=Gt({x:0,y:0},i),r=Gt({x:t,y:e},i),o=n.min(r),l=n.max(r);return this.vptCoords={tl:o,tr:new N(l.x,o.y),bl:new N(o.x,l.y),br:l}}cancelRequestedRender(){this.nextRenderHandle&&(hf(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;let i=this.viewportTransform,n=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),n&&(n._set("canvas",this),n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,n)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){let i=this.viewportTransform;t.save(),t.transform(...i),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let i=0,n=e.length;i<n;++i)e[i]&&e[i].render(t)}_renderBackgroundOrOverlay(t,e){let i=this["".concat(e,"Color")],n=this["".concat(e,"Image")],r=this.viewportTransform,o=this["".concat(e,"Vpt")];if(!i&&!n)return;let l=Si(i);if(i){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=l?i.toLive(t):i,o&&t.transform(...r),l){t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);let c=i.gradientTransform||i.patternTransform;c&&t.transform(...c)}t.fill(),t.restore()}if(n){t.save();let{skipOffscreen:c}=this;this.skipOffscreen=o,o&&t.transform(...r),n.render(t),this.skipOffscreen=c,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new N(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new N(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new N(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new N(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new N(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Gt(this.getCenterPoint(),gi(this.viewportTransform))}_centerObject(t,e){t.setXY(e,Ie,Ie),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,e){let i=this.clipPath,n=i&&!i.excludeFromExport?this._toObject(i,t,e):null;return A(A(A({version:Xc},Ss(this,e)),{},{objects:this._objects.filter(r=>!r.excludeFromExport).map(r=>this._toObject(r,t,e))},this.__serializeBgOverlay(t,e)),n?{clipPath:n}:null)}_toObject(t,e,i){let n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);let r=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=!!n),r}__serializeBgOverlay(t,e){let i={},n=this.backgroundImage,r=this.overlayImage,o=this.backgroundColor,l=this.overlayColor;return Si(o)?o.excludeFromExport||(i.background=o.toObject(e)):o&&(i.background=o),Si(l)?l.excludeFromExport||(i.overlay=l.toObject(e)):l&&(i.overlay=l),n&&!n.excludeFromExport&&(i.backgroundImage=this._toObject(n,t,e)),r&&!r.excludeFromExport&&(i.overlayImage=this._toObject(r,t,e)),i}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;let i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push(`</g>
`),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,e){let i=e.width||"".concat(this.width),n=e.height||"".concat(this.height),r=je.NUM_FRACTION_DIGITS,o=e.viewBox,l;if(o)l='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){let c=this.viewportTransform;l='viewBox="'.concat(mt(-c[4]/c[0],r)," ").concat(mt(-c[5]/c[3],r)," ").concat(mt(this.width/c[0],r)," ").concat(mt(this.height/c[3],r),'" ')}else l='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',n,'" ',l,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Xc,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),`</defs>
`)}createSVGClipPathMarkup(t){let e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(Nn()),'<clipPath id="'.concat(e.clipPathId,`" >
`).concat(e.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{let e=this["".concat(t,"Color")];if(Si(e)){let i=this["".concat(t,"Vpt")],n=this.viewportTransform,r={isType:()=>!1,width:this.width/(i?n[0]:1),height:this.height/(i?n[3]:1)};return e.toSVG(r,{additionalTransform:i?ro(n):""})}}).join("")}createSVGFontFacesMarkup(){let t=[],e={},i=je.fontPaths;this._objects.forEach(function r(o){t.push(o),pa(o)&&o._objects.forEach(r)}),t.forEach(r=>{if(!_f(r))return;let{styles:o,fontFamily:l}=r;!e[l]&&i[l]&&(e[l]=!0,o&&Object.values(o).forEach(c=>{Object.values(c).forEach(d=>{let{fontFamily:u=""}=d;!e[u]&&i[u]&&(e[u]=!0)})}))});let n=Object.keys(e).map(r=>`		@font-face {
			font-family: '`.concat(r,`';
			src: url('`).concat(i[r],`');
		}
`)).join("");return n?`	<style type="text/css"><![CDATA[
`.concat(n,`]]></style>
`):""}_setSVGObjects(t,e){this.forEachObject(i=>{i.excludeFromExport||this._setSVGObject(t,i,e)})}_setSVGObject(t,e,i){t.push(e.toSVG(i))}_setSVGBgOverlayImage(t,e,i){let n=this[e];n&&!n.excludeFromExport&&n.toSVG&&t.push(n.toSVG(i))}_setSVGBgOverlayColor(t,e){let i=this["".concat(e,"Color")];if(i)if(Si(i)){let n=i.repeat||"",r=this.width,o=this.height,l=this["".concat(e,"Vpt")]?ro(gi(this.viewportTransform)):"";t.push('<rect transform="'.concat(l," translate(").concat(r/2,",").concat(o/2,')" x="').concat(i.offsetX-r/2,'" y="').concat(i.offsetY-o/2,'" width="').concat(n!=="repeat-y"&&n!=="no-repeat"||!Vp(i)?r:i.source.width,'" height="').concat(n!=="repeat-x"&&n!=="no-repeat"||!Vp(i)?o:i.source.height,'" fill="url(#SVGID_').concat(i.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',`></rect>
`)}loadFromJSON(t,e){let{signal:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new Ii("`json` is undefined"));let n=typeof t=="string"?JSON.parse(t):t,{objects:r=[],backgroundImage:o,background:l,overlayImage:c,overlay:d,clipPath:u}=n,v=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([hr(r,{reviver:e,signal:i}),po({backgroundImage:o,backgroundColor:l,overlayImage:c,overlayColor:d,clipPath:u},{signal:i})]).then(y=>{let[C,w]=y;return this.clear(),this.add(...C),this.set(n),this.set(w),this.renderOnAddRemove=v,this})}clone(t){let e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){let t=It();return t.width=this.width,t.height=this.height,new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:e="png",quality:i=1,multiplier:n=1,enableRetinaScaling:r=!1}=t,o=n*(r?this.getRetinaScaling():1);return Oh(this.toCanvasElement(o,t),e,i)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:e,height:i,left:n,top:r,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=(e||this.width)*t,c=(i||this.height)*t,d=this.getZoom(),u=this.width,v=this.height,y=this.skipControlsDrawing,C=d*t,w=this.viewportTransform,T=[C,0,0,C,(w[4]-(n||0))*t,(w[5]-(r||0))*t],x=this.enableRetinaScaling,L=It(),R=o?this._objects.filter(U=>o(U)):this._objects;return L.width=l,L.height=c,this.enableRetinaScaling=!1,this.viewportTransform=T,this.width=l,this.height=c,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(L.getContext("2d"),R),this.viewportTransform=w,this.width=u,this.height=v,this.calcViewportBoundaries(),this.enableRetinaScaling=x,this.skipControlsDrawing=y,L}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),ya.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{let i=()=>{this.destroy(),t(!0)};i.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=i:i()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};V(ao,"ownDefaults",yI);var bI=["touchstart","touchmove","touchend"],Cf=s=>{let t=vf(s.target),e=function(i){let n=i.changedTouches;return n&&n[0]?n[0]:i}(s);return new N(e.clientX+t.left,e.clientY+t.top)},wa=s=>bI.includes(s.type)||s.pointerType==="touch",Zc=s=>{s.preventDefault(),s.stopPropagation()},Gi=s=>{let t=0,e=0,i=0,n=0;for(let r=0,o=s.length;r<o;r++){let{x:l,y:c}=s[r];(l>i||!r)&&(i=l),(l<t||!r)&&(t=l),(c>n||!r)&&(n=c),(c<e||!r)&&(e=c)}return{left:t,top:e,width:i-t,height:n-e}},CI=["translateX","translateY","scaleX","scaleY"],wf=(s,t)=>dr(s,bt(t,s.calcOwnMatrix())),dr=(s,t)=>{let e=cr(t),{translateX:i,translateY:n,scaleX:r,scaleY:o}=e,l=gt(e,CI),c=new N(i,n);s.flipX=!1,s.flipY=!1,Object.assign(s,l),s.set({scaleX:r,scaleY:o}),s.setPositionByOrigin(c,Ie,Ie)},xf=s=>{s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},Fh=s=>({scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}),qa=(s,t,e)=>{let i=s/2,n=t/2,r=[new N(-i,-n),new N(i,-n),new N(-i,n),new N(i,n)].map(l=>l.transform(e)),o=Gi(r);return new N(o.width,o.height)},fo=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qt;return bt(gi(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt),s)},fn=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qt;return s.transform(fo(t,e))},Tf=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qt;return s.transform(fo(t,e),!0)},Qc=(s,t,e)=>{let i=fo(t,e);return dr(s,bt(i,s.calcOwnMatrix())),i},Ah=(s,t)=>{var e;let{transform:{target:i}}=t;(e=i.canvas)===null||e===void 0||e.fire("object:".concat(s),A(A({},t),{},{target:i})),i.fire(s,t)},wI={left:-.5,top:-.5,center:0,bottom:.5,right:.5},kt=s=>typeof s=="string"?wI[s]:s-.5,xa="not-allowed";function Sf(s){return kt(s.originX)===kt(Ie)&&kt(s.originY)===kt(Ie)}function Pp(s){return .5-kt(s)}var Li=(s,t)=>s[t],Vh=(s,t,e,i)=>({e:s,transform:t,pointer:new N(e,i)});function If(s,t){let e=s.getTotalAngle()+Bn(Math.atan2(t.y,t.x))+360;return Math.round(e%360/45)}function Ka(s,t,e,i,n){var r;let{target:o,corner:l}=s,c=o.controls[l],d=((r=o.canvas)===null||r===void 0?void 0:r.getZoom())||1,u=o.padding/d,v=function(y,C,w,T){let x=y.getRelativeCenterPoint(),L=w!==void 0&&T!==void 0?y.translateToGivenOrigin(x,Ie,Ie,w,T):new N(y.left,y.top);return(y.angle?C.rotate(-yt(y.angle),x):C).subtract(L)}(o,new N(i,n),t,e);return v.x>=u&&(v.x-=u),v.x<=-u&&(v.x+=u),v.y>=u&&(v.y-=u),v.y<=u&&(v.y+=u),v.x-=c.offsetX,v.y-=c.offsetY,v}var Df=(s,t,e,i)=>{let{target:n,offsetX:r,offsetY:o}=t,l=e-r,c=i-o,d=!Li(n,"lockMovementX")&&n.left!==l,u=!Li(n,"lockMovementY")&&n.top!==c;return d&&n.set(Ze,l),u&&n.set(oi,c),(d||u)&&Ah(rf,Vh(s,t,e,i)),d||u},Ta=class{getSvgStyles(t){let e=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):ai,r=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",d=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",v=t?"":this.getSvgFilter(),y=oo(Mt,this.fill);return[oo(li,this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",c,"; ",y,"fill-rule: ",e,"; ","opacity: ",d,";",v,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t?this.calcTransformMatrix():this.calcOwnMatrix(),n='transform="'.concat(ro(i));return"".concat(n).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),r=t.indexOf("COMMON_PARTS");return t[r]=n,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:i,withShadow:n,additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e?"":'style="'.concat(this.getSvgStyles(),'" '),l=n?'style="'.concat(this.getSvgFilter(),'" '):"",c=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=c&&c.absolutePositioned,v=this.stroke,y=this.fill,C=this.shadow,w=[],T=t.indexOf("COMMON_PARTS"),x;c&&(c.clipPathId="CLIPPATH_".concat(Nn()),x='<clipPath id="'.concat(c.clipPathId,`" >
`).concat(c.toClipPathSVG(i),`</clipPath>
`)),u&&w.push("<g ",l,this.getSvgCommons(),` >
`),w.push("<g ",this.getSvgTransform(!1),u?"":l+this.getSvgCommons(),` >
`);let L=[o,d,e?"":this.addPaintOrder()," ",r?'transform="'.concat(r,'" '):""].join("");return t[T]=L,Si(y)&&w.push(y.toSVG(this)),Si(v)&&w.push(v.toSVG(this)),C&&w.push(C.toSVG(this)),c&&w.push(x),w.push(t.join("")),w.push(`</g>
`),u&&w.push(`</g>
`),i?i(w.join("")):w.join("")}addPaintOrder(){return this.paintFirst!==Mt?' paint-order="'.concat(this.paintFirst,'" '):""}};function $a(s){return new RegExp("^("+s.join("|")+")\\b","i")}var Rp,Vi=String.raw(Rp||(Rp=jn(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));var xI=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Vi+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Vi+"))?\\s+(.*)"),TI={cx:Ze,x:Ze,r:"radius",cy:oi,y:oi,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Lc="font-size",Pc="clip-path",PA=$a(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),RA=$a(["symbol","image","marker","pattern","view","svg"]),Np=$a(["symbol","g","a","svg","clipPath","defs"]),NA=new RegExp("^\\s*("+Vi+"+)\\s*,?\\s*("+Vi+"+)\\s*,?\\s*("+Vi+"+)\\s*,?\\s*("+Vi+"+)\\s*$"),SI=new N(1,0),Of=new N,Lh=(s,t)=>s.rotate(t),Sa=(s,t)=>new N(t).subtract(s),Ia=s=>s.distanceFrom(Of),Da=(s,t)=>Math.atan2(ar(s,t),kf(s,t)),Ef=s=>Da(SI,s),Za=s=>s.eq(Of)?s:s.scalarDivide(Ia(s)),Ph=function(s){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Za(new N(-s.y,s.x).scalarMultiply(t?1:-1))},ar=(s,t)=>s.x*t.y-s.y*t.x,kf=(s,t)=>s.x*t.x+s.y*t.y,Jc=(s,t,e)=>{if(s.eq(t)||s.eq(e))return!0;let i=ar(t,e),n=ar(t,s),r=ar(e,s);return i>=0?n>=0&&r<=0:!(n<=0&&r>=0)},Bp="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",jp=new RegExp("(?:\\s|^)"+Bp+Bp+"("+Vi+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)"),bs=class s{constructor(t){let e=typeof t=="string"?s.parseShadow(t):t;Object.assign(this,s.ownDefaults,e),this.id=Nn()}static parseShadow(t){let e=t.trim(),[,i=0,n=0,r=0]=(jp.exec(e)||[]).map(o=>parseFloat(o)||0);return{color:(e.replace(jp,"")||"rgb(0,0,0)").trim(),offsetX:i,offsetY:n,blur:r}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){let e=Lh(new N(this.offsetX,this.offsetY),yt(-t.angle)),i=new ei(this.color),n=40,r=40;return t.width&&t.height&&(n=100*mt((Math.abs(e.x)+this.blur)/t.width,je.NUM_FRACTION_DIGITS)+20,r=100*mt((Math.abs(e.y)+this.blur)/t.height,je.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(r,'%" height="').concat(100+2*r,'%" x="-').concat(n,'%" width="').concat(100+2*n,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(mt(this.blur?this.blur/2:0,je.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(mt(e.x,je.NUM_FRACTION_DIGITS),'" dy="').concat(mt(e.y,je.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(i.toRgb(),'" flood-opacity="').concat(i.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=s.ownDefaults;return this.includeDefaultValues?t:Mh(t,(i,n)=>i!==e[n])}static fromObject(t){return Pt(this,null,function*(){return new this(t)})}};V(bs,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),V(bs,"type","shadow"),re.setClass(bs,"shadow");var ws=(s,t,e)=>Math.max(s,Math.min(t,e)),II=[oi,Ze,Jt,_i,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",fr,mr],gn=[Mt,li,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],DI={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ze,originY:oi,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Mt,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Rc=(s,t,e,i)=>(s<Math.abs(t)?(s=t,i=e/4):i=t===0&&s===0?e/mn*Math.asin(1):e/mn*Math.asin(t/s),{a:s,c:t,p:e,s:i}),Hp=(s,t,e,i,n)=>s*Math.pow(2,10*(i-=1))*Math.sin((i*n-t)*mn/e),Mf=(s,t,e,i)=>-e*Math.cos(s/i*Rn)+e+t,eh=(s,t,e,i)=>(s/=i)<1/2.75?e*(7.5625*s*s)+t:s<2/2.75?e*(7.5625*(s-=1.5/2.75)*s+.75)+t:s<2.5/2.75?e*(7.5625*(s-=2.25/2.75)*s+.9375)+t:e*(7.5625*(s-=2.625/2.75)*s+.984375)+t,Up=(s,t,e,i)=>e-eh(i-s,0,e,i)+t,OI=Object.freeze({__proto__:null,defaultEasing:Mf,easeInBack:function(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*(s/=i)*s*((n+1)*s-n)+t},easeInBounce:Up,easeInCirc:(s,t,e,i)=>-e*(Math.sqrt(1-(s/=i)*s)-1)+t,easeInCubic:(s,t,e,i)=>e*(s/i)**3+t,easeInElastic:(s,t,e,i)=>{let n=e,r=0;if(s===0)return t;if((s/=i)===1)return t+e;r||(r=.3*i);let{a:o,s:l,p:c}=Rc(n,e,r,1.70158);return-Hp(o,l,c,s,i)+t},easeInExpo:(s,t,e,i)=>s===0?t:e*2**(10*(s/i-1))+t,easeInOutBack:function(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(s/=i/2)<1?e/2*(s*s*((1+(n*=1.525))*s-n))+t:e/2*((s-=2)*s*((1+(n*=1.525))*s+n)+2)+t},easeInOutBounce:(s,t,e,i)=>s<i/2?.5*Up(2*s,0,e,i)+t:.5*eh(2*s-i,0,e,i)+.5*e+t,easeInOutCirc:(s,t,e,i)=>(s/=i/2)<1?-e/2*(Math.sqrt(1-s**2)-1)+t:e/2*(Math.sqrt(1-(s-=2)*s)+1)+t,easeInOutCubic:(s,t,e,i)=>(s/=i/2)<1?e/2*s**3+t:e/2*((s-2)**3+2)+t,easeInOutElastic:(s,t,e,i)=>{let n=e,r=0;if(s===0)return t;if((s/=i/2)===2)return t+e;r||(r=i*(.3*1.5));let{a:o,s:l,p:c,c:d}=Rc(n,e,r,1.70158);return s<1?-.5*Hp(o,l,c,s,i)+t:o*Math.pow(2,-10*(s-=1))*Math.sin((s*i-l)*mn/c)*.5+d+t},easeInOutExpo:(s,t,e,i)=>s===0?t:s===i?t+e:(s/=i/2)<1?e/2*2**(10*(s-1))+t:e/2*-(2**(-10*--s)+2)+t,easeInOutQuad:(s,t,e,i)=>(s/=i/2)<1?e/2*s**2+t:-e/2*(--s*(s-2)-1)+t,easeInOutQuart:(s,t,e,i)=>(s/=i/2)<1?e/2*s**4+t:-e/2*((s-=2)*s**3-2)+t,easeInOutQuint:(s,t,e,i)=>(s/=i/2)<1?e/2*s**5+t:e/2*((s-2)**5+2)+t,easeInOutSine:(s,t,e,i)=>-e/2*(Math.cos(Math.PI*s/i)-1)+t,easeInQuad:(s,t,e,i)=>e*(s/=i)*s+t,easeInQuart:(s,t,e,i)=>e*(s/=i)*s**3+t,easeInQuint:(s,t,e,i)=>e*(s/i)**5+t,easeInSine:(s,t,e,i)=>-e*Math.cos(s/i*Rn)+e+t,easeOutBack:function(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*((s=s/i-1)*s*((n+1)*s+n)+1)+t},easeOutBounce:eh,easeOutCirc:(s,t,e,i)=>e*Math.sqrt(1-(s=s/i-1)*s)+t,easeOutCubic:(s,t,e,i)=>e*((s/i-1)**3+1)+t,easeOutElastic:(s,t,e,i)=>{let n=e,r=0;if(s===0)return t;if((s/=i)===1)return t+e;r||(r=.3*i);let{a:o,s:l,p:c,c:d}=Rc(n,e,r,1.70158);return o*2**(-10*s)*Math.sin((s*i-l)*mn/c)+d+t},easeOutExpo:(s,t,e,i)=>s===i?t+e:e*-(2**(-10*s/i)+1)+t,easeOutQuad:(s,t,e,i)=>-e*(s/=i)*(s-2)+t,easeOutQuart:(s,t,e,i)=>-e*((s=s/i-1)*s**3-1)+t,easeOutQuint:(s,t,e,i)=>e*((s/i-1)**5+1)+t,easeOutSine:(s,t,e,i)=>e*Math.sin(s/i*Rn)+t}),EI=()=>!1,lo=class{constructor(t){let{startValue:e,byValue:i,duration:n=500,delay:r=0,easing:o=Mf,onStart:l=vs,onChange:c=vs,onComplete:d=vs,abort:u=EI,target:v}=t;V(this,"_state","pending"),V(this,"durationProgress",0),V(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=n,this.delay=r,this.easing=o,this._onStart=l,this._onChange=c,this._onComplete=d,this._abort=u,this.target=v,this.startValue=e,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let t=e=>{this._state==="pending"&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Jr(t),this.delay):Jr(t)}tick(t){let e=(t||+new Date)-this.startTime,i=Math.min(e,this.duration);this.durationProgress=i/this.duration;let{value:n,valueProgress:r}=this.calculate(i);this.value=Object.freeze(n),this.valueProgress=r,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Jr(this.tick)))}register(){ya.push(this)}unregister(){ya.remove(this)}abort(){this._state="aborted",this.unregister()}},kI=["startValue","endValue"],th=class extends lo{constructor(t){let{startValue:e=0,endValue:i=100}=t;super(A(A({},gt(t,kI)),{},{startValue:e,byValue:i-e}))}calculate(t){let e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}},MI=["startValue","endValue"],ih=class extends lo{constructor(t){let{startValue:e=[0],endValue:i=[100]}=t;super(A(A({},gt(t,MI)),{},{startValue:e,byValue:i.map((n,r)=>n-e[r])}))}calculate(t){let e=this.startValue.map((i,n)=>this.easing(t,i,this.byValue[n],this.duration,n));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}},FI=["startValue","endValue","easing","onChange","onComplete","abort"],AI=(s,t,e,i)=>t+e*(1-Math.cos(s/i*Rn)),Nc=s=>s&&((t,e,i)=>s(new ei(t).toRgba(),e,i)),nh=class extends lo{constructor(t){let{startValue:e,endValue:i,easing:n=AI,onChange:r,onComplete:o,abort:l}=t,c=gt(t,FI),d=new ei(e).getSource(),u=new ei(i).getSource();super(A(A({},c),{},{startValue:d,byValue:u.map((v,y)=>v-d[y]),easing:n,onChange:Nc(r),onComplete:Nc(o),abort:Nc(l)}))}calculate(t){let[e,i,n,r]=this.startValue.map((l,c)=>this.easing(t,l,this.byValue[c],this.duration,c)),o=[...[e,i,n].map(Math.round),ws(0,r,1)];return{value:o,valueProgress:o.map((l,c)=>this.byValue[c]!==0?Math.abs((l-this.startValue[c])/this.byValue[c]):0).find(l=>l!==0)||0}}};function Rh(s){let t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(s)?new ih(s):new th(s);return t.start(),t}function Ff(s){let t=new nh(s);return t.start(),t}var Cs=class s{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(e=>e.eq(t))}append(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.points=this.points.concat(e.filter(n=>!this.includes(n))),this}static isPointContained(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.eq(i))return t.eq(e);if(e.x===i.x)return t.x===e.x&&(n||t.y>=Math.min(e.y,i.y)&&t.y<=Math.max(e.y,i.y));if(e.y===i.y)return t.y===e.y&&(n||t.x>=Math.min(e.x,i.x)&&t.x<=Math.max(e.x,i.x));{let r=Sa(e,i),o=Sa(e,t).divide(r);return n?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(t,e){let i=new N(t).setX(Math.min(t.x-1,...e.map(r=>r.x))),n=0;for(let r=0;r<e.length;r++){let o=this.intersectSegmentSegment(e[r],e[(r+1)%e.length],t,i);if(o.includes(t))return!0;n+=+(o.status==="Intersection")}return n%2==1}static intersectLineLine(t,e,i,n){let r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],l=e.x-t.x,c=e.y-t.y,d=n.x-i.x,u=n.y-i.y,v=t.x-i.x,y=t.y-i.y,C=d*y-u*v,w=l*y-c*v,T=u*l-d*c;if(T!==0){let x=C/T,L=w/T;return(r||0<=x&&x<=1)&&(o||0<=L&&L<=1)?new s("Intersection").append(new N(t.x+x*l,t.y+x*c)):new s}if(C===0||w===0){let x=r||o||s.isPointContained(t,i,n)||s.isPointContained(e,i,n)||s.isPointContained(i,t,e)||s.isPointContained(n,t,e);return new s(x?"Coincident":void 0)}return new s("Parallel")}static intersectSegmentLine(t,e,i,n){return s.intersectLineLine(t,e,i,n,!1,!0)}static intersectSegmentSegment(t,e,i,n){return s.intersectLineLine(t,e,i,n,!1,!1)}static intersectLinePolygon(t,e,i){let n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],r=new s,o=i.length;for(let l,c,d,u=0;u<o;u++){if(l=i[u],c=i[(u+1)%o],d=s.intersectLineLine(t,e,l,c,n,!1),d.status==="Coincident")return d;r.append(...d.points)}return r.points.length>0&&(r.status="Intersection"),r}static intersectSegmentPolygon(t,e,i){return s.intersectLinePolygon(t,e,i,!1)}static intersectPolygonPolygon(t,e){let i=new s,n=t.length,r=[];for(let o=0;o<n;o++){let l=t[o],c=t[(o+1)%n],d=s.intersectSegmentPolygon(l,c,e);d.status==="Coincident"?(r.push(d),i.append(l,c)):i.append(...d.points)}return r.length>0&&r.length===t.length?new s("Coincident"):(i.points.length>0&&(i.status="Intersection"),i)}static intersectPolygonRectangle(t,e,i){let n=e.min(i),r=e.max(i),o=new N(r.x,n.y),l=new N(n.x,r.y);return s.intersectPolygonPolygon(t,[n,o,r,l])}},sh=class extends ba{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){let t=this.getRelativeXY();return this.group?Gt(t,this.group.calcTransformMatrix()):t}setXY(t,e,i){this.group&&(t=Gt(t,gi(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,i)}getRelativeXY(){return new N(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,e,i)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:t,tr:e,br:i,bl:n}=this.aCoords||(this.aCoords=this.calcACoords()),r=[t,e,i,n];if(this.group){let o=this.group.calcTransformMatrix();return r.map(l=>Gt(l,o))}return r}intersectsWithRect(t,e){return Cs.intersectPolygonRectangle(this.getCoords(),t,e).status==="Intersection"}intersectsWithObject(t){let e=Cs.intersectPolygonPolygon(this.getCoords(),t.getCoords());return e.status==="Intersection"||e.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(e=>t.containsPoint(e))}isContainedWithinRect(t,e){let{left:i,top:n,width:r,height:o}=this.getBoundingRect();return i>=t.x&&i+r<=e.x&&n>=t.y&&n+o<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return Cs.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some(i=>i.x<=e.x&&i.x>=t.x&&i.y<=e.y&&i.y>=t.y)||!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:t,br:e}=this.canvas.vptCoords;return this.intersectsWithRect(t,e)?!0:this.getCoords().every(i=>(i.x>=e.x||i.x<=t.x)&&(i.y>=e.y||i.y<=t.y))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return Gi(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(Jt,t),this._set(_i,t),this.setCoords()}scaleToWidth(t){let e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){let e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?Bn(pf(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||Qt.concat()}calcACoords(){let t=_r({angle:this.angle}),{x:e,y:i}=this.getRelativeCenterPoint(),n=gr(e,i),r=bt(n,t),o=this._getTransformedDimensions(),l=o.x/2,c=o.y/2;return{tl:Gt({x:-l,y:-c},r),tr:Gt({x:l,y:-c},r),bl:Gt({x:-l,y:c},r),br:Gt({x:l,y:c},r)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,kt(this.originX),kt(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;let i=this.transformMatrixKey(t),n=this.matrixCache;return n&&n.key.every((r,o)=>r===i[o])?n.value:(this.group&&(e=bt(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:i,value:e},e)}calcOwnMatrix(){let t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;let i=this.getRelativeCenterPoint(),n={angle:this.angle,translateX:i.x,translateY:i.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},r=mf(n);return this.ownMatrixCache={key:t,value:r},r}_getNonTransformedDimensions(){return new N(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=A({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),i=e.strokeWidth,n=i,r=0;this.strokeUniform&&(n=0,r=i);let o=e.width+n,l=e.height+n,c;return c=e.skewX===0&&e.skewY===0?new N(o*e.scaleX,l*e.scaleY):qa(o,l,uo(e)),c.scalarAdd(r)}translateToGivenOrigin(t,e,i,n,r){let o=t.x,l=t.y,c=kt(n)-kt(e),d=kt(r)-kt(i);if(c||d){let u=this._getTransformedDimensions();o+=c*u.x,l+=d*u.y}return new N(o,l)}translateToCenterPoint(t,e,i){if(e===Ie&&i===Ie)return t;let n=this.translateToGivenOrigin(t,e,i,Ie,Ie);return this.angle?n.rotate(yt(this.angle),t):n}translateToOriginPoint(t,e,i){let n=this.translateToGivenOrigin(t,Ie,Ie,e,i);return this.angle?n.rotate(yt(this.angle),t):n}getCenterPoint(){let t=this.getRelativeCenterPoint();return this.group?Gt(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new N(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,i){let n=this.translateToCenterPoint(t,e,i),r=this.translateToOriginPoint(n,this.originX,this.originY);this.set({left:r.x,top:r.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ze,oi)}},VI=["type"],LI=["extraParam"],cn=class fa extends sh{static getDefaults(){return fa.ownDefaults}get type(){let t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){Pn("warn","Setting type has no effect",t)}constructor(t){super(),V(this,"_cacheContext",null),Object.assign(this,fa.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=It(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){let e=t.width,i=t.height,n=je.maxCacheSideLimit,r=je.minCacheSideLimit;if(e<=n&&i<=n&&e*i<=je.perfLimitSizeTotal)return e<r&&(t.width=r),i<r&&(t.height=r),t;let o=e/i,[l,c]=Qr.limitDimsByArea(o),d=ws(r,l,n),u=ws(r,c,n);return e>d&&(t.zoomX/=e/d,t.width=d,t.capped=!0),i>u&&(t.zoomY/=i/u,t.height=u,t.capped=!0),t}_getCacheCanvasDimensions(){let t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),i=e.x*t.x/this.scaleX,n=e.y*t.y/this.scaleY;return{width:i+2,height:n+2,zoomX:t.x,zoomY:t.y,x:i,y:n}}_updateCacheCanvas(){let t=this._cacheCanvas,e=this._cacheContext,i=this._limitCacheSize(this._getCacheCanvasDimensions()),n=je.minCacheSideLimit,r=i.width,o=i.height,l=i.zoomX,c=i.zoomY,d=r!==t.width||o!==t.height,u=this.zoomX!==l||this.zoomY!==c;if(!t||!e)return!1;let v,y,C=d||u,w=0,T=0,x=!1;if(d){let L=this._cacheCanvas.width,R=this._cacheCanvas.height,U=r>L||o>R;x=U||(r<.9*L||o<.9*R)&&L>n&&R>n,U&&!i.capped&&(r>n||o>n)&&(w=.1*r,T=.1*o)}return _f(this)&&this.path&&(C=!0,x=!0,w+=this.getHeightOfLine(0)*this.zoomX,T+=this.getHeightOfLine(0)*this.zoomY),!!C&&(x?(t.width=Math.ceil(r+w),t.height=Math.ceil(o+T)):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)),v=i.x/2,y=i.y/2,this.cacheTranslationX=Math.round(t.width/2-v)+v,this.cacheTranslationY=Math.round(t.height/2-y)+y,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(l,c),this.zoomX=l,this.zoomY=c,!0)}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){let e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,i=this.calcTransformMatrix(!e);t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}getObjectScaling(){if(!this.group)return new N(Math.abs(this.scaleX),Math.abs(this.scaleY));let t=cr(this.calcTransformMatrix());return new N(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){let t=this.getObjectScaling();if(this.canvas){let e=this.canvas.getZoom(),i=this.getCanvasRetinaScaling();return t.scalarMultiply(e*i)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,e){t!==Jt&&t!==_i||(e=this._constrainScale(e)),t===Jt&&e<0?(this.flipX=!this.flipX,e*=-1):t==="scaleY"&&e<0?(this.flipY=!this.flipY,e*=-1):t!=="shadow"||!e||e instanceof bs||(e=new bs(e));let i=this[t]!==e;return this[t]=e,i&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||i&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&(this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===li&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,e){if(t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",e.absolutePositioned){let i=gi(this.calcTransformMatrix());t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}drawObject(t,e){let i=this.fill,n=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath),this.fill=i,this.stroke=n}_drawClipPath(t,e){e&&(e._set("canvas",this.canvas),e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t,e))}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let e=this._cacheCanvas,i=this._cacheContext;return!(!e||!i||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&i&&!t&&(i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),i.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;let e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){let i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,Si(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:i}=e;i&&(Si(i)?(t.fillStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.fillStyle=i)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&e.length!==0&&(1&e.length&&e.push(...e),t.setLineDash(e))}_setShadow(t){if(!this.shadow)return;let e=this.shadow,i=this.canvas,n=this.getCanvasRetinaScaling(),[r,,,o]=i?.viewportTransform||Qt,l=r*n,c=o*n,d=e.nonScaling?new N(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*je.browserShadowBlurConstant*(l+c)*(d.x+d.y)/4,t.shadowOffsetX=e.offsetX*l*d.x,t.shadowOffsetY=e.offsetY*c*d.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!Si(e))return{offsetX:0,offsetY:0};let i=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return e.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,n,r):t.transform(1,0,0,1,n,r),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:n,offsetY:r}}_renderPaintInOrder(t){this.paintFirst===li?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){let e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var i;let n=this._limitCacheSize(this._getCacheCanvasDimensions()),r=It(),o=this.getCanvasRetinaScaling(),l=n.x/this.scaleX/o,c=n.y/this.scaleY/o;r.width=Math.ceil(l),r.height=Math.ceil(c);let d=r.getContext("2d");d&&(d.beginPath(),d.moveTo(0,0),d.lineTo(l,0),d.lineTo(l,c),d.lineTo(0,c),d.closePath(),d.translate(l/2,c/2),d.scale(n.zoomX/this.scaleX/o,n.zoomY/this.scaleY/o),this._applyPatternGradientTransform(d,e),d.fillStyle=e.toLive(t),d.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(o*this.scaleX/n.zoomX,o*this.scaleY/n.zoomY),t.strokeStyle=(i=d.createPattern(r,"no-repeat"))!==null&&i!==void 0?i:"")}_findCenterFromElement(){return new N(this.left+this.width/2,this.top+this.height/2)}clone(t){let e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){let e=this.toCanvasElement(t);return new(re.getClass("image"))(e)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Fh(this),i=this.group,n=this.shadow,r=Math.abs,o=t.enableRetinaScaling?sf():1,l=(t.multiplier||1)*o,c=t.canvasProvider||(R=>new ao(R,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&xf(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&Qc(this,this.getViewportTransform()),this.setCoords();let d=It(),u=this.getBoundingRect(),v=this.shadow,y=new N;if(v){let R=v.blur,U=v.nonScaling?new N(1,1):this.getObjectScaling();y.x=2*Math.round(r(v.offsetX)+R)*r(U.x),y.y=2*Math.round(r(v.offsetY)+R)*r(U.y)}let C=u.width+y.x,w=u.height+y.y;d.width=Math.ceil(C),d.height=Math.ceil(w);let T=c(d);t.format==="jpeg"&&(T.backgroundColor="#fff"),this.setPositionByOrigin(new N(T.width/2,T.height/2),Ie,Ie);let x=this.canvas;T._objects=[this],this.set("canvas",T),this.setCoords();let L=T.toCanvasElement(l||1,t);return this.set("canvas",x),this.shadow=n,i&&(this.group=i),this.set(e),this.setCoords(),T._objects=[],T.destroy(),L}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Oh(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){let{centeredRotation:e,originX:i,originY:n}=this;if(e){let{x:r,y:o}=this.getRelativeCenterPoint();this.originX=Ie,this.originY=Ie,this.left=r,this.top=o}if(this.set("angle",t),e){let{x:r,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),i,n);this.left=r,this.top=o,this.originX=i,this.originY=n}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){ya.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Xi().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce((i,n)=>{let[r,o]=n;return i[r]=this._animate(r,o,e),i},{})}_animate(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.split("."),r=this.constructor.colorProperties.includes(n[n.length-1]),{abort:o,startValue:l,onChange:c,onComplete:d}=i,u=A(A({},i),{},{target:this,startValue:l??n.reduce((v,y)=>v[y],this),endValue:e,abort:o?.bind(this),onChange:(v,y,C)=>{n.reduce((w,T,x)=>(x===n.length-1&&(w[T]=v),w[T]),this),c&&c(v,y,C)},onComplete:(v,y,C)=>{this.setCoords(),d&&d(v,y,C)}});return r?Ff(u):Rh(u)}isDescendantOf(t){let{parent:e,group:i}=this;return e===t||i===t||!!e&&e.isDescendantOf(t)||!!i&&i!==e&&i.isDescendantOf(t)}getAncestors(){let t=[],e=this;do e=e.parent,e&&t.push(e);while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let e=this.getAncestors(),i=t.getAncestors();if(e.length===0&&i.length>0&&this===i[i.length-1])return{fork:[],otherFork:[t,...i.slice(0,i.length-1)],common:[this]};for(let n,r=0;r<e.length;r++){if(n=e[r],n===t)return{fork:[this,...e.slice(0,r)],otherFork:[],common:e.slice(r)};for(let o=0;o<i.length;o++){if(this===i[o])return{fork:[],otherFork:[t,...i.slice(0,o)],common:[this,...e]};if(n===i[o])return{fork:[this,...e.slice(0,r)],otherFork:[t,...i.slice(0,o)],common:e.slice(r)}}}return{fork:[this,...e],otherFork:[t,...i],common:[]}}hasCommonAncestors(t){let e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;let e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;let i=e.common[0]||this.canvas;if(!i)return;let n=e.fork.pop(),r=e.otherFork.pop(),o=i._objects.indexOf(n),l=i._objects.indexOf(r);return o>-1&&o>l}toObject(){let t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(fa.customProperties,this.constructor.customProperties||[]),e,i=je.NUM_FRACTION_DIGITS,{clipPath:n,fill:r,stroke:o,shadow:l,strokeDashArray:c,left:d,top:u,originX:v,originY:y,width:C,height:w,strokeWidth:T,strokeLineCap:x,strokeDashOffset:L,strokeLineJoin:R,strokeUniform:U,strokeMiterLimit:q,scaleX:K,scaleY:ie,angle:_e,flipX:$,flipY:Te,opacity:He,visible:$e,backgroundColor:_t,fillRule:Ue,paintFirst:rt,globalCompositeOperation:Lt,skewX:jt,skewY:ci}=this;n&&!n.excludeFromExport&&(e=n.toObject(t.concat("inverted","absolutePositioned")));let We=ii=>mt(ii,i),ti=A(A({},Ss(this,t)),{},{type:this.constructor.type,version:Xc,originX:v,originY:y,left:We(d),top:We(u),width:We(C),height:We(w),fill:Ap(r)?r.toObject():r,stroke:Ap(o)?o.toObject():o,strokeWidth:We(T),strokeDashArray:c&&c.concat(),strokeLineCap:x,strokeDashOffset:L,strokeLineJoin:R,strokeUniform:U,strokeMiterLimit:We(q),scaleX:We(K),scaleY:We(ie),angle:We(_e),flipX:$,flipY:Te,opacity:We(He),shadow:l&&l.toObject(),visible:$e,backgroundColor:_t,fillRule:Ue,paintFirst:rt,globalCompositeOperation:Lt,skewX:We(jt),skewY:We(ci)},e?{clipPath:e}:null);return this.includeDefaultValues?ti:this._removeDefaultValues(ti)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){let e=this.constructor.getDefaults(),i=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return Mh(t,(n,r)=>{if(r===Ze||r===oi||r==="type")return!0;let o=i[r];return n!==o&&!(Array.isArray(n)&&Array.isArray(o)&&n.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=gt(t,VI),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:n}=i,r=gt(i,LI);return po(e,r).then(o=>n?(delete o[n],new this(e[n],o)):new this(o))}static fromObject(t,e){return this._fromObject(t,e)}};V(cn,"stateProperties",II),V(cn,"cacheProperties",gn),V(cn,"ownDefaults",DI),V(cn,"type","FabricObject"),V(cn,"colorProperties",[Mt,li,"backgroundColor"]),V(cn,"customProperties",[]),re.setClass(cn),re.setClass(cn,"object");var Hn=(s,t,e)=>(i,n,r,o)=>{let l=t(i,n,r,o);return l&&Ah(s,A(A({},Vh(i,n,r,o)),e)),l};function Is(s){return(t,e,i,n)=>{let{target:r,originX:o,originY:l}=e,c=r.getRelativeCenterPoint(),d=r.translateToOriginPoint(c,o,l),u=s(t,e,i,n);return r.setPositionByOrigin(d,e.originX,e.originY),u}}var rh=Hn(so,Is((s,t,e,i)=>{let n=Ka(t,t.originX,t.originY,e,i);if(kt(t.originX)===kt(Ie)||kt(t.originX)===kt(St)&&n.x<0||kt(t.originX)===kt(Ze)&&n.x>0){let{target:r}=t,o=r.strokeWidth/(r.strokeUniform?r.scaleX:1),l=Sf(t)?2:1,c=r.width,d=Math.abs(n.x*l/r.scaleX)-o;return r.set("width",Math.max(d,1)),c!==r.width}return!1}));function Af(s,t,e,i,n){i=i||{};let r=this.sizeX||i.cornerSize||n.cornerSize,o=this.sizeY||i.cornerSize||n.cornerSize,l=i.transparentCorners!==void 0?i.transparentCorners:n.transparentCorners,c=l?li:Mt,d=!l&&(i.cornerStrokeColor||n.cornerStrokeColor),u,v=t,y=e;s.save(),s.fillStyle=i.cornerColor||n.cornerColor||"",s.strokeStyle=i.cornerStrokeColor||n.cornerStrokeColor||"",r>o?(u=r,s.scale(1,o/r),y=e*r/o):o>r?(u=o,s.scale(r/o,1),v=t*o/r):u=r,s.lineWidth=1,s.beginPath(),s.arc(v,y,u/2,0,mn,!1),s[c](),d&&s.stroke(),s.restore()}function Vf(s,t,e,i,n){i=i||{};let r=this.sizeX||i.cornerSize||n.cornerSize,o=this.sizeY||i.cornerSize||n.cornerSize,l=i.transparentCorners!==void 0?i.transparentCorners:n.transparentCorners,c=l?li:Mt,d=!l&&(i.cornerStrokeColor||n.cornerStrokeColor),u=r/2,v=o/2;s.save(),s.fillStyle=i.cornerColor||n.cornerColor||"",s.strokeStyle=i.cornerStrokeColor||n.cornerStrokeColor||"",s.lineWidth=1,s.translate(t,e);let y=n.getTotalAngle();s.rotate(yt(y)),s["".concat(c,"Rect")](-u,-v,r,o),d&&s.strokeRect(-u,-v,r,o),s.restore()}var $t=class{constructor(t){V(this,"visible",!0),V(this,"actionName",Ya),V(this,"angle",0),V(this,"x",0),V(this,"y",0),V(this,"offsetX",0),V(this,"offsetY",0),V(this,"sizeX",0),V(this,"sizeY",0),V(this,"touchSizeX",0),V(this,"touchSizeY",0),V(this,"cursorStyle","crosshair"),V(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,i,n){var r;let{tl:o,tr:l,br:c,bl:d}=n;return((r=e.canvas)===null||r===void 0?void 0:r.getActiveObject())===e&&e.isControlVisible(t)&&Cs.isPointInPolygon(i,[o,l,c,d])}getActionHandler(t,e,i){return this.actionHandler}getMouseDownHandler(t,e,i){return this.mouseDownHandler}getMouseUpHandler(t,e,i){return this.mouseUpHandler}cursorStyleHandler(t,e,i){return e.cursorStyle}getActionName(t,e,i){return e.actionName}getVisibility(t,e){var i,n;return(i=(n=t._controlsVisibility)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:this.visible}setVisibility(t,e,i){this.visible=t}positionHandler(t,e,i,n){return new N(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,i,n,r,o){let l=Ga([gr(i,n),_r({angle:t}),Xa((r?this.touchSizeX:this.sizeX)||e,(r?this.touchSizeY:this.sizeY)||e)]);return{tl:new N(-.5,-.5).transform(l),tr:new N(.5,-.5).transform(l),br:new N(.5,.5).transform(l),bl:new N(-.5,.5).transform(l)}}render(t,e,i,n,r){((n=n||{}).cornerStyle||r.cornerStyle)==="circle"?Af.call(this,t,e,i,n,r):Vf.call(this,t,e,i,n,r)}},Lf=(s,t,e)=>e.lockRotation?xa:t.cursorStyle,Pf=Hn(of,Is((s,t,e,i)=>{let{target:n,ex:r,ey:o,theta:l,originX:c,originY:d}=t,u=n.translateToOriginPoint(n.getRelativeCenterPoint(),c,d);if(Li(n,"lockRotation"))return!1;let v=Math.atan2(o-u.y,r-u.x),y=Math.atan2(i-u.y,e-u.x),C=Bn(y-v+l);if(n.snapAngle&&n.snapAngle>0){let T=n.snapAngle,x=n.snapThreshold||T,L=Math.ceil(C/T)*T,R=Math.floor(C/T)*T;Math.abs(C-R)<x?C=R:Math.abs(C-L)<x&&(C=L)}C<0&&(C=360+C),C%=360;let w=n.angle!==C;return n.angle=C,w}));function Rf(s,t){let e=t.canvas,i=s[e.uniScaleKey];return e.uniformScaling&&!i||!e.uniformScaling&&i}function Nf(s,t,e){let i=Li(s,"lockScalingX"),n=Li(s,"lockScalingY");if(i&&n||!t&&(i||n)&&e||i&&t==="x"||n&&t==="y")return!0;let{width:r,height:o,strokeWidth:l}=s;return r===0&&l===0&&t!=="y"||o===0&&l===0&&t!=="x"}var PI=["e","se","s","sw","w","nw","n","ne","e"],tr=(s,t,e)=>{let i=Rf(s,e);if(Nf(e,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",i))return xa;let n=If(e,t);return"".concat(PI[n],"-resize")};function Nh(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},r=t.target,o=n.by,l=Rf(s,r),c,d,u,v,y,C;if(Nf(r,o,l))return!1;if(t.gestureScale)d=t.scaleX*t.gestureScale,u=t.scaleY*t.gestureScale;else{if(c=Ka(t,t.originX,t.originY,e,i),y=o!=="y"?Math.sign(c.x||t.signX||1):1,C=o!=="x"?Math.sign(c.y||t.signY||1):1,t.signX||(t.signX=y),t.signY||(t.signY=C),Li(r,"lockScalingFlip")&&(t.signX!==y||t.signY!==C))return!1;if(v=r._getTransformedDimensions(),l&&!o){let x=Math.abs(c.x)+Math.abs(c.y),{original:L}=t,R=x/(Math.abs(v.x*L.scaleX/r.scaleX)+Math.abs(v.y*L.scaleY/r.scaleY));d=L.scaleX*R,u=L.scaleY*R}else d=Math.abs(c.x*r.scaleX/v.x),u=Math.abs(c.y*r.scaleY/v.y);Sf(t)&&(d*=2,u*=2),t.signX!==y&&o!=="y"&&(t.originX=Pp(t.originX),d*=-1,t.signX=y),t.signY!==C&&o!=="x"&&(t.originY=Pp(t.originY),u*=-1,t.signY=C)}let w=r.scaleX,T=r.scaleY;return o?(o==="x"&&r.set(Jt,d),o==="y"&&r.set(_i,u)):(!Li(r,"lockScalingX")&&r.set(Jt,d),!Li(r,"lockScalingY")&&r.set(_i,u)),w!==r.scaleX||T!==r.scaleY}var $r=Hn(za,Is((s,t,e,i)=>Nh(s,t,e,i))),Bf=Hn(za,Is((s,t,e,i)=>Nh(s,t,e,i,{by:"x"}))),jf=Hn(za,Is((s,t,e,i)=>Nh(s,t,e,i,{by:"y"}))),RI=["target","ex","ey","skewingSide"],Bc={x:{counterAxis:"y",scale:Jt,skew:fr,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:_i,skew:mr,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},NI=["ns","nesw","ew","nwse"],Hf=(s,t,e)=>{if(t.x!==0&&Li(e,"lockSkewingY")||t.y!==0&&Li(e,"lockSkewingX"))return xa;let i=If(e,t)%4;return"".concat(NI[i],"-resize")};function Uf(s,t,e,i,n){let{target:r}=e,{counterAxis:o,origin:l,lockSkewing:c,skew:d,flip:u}=Bc[s];if(Li(r,c))return!1;let{origin:v,flip:y}=Bc[o],C=kt(e[v])*(r[y]?-1:1),w=-Math.sign(C)*(r[u]?-1:1),T=.5*-((r[d]===0&&Ka(e,Ie,Ie,i,n)[s]>0||r[d]>0?1:-1)*w)+.5;return Hn(af,Is((L,R,U,q)=>function(K,ie,_e){let{target:$,ex:Te,ey:He,skewingSide:$e}=ie,_t=gt(ie,RI),{skew:Ue}=Bc[K],rt=_e.subtract(new N(Te,He)).divide(new N($.scaleX,$.scaleY))[K],Lt=$[Ue],jt=_t[Ue],ci=Math.tan(yt(jt)),We=K==="y"?$._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:$._getTransformedDimensions({scaleX:1,scaleY:1}).y,ti=2*rt*$e/Math.max(We,1)+ci,ii=Bn(Math.atan(ti));$.set(Ue,ii);let vn=Lt!==$[Ue];if(vn&&K==="y"){let{skewX:Ni,scaleX:oe}=$,Bi=$._getTransformedDimensions({skewY:Lt}),Os=$._getTransformedDimensions(),vi=Ni!==0?Bi.x/Os.x:1;vi!==1&&$.set(Jt,vi*oe)}return vn}(s,R,new N(U,q))))(t,A(A({},e),{},{[l]:T,skewingSide:w}),i,n)}var Wf=(s,t,e,i)=>Uf("x",s,t,e,i),zf=(s,t,e,i)=>Uf("y",s,t,e,i);function Qa(s,t){return s[t.canvas.altActionKey]}var Zr=(s,t,e)=>{let i=Qa(s,e);return t.x===0?i?fr:_i:t.y===0?i?mr:Jt:""},is=(s,t,e)=>Qa(s,e)?Hf(0,t,e):tr(s,t,e),oh=(s,t,e,i)=>Qa(s,t.target)?zf(s,t,e,i):Bf(s,t,e,i),ah=(s,t,e,i)=>Qa(s,t.target)?Wf(s,t,e,i):jf(s,t,e,i),Bh=()=>({ml:new $t({x:-.5,y:0,cursorStyleHandler:is,actionHandler:oh,getActionName:Zr}),mr:new $t({x:.5,y:0,cursorStyleHandler:is,actionHandler:oh,getActionName:Zr}),mb:new $t({x:0,y:.5,cursorStyleHandler:is,actionHandler:ah,getActionName:Zr}),mt:new $t({x:0,y:-.5,cursorStyleHandler:is,actionHandler:ah,getActionName:Zr}),tl:new $t({x:-.5,y:-.5,cursorStyleHandler:tr,actionHandler:$r}),tr:new $t({x:.5,y:-.5,cursorStyleHandler:tr,actionHandler:$r}),bl:new $t({x:-.5,y:.5,cursorStyleHandler:tr,actionHandler:$r}),br:new $t({x:.5,y:.5,cursorStyleHandler:tr,actionHandler:$r}),mtr:new $t({x:0,y:-.5,actionHandler:Pf,cursorStyleHandler:Lf,offsetY:-40,withConnection:!0,actionName:Ih})}),Yf=()=>({mr:new $t({x:.5,y:0,actionHandler:rh,cursorStyleHandler:is,actionName:so}),ml:new $t({x:-.5,y:0,actionHandler:rh,cursorStyleHandler:is,actionName:so})}),Gf=()=>A(A({},Bh()),Yf()),Oa=class s extends cn{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),s.ownDefaults),this.setOptions(t)}static createControls(){return{controls:Bh()}}_updateCacheCanvas(){let t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){let e=t._currentTransform,i=e.target,n=e.action;if(this===i&&n&&n.startsWith(Ya))return!1}return super._updateCacheCanvas()}getActiveControl(){let t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let i=Object.entries(this.oCoords);for(let n=i.length-1;n>=0;n--){let[r,o]=i[n],l=this.controls[r];if(l.shouldActivate(r,this,t,e?o.touchCorner:o.corner))return this.__corner=r,{key:r,control:l,coord:this.oCoords[r]}}}calcOCoords(){let t=this.getViewportTransform(),e=this.getCenterPoint(),i=gr(e.x,e.y),n=_r({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),r=bt(i,n),o=bt(t,r),l=bt(o,[1/t[0],0,0,1/t[3],0,0]),c=this.group?cr(this.calcTransformMatrix()):void 0;c&&(c.scaleX=Math.abs(c.scaleX),c.scaleY=Math.abs(c.scaleY));let d=this._calculateCurrentDimensions(c),u={};return this.forEachControl((v,y)=>{let C=v.positionHandler(d,l,this,v);u[y]=Object.assign(C,this._calcCornerCoords(v,C))}),u}_calcCornerCoords(t,e){let i=this.getTotalAngle();return{corner:t.calcCornerCoords(i,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(i,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(let e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();let e=this.getRelativeCenterPoint(),i=this._calculateCurrentDimensions(),n=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/n[0],1/n[3]),t.rotate(yt(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=A({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},i);t.save(),t.strokeStyle=n.borderColor,this._setLineDash(t,n.borderDashArray),this.strokeBorders(t,e),n.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:i,hasControls:n}=this,r=A({hasBorders:i,hasControls:n},e),o=this.getViewportTransform(),l=r.hasBorders,c=r.hasControls,d=bt(o,this.calcTransformMatrix()),u=cr(d);t.save(),t.translate(u.translateX,u.translateY),t.lineWidth=1*this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),t.rotate(yt(this.group?u.angle:this.angle)),l&&this.drawBorders(t,u,e),c&&this.drawControls(t,e),t.restore()}drawBorders(t,e,i){let n;if(i&&i.forActiveSelection||this.group){let r=qa(this.width,this.height,uo(e)),o=this.isStrokeAccountedForInDimensions()?Dh:(this.strokeUniform?new N().scalarAdd(this.canvas?this.canvas.getZoom():1):new N(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);n=r.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else n=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,n,i)}drawControlsConnectingLines(t,e){let i=!1;t.beginPath(),this.forEachControl((n,r)=>{n.withConnection&&n.getVisibility(this,r)&&(i=!0,t.moveTo(n.x*e.x,n.y*e.y),t.lineTo(n.x*e.x+n.offsetX,n.y*e.y+n.offsetY))}),i&&t.stroke()}drawControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();let i=this.getCanvasRetinaScaling(),{cornerStrokeColor:n,cornerDashArray:r,cornerColor:o}=this,l=A({cornerStrokeColor:n,cornerDashArray:r,cornerColor:o},e);t.setTransform(i,0,0,i,0,0),t.strokeStyle=t.fillStyle=l.cornerColor,this.transparentCorners||(t.strokeStyle=l.cornerStrokeColor),this._setLineDash(t,l.cornerDashArray),this.forEachControl((c,d)=>{if(c.getVisibility(this,d)){let u=this.oCoords[d];c.render(t,u.x,u.y,l,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(e=>{let[i,n]=e;return this.setControlVisible(i,n)})}clearContextTop(t){if(!this.canvas)return;let e=this.canvas.contextTop;if(!e)return;let i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e);let n=this.width+4,r=this.height+4;return e.clearRect(-n/2,-r/2,n,r),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}};function Xf(s,t){return t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(s.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)||Object.create(null))})}),s}V(Oa,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});var Vt=class extends Oa{};Xf(Vt,[Ta]),re.setClass(Vt),re.setClass(Vt,"object");var qf=(s,t,e,i)=>{let n=2*(i=Math.round(i))+1,{data:r}=s.getImageData(t-i,e-i,n,n);for(let o=3;o<r.length;o+=4)if(r[o]>0)return!1;return!0},Ea=class{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new N(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new N(1/this.options.scaleX,1/this.options.scaleY):new N(1,1)}createSideVector(t,e){let i=Sa(t,e);return this.options.strokeUniform?i.multiply(this.scale):i}projectOrthogonally(t,e,i){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,i)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){let e=new N(t);return e.y+=e.x*Math.tan(yt(this.options.skewY)),e.x+=e.y*Math.tan(yt(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}},BI=new N,ka=class s extends Ea{static getOrthogonalRotationFactor(t,e){let i=e?Da(t,e):Ef(t);return Math.abs(i)<Rn?-1:1}constructor(t,e,i,n){super(n),V(this,"AB",void 0),V(this,"AC",void 0),V(this,"alpha",void 0),V(this,"bisector",void 0),this.A=new N(t),this.B=new N(e),this.C=new N(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=Da(this.AB,this.AC),this.bisector=Za(Lh(this.AB.eq(BI)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,n=this.createSideVector(t,e),r=Ph(n),o=s.getOrthogonalRotationFactor(r,this.bisector);return this.scaleUnitVector(r,i*o)}projectBevel(){let t=[];return(this.alpha%mn==0?[this.B]:[this.B,this.C]).forEach(e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))}),t}projectMiter(){let t=[],e=Math.abs(this.alpha),i=1/Math.sin(e/2),n=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*i),r=this.options.strokeUniform?Ia(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Ia(n)/this.strokeProjectionMagnitude<=r&&t.push(this.applySkew(this.A.add(n))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){let i=[],n=new N(s.getOrthogonalRotationFactor(this.bisector),s.getOrthogonalRotationFactor(new N(this.bisector.y,this.bisector.x)));return[new N(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n),new N(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n)].forEach(r=>{Jc(r,t,e)&&i.push(this.A.add(r))}),i}projectRoundWithSkew(t,e){let i=[],{skewX:n,skewY:r,scaleX:o,scaleY:l,strokeUniform:c}=this.options,d=new N(Math.tan(yt(n)),Math.tan(yt(r))),u=this.strokeProjectionMagnitude,v=c?u/l/Math.sqrt(1/l**2+1/o**2*d.y**2):u/Math.sqrt(1+d.y**2),y=new N(Math.sqrt(Math.max(u**2-v**2,0)),v),C=c?u/Math.sqrt(1+d.x**2*(1/l)**2/(1/o+1/o*d.x*d.y)**2):u/Math.sqrt(1+d.x**2/(1+d.x*d.y)**2),w=new N(C,Math.sqrt(Math.max(u**2-C**2,0)));return[w,w.scalarMultiply(-1),y,y.scalarMultiply(-1)].map(T=>this.applySkew(c?T.multiply(this.strokeUniformScalar):T)).forEach(T=>{Jc(T,t,e)&&i.push(this.applySkew(this.A).add(T))}),i}projectRound(){let t=[];t.push(...this.projectBevel());let e=this.alpha%mn==0,i=this.applySkew(this.A),n=t[e?0:2].subtract(i),r=t[e?1:0].subtract(i),o=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),l=ar(n,o)>0,c=l?n:r,d=l?r:n;return this.isSkewed()?t.push(...this.projectRoundWithSkew(c,d)):t.push(...this.projectRoundNoSkew(c,d)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}},Ma=class extends Ea{constructor(t,e,i){super(i),this.A=new N(t),this.T=new N(e)}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,n=this.createSideVector(t,e);return this.scaleUnitVector(Ph(n),i)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let t=[];if(!this.isSkewed()&&this.A.eq(this.T)){let e=new N(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new ka(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){let t=[];if(this.A.eq(this.T)){let e=new N(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{let e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),i=this.scaleUnitVector(Za(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),n=this.A.add(i);t.push(n.add(e),n.subtract(e))}return t.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}},Kf=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=[];if(s.length===0)return i;let n=s.reduce((r,o)=>(r[r.length-1].eq(o)||r.push(new N(o)),r),[new N(s[0])]);if(n.length===1)e=!0;else if(!e){let r=n[0],o=((l,c)=>{for(let d=l.length-1;d>=0;d--)if(c(l[d],d,l))return d;return-1})(n,l=>!l.eq(r));n.splice(o+1)}return n.forEach((r,o,l)=>{let c,d;o===0?(d=l[1],c=e?r:l[l.length-1]):o===l.length-1?(c=l[o-1],d=e?r:l[0]):(c=l[o-1],d=l[o+1]),e&&l.length===1?i.push(...new Ma(r,r,t).project()):!e||o!==0&&o!==l.length-1?i.push(...new ka(r,c,d,t).project()):i.push(...new Ma(r,o===0?d:c,t).project())}),i},jh=s=>{let t={};return Object.keys(s).forEach(e=>{t[e]={},Object.keys(s[e]).forEach(i=>{t[e][i]=A({},s[e][i])})}),t},$f=s=>s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ja=s=>{let t=[];for(let e,i=0;i<s.length;i++)(e=jI(s,i))!==!1&&t.push(e);return t},jI=(s,t)=>{let e=s.charCodeAt(t);if(isNaN(e))return"";if(e<55296||e>57343)return s.charAt(t);if(55296<=e&&e<=56319){if(s.length<=t+1)throw"High surrogate without following low surrogate";let n=s.charCodeAt(t+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return s.charAt(t)+s.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";let i=s.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1},HI=Object.freeze({__proto__:null,capitalize:function(s){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(s.charAt(0).toUpperCase()).concat(t?s.slice(1):s.slice(1).toLowerCase())},escapeXml:$f,graphemeSplit:Ja}),el=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.fill!==t.fill||s.stroke!==t.stroke||s.strokeWidth!==t.strokeWidth||s.fontSize!==t.fontSize||s.fontFamily!==t.fontFamily||s.fontWeight!==t.fontWeight||s.fontStyle!==t.fontStyle||s.textBackgroundColor!==t.textBackgroundColor||s.deltaY!==t.deltaY||e&&(s.overline!==t.overline||s.underline!==t.underline||s.linethrough!==t.linethrough)},Zf=(s,t)=>{let e=t.split(`
`),i=[],n=-1,r={};s=jh(s);for(let o=0;o<e.length;o++){let l=Ja(e[o]);if(s[o])for(let c=0;c<l.length;c++){n++;let d=s[o][c];d&&Object.keys(d).length>0&&(el(r,d,!0)?i.push({start:n,end:n+1,style:d}):i[i.length-1].end++),r=d||{}}else n+=l.length,r={}}return i},Qf=(s,t)=>{if(!Array.isArray(s))return jh(s);let e=t.split(Sh),i={},n=-1,r=0;for(let o=0;o<e.length;o++){let l=Ja(e[o]);for(let c=0;c<l.length;c++)n++,s[r]&&s[r].start<=n&&n<s[r].end&&(i[o]=i[o]||{},i[o][c]=A({},s[r].style),n===s[r].end-1&&r++)}return i},Un=["display","transform",Mt,"fill-opacity","fill-rule","opacity",li,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Wp(s,t){let e=s.nodeName,i=s.getAttribute("class"),n=s.getAttribute("id"),r="(?![a-zA-Z\\-]+)",o;if(o=new RegExp("^"+e,"i"),t=t.replace(o,""),n&&t.length&&(o=new RegExp("#"+n+r,"i"),t=t.replace(o,"")),i&&t.length){let l=i.split(" ");for(let c=l.length;c--;)o=new RegExp("\\."+l[c]+r,"i"),t=t.replace(o,"")}return t.length===0}function UI(s,t){let e=!0,i=Wp(s,t.pop());return i&&t.length&&(e=function(n,r){let o,l=!0;for(;n.parentElement&&n.parentElement.nodeType===1&&r.length;)l&&(o=r.pop()),l=Wp(n=n.parentElement,o);return r.length===0}(s,t)),i&&e&&t.length===0}var WI=s=>{var t;return(t=TI[s])!==null&&t!==void 0?t:s},zI=new RegExp("(".concat(Vi,")"),"gi"),YI=s=>s.replace(zI," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),zp,Yp,Gp,Xp,qp,Kp,$p,Zt="(".concat(Vi,")"),GI=String.raw(zp||(zp=jn(["(skewX)(",")"],["(skewX)\\(","\\)"])),Zt),XI=String.raw(Yp||(Yp=jn(["(skewY)(",")"],["(skewY)\\(","\\)"])),Zt),qI=String.raw(Gp||(Gp=jn(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Zt,Zt,Zt),KI=String.raw(Xp||(Xp=jn(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Zt,Zt),$I=String.raw(qp||(qp=jn(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Zt,Zt),ZI=String.raw(Kp||(Kp=jn(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Zt,Zt,Zt,Zt,Zt,Zt),Hh="(?:".concat(ZI,"|").concat($I,"|").concat(qI,"|").concat(KI,"|").concat(GI,"|").concat(XI,")"),QI="(?:".concat(Hh,"*)"),JI=String.raw($p||($p=jn(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),QI),e3=new RegExp(JI),t3=new RegExp(Hh),i3=new RegExp(Hh,"g");function lh(s){let t=[];if(!(s=YI(s).replace(/\s*([()])\s*/gi,"$1"))||s&&!e3.test(s))return[...Qt];for(let e of s.matchAll(i3)){let i=t3.exec(e[0]);if(!i)continue;let n=Qt,r=i.filter(w=>!!w),[,o,...l]=r,[c,d,u,v,y,C]=l.map(w=>parseFloat(w));switch(o){case"translate":n=gr(c,d);break;case Ih:n=_r({angle:c},{x:d,y:u});break;case Ya:n=Xa(c,d);break;case fr:n=Eh(c);break;case mr:n=kh(c);break;case"matrix":n=[c,d,u,v,y,C]}t.push(n)}return Ga(t)}function n3(s,t,e,i){let n=Array.isArray(t),r,o=t;if(s!==Mt&&s!==li||t!==ai){if(s==="strokeUniform")return t==="non-scaling-stroke";if(s==="strokeDashArray")o=t===ai?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(s==="transformMatrix")o=e&&e.transformMatrix?bt(e.transformMatrix,lh(t)):lh(t);else if(s==="visible")o=t!==ai&&t!=="hidden",e&&e.visible===!1&&(o=!1);else if(s==="opacity")o=parseFloat(t),e&&e.opacity!==void 0&&(o*=e.opacity);else if(s==="textAnchor")o=t==="start"?Ze:t==="end"?St:Ie;else if(s==="charSpacing")r=ys(t,i)/i*1e3;else if(s==="paintFirst"){let l=t.indexOf(Mt),c=t.indexOf(li);o=Mt,(l>-1&&c>-1&&c<l||l===-1&&c>-1)&&(o=li)}else{if(s==="href"||s==="xlink:href"||s==="font"||s==="id")return t;if(s==="imageSmoothing")return t==="optimizeQuality";r=n?t.map(ys):ys(t,i)}}else o="";return!n&&isNaN(r)?o:r}function s3(s,t){let e=s.match(xI);if(!e)return;let i=e[1],n=e[3],r=e[4],o=e[5],l=e[6];i&&(t.fontStyle=i),n&&(t.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),r&&(t.fontSize=ys(r)),l&&(t.fontFamily=l),o&&(t.lineHeight=o==="normal"?1:o)}function r3(s,t){s.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;let[i,n]=e.split(":");t[i.trim().toLowerCase()]=n.trim()})}function o3(s){let t={},e=s.getAttribute("style");return e&&(typeof e=="string"?r3(e,t):function(i,n){Object.entries(i).forEach(r=>{let[o,l]=r;l!==void 0&&(n[o.toLowerCase()]=l)})}(e,t)),t}var a3={stroke:"strokeOpacity",fill:"fillOpacity"};function _n(s,t,e){if(!s)return{};let i,n={},r=Th;s.parentNode&&Np.test(s.parentNode.nodeName)&&(n=_n(s.parentElement,t,e),n.fontSize&&(i=r=ys(n.fontSize)));let o=A(A(A({},t.reduce((d,u)=>{let v=s.getAttribute(u);return v&&(d[u]=v),d},{})),function(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v={};for(let y in u)UI(d,y.split(" "))&&(v=A(A({},v),u[y]));return v}(s,e)),o3(s));o[Pc]&&s.setAttribute(Pc,o[Pc]),o[Lc]&&(i=ys(o[Lc],r),o[Lc]="".concat(i));let l={};for(let d in o){let u=WI(d),v=n3(u,o[d],n,i);l[u]=v}l&&l.font&&s3(l.font,l);let c=A(A({},n),l);return Np.test(s.nodeName)?c:function(d){let u=Vt.getDefaults();return Object.entries(a3).forEach(v=>{let[y,C]=v;if(d[C]===void 0||d[y]==="")return;if(d[y]===void 0){if(!u[y])return;d[y]=u[y]}if(d[y].indexOf("url(")===0)return;let w=new ei(d[y]);d[y]=w.setAlpha(mt(w.getAlpha()*d[C],2)).toRgba()}),d}(c)}var l3=["left","top","width","height","visible"],Jf=["rx","ry"],hn=class s extends Vt{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){let{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){let{width:e,height:i}=this,n=-e/2,r=-i/2,o=this.rx?Math.min(this.rx,e/2):0,l=this.ry?Math.min(this.ry,i/2):0,c=o!==0||l!==0;t.beginPath(),t.moveTo(n+o,r),t.lineTo(n+e-o,r),c&&t.bezierCurveTo(n+e-kn*o,r,n+e,r+kn*l,n+e,r+l),t.lineTo(n+e,r+i-l),c&&t.bezierCurveTo(n+e,r+i-kn*l,n+e-kn*o,r+i,n+e-o,r+i),t.lineTo(n+o,r+i),c&&t.bezierCurveTo(n+kn*o,r+i,n,r+i-kn*l,n,r+i-l),t.lineTo(n,r+l),c&&t.bezierCurveTo(n,r+kn*l,n+kn*o,r,n+o,r),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Jf,...t])}_toSVG(){let{width:t,height:e,rx:i,ry:n}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(i,'" ry="').concat(n,'" width="').concat(t,'" height="').concat(e,`" />
`)]}static fromElement(t,e,i){return Pt(this,null,function*(){let n=_n(t,this.ATTRIBUTE_NAMES,i),{left:r=0,top:o=0,width:l=0,height:c=0,visible:d=!0}=n,u=gt(n,l3);return new this(A(A(A({},e),u),{},{left:r,top:o,width:l,height:c,visible:!!(d&&l&&c)}))})}};V(hn,"type","Rect"),V(hn,"cacheProperties",[...gn,...Jf]),V(hn,"ownDefaults",{rx:0,ry:0}),V(hn,"ATTRIBUTE_NAMES",[...Un,"x","y","rx","ry","width","height"]),re.setClass(hn),re.setSVGClass(hn);var dn="initialization",Fa="added",Uh="removed",Aa="imperative",em=(s,t)=>{let{strokeUniform:e,strokeWidth:i,width:n,height:r,group:o}=t,l=o&&o!==s?fo(o.calcTransformMatrix(),s.calcTransformMatrix()):null,c=l?t.getRelativeCenterPoint().transform(l):t.getRelativeCenterPoint(),d=!t.isStrokeAccountedForInDimensions(),u=e&&d?Tf(new N(i,i),void 0,s.calcTransformMatrix()):Dh,v=!e&&d?i:0,y=qa(n+v,r+v,Ga([l,t.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[c.subtract(y),c.add(y)]},ur=class{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:i,strategy:n}=t;return e===dn||e===Aa||!!i&&n!==i}shouldLayoutClipPath(t){let{type:e,target:{clipPath:i}}=t;return e!==dn&&i&&!i.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){let{type:i,target:n}=e;if(i===Aa&&e.overrides)return e.overrides;if(t.length===0)return;let{left:r,top:o,width:l,height:c}=Gi(t.map(v=>em(n,v)).reduce((v,y)=>v.concat(y),[])),d=new N(l,c),u=new N(r,o).add(d.scalarDivide(2));if(i===dn){let v=this.getInitialSize(e,{size:d,center:u});return{center:u,relativeCorrection:new N(0,0),size:v}}return{center:u.transform(n.calcOwnMatrix()),size:d}}};V(ur,"type","strategy");var co=class extends ur{shouldPerformLayout(t){return!0}};V(co,"type","fit-content"),re.setClass(co);var c3=["strategy"],h3=["target","strategy","bubbles","prevStrategy"],tm="layoutManager",xs=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new co;V(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){let e=A(A({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);let i=this.getLayoutResult(e);i&&this.commitLayout(e,i),this.onAfterLayout(e,i),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){let{target:i}=e;return[va,rf,so,of,za,af,_a,lf,_I].map(n=>t.on(n,r=>this.performLayout(n===va?{type:"object_modified",trigger:n,e:r,target:i}:{type:"object_modifying",trigger:n,e:r,target:i})))}subscribe(t,e){this.unsubscribe(t,e);let i=this.attachHandlers(t,e);this._subscriptions.set(t,i)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(i=>i()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(e=>this.unsubscribe(e,t))}subscribeTargets(t){t.targets.forEach(e=>this.subscribe(e,t))}onBeforeLayout(t){let{target:e,type:i}=t,{canvas:n}=e;if(i===dn||i===Fa?this.subscribeTargets(t):i===Uh&&this.unsubscribeTargets(t),e.fire("layout:before",{context:t}),n&&n.fire("object:layout:before",{target:e,context:t}),i===Aa&&t.deep){let r=gt(t,c3);e.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(A(A({},r),{},{bubbles:!1,target:o})))}}getLayoutResult(t){let{target:e,strategy:i,type:n}=t,r=i.calcLayoutResult(t,e.getObjects());if(!r)return;let o=n===dn?new N:e.getRelativeCenterPoint(),{center:l,correction:c=new N,relativeCorrection:d=new N}=r,u=o.subtract(l).add(c).transform(n===dn?Qt:gi(e.calcOwnMatrix()),!0).add(d);return{result:r,prevCenter:o,nextCenter:l,offset:u}}commitLayout(t,e){let{target:i}=t,{result:{size:n},nextCenter:r}=e;var o,l;i.set({width:n.x,height:n.y}),this.layoutObjects(t,e),t.type===dn?i.set({left:(o=t.x)!==null&&o!==void 0?o:r.x+n.x*kt(i.originX),top:(l=t.y)!==null&&l!==void 0?l:r.y+n.y*kt(i.originY)}):(i.setPositionByOrigin(r,Ie,Ie),i.setCoords(),i.set("dirty",!0))}layoutObjects(t,e){let{target:i}=t;i.forEachObject(n=>{n.group===i&&this.layoutObject(t,e,n)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,i.clipPath)}layoutObject(t,e,i){let{offset:n}=e;i.set({left:i.left+n.x,top:i.top+n.y})}onAfterLayout(t,e){let{target:i,strategy:n,bubbles:r,prevStrategy:o}=t,l=gt(t,h3),{canvas:c}=i;i.fire("layout:after",{context:t,result:e}),c&&c.fire("object:layout:after",{context:t,result:e,target:i});let d=i.parent;r&&d!=null&&d.layoutManager&&((l.path||(l.path=[])).push(i),d.layoutManager.performLayout(A(A({},l),{},{target:d}))),i.set("dirty",!0)}dispose(){let{_subscriptions:t}=this;t.forEach(e=>e.forEach(i=>i())),t.clear()}toObject(){return{type:tm,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}};re.setClass(xs,tm);var d3=["type","objects","layoutManager"],ch=class extends xs{performLayout(){}},Ln=class s extends cf(Vt){static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),V(this,"_activeObjects",[]),V(this,"__objectSelectionTracker",void 0),V(this,"__objectSelectionDisposer",void 0),Object.assign(this,s.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var i;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(n=>{this.enterGroup(n,!1)}),this.layoutManager=(i=e.layoutManager)!==null&&i!==void 0?i:new xs,this.layoutManager.performLayout({type:dn,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(Pn("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(Pn("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((e,i,n)=>this.canEnterGroup(e)&&n.indexOf(e)===i)}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let n=this._filterObjectsBeforeEnteringGroup(e),r=super.add(...n);return this._onAfterObjectsChange(Fa,n),r}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=this._filterObjectsBeforeEnteringGroup(i),o=super.insertAt(t,...r);return this._onAfterObjectsChange(Fa,r),o}remove(){let t=super.remove(...arguments);return this._onAfterObjectsChange(Uh,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,e){let i=this[t];return super._set(t,e),t==="canvas"&&i!==e&&(this._objects||[]).forEach(n=>{n._set(t,e)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:i}=e,n=this._activeObjects;if(t)n.push(i),this._set("dirty",!0);else if(n.length>0){let r=n.indexOf(i);r>-1&&(n.splice(r,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&dr(t,bt(gi(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);let i=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();i&&(i===t||t.isDescendantOf(i))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(dr(t,bt(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);let i=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;i>-1&&this._activeObjects.splice(i,1)}shouldCache(){let t=Vt.prototype.shouldCache.call(this);if(t){for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t){this._renderBackground(t);for(let i=0;i<this._objects.length;i++){var e;(e=this.canvas)!==null&&e!==void 0&&e.preserveObjectStacking&&this._objects[i].group!==this?(t.save(),t.transform(...gi(this.calcTransformMatrix())),this._objects[i].render(t),t.restore()):this._objects[i].group===this&&this._objects[i].render(t)}this._drawClipPath(t,this.clipPath)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(A({target:this,type:Aa},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){let i=this.includeDefaultValues;return this._objects.filter(function(n){return!n.excludeFromExport}).map(function(n){let r=n.includeDefaultValues;n.includeDefaultValues=i;let o=n[t||"toObject"](e);return n.includeDefaultValues=r,o})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.layoutManager.toObject();return A(A(A({},super.toObject(["subTargetCheck","interactive",...t])),e.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";let e=hn.prototype._toSVG.call(this),i=e.indexOf("COMMON_PARTS");e[i]='for="group" ';let n=e.join("");return t?t(n):n}_toSVG(t){let e=["<g ","COMMON_PARTS",` >
`],i=this._createSVGBgRect(t);i&&e.push("		",i);for(let n=0;n<this._objects.length;n++)e.push("		",this._objects[n].toSVG(t));return e.push(`</g>
`),e}getSvgStyles(){let t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(t){let e=[],i=this._createSVGBgRect(t);i&&e.push("	",i);for(let n=0;n<this._objects.length;n++)e.push("	",this._objects[n].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:i,objects:n=[],layoutManager:r}=t,o=gt(t,d3);return Promise.all([hr(n,e),po(o,e)]).then(l=>{let[c,d]=l,u=new this(c,A(A(A({},o),d),{},{layoutManager:new ch}));if(r){let v=re.getClass(r.type),y=re.getClass(r.strategy);u.layoutManager=new v(new y)}else u.layoutManager=new xs;return u.layoutManager.subscribeTargets({type:dn,target:u,targets:u.getObjects()}),u.setCoords(),u})}};V(Ln,"type","Group"),V(Ln,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),re.setClass(Ln);var im=(s,t)=>Math.min(t.width/s.width,t.height/s.height),nm=(s,t)=>Math.max(t.width/s.width,t.height/s.height),hh="\\s*,?\\s*",Kr="".concat(hh,"(").concat(Vi,")"),u3="".concat(Kr).concat(Kr).concat(Kr).concat(hh,"([01])").concat(hh,"([01])").concat(Kr).concat(Kr),p3={m:"l",M:"L"},f3=(s,t,e,i,n,r,o,l,c,d,u)=>{let v=Pi(s),y=Ri(s),C=Pi(t),w=Ri(t),T=e*n*C-i*r*w+o,x=i*n*C+e*r*w+l;return["C",d+c*(-e*n*y-i*r*v),u+c*(-i*n*y+e*r*v),T+c*(e*n*w+i*r*C),x+c*(i*n*w-e*r*C),T,x]},Zp=(s,t,e,i)=>{let n=Math.atan2(t,s),r=Math.atan2(i,e);return r>=n?r-n:2*Math.PI-(n-r)};function dh(s,t,e,i,n,r,o,l){let c;if(je.cachesBoundsOfCurve&&(c=[...arguments].join(),Qr.boundsOfCurveCache[c]))return Qr.boundsOfCurveCache[c];let d=Math.sqrt,u=Math.abs,v=[],y=[[0,0],[0,0]],C=6*s-12*e+6*n,w=-3*s+9*e-9*n+3*o,T=3*e-3*s;for(let q=0;q<2;++q){if(q>0&&(C=6*t-12*i+6*r,w=-3*t+9*i-9*r+3*l,T=3*i-3*t),u(w)<1e-12){if(u(C)<1e-12)continue;let Te=-T/C;0<Te&&Te<1&&v.push(Te);continue}let K=C*C-4*T*w;if(K<0)continue;let ie=d(K),_e=(-C+ie)/(2*w);0<_e&&_e<1&&v.push(_e);let $=(-C-ie)/(2*w);0<$&&$<1&&v.push($)}let x=v.length,L=x,R=rm(s,t,e,i,n,r,o,l);for(;x--;){let{x:q,y:K}=R(v[x]);y[0][x]=q,y[1][x]=K}y[0][L]=s,y[1][L]=t,y[0][L+1]=o,y[1][L+1]=l;let U=[new N(Math.min(...y[0]),Math.min(...y[1])),new N(Math.max(...y[0]),Math.max(...y[1]))];return je.cachesBoundsOfCurve&&(Qr.boundsOfCurveCache[c]=U),U}var m3=(s,t,e)=>{let[i,n,r,o,l,c,d,u]=e,v=((y,C,w,T,x,L,R)=>{if(w===0||T===0)return[];let U=0,q=0,K=0,ie=Math.PI,_e=R*xh,$=Ri(_e),Te=Pi(_e),He=.5*(-Te*y-$*C),$e=.5*(-Te*C+$*y),_t=w**2,Ue=T**2,rt=$e**2,Lt=He**2,jt=_t*Ue-_t*rt-Ue*Lt,ci=Math.abs(w),We=Math.abs(T);if(jt<0){let ji=Math.sqrt(1-jt/(_t*Ue));ci*=ji,We*=ji}else K=(x===L?-1:1)*Math.sqrt(jt/(_t*rt+Ue*Lt));let ti=K*ci*$e/We,ii=-K*We*He/ci,vn=Te*ti-$*ii+.5*y,Ni=$*ti+Te*ii+.5*C,oe=Zp(1,0,(He-ti)/ci,($e-ii)/We),Bi=Zp((He-ti)/ci,($e-ii)/We,(-He-ti)/ci,(-$e-ii)/We);L===0&&Bi>0?Bi-=2*ie:L===1&&Bi<0&&(Bi+=2*ie);let Os=Math.ceil(Math.abs(Bi/ie*2)),vi=[],yn=Bi/Os,nl=8/3*Math.sin(yn/4)*Math.sin(yn/4)/Math.sin(yn/2),vr=oe+yn;for(let ji=0;ji<Os;ji++)vi[ji]=f3(oe,vr,Te,$,ci,We,vn,Ni,nl,U,q),U=vi[ji][5],q=vi[ji][6],oe=vr,vr+=yn;return vi})(d-s,u-t,n,r,l,c,o);for(let y=0,C=v.length;y<C;y++)v[y][1]+=s,v[y][2]+=t,v[y][3]+=s,v[y][4]+=t,v[y][5]+=s,v[y][6]+=t;return v},sm=s=>{let t=0,e=0,i=0,n=0,r=[],o,l=0,c=0;for(let d of s){let u=[...d],v;switch(u[0]){case"l":u[1]+=t,u[2]+=e;case"L":t=u[1],e=u[2],v=["L",t,e];break;case"h":u[1]+=t;case"H":t=u[1],v=["L",t,e];break;case"v":u[1]+=e;case"V":e=u[1],v=["L",t,e];break;case"m":u[1]+=t,u[2]+=e;case"M":t=u[1],e=u[2],i=u[1],n=u[2],v=["M",t,e];break;case"c":u[1]+=t,u[2]+=e,u[3]+=t,u[4]+=e,u[5]+=t,u[6]+=e;case"C":l=u[3],c=u[4],t=u[5],e=u[6],v=["C",u[1],u[2],l,c,t,e];break;case"s":u[1]+=t,u[2]+=e,u[3]+=t,u[4]+=e;case"S":o==="C"?(l=2*t-l,c=2*e-c):(l=t,c=e),t=u[3],e=u[4],v=["C",l,c,u[1],u[2],t,e],l=v[3],c=v[4];break;case"q":u[1]+=t,u[2]+=e,u[3]+=t,u[4]+=e;case"Q":l=u[1],c=u[2],t=u[3],e=u[4],v=["Q",l,c,t,e];break;case"t":u[1]+=t,u[2]+=e;case"T":o==="Q"?(l=2*t-l,c=2*e-c):(l=t,c=e),t=u[1],e=u[2],v=["Q",l,c,t,e];break;case"a":u[6]+=t,u[7]+=e;case"A":m3(t,e,u).forEach(y=>r.push(y)),t=u[6],e=u[7];break;case"z":case"Z":t=i,e=n,v=["Z"]}v?(r.push(v),o=v[0]):o=""}return r},Va=(s,t,e,i)=>Math.sqrt((e-s)**2+(i-t)**2),rm=(s,t,e,i,n,r,o,l)=>c=>{let d=c**3,u=(C=>3*C**2*(1-C))(c),v=(C=>3*C*(1-C)**2)(c),y=(C=>(1-C)**3)(c);return new N(o*d+n*u+e*v+s*y,l*d+r*u+i*v+t*y)},om=s=>s**2,am=s=>2*s*(1-s),lm=s=>(1-s)**2,g3=(s,t,e,i,n,r,o,l)=>c=>{let d=om(c),u=am(c),v=lm(c),y=3*(v*(e-s)+u*(n-e)+d*(o-n)),C=3*(v*(i-t)+u*(r-i)+d*(l-r));return Math.atan2(C,y)},_3=(s,t,e,i,n,r)=>o=>{let l=om(o),c=am(o),d=lm(o);return new N(n*l+e*c+s*d,r*l+i*c+t*d)},v3=(s,t,e,i,n,r)=>o=>{let l=1-o,c=2*(l*(e-s)+o*(n-e)),d=2*(l*(i-t)+o*(r-i));return Math.atan2(d,c)},Qp=(s,t,e)=>{let i=new N(t,e),n=0;for(let r=1;r<=100;r+=1){let o=s(r/100);n+=Va(i.x,i.y,o.x,o.y),i=o}return n},y3=(s,t)=>{let e,i=0,n=0,r={x:s.x,y:s.y},o=A({},r),l=.01,c=0,d=s.iterator,u=s.angleFinder;for(;n<t&&l>1e-4;)o=d(i),c=i,e=Va(r.x,r.y,o.x,o.y),e+n>t?(i-=l,l/=2):(r=o,i+=l,n+=e);return A(A({},o),{},{angle:u(c)})},Wh=s=>{let t,e,i=0,n=0,r=0,o=0,l=0,c=[];for(let d of s){let u={x:n,y:r,command:d[0],length:0};switch(d[0]){case"M":e=u,e.x=o=n=d[1],e.y=l=r=d[2];break;case"L":e=u,e.length=Va(n,r,d[1],d[2]),n=d[1],r=d[2];break;case"C":t=rm(n,r,d[1],d[2],d[3],d[4],d[5],d[6]),e=u,e.iterator=t,e.angleFinder=g3(n,r,d[1],d[2],d[3],d[4],d[5],d[6]),e.length=Qp(t,n,r),n=d[5],r=d[6];break;case"Q":t=_3(n,r,d[1],d[2],d[3],d[4]),e=u,e.iterator=t,e.angleFinder=v3(n,r,d[1],d[2],d[3],d[4]),e.length=Qp(t,n,r),n=d[3],r=d[4];break;case"Z":e=u,e.destX=o,e.destY=l,e.length=Va(n,r,o,l),n=o,r=l}i+=e.length,c.push(e)}return c.push({length:i,x:n,y:r}),c},cm=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wh(s),i=0;for(;t-e[i].length>0&&i<e.length-2;)t-=e[i].length,i++;let n=e[i],r=t/n.length,o=s[i];switch(n.command){case"M":return{x:n.x,y:n.y,angle:0};case"Z":return A(A({},new N(n.x,n.y).lerp(new N(n.destX,n.destY),r)),{},{angle:Math.atan2(n.destY-n.y,n.destX-n.x)});case"L":return A(A({},new N(n.x,n.y).lerp(new N(o[1],o[2]),r)),{},{angle:Math.atan2(o[2]-n.y,o[1]-n.x)});case"C":case"Q":return y3(n,t)}},b3=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Jp=new RegExp(u3,"g"),C3=new RegExp(Vi,"gi"),w3={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},hm=s=>{var t;let e=[],i=(t=s.match(b3))!==null&&t!==void 0?t:[];for(let n of i){let r=n[0];if(r==="z"||r==="Z"){e.push([r]);continue}let o=w3[r.toLowerCase()],l=[];if(r==="a"||r==="A"){Jp.lastIndex=0;for(let c=null;c=Jp.exec(n);)l.push(...c.slice(1))}else l=n.match(C3)||[];for(let c=0;c<l.length;c+=o){let d=new Array(o),u=p3[r];d[0]=c>0&&u?u:r;for(let v=0;v<o;v++)d[v+1]=parseFloat(l[c+v]);e.push(d)}}return e},x3=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=new N(s[0]),i=new N(s[1]),n=1,r=0,o=[],l=s.length,c=l>2,d;for(c&&(n=s[2].x<i.x?-1:s[2].x===i.x?0:1,r=s[2].y<i.y?-1:s[2].y===i.y?0:1),o.push(["M",e.x-n*t,e.y-r*t]),d=1;d<l;d++){if(!e.eq(i)){let u=e.midPointFrom(i);o.push(["Q",e.x,e.y,u.x,u.y])}e=s[d],d+1<s.length&&(i=s[d+1])}return c&&(n=e.x>s[d-2].x?1:e.x===s[d-2].x?0:-1,r=e.y>s[d-2].y?1:e.y===s[d-2].y?0:-1),o.push(["L",e.x+n*t,e.y+r*t]),o},dm=(s,t)=>s.map(e=>e.map((i,n)=>n===0||t===void 0?i:mt(i,t)).join(" ")).join(" ");function La(s,t){let e=s.style;e&&t&&(typeof t=="string"?e.cssText+=";"+t:Object.entries(t).forEach(i=>{let[n,r]=i;return e.setProperty(n,r)}))}var T3=(s,t)=>Math.floor(Math.random()*(t-s+1))+s;function S3(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.onComplete||vs,i=new(Wa()).XMLHttpRequest,n=t.signal,r=function(){i.abort()},o=function(){n&&n.removeEventListener("abort",r),i.onerror=i.ontimeout=vs};if(n&&n.aborted)throw new ga("request");return n&&n.addEventListener("abort",r,{once:!0}),i.onreadystatechange=function(){i.readyState===4&&(o(),e(i),i.onreadystatechange=vs)},i.onerror=i.ontimeout=o,i.open("get",s,!0),i.send(),i}var I3=(s,t)=>{let e=s._findCenterFromElement();s.transformMatrix&&((i=>{if(i.transformMatrix){let{scaleX:n,scaleY:r,angle:o,skewX:l}=cr(i.transformMatrix);i.flipX=!1,i.flipY=!1,i.set(Jt,n),i.set(_i,r),i.angle=o,i.skewX=l,i.skewY=0}})(s),e=e.transform(s.transformMatrix)),delete s.transformMatrix,t&&(s.scaleX*=t.scaleX,s.scaleY*=t.scaleY,s.cropX=t.cropX,s.cropY=t.cropY,e.x+=t.offsetLeft,e.y+=t.offsetTop,s.width=t.width,s.height=t.height),s.setPositionByOrigin(e,Ie,Ie)},BA=Object.freeze({__proto__:null,addTransformToObject:wf,animate:Rh,animateColor:Ff,applyTransformToObject:dr,calcAngleBetweenVectors:Da,calcDimensionsMatrix:uo,calcPlaneChangeMatrix:fo,calcVectorRotation:Ef,cancelAnimFrame:hf,capValue:ws,composeMatrix:mf,copyCanvasElement:s=>{var t;let e=It();return e.width=s.width,e.height=s.height,(t=e.getContext("2d"))===null||t===void 0||t.drawImage(s,0,0),e},cos:Pi,createCanvasElement:It,createImage:df,createRotateMatrix:_r,createScaleMatrix:Xa,createSkewXMatrix:Eh,createSkewYMatrix:kh,createTranslateMatrix:gr,createVector:Sa,crossProduct:ar,degreesToRadians:yt,dotProduct:kf,ease:OI,enlivenObjectEnlivables:po,enlivenObjects:hr,findScaleToCover:nm,findScaleToFit:im,getBoundsOfCurve:dh,getOrthonormalVector:Ph,getPathSegmentsInfo:Wh,getPointOnPath:cm,getPointer:Cf,getRandomInt:T3,getRegularPolygonPath:(s,t)=>{let e=2*Math.PI/s,i=-Rn;s%2==0&&(i+=e/2);let n=new Array(s+1);for(let r=0;r<s;r++){let o=r*e+i,{x:l,y:c}=new N(Pi(o),Ri(o)).scalarMultiply(t);n[r]=[r===0?"M":"L",l,c]}return n[s]=["Z"],n},getSmoothPathFromPoints:x3,getSvgAttributes:s=>{let t=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:Za,groupSVGElements:(s,t)=>s&&s.length===1?s[0]:new Ln(s,t),hasStyleChanged:el,invertTransform:gi,isBetweenVectors:Jc,isIdentityMatrix:uf,isTouchEvent:wa,isTransparent:qf,joinPath:dm,loadImage:eo,magnitude:Ia,makeBoundingBoxFromPoints:Gi,makePathSimpler:sm,matrixToSVG:ro,mergeClipPaths:(s,t)=>{var e;let i=s,n=t;i.inverted&&!n.inverted&&(i=t,n=s),Qc(n,(e=n.group)===null||e===void 0?void 0:e.calcTransformMatrix(),i.calcTransformMatrix());let r=i.inverted&&n.inverted;return r&&(i.inverted=n.inverted=!1),new Ln([i],{clipPath:n,inverted:r})},multiplyTransformMatrices:bt,multiplyTransformMatrixArray:Ga,parsePath:hm,parsePreserveAspectRatioAttribute:gf,parseUnit:ys,pick:Ss,projectStrokeOnPoints:Kf,qrDecompose:cr,radiansToDegrees:Bn,removeFromArray:Qn,removeTransformFromObject:(s,t)=>{let e=gi(t),i=bt(e,s.calcOwnMatrix());dr(s,i)},removeTransformMatrixForSvgParsing:I3,request:S3,requestAnimFrame:Jr,resetObjectTransform:xf,rotatePoint:(s,t,e)=>s.rotate(e,t),rotateVector:Lh,saveObjectTransform:Fh,sendObjectToPlane:Qc,sendPointToPlane:fn,sendVectorToPlane:Tf,setStyle:La,sin:Ri,sizeAfterTransform:qa,string:HI,stylesFromArray:Qf,stylesToArray:Zf,toDataURL:Oh,toFixed:mt,transformPath:(s,t,e)=>(e&&(t=bt(t,[1,0,0,1,-e.x,-e.y])),s.map(i=>{let n=[...i];for(let r=1;r<i.length-1;r+=2){let{x:o,y:l}=Gt({x:i[r],y:i[r+1]},t);n[r]=o,n[r+1]=l}return n})),transformPoint:Gt}),uh=class extends Ca{constructor(t){let{allowTouchScrolling:e=!1,containerClass:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),V(this,"upper",void 0),V(this,"container",void 0);let{el:n}=this.lower,r=this.createUpperCanvas();this.upper={el:r,ctx:r.getContext("2d")},this.applyCanvasStyle(n,{allowTouchScrolling:e}),this.applyCanvasStyle(r,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}});let o=this.createContainerElement();o.classList.add(i),n.parentNode&&n.parentNode.replaceChild(o,n),o.append(n,r),this.container=o}createUpperCanvas(){let{el:t}=this.lower,e=It();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){let t=pr().createElement("div");return t.setAttribute("data-fabric","wrapper"),La(t,{position:"relative"}),Lp(t),t}applyCanvasStyle(t,e){let{styles:i,allowTouchScrolling:n}=e;La(t,A(A({},i),{},{"touch-action":n?"manipulation":ai})),Lp(t)}setDimensions(t,e){super.setDimensions(t,e);let{el:i,ctx:n}=this.upper;bf(i,n,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),$c(this.upper.el,t),$c(this.container,t)}cleanupDOM(t){let e=this.container,{el:i}=this.lower,{el:n}=this.upper;super.cleanupDOM(t),e.removeChild(n),e.removeChild(i),e.parentNode&&e.parentNode.replaceChild(i,e)}dispose(){super.dispose(),Xi().dispose(this.upper.el),delete this.upper,delete this.container}},Pa=class s extends ao{constructor(){super(...arguments),V(this,"targets",[]),V(this,"_hoveredTargets",[]),V(this,"_objectsToRender",void 0),V(this,"_currentTransform",null),V(this,"_groupSelector",null),V(this,"contextTopDirty",!1)}static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new uh(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(e=>!e.group&&e!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){let t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;let e=this.getRetinaScaling(),i=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=i,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,i){let n=this.targetFindTolerance,r=this.pixelFindContext;this.clearContext(r),r.save(),r.translate(-e+n,-i+n),r.transform(...this.viewportTransform);let o=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(r),t.selectionBackgroundColor=o,r.restore();let l=Math.round(n*this.getRetinaScaling());return qf(r,l,l,l)}_isSelectionKeyPressed(t){let e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find(i=>!!i&&t[i]===!0):t[e])}_shouldClearSelection(t,e){let i=this.getActiveObjects(),n=this._activeObject;return!!(!e||e&&n&&i.length>1&&i.indexOf(e)===-1&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e)}_shouldCenterTransform(t,e,i){if(!t)return;let n;return e===Ya||e===Jt||e===_i||e===so?n=this.centeredScaling||t.centeredScaling:e===Ih&&(n=this.centeredRotation||t.centeredRotation),n?!i:i}_getOriginFromCorner(t,e){let i={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?i.x=St:["mr","tr","br"].includes(e)&&(i.x=Ze),["tl","mt","tr"].includes(e)?i.y=qc:["bl","mb","br"].includes(e)&&(i.y=oi)),i}_setupCurrentTransform(t,e,i){var n;let r=e.group?fn(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:o="",control:l}=e.getActiveControl()||{},c=i&&l?(n=l.getActionHandler(t,e,l))===null||n===void 0?void 0:n.bind(l):Df,d=((C,w,T,x)=>{if(!w||!C)return"drag";let L=x.controls[w];return L.getActionName(T,L,x)})(i,o,t,e),u=t[this.centeredKey],v=this._shouldCenterTransform(e,d,u)?{x:Ie,y:Ie}:this._getOriginFromCorner(e,o),y={target:e,action:d,actionHandler:c,actionPerformed:!1,corner:o,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:r.x-e.left,offsetY:r.y-e.top,originX:v.x,originY:v.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:yt(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:u,original:A(A({},Fh(e)),{},{originX:v.x,originY:v.y})};this._currentTransform=y,this.fire("before:transform",{e:t,transform:y})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){let{x:e,y:i,deltaX:n,deltaY:r}=this._groupSelector,o=new N(e,i).transform(this.viewportTransform),l=new N(e+n,i+r).transform(this.viewportTransform),c=this.selectionLineWidth/2,d=Math.min(o.x,l.x),u=Math.min(o.y,l.y),v=Math.max(o.x,l.x),y=Math.max(o.y,l.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(d,u,v-d,y-u)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,d+=c,u+=c,v-=c,y-=c,Vt.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(d,u,v-d,y-u))}findTarget(t){if(this.skipTargetFind)return;let e=this.getViewportPoint(t),i=this._activeObject,n=this.getActiveObjects();if(this.targets=[],i&&n.length>=1){if(i.findControl(e,wa(t))||n.length>1&&this.searchPossibleTargets([i],e))return i;if(i===this.searchPossibleTargets([i],e)){if(this.preserveObjectStacking){let r=this.targets;this.targets=[];let o=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&o&&o!==i?(this.targets=r,i):o}return i}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let i=t.getCoords(),n=this.getZoom(),r=t.padding/n;if(r){let[o,l,c,d]=i,u=Math.atan2(l.y-o.y,l.x-o.x),v=Pi(u)*r,y=Ri(u)*r,C=v+y,w=v-y;i=[new N(o.x-w,o.y-C),new N(l.x+C,l.y-w),new N(c.x+w,c.y+C),new N(d.x-C,d.y+w)]}return Cs.isPointInPolygon(e,i)}_checkTarget(t,e){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,fn(e,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,e.x,e.y)))}_searchPossibleTargets(t,e){let i=t.length;for(;i--;){let n=t[i];if(this._checkTarget(n,e)){if(pa(n)&&n.subTargetCheck){let r=this._searchPossibleTargets(n._objects,e);r&&this.targets.push(r)}return n}}}searchPossibleTargets(t,e){let i=this._searchPossibleTargets(t,e);if(i&&pa(i)&&i.interactive&&this.targets[0]){let n=this.targets;for(let r=n.length-1;r>0;r--){let o=n[r];if(!pa(o)||!o.interactive)return o}return n[0]}return i}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.upperCanvasEl,n=i.getBoundingClientRect(),r=Cf(t),o=n.width||0,l=n.height||0;o&&l||(oi in n&&qc in n&&(l=Math.abs(n.top-n.bottom)),St in n&&Ze in n&&(o=Math.abs(n.right-n.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,e||(r=fn(r,void 0,this.viewportTransform));let c=this.getRetinaScaling();c!==1&&(r.x/=c,r.y/=c);let d=o===0||l===0?new N(1,1):new N(i.width/o,i.height/l);return r.multiply(d)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=It(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let t=this._activeObject;return Jn(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let i=!1,n=!1,r=this.getActiveObjects(),o=[],l=[];t.forEach(c=>{r.includes(c)||(i=!0,c.fire("deselected",{e,target:c}),l.push(c))}),r.forEach(c=>{t.includes(c)||(i=!0,c.fire("selected",{e,target:c}),o.push(c))}),t.length>0&&r.length>0?(n=!0,i&&this.fire("selection:updated",{e,selected:o,deselected:l})):r.length>0?(n=!0,this.fire("selection:created",{e,selected:o})):t.length>0&&(n=!0,this.fire("selection:cleared",{e,deselected:l})),n&&(this._objectsToRender=void 0)}setActiveObject(t,e){let i=this.getActiveObjects(),n=this._setActiveObject(t,e);return this._fireSelectionEvents(i,e),n}_setActiveObject(t,e){let i=this._activeObject;return i!==t&&!(!this._discardActiveObject(e,t)&&this._activeObject)&&!t.onSelect({e})&&(this._activeObject=t,Jn(t)&&i!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,e){let i=this._activeObject;return!!i&&!i.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===i&&this.endCurrentTransform(t),Jn(i)&&i===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){let e=this.getActiveObjects(),i=this.getActiveObject();e.length&&this.fire("before:selection:cleared",{e:t,deselected:[i]});let n=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),n}endCurrentTransform(t){let e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){let e=this._currentTransform,i=e.target,n={e:t,target:i,transform:e,action:e.action};i._scaling&&(i._scaling=!1),i.setCoords(),e.actionPerformed&&(this.fire("object:modified",n),i.fire(va,n))}setViewportTransform(t){super.setViewportTransform(t);let e=this._activeObject;e&&e.setCoords()}destroy(){let t=this._activeObject;Jn(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){let e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,i){let n=this._realizeGroupTransformOnObject(t),r=super._toObject(t,e,i);return t.set(n),r}_realizeGroupTransformOnObject(t){let{group:e}=t;if(e&&Jn(e)&&this._activeObject===e){let i=Ss(t,["angle","flipX","flipY",Ze,Jt,_i,fr,mr,oi]);return wf(t,e.calcOwnMatrix()),i}return{}}_setSVGObject(t,e,i){let n=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,i),e.set(n)}};V(Pa,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});var ph=class{constructor(t){V(this,"targets",[]),V(this,"__disposer",void 0);let e=()=>{let{hiddenTextarea:n}=t.getActiveObject()||{};n&&n.focus()},i=t.upperCanvasEl;i.addEventListener("click",e),this.__disposer=()=>i.removeEventListener("click",e)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),Qn(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;!((e=this.target)===null||e===void 0)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}},D3=["target","oldTarget","fireCanvas","e"],fi={passive:!1},er=(s,t)=>{let e=s.getViewportPoint(t),i=s.getScenePoint(t);return{viewportPoint:e,scenePoint:i,pointer:e,absolutePointer:i}},Mn=function(s){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return s.addEventListener(...e)},xi=function(s){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return s.removeEventListener(...e)},O3={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}},Ts=class extends Pa{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),V(this,"_isClick",void 0),V(this,"textEditingManager",new ph(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(Mn,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){let i=this.upperCanvasEl,n=this._getEventPrefix();t(yf(i),"resize",this._onResize),t(i,n+"down",this._onMouseDown),t(i,"".concat(n,"move"),this._onMouseMove,fi),t(i,"".concat(n,"out"),this._onMouseOut),t(i,"".concat(n,"enter"),this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragstart",this._onDragStart),t(i,"dragend",this._onDragEnd),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,fi)}removeListeners(){this.addOrRemove(xi,"remove");let t=this._getEventPrefix(),e=Ai(this.upperCanvasEl);xi(e,"".concat(t,"up"),this._onMouseUp),xi(e,"touchend",this._onTouchEnd,fi),xi(e,"".concat(t,"move"),this._onMouseMove,fi),xi(e,"touchmove",this._onMouseMove,fi)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){let e=this._hoveredTarget,i=A({e:t},er(this,t));this.fire("mouse:out",A(A({},i),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",A({},i)),this._hoveredTargets.forEach(n=>{this.fire("mouse:out",A(A({},i),{},{target:n})),n&&n.fire("mouseout",A({},i))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",A({e:t},er(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;let e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;let i={e:t,target:e};return this.fire("dragstart",i),e.fire("dragstart",i),void Mn(this.upperCanvasEl,"drag",this._onDragProgress)}Zc(t)}_renderDragEffects(t,e,i){let n=!1,r=this._dropTarget;r&&r!==e&&r!==i&&(r.clearContextTop(),n=!0),e?.clearContextTop(),i!==e&&i?.clearContextTop();let o=this.contextTop;o.save(),o.transform(...this.viewportTransform),e&&(o.save(),e.transform(o),e.renderDragSourceEffect(t),o.restore(),n=!0),i&&(o.save(),i.transform(o),i.renderDropTargetEffect(t),o.restore(),n=!0),o.restore(),n&&(this.contextTopDirty=!0)}_onDragEnd(t){let e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==ai,i=e?this._activeObject:void 0,n={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:i};xi(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",n),this._dragSource&&this._dragSource.fire("dragend",n),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){let e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",e),this._dragSource&&this._dragSource.fire("drag",e)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){let e="dragover",{target:i,targets:n}=this.findDragTargets(t),r=this._dragSource,o={e:t,target:i,subTargets:n,dragSource:r,canDrop:!1,dropTarget:void 0},l;this.fire(e,o),this._fireEnterLeaveEvents(i,o),i&&(i.canDrop(t)&&(l=i),i.fire(e,o));for(let c=0;c<n.length;c++){let d=n[c];d.canDrop(t)&&(l=d),d.fire(e,o)}this._renderDragEffects(t,r,l),this._dropTarget=l}_onDragEnter(t){let{target:e,targets:i}=this.findDragTargets(t),n={e:t,target:e,subTargets:i,dragSource:this._dragSource};this.fire("dragenter",n),this._fireEnterLeaveEvents(e,n)}_onDragLeave(t){let e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){let{target:e,targets:i}=this.findDragTargets(t),n=this._basicEventHandler("drop:before",A({e:t,target:e,subTargets:i,dragSource:this._dragSource},er(this,t)));n.didDrop=!1,n.dropTarget=void 0,this._basicEventHandler("drop",n),this.fire("drop:after",n)}_onContextMenu(t){let e=this.findTarget(t),i=this.targets||[],n=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:i});return this.stopContextMenu&&Zc(t),this._basicEventHandler("contextmenu",n),!1}_onDoubleClick(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData()}getPointerId(t){let e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){t.preventDefault(),this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),this._resetTransformEventData();let e=this.upperCanvasEl,i=this._getEventPrefix(),n=Ai(e);Mn(n,"touchend",this._onTouchEnd,fi),Mn(n,"touchmove",this._onMouseMove,fi),xi(e,"".concat(i,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();let e=this.upperCanvasEl,i=this._getEventPrefix();xi(e,"".concat(i,"move"),this._onMouseMove,fi);let n=Ai(e);Mn(n,"".concat(i,"up"),this._onMouseUp),Mn(n,"".concat(i,"move"),this._onMouseMove,fi)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;let e=this._getEventPrefix(),i=Ai(this.upperCanvasEl);xi(i,"touchend",this._onTouchEnd,fi),xi(i,"touchmove",this._onMouseMove,fi),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Mn(this.upperCanvasEl,"".concat(e,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();let e=this.upperCanvasEl,i=this._getEventPrefix();if(this._isMainEvent(t)){let n=Ai(this.upperCanvasEl);xi(n,"".concat(i,"up"),this._onMouseUp),xi(n,"".concat(i,"move"),this._onMouseMove,fi),Mn(e,"".concat(i,"move"),this._onMouseMove,fi)}}_onMouseMove(t){let e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){let e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");let i=this._currentTransform,n=this._isClick,r=this._target,{button:o}=t;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let l,c,d=!1;if(i&&(this._finalizeCurrentTransform(t),d=i.actionPerformed),!n){let u=r===this._activeObject;this.handleSelection(t),d||(d=this._shouldRender(r)||!u&&r===this._activeObject)}if(r){let u=r.findControl(this.getViewportPoint(t),wa(t)),{key:v,control:y}=u||{};if(c=v,r.selectable&&r!==this._activeObject&&r.activeOn==="up")this.setActiveObject(r,t),d=!0;else if(y){let C=y.getMouseUpHandler(t,r,y);C&&(l=this.getScenePoint(t),C.call(y,t,i,l.x,l.y))}r.isMoving=!1}if(i&&(i.target!==r||i.corner!==c)){let u=i.target&&i.target.controls[i.corner],v=u&&u.getMouseUpHandler(t,i.target,u);l=l||this.getScenePoint(t),v&&v.call(u,t,i,l.x,l.y)}this._setCursorFromEvent(t,r),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,r&&(r.__corner=void 0),d?this.requestRenderAll():n||(e=this._activeObject)!==null&&e!==void 0&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){let{target:i,subTargets:n=[]}=e;this.fire(t,e),i&&i.fire(t,e);for(let r=0;r<n.length;r++)n[r]!==i&&n[r].fire(t,e);return e}_handleEvent(t,e){let i=this._target,n=this.targets||[],r=A(A({e:t,target:i,subTargets:n},er(this,t)),{},{transform:this._currentTransform},e==="up:before"||e==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(e),r),i&&i.fire("mouse".concat(e),r);for(let o=0;o<n.length;o++)n[o]!==i&&n[o].fire("mouse".concat(e),r)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());let e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){let e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){let e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let e=this._target,{button:i}=t;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(t,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let n=this._shouldRender(e),r=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,r=!0,n=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){let o=this.getScenePoint(t);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(e){let o=e===this._activeObject;e.selectable&&e.activeOn==="down"&&this.setActiveObject(e,t);let l=e.findControl(this.getViewportPoint(t),wa(t));if(e===this._activeObject&&(l||!r)){this._setupCurrentTransform(t,e,o);let c=l?l.control:void 0,d=this.getScenePoint(t),u=c&&c.getMouseDownHandler(t,e,c);u&&u.call(c,t,this._currentTransform,d.x,d.y)}}n&&(this._objectsToRender=void 0),this._handleEvent(t,"down"),n&&this.requestRenderAll()}_resetTransformEventData(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=fn(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;let e=this._groupSelector;if(e){let i=this.getScenePoint(t);e.deltaX=i.x-e.x,e.deltaY=i.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{let i=this.findTarget(t);this._setCursorFromEvent(t,i),this._fireOverOutEvents(t,i)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,e){let i=this._hoveredTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:e,oldTarget:i,fireCanvas:!0});for(let l=0;l<o;l++)this.fireSyntheticInOutEvents("mouse",{e:t,target:r[l],oldTarget:n[l]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){let i=this._draggedoverTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents("drag",A(A({},e),{},{target:t,oldTarget:i,fireCanvas:!0}));for(let l=0;l<o;l++)this.fireSyntheticInOutEvents("drag",A(A({},e),{},{target:r[l],oldTarget:n[l]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:i,oldTarget:n,fireCanvas:r,e:o}=e,l=gt(e,D3),{targetIn:c,targetOut:d,canvasIn:u,canvasOut:v}=O3[t],y=n!==i;if(n&&y){let C=A(A({},l),{},{e:o,target:n,nextTarget:i},er(this,o));r&&this.fire(v,C),n.fire(d,C)}if(i&&y){let C=A(A({},l),{},{e:o,target:i,previousTarget:n},er(this,o));r&&this.fire(u,C),i.fire(c,C)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){let e=this.getScenePoint(t),i=this._currentTransform,n=i.target,r=n.group?fn(e,void 0,n.group.calcTransformMatrix()):e;i.shiftKey=t.shiftKey,i.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,i,r),i.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,i){let{action:n,actionHandler:r,target:o}=e,l=!!r&&r(t,e,i.x,i.y);l&&o.setCoords(),n==="drag"&&l&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||l}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let i=e.hoverCursor||this.hoverCursor,n=Jn(this._activeObject)?this._activeObject:null,r=(!n||e.group!==n)&&e.findControl(this.getViewportPoint(t));if(r){let o=r.control;this.setCursor(o.cursorStyleHandler(t,o,e))}else e.subTargetCheck&&this.targets.concat().reverse().map(o=>{i=o.hoverCursor||i}),this.setCursor(i)}handleMultiSelection(t,e){let i=this._activeObject,n=Jn(i);if(i&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(i!==e||n)&&(n||!e.isDescendantOf(i)&&!i.isDescendantOf(e))&&!e.onSelect({e:t})&&!i.getActiveControl()){if(n){let r=i.getObjects();if(e===i){let o=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(r,o)||this.searchPossibleTargets(this._objects,o))||!e.selectable)return!1}e.group===i?(i.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],i.size()===1&&this._setActiveObject(i.item(0),t)):(i.multiSelectAdd(e),this._hoveredTarget=i,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(r,t)}else{i.exitEditing&&i.exitEditing();let r=new(re.getClass("ActiveSelection"))([],{canvas:this});r.multiSelectAdd(i,e),this._hoveredTarget=r,this._setActiveObject(r,t),this._fireSelectionEvents([i],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;let{x:e,y:i,deltaX:n,deltaY:r}=this._groupSelector,o=new N(e,i),l=o.add(new N(n,r)),c=o.min(l),d=o.max(l).subtract(c),u=this.collectObjects({left:c.x,top:c.y,width:d.x,height:d.y},{includeIntersecting:!this.selectionFullyContained}),v=o.eq(l)?u[0]?[u[0]]:[]:u.length>1?u.filter(y=>!y.onSelect({e:t})).reverse():u;if(v.length===1)this.setActiveObject(v[0],t);else if(v.length>1){let y=re.getClass("ActiveSelection");this.setActiveObject(new y(v,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}},um={x1:0,y1:0,x2:0,y2:0},E3=A(A({},um),{},{r1:0,r2:0}),ir=(s,t)=>isNaN(s)&&typeof t=="number"?t:s,k3=/^(\d+\.\d+)%|(\d+)%$/;function pm(s){return s&&k3.test(s)}function fm(s,t){let e=typeof s=="number"?s:typeof s=="string"?parseFloat(s)/(pm(s)?100:1):NaN;return ws(0,ir(e,t),1)}var M3=/\s*;\s*/,F3=/\s*:\s*/;function A3(s,t){let e,i,n=s.getAttribute("style");if(n){let o=n.split(M3);o[o.length-1]===""&&o.pop();for(let l=o.length;l--;){let[c,d]=o[l].split(F3).map(u=>u.trim());c==="stop-color"?e=d:c==="stop-opacity"&&(i=d)}}let r=new ei(e||s.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:fm(s.getAttribute("offset"),0),color:r.toRgb(),opacity:ir(parseFloat(i||s.getAttribute("stop-opacity")||""),1)*r.getAlpha()*t}}function V3(s,t){let e=[],i=s.getElementsByTagName("stop"),n=fm(t,1);for(let r=i.length;r--;)e.push(A3(i[r],n));return e}function mm(s){return s.nodeName==="linearGradient"||s.nodeName==="LINEARGRADIENT"?"linear":"radial"}function gm(s){return s.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Fi(s,t){return s.getAttribute(t)}function L3(s,t){return function(e,i){let n,{width:r,height:o,gradientUnits:l}=i;return Object.keys(e).reduce((c,d)=>{let u=e[d];return u==="Infinity"?n=1:u==="-Infinity"?n=0:(n=typeof u=="string"?parseFloat(u):u,typeof u=="string"&&pm(u)&&(n*=.01,l==="pixels"&&(d!=="x1"&&d!=="x2"&&d!=="r2"||(n*=r),d!=="y1"&&d!=="y2"||(n*=o)))),c[d]=n,c},{})}(mm(s)==="linear"?function(e){return{x1:Fi(e,"x1")||0,y1:Fi(e,"y1")||0,x2:Fi(e,"x2")||"100%",y2:Fi(e,"y2")||0}}(s):function(e){return{x1:Fi(e,"fx")||Fi(e,"cx")||"50%",y1:Fi(e,"fy")||Fi(e,"cy")||"50%",r1:0,x2:Fi(e,"cx")||"50%",y2:Fi(e,"cy")||"50%",r2:Fi(e,"r")||"50%"}}(s),A(A({},t),{},{gradientUnits:gm(s)}))}var nr=class{constructor(t){let{type:e="linear",gradientUnits:i="pixels",coords:n={},colorStops:r=[],offsetX:o=0,offsetY:l=0,gradientTransform:c,id:d}=t||{};Object.assign(this,{type:e,gradientUnits:i,coords:A(A({},e==="radial"?E3:um),n),colorStops:r,offsetX:o,offsetY:l,gradientTransform:c,id:d?"".concat(d,"_").concat(Nn()):Nn()})}addColorStop(t){for(let e in t){let i=new ei(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this}toObject(t){return A(A({},Ss(this,t)),{},{type:this.type,coords:A({},this.coords),colorStops:this.colorStops.map(e=>A({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[],n=this.gradientTransform?this.gradientTransform.concat():Qt.concat(),r=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(v=>A({},v)).sort((v,y)=>v.offset-y.offset),l=-this.offsetX,c=-this.offsetY;var d;r==="objectBoundingBox"?(l/=t.width,c/=t.height):(l+=t.width/2,c+=t.height/2),(d=t)&&typeof d._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(l-=t.pathOffset.x,c-=t.pathOffset.y),n[4]-=l,n[5]-=c;let u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(r,'"'),'gradientTransform="'.concat(e?e+" ":"").concat(ro(n),'"'),""].join(" ");if(this.type==="linear"){let{x1:v,y1:y,x2:C,y2:w}=this.coords;i.push("<linearGradient ",u,' x1="',v,'" y1="',y,'" x2="',C,'" y2="',w,`">
`)}else if(this.type==="radial"){let{x1:v,y1:y,x2:C,y2:w,r1:T,r2:x}=this.coords,L=T>x;i.push("<radialGradient ",u,' cx="',L?v:C,'" cy="',L?y:w,'" r="',L?T:x,'" fx="',L?C:v,'" fy="',L?w:y,`">
`),L&&(o.reverse(),o.forEach(U=>{U.offset=1-U.offset}));let R=Math.min(T,x);if(R>0){let U=R/Math.max(T,x);o.forEach(q=>{q.offset+=U*(1-q.offset)})}}return o.forEach(v=>{let{color:y,offset:C,opacity:w}=v;i.push("<stop ",'offset="',100*C+"%",'" style="stop-color:',y,w!==void 0?";stop-opacity: "+w:";",`"/>
`)}),i.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),i.join("")}toLive(t){let{x1:e,y1:i,x2:n,y2:r,r1:o,r2:l}=this.coords,c=this.type==="linear"?t.createLinearGradient(e,i,n,r):t.createRadialGradient(e,i,o,n,r,l);return this.colorStops.forEach(d=>{let{color:u,opacity:v,offset:y}=d;c.addColorStop(y,v!==void 0?new ei(u).setAlpha(v).toRgba():u)}),c}static fromObject(t){return Pt(this,null,function*(){let{colorStops:e,gradientTransform:i}=t;return new this(A(A({},t),{},{colorStops:e?e.map(n=>A({},n)):void 0,gradientTransform:i?[...i]:void 0}))})}static fromElement(t,e,i){let n=gm(t),r=e._findCenterFromElement();return new this(A({id:t.getAttribute("id")||void 0,type:mm(t),coords:L3(t,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:V3(t,i.opacity),gradientUnits:n,gradientTransform:lh(t.getAttribute("gradientTransform")||"")},n==="pixels"?{offsetX:e.width/2-r.x,offsetY:e.height/2-r.y}:{offsetX:0,offsetY:0}))}};V(nr,"type","Gradient"),re.setClass(nr,"gradient"),re.setClass(nr,"linear"),re.setClass(nr,"radial");var P3=["type","source","patternTransform"],to=class{get type(){return"pattern"}set type(t){Pn("warn","Setting type has no effect",t)}constructor(t){V(this,"repeat","repeat"),V(this,"offsetX",0),V(this,"offsetY",0),V(this,"crossOrigin",""),this.id=Nn(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:e,crossOrigin:i}=this;return A(A({},Ss(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:i,offsetX:mt(this.offsetX,je.NUM_FRACTION_DIGITS),offsetY:mt(this.offsetY,je.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:i}=t,{source:n,repeat:r,id:o}=this,l=ir(this.offsetX/e,0),c=ir(this.offsetY/i,0),d=r==="repeat-y"||r==="no-repeat"?1+Math.abs(l||0):ir(n.width/e,0),u=r==="repeat-x"||r==="no-repeat"?1+Math.abs(c||0):ir(n.height/i,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(l,'" y="').concat(c,'" width="').concat(d,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(n.width,'" height="').concat(n.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static fromObject(t,e){return Pt(this,null,function*(){let{type:i,source:n,patternTransform:r}=t,o=gt(t,P3),l=yield eo(n,A(A({},e),{},{crossOrigin:o.crossOrigin}));return new this(A(A({},o),{},{patternTransform:r&&r.slice(0),source:l}))})}};V(to,"type","Pattern"),re.setClass(to),re.setClass(to,"pattern");var R3=["path","left","top"],N3=["d"],es=class s extends Vt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:i,left:n,top:r}=e,o=gt(e,R3);super(),Object.assign(this,s.ownDefaults),this.setOptions(o),this._setPath(t||[],!0),typeof n=="number"&&this.set(Ze,n),typeof r=="number"&&this.set(oi,r)}_setPath(t,e){this.path=sm(Array.isArray(t)?t:hm(t)),this.setBoundingBox(e)}_findCenterFromElement(){let t=this._calcBoundsFromPath();return new N(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){let e=-this.pathOffset.x,i=-this.pathOffset.y;t.beginPath();for(let n of this.path)switch(n[0]){case"L":t.lineTo(n[1]+e,n[2]+i);break;case"M":t.moveTo(n[1]+e,n[2]+i);break;case"C":t.bezierCurveTo(n[1]+e,n[2]+i,n[3]+e,n[4]+i,n[5]+e,n[6]+i);break;case"Q":t.quadraticCurveTo(n[1]+e,n[2]+i,n[3]+e,n[4]+i);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A(A({},super.toObject(t)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){let t=dm(this.path,je.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let t=je.NUM_FRACTION_DIGITS;return" translate(".concat(mt(-this.pathOffset.x,t),", ").concat(mt(-this.pathOffset.y,t),")")}toClipPathSVG(t){let e=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){let e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){let{width:e,height:i,pathOffset:n}=this._calcDimensions();this.set({width:e,height:i,pathOffset:n}),t&&this.setPositionByOrigin(n,Ie,Ie)}_calcBoundsFromPath(){let t=[],e=0,i=0,n=0,r=0;for(let o of this.path)switch(o[0]){case"L":n=o[1],r=o[2],t.push({x:e,y:i},{x:n,y:r});break;case"M":n=o[1],r=o[2],e=n,i=r;break;case"C":t.push(...dh(n,r,o[1],o[2],o[3],o[4],o[5],o[6])),n=o[5],r=o[6];break;case"Q":t.push(...dh(n,r,o[1],o[2],o[1],o[2],o[3],o[4])),n=o[3],r=o[4];break;case"Z":n=e,r=i}return Gi(t)}_calcDimensions(){let t=this._calcBoundsFromPath();return A(A({},t),{},{pathOffset:new N(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static fromElement(t,e,i){return Pt(this,null,function*(){let n=_n(t,this.ATTRIBUTE_NAMES,i),{d:r}=n;return new this(r,A(A(A({},gt(n,N3)),e),{},{left:void 0,top:void 0}))})}};V(es,"type","Path"),V(es,"cacheProperties",[...gn,"path","fillRule"]),V(es,"ATTRIBUTE_NAMES",[...Un,"d"]),re.setClass(es),re.setSVGClass(es);var B3=["left","top","radius"],_m=["radius","startAngle","endAngle","counterClockwise"],Fn=class s extends Vt{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),t==="radius"&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,yt(this.startAngle),yt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(Jt)}getRadiusY(){return this.get("radius")*this.get(_i)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([..._m,...t])}_toSVG(){let t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:e}=this,i=yt(this.startAngle),n=yt(this.endAngle),r=Pi(i)*e,o=Ri(i)*e,l=Pi(n)*e,c=Ri(n)*e,d=t>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(r," ").concat(o," A ").concat(e," ").concat(e," 0 ").concat(d," ").concat(u," ").concat(l," ").concat(c,'" '),"COMMON_PARTS",` />
`]}}static fromElement(t,e,i){return Pt(this,null,function*(){let n=_n(t,this.ATTRIBUTE_NAMES,i),{left:r=0,top:o=0,radius:l=0}=n;return new this(A(A({},gt(n,B3)),{},{radius:l,left:r-l,top:o-l}))})}static fromObject(t){return super._fromObject(t)}};V(Fn,"type","Circle"),V(Fn,"cacheProperties",[...gn,..._m]),V(Fn,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),V(Fn,"ATTRIBUTE_NAMES",["cx","cy","r",...Un]),re.setClass(Fn),re.setSVGClass(Fn);var j3=["x1","y1","x2","y2"],H3=["x1","y1","x2","y2"],fh=["x1","x2","y1","y2"],ts=class s extends Vt{constructor(){let[t,e,i,n]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,s.ownDefaults),this.setOptions(r),this.x1=t,this.x2=i,this.y1=e,this.y2=n,this._setWidthHeight();let{left:o,top:l}=r;typeof o=="number"&&this.set(Ze,o),typeof l=="number"&&this.set(oi,l)}_setWidthHeight(){let{x1:t,y1:e,x2:i,y2:n}=this;this.width=Math.abs(i-t),this.height=Math.abs(n-e);let{left:r,top:o,width:l,height:c}=Gi([{x:t,y:e},{x:i,y:n}]),d=new N(r+l/2,o+c/2);this.setPositionByOrigin(d,Ie,Ie)}_set(t,e){return super._set(t,e),fh.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();let e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;let i=t.strokeStyle;var n;Si(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(n=this.stroke)!==null&&n!==void 0?n:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i}_findCenterFromElement(){return new N((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A(A({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){let t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){let{x1:t,x2:e,y1:i,y2:n,width:r,height:o}=this,l=t<=e?-1:1,c=i<=n?-1:1;return{x1:l*r/2,x2:l*-r/2,y1:c*o/2,y2:c*-o/2}}_toSVG(){let{x1:t,x2:e,y1:i,y2:n}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(i,'" x2="').concat(e,'" y2="').concat(n,`" />
`)]}static fromElement(t,e,i){return Pt(this,null,function*(){let n=_n(t,this.ATTRIBUTE_NAMES,i),{x1:r=0,y1:o=0,x2:l=0,y2:c=0}=n;return new this([r,o,l,c],gt(n,j3))})}static fromObject(t){let{x1:e,y1:i,x2:n,y2:r}=t,o=gt(t,H3);return this._fromObject(A(A({},o),{},{points:[e,i,n,r]}),{extraParam:"points"})}};V(ts,"type","Line"),V(ts,"cacheProperties",[...gn,...fh]),V(ts,"ATTRIBUTE_NAMES",Un.concat(fh)),re.setClass(ts),re.setSVGClass(ts);var sr=class s extends Vt{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t)}_render(t){let e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){let t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}};V(sr,"type","Triangle"),V(sr,"ownDefaults",{width:100,height:100}),re.setClass(sr),re.setSVGClass(sr);var vm=["rx","ry"],An=class s extends Vt{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(Jt)}getRy(){return this.get("ry")*this.get(_i)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...vm,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,mn,!1),t.restore(),this._renderPaintInOrder(t)}static fromElement(t,e,i){return Pt(this,null,function*(){let n=_n(t,this.ATTRIBUTE_NAMES,i);return n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,new this(n)})}};function U3(s){if(!s)return[];let t=s.replace(/,/g," ").trim().split(/\s+/),e=[];for(let i=0;i<t.length;i+=2)e.push({x:parseFloat(t[i]),y:parseFloat(t[i+1])});return e}V(An,"type","Ellipse"),V(An,"cacheProperties",[...gn,...vm]),V(An,"ownDefaults",{rx:0,ry:0}),V(An,"ATTRIBUTE_NAMES",[...Un,"cx","cy","rx","ry"]),re.setClass(An),re.setSVGClass(An);var W3=["left","top"],ym={exactBoundingBox:!1},zi=class s extends Vt{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),V(this,"strokeDiff",void 0),Object.assign(this,s.ownDefaults),this.setOptions(e),this.points=t;let{left:i,top:n}=e;this.initialized=!0,this.setBoundingBox(!0),typeof i=="number"&&this.set(Ze,i),typeof n=="number"&&this.set(oi,n)}isOpen(){return!0}_projectStrokeOnPoints(t){return Kf(this.points,t,this.isOpen())}_calcDimensions(t){t=A({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});let e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(d=>d.projectedPoint):this.points;if(e.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new N,strokeOffset:new N,strokeDiff:new N};let i=Gi(e),n=uo(A(A({},t),{},{scaleX:1,scaleY:1})),r=Gi(this.points.map(d=>Gt(d,n,!0))),o=new N(this.scaleX,this.scaleY),l=i.left+i.width/2,c=i.top+i.height/2;return this.exactBoundingBox&&(l-=c*Math.tan(yt(this.skewX)),c-=l*Math.tan(yt(this.skewY))),A(A({},i),{},{pathOffset:new N(l,c),strokeOffset:new N(r.left,r.top).subtract(new N(i.left,i.top)).multiply(o),strokeDiff:new N(i.width,i.height).subtract(new N(r.width,r.height)).multiply(o)})}_findCenterFromElement(){let t=Gi(this.points);return new N(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){let{left:e,top:i,width:n,height:r,pathOffset:o,strokeOffset:l,strokeDiff:c}=this._calcDimensions();this.set({width:n,height:r,pathOffset:o,strokeOffset:l,strokeDiff:c}),t&&this.setPositionByOrigin(new N(e+n/2,i+r/2),Ie,Ie)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new N(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(t).some(l=>this.strokeUniform||this.constructor.layoutProperties.includes(l))){var e,i;let{width:l,height:c}=this._calcDimensions(t);o=new N((e=t.width)!==null&&e!==void 0?e:l,(i=t.height)!==null&&i!==void 0?i:c)}else{var n,r;o=new N((n=t.width)!==null&&n!==void 0?n:this.width,(r=t.height)!==null&&r!==void 0?r:this.height)}return o.multiply(new N(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){let i=this.initialized&&this[t]!==e,n=super._set(t,e);return this.exactBoundingBox&&i&&((t===Jt||t===_i)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),n}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A(A({},super.toObject(t)),{},{points:this.points.map(e=>{let{x:i,y:n}=e;return{x:i,y:n}})})}_toSVG(){let t=[],e=this.pathOffset.x,i=this.pathOffset.y,n=je.NUM_FRACTION_DIGITS;for(let r=0,o=this.points.length;r<o;r++)t.push(mt(this.points[r].x-e,n),",",mt(this.points[r].y-i,n)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){let e=this.points.length,i=this.pathOffset.x,n=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-n);for(let r=0;r<e;r++){let o=this.points[r];t.lineTo(o.x-i,o.y-n)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static fromElement(t,e,i){return Pt(this,null,function*(){return new this(U3(t.getAttribute("points")),A(A({},gt(_n(t,this.ATTRIBUTE_NAMES,i),W3)),e))})}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}};V(zi,"ownDefaults",ym),V(zi,"type","Polyline"),V(zi,"layoutProperties",[fr,mr,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),V(zi,"cacheProperties",[...gn,"points"]),V(zi,"ATTRIBUTE_NAMES",[...Un]),re.setClass(zi),re.setSVGClass(zi);var rr=class extends zi{isOpen(){return!1}};V(rr,"ownDefaults",ym),V(rr,"type","Polygon"),re.setClass(rr),re.setSVGClass(rr);var bm=["fontSize","fontWeight","fontFamily","fontStyle"],Cm=["underline","overline","linethrough"],wm=[...bm,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],xm=[...wm,...Cm,"textBackgroundColor","direction"],z3=[...bm,...Cm,li,"strokeWidth",Mt,"deltaY","textBackgroundColor"],Y3={_reNewline:Sh,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ze,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ze,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},Yi="justify",Ra="justify-left",io="justify-right",no="justify-center",Na=class extends Vt{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;let e=t===void 0?this.styles:{line:this.styles[t]};for(let i in e)for(let n in e[i])for(let r in e[i][n])return!1;return!0}styleHas(t,e){if(!this.styles||e!==void 0&&!this.styles[e])return!1;let i=e===void 0?this.styles:{0:this.styles[e]};for(let n in i)for(let r in i[n])if(i[n][r][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;let e=this.styles,i,n,r=0,o=!0,l=0;for(let c in e){i=0;for(let d in e[c]){let u=e[c][d]||{};r++,u[t]!==void 0?(n?u[t]!==n&&(o=!1):n=u[t],u[t]===this[t]&&delete u[t]):o=!1,Object.keys(u).length!==0?i++:delete e[c][d]}i===0&&delete e[c]}for(let c=0;c<this._textLines.length;c++)l+=this._textLines[c].length;o&&r===l&&(this[t]=n,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;let e=this.styles,i,n,r;for(n in e){for(r in i=e[n],i)delete i[r][t],Object.keys(i[r]).length===0&&delete i[r];Object.keys(i).length===0&&delete e[n]}}_extendStyles(t,e){let{lineIndex:i,charIndex:n}=this.get2DCursorLocation(t);this._getLineStyle(i)||this._setLineStyle(i);let r=Mh(A(A({},this._getStyleDeclaration(i,n)),e),o=>o!==void 0);this._setStyleDeclaration(i,n,r)}getSelectionStyles(t,e,i){let n=[];for(let r=t;r<(e||t);r++)n.push(this.getStyleAtPosition(r,i));return n}getStyleAtPosition(t,e){let{lineIndex:i,charIndex:n}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(i,n):this._getStyleDeclaration(i,n)}setSelectionStyles(t,e,i){for(let n=e;n<(i||e);n++)this._extendStyles(n,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var i;let n=this.styles&&this.styles[t];return n&&(i=n[e])!==null&&i!==void 0?i:{}}getCompleteStyleDeclaration(t,e){return A(A({},Ss(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,i){this.styles[t][e]=i}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}};V(Na,"_styleProperties",z3);var G3=/  +/g,X3=/"/g;function jc(s,t,e,i,n){return"		".concat(function(r,o){let{left:l,top:c,width:d,height:u}=o,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:je.NUM_FRACTION_DIGITS,y=oo(Mt,r,!1),[C,w,T,x]=[l,c,d,u].map(L=>mt(L,v));return"<rect ".concat(y,' x="').concat(C,'" y="').concat(w,'" width="').concat(T,'" height="').concat(x,'"></rect>')}(s,{left:t,top:e,width:i,height:n}),`
`)}var q3=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],Hc,Ti=class s extends Na{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(t,e){super(),V(this,"__charBounds",[]),Object.assign(this,s.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let t=this.path;t&&(t.segmentsInfo=Wh(t.path))}_splitText(){let t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Yi)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,i,n,r,o,l;for(let c=0,d=this._textLines.length;c<d;c++)if((this.textAlign===Yi||c!==d-1&&!this.isEndOfWrapping(c))&&(n=0,r=this._textLines[c],e=this.getLineWidth(c),e<this.width&&(l=this.textLines[c].match(this._reSpacesAndTabs)))){i=l.length,t=(this.width-e)/i;for(let u=0;u<=r.length;u++)o=this.__charBounds[c][u],this._reSpaceAndTab.test(r[u])?(o.width+=t,o.kernedWidth+=t,o.left+=n,n+=t):o.left+=n}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){let i=e?this._unwrappedTextLines:this._textLines,n;for(n=0;n<i.length;n++){if(t<=i[n].length)return{lineIndex:n,charIndex:t};t-=i[n].length+this.missingNewlineOffset(n,e)}return{lineIndex:n-1,charIndex:i[n-1].length<t?i[n-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){let e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===li?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,i){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Ie:t.textBaseline="middle";break;case"ascender":t.textBaseline=oi;break;case"descender":t.textBaseline=qc}t.font=this._getFontDeclaration(e,i)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,i=this._textLines.length;e<i;e++){let n=this.getLineWidth(e);n>t&&(t=n)}return t}_renderTextLine(t,e,i,n,r,o){this._renderChars(t,e,i,n,r,o)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let e=t.fillStyle,i=this._getLeftOffset(),n=this._getTopOffset();for(let r=0,o=this._textLines.length;r<o;r++){let l=this.getHeightOfLine(r);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",r)){n+=l;continue}let c=this._textLines[r].length,d=this._getLineLeftOffset(r),u,v,y=0,C=0,w=this.getValueOfPropertyAt(r,0,"textBackgroundColor");for(let T=0;T<c;T++){let x=this.__charBounds[r][T];v=this.getValueOfPropertyAt(r,T,"textBackgroundColor"),this.path?(t.save(),t.translate(x.renderLeft,x.renderTop),t.rotate(x.angle),t.fillStyle=v,v&&t.fillRect(-x.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),x.width,l/this.lineHeight),t.restore()):v!==w?(u=i+d+C,this.direction==="rtl"&&(u=this.width-u-y),t.fillStyle=w,w&&t.fillRect(u,n,y,l/this.lineHeight),C=x.left,y=x.width,w=v):y+=x.kernedWidth}v&&!this.path&&(u=i+d+C,this.direction==="rtl"&&(u=this.width-u-y),t.fillStyle=v,t.fillRect(u,n,y,l/this.lineHeight)),n+=l}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,i,n){let r=Qr.getFontCache(e),o=this._getFontDeclaration(e),l=i+t,c=i&&o===this._getFontDeclaration(n),d=e.fontSize/this.CACHE_FONT_SIZE,u,v,y,C;if(i&&r[i]!==void 0&&(y=r[i]),r[t]!==void 0&&(C=u=r[t]),c&&r[l]!==void 0&&(v=r[l],C=v-y),u===void 0||y===void 0||v===void 0){let w=function(){if(!Hc){let T=It();T.width=T.height=0,Hc=T.getContext("2d")}return Hc}();this._setTextStyles(w,e,!0),u===void 0&&(C=u=w.measureText(t).width,r[t]=u),y===void 0&&c&&i&&(y=w.measureText(i).width,r[i]=y),c&&v===void 0&&(v=w.measureText(l).width,r[l]=v,C=v-y)}return{width:u*d,kernedWidth:C*d}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){let e=this._measureLine(t);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,i,n=0,r=this.pathSide===St,o=this.path,l=this._textLines[t],c=l.length,d=new Array(c);this.__charBounds[t]=d;for(let u=0;u<c;u++){let v=l[u];i=this._getGraphemeBox(v,t,u,e),d[u]=i,n+=i.kernedWidth,e=v}if(d[c]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let u=0,v=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Ze:u=r?v-n:0;break;case Ie:u=(v-n)/2;break;case St:u=r?0:v-n}u+=this.pathStartOffset*(r?-1:1);for(let y=r?c-1:0;r?y>=0:y<c;r?y--:y++)i=d[y],u>v?u%=v:u<0&&(u+=v),this._setGraphemeOnPath(u,i),u+=i.kernedWidth}return{width:n,numOfSpaces:0}}_setGraphemeOnPath(t,e){let i=t+e.kernedWidth/2,n=this.path,r=cm(n.path,i,n.segmentsInfo);e.renderLeft=r.x-n.pathOffset.x,e.renderTop=r.y-n.pathOffset.y,e.angle=r.angle+(this.pathSide===St?Math.PI:0)}_getGraphemeBox(t,e,i,n,r){let o=this.getCompleteStyleDeclaration(e,i),l=n?this.getCompleteStyleDeclaration(e,i-1):{},c=this._measureChar(t,o,n,l),d,u=c.kernedWidth,v=c.width;this.charSpacing!==0&&(d=this._getWidthOfCharSpacing(),v+=d,u+=d);let y={width:v,left:0,height:o.fontSize,kernedWidth:u,deltaY:o.deltaY};if(i>0&&!r){let C=this.__charBounds[e][i-1];y.left=C.left+C.width+c.kernedWidth-c.width}return y}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let e=this.getHeightOfChar(t,0);for(let i=1,n=this._textLines[t].length;i<n;i++)e=Math.max(this.getHeightOfChar(t,i),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,e=0;for(let i=0,n=this._textLines.length;i<n;i++)t=this.getHeightOfLine(i),e+=i===n-1?t/this.lineHeight:t;return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let i=0,n=this._getLeftOffset(),r=this._getTopOffset();for(let o=0,l=this._textLines.length;o<l;o++){let c=this.getHeightOfLine(o),d=c/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],n+u,r+i+d,o),i+=c}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(Mt))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,e,i,n,r,o){let l=this.getHeightOfLine(o),c=this.textAlign.includes(Yi),d=this.path,u=!c&&this.charSpacing===0&&this.isEmptyStyles(o)&&!d,v=this.direction==="ltr",y=this.direction==="ltr"?1:-1,C=e.direction,w,T,x,L,R,U="",q=0;if(e.save(),C!==this.direction&&(e.canvas.setAttribute("dir",v?"ltr":"rtl"),e.direction=v?"ltr":"rtl",e.textAlign=v?Ze:St),r-=l*this._fontSizeFraction/this.lineHeight,u)return this._renderChar(t,e,o,0,i.join(""),n,r),void e.restore();for(let K=0,ie=i.length-1;K<=ie;K++)L=K===ie||this.charSpacing||d,U+=i[K],x=this.__charBounds[o][K],q===0?(n+=y*(x.kernedWidth-x.width),q+=x.width):q+=x.kernedWidth,c&&!L&&this._reSpaceAndTab.test(i[K])&&(L=!0),L||(w=w||this.getCompleteStyleDeclaration(o,K),T=this.getCompleteStyleDeclaration(o,K+1),L=el(w,T,!1)),L&&(d?(e.save(),e.translate(x.renderLeft,x.renderTop),e.rotate(x.angle),this._renderChar(t,e,o,K,U,-q/2,0),e.restore()):(R=n,this._renderChar(t,e,o,K,U,R,r)),U="",w=T,n+=y*q,q=0);e.restore()}_applyPatternGradientTransformText(t){let e=It(),i=this.width+this.strokeWidth,n=this.height+this.strokeWidth,r=e.getContext("2d");return e.width=i,e.height=n,r.beginPath(),r.moveTo(0,0),r.lineTo(i,0),r.lineTo(i,n),r.lineTo(0,n),r.closePath(),r.translate(i/2,n/2),r.fillStyle=t.toLive(r),this._applyPatternGradientTransform(r,t),r.fill(),r.createPattern(e,"no-repeat")}handleFiller(t,e,i){let n,r;return Si(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?(n=-this.width/2,r=-this.height/2,t.translate(n,r),t[e]=this._applyPatternGradientTransformText(i),{offsetX:n,offsetY:r}):(t[e]=i.toLive(t),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:i,strokeWidth:n}=e;return t.lineWidth=n,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",i)}_setFillStyles(t,e){let{fill:i}=e;return this.handleFiller(t,"fillStyle",i)}_renderChar(t,e,i,n,r,o,l){let c=this._getStyleDeclaration(i,n),d=this.getCompleteStyleDeclaration(i,n),u=t==="fillText"&&d.fill,v=t==="strokeText"&&d.stroke&&d.strokeWidth;if(v||u){if(e.save(),e.font=this._getFontDeclaration(d),c.textBackgroundColor&&this._removeShadow(e),c.deltaY&&(l+=c.deltaY),u){let y=this._setFillStyles(e,d);e.fillText(r,o-y.offsetX,l-y.offsetY)}if(v){let y=this._setStrokeStyles(e,d);e.strokeText(r,o-y.offsetX,l-y.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,i){let n=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),l={fontSize:r*i.size,deltaY:o+r*i.baseline};this.setSelectionStyles(l,t,e)}_getLineLeftOffset(t){let e=this.getLineWidth(t),i=this.width-e,n=this.textAlign,r=this.direction,o=this.isEndOfWrapping(t),l=0;return n===Yi||n===no&&!o||n===io&&!o||n===Ra&&!o?0:(n===Ie&&(l=i/2),n===St&&(l=i),n===no&&(l=i/2),n===io&&(l=i),r==="rtl"&&(n===St||n===Yi||n===io?l=0:n===Ze||n===Ra?l=-i:n!==Ie&&n!==no||(l=-i/2)),l)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];let{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,i){var n;return(n=this._getStyleDeclaration(t,e)[i])!==null&&n!==void 0?n:this[i]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let i=this._getTopOffset(),n=this._getLeftOffset(),r=this.path,o=this._getWidthOfCharSpacing(),l=this.offsets[e];for(let c=0,d=this._textLines.length;c<d;c++){let u=this.getHeightOfLine(c);if(!this[e]&&!this.styleHas(e,c)){i+=u;continue}let v=this._textLines[c],y=u/this.lineHeight,C=this._getLineLeftOffset(c),w,T,x=0,L=0,R=this.getValueOfPropertyAt(c,0,e),U=this.getValueOfPropertyAt(c,0,Mt),q=i+y*(1-this._fontSizeFraction),K=this.getHeightOfChar(c,0),ie=this.getValueOfPropertyAt(c,0,"deltaY");for(let $=0,Te=v.length;$<Te;$++){let He=this.__charBounds[c][$];w=this.getValueOfPropertyAt(c,$,e),T=this.getValueOfPropertyAt(c,$,Mt);let $e=this.getHeightOfChar(c,$),_t=this.getValueOfPropertyAt(c,$,"deltaY");if(r&&w&&T)t.save(),t.fillStyle=U,t.translate(He.renderLeft,He.renderTop),t.rotate(He.angle),t.fillRect(-He.kernedWidth/2,l*$e+_t,He.kernedWidth,this.fontSize/15),t.restore();else if((w!==R||T!==U||$e!==K||_t!==ie)&&L>0){let Ue=n+C+x;this.direction==="rtl"&&(Ue=this.width-Ue-L),R&&U&&(t.fillStyle=U,t.fillRect(Ue,q+l*K+ie,L,this.fontSize/15)),x=He.left,L=He.width,R=w,U=T,K=$e,ie=_t}else L+=He.kernedWidth}let _e=n+C+x;this.direction==="rtl"&&(_e=this.width-_e-L),t.fillStyle=T,w&&T&&t.fillRect(_e,q+l*K+ie,L-o,this.fontSize/15),i+=u}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:i=this.fontWeight,fontSize:n=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=t.includes("'")||t.includes('"')||t.includes(",")||s.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,i,"".concat(r?this.CACHE_FONT_SIZE:n,"px"),o].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return Ja(t)}_splitTextIntoLines(t){let e=t.split(this._reNewline),i=new Array(e.length),n=[`
`],r=[];for(let o=0;o<e.length;o++)i[o]=this.graphemeSplit(e[o]),r=r.concat(i[o],n);return r.pop(),{_unwrappedLines:i,lines:e,graphemeText:r,graphemeLines:i}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A(A({},super.toObject([...xm,...t])),{},{styles:Zf(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){let{textLayoutProperties:i}=this.constructor;super.set(t,e);let n=!1,r=!1;if(typeof t=="object")for(let o in t)o==="path"&&this.setPathInfo(),n=n||i.includes(o),r=r||o==="path";else n=i.includes(t),r=t==="path";return r&&this.setPathInfo(),n&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static fromElement(t,e,i){return Pt(this,null,function*(){let n=_n(t,s.ATTRIBUTE_NAMES,i),r=A(A({},e),n),{textAnchor:o=Ze,textDecoration:l="",dx:c=0,dy:d=0,top:u=0,left:v=0,fontSize:y=Th,strokeWidth:C=1}=r,w=gt(r,q3),T=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),A({left:v+c,top:u+d,underline:l.includes("underline"),overline:l.includes("overline"),linethrough:l.includes("line-through"),strokeWidth:0,fontSize:y},w)),x=T.getScaledHeight()/T.height,L=((T.height+T.strokeWidth)*T.lineHeight-T.height)*x,R=T.getScaledHeight()+L,U=0;return o===Ie&&(U=T.getScaledWidth()/2),o===St&&(U=T.getScaledWidth()),T.set({left:T.left-U,top:T.top-(R-T.fontSize*(.07+T._fontSizeFraction))/T.lineHeight,strokeWidth:C}),T})}static fromObject(t){return this._fromObject(A(A({},t),{},{styles:Qf(t.styles||{},t.text)}),{extraParam:"text"})}};V(Ti,"textLayoutProperties",wm),V(Ti,"cacheProperties",[...gn,...xm]),V(Ti,"ownDefaults",Y3),V(Ti,"type","Text"),V(Ti,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),V(Ti,"ATTRIBUTE_NAMES",Un.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Xf(Ti,[class extends Ta{_toSVG(){let s=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(s.textTop,s.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(s){return this._createBaseSVGMarkup(this._toSVG(),{reviver:s,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(s){let{textBgRects:t,textSpans:e}=s,i=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(X3,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",i?'text-decoration="'.concat(i,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),`</text>
`]}_getSVGTextAndBg(s,t){let e=[],i=[],n,r=s;this.backgroundColor&&i.push(...jc(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,l=this._textLines.length;o<l;o++)n=this._getLineLeftOffset(o),this.direction==="rtl"&&(n+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(i,o,t+n,r),this._setSVGTextLineText(e,o,t+n,r),r+=this.getHeightOfLine(o);return{textSpans:e,textBgRects:i}}_createTextCharSpan(s,t,e,i){let n=this.getSvgSpanStyles(t,s!==s.trim()||!!s.match(G3)),r=n?'style="'.concat(n,'"'):"",o=t.deltaY,l=o?' dy="'.concat(mt(o,je.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(mt(e,je.NUM_FRACTION_DIGITS),'" y="').concat(mt(i,je.NUM_FRACTION_DIGITS),'" ').concat(l).concat(r,">").concat($f(s),"</tspan>")}_setSVGTextLineText(s,t,e,i){let n=this.getHeightOfLine(t),r=this.textAlign.includes(Yi),o=this._textLines[t],l,c,d,u,v,y="",C=0;i+=n*(1-this._fontSizeFraction)/this.lineHeight;for(let w=0,T=o.length-1;w<=T;w++)v=w===T||this.charSpacing,y+=o[w],d=this.__charBounds[t][w],C===0?(e+=d.kernedWidth-d.width,C+=d.width):C+=d.kernedWidth,r&&!v&&this._reSpaceAndTab.test(o[w])&&(v=!0),v||(l=l||this.getCompleteStyleDeclaration(t,w),c=this.getCompleteStyleDeclaration(t,w+1),v=el(l,c,!0)),v&&(u=this._getStyleDeclaration(t,w),s.push(this._createTextCharSpan(y,u,e,i)),y="",l=c,this.direction==="rtl"?e-=C:e+=C,C=0)}_setSVGTextLineBg(s,t,e,i){let n=this._textLines[t],r=this.getHeightOfLine(t)/this.lineHeight,o,l=0,c=0,d=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let u=0;u<n.length;u++){let{left:v,width:y,kernedWidth:C}=this.__charBounds[t][u];o=this.getValueOfPropertyAt(t,u,"textBackgroundColor"),o!==d?(d&&s.push(...jc(d,e+c,i,l,r)),c=v,l=y,d=o):l+=C}o&&s.push(...jc(d,e+c,i,l,r))}_getSVGLineTopOffset(s){let t,e=0;for(t=0;t<s;t++)e+=this.getHeightOfLine(t);let i=this.getHeightOfLine(t);return{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(s){return"".concat(super.getSvgStyles(s)," white-space: pre;")}getSvgSpanStyles(s,t){let{fontFamily:e,strokeWidth:i,stroke:n,fill:r,fontSize:o,fontStyle:l,fontWeight:c,deltaY:d}=s,u=this.getSvgTextDecoration(s);return[n?oo(li,n):"",i?"stroke-width: ".concat(i,"; "):"",e?"font-family: ".concat(e.includes("'")||e.includes('"')?e:"'".concat(e,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",l?"font-style: ".concat(l,"; "):"",c?"font-weight: ".concat(c,"; "):"",u&&"text-decoration: ".concat(u,"; "),r?oo(Mt,r):"",d?"baseline-shift: ".concat(-d,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(s){return["overline","underline","line-through"].filter(t=>s[t.replace("-","")]).join(" ")}}]),re.setClass(Ti),re.setSVGClass(Ti);var mh=class{constructor(t){V(this,"target",void 0),V(this,"__mouseDownInPlace",!1),V(this,"__dragStartFired",!1),V(this,"__isDraggingOver",!1),V(this,"__dragStartSelection",void 0),V(this,"__dragImageDisposer",void 0),V(this,"_dispose",void 0),this.target=t;let e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(i=>i()),this._dispose=void 0}}isPointerOverSelection(t){let e=this.target,i=e.getSelectionStartFromPointer(t);return e.isEditing&&i>=e.selectionStart&&i<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){let e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var i;let{selectionStart:n,selectionEnd:r}=e,o=this.target,l=o.canvas,c=new N(o.flipX?-1:1,o.flipY?-1:1),d=o._getCursorBoundaries(n),u=new N(d.left+d.leftOffset,d.top+d.topOffset).multiply(c).transform(o.calcTransformMatrix()),v=l.getScenePoint(t).subtract(u),y=o.getCanvasRetinaScaling(),C=o.getBoundingRect(),w=u.subtract(new N(C.left,C.top)),T=l.viewportTransform,x=w.add(v).transform(T,!0),L=o.backgroundColor,R=jh(o.styles);o.backgroundColor="";let U={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(U,0,n),o.setSelectionStyles(U,r,o.text.length),o.dirty=!0;let q=o.toCanvasElement({enableRetinaScaling:l.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=L,o.styles=R,o.dirty=!0,La(q,{position:"fixed",left:"".concat(-q.width,"px"),border:ai,width:"".concat(q.width/y,"px"),height:"".concat(q.height/y,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{q.remove()},Ai(t.target||this.target.hiddenTextarea).body.appendChild(q),(i=t.dataTransfer)===null||i===void 0||i.setDragImage(q,x.x,x.y)}onDragStart(t){this.__dragStartFired=!0;let e=this.target,i=this.isActive();if(i&&t.dataTransfer){let n=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},r=e._text.slice(n.selectionStart,n.selectionEnd).join(""),o=A({text:e.text,value:r},n);t.dataTransfer.setData("text/plain",r),t.dataTransfer.setData("application/fabric",JSON.stringify({value:r,styles:e.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,o)}return e.abortCursorAnimation(),i}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let e=this.target.getSelectionStartFromPointer(t),i=this.__dragStartSelection;return e<i.selectionStart||e>i.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e}=t,i=this.targetCanDrop(e);!this.__isDraggingOver&&i&&(this.__isDraggingOver=!0)}dragOverHandler(t){let{e}=t,i=this.targetCanDrop(e);!this.__isDraggingOver&&i?this.__isDraggingOver=!0:this.__isDraggingOver&&!i&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;let{e:i}=t,n=i.defaultPrevented;this.__isDraggingOver=!1,i.preventDefault();let r=(e=i.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain");if(r&&!n){let o=this.target,l=o.canvas,c=o.getSelectionStartFromPointer(i),{styles:d}=i.dataTransfer.types.includes("application/fabric")?JSON.parse(i.dataTransfer.getData("application/fabric")):{},u=r[Math.max(0,r.length-1)],v=0;if(this.__dragStartSelection){let y=this.__dragStartSelection.selectionStart,C=this.__dragStartSelection.selectionEnd;c>y&&c<=C?c=y:c>C&&(c-=C-y),o.removeChars(y,C),delete this.__dragStartSelection}o._reNewline.test(u)&&(o._reNewline.test(o._text[c])||c===o._text.length)&&(r=r.trimEnd()),t.didDrop=!0,t.dropTarget=o,o.insertChars(r,d,c),l.setActiveObject(o),o.enterEditing(i),o.selectionStart=Math.min(c+v,o._text.length),o.selectionEnd=Math.min(o.selectionStart+r.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(_a,{index:c+v,action:"drop"}),l.fire("text:changed",{target:o}),l.contextTopDirty=!0,l.requestRenderAll()}}dragEndHandler(t){let{e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var i;let n=this.target,r=this.target.canvas,{selectionStart:o,selectionEnd:l}=this.__dragStartSelection,c=((i=e.dataTransfer)===null||i===void 0?void 0:i.dropEffect)||ai;c===ai?(n.selectionStart=o,n.selectionEnd=l,n._updateTextarea(),n.hiddenTextarea.focus()):(n.clearContextTop(),c==="move"&&(n.removeChars(o,l),n.selectionStart=n.selectionEnd=o,n.hiddenTextarea&&(n.hiddenTextarea.value=n.text),n._updateTextarea(),n.fire(_a,{index:o,action:"dragend"}),r.fire("text:changed",{target:n}),r.requestRenderAll()),n.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}},ef=/[ \n\.,;!\?\-]/,gh=class extends Ti{constructor(){super(...arguments),V(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:i,delay:n,onComplete:r}=t;return Rh({startValue:this._currentCursorOpacity,endValue:e,duration:i,delay:n,onComplete:r,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(e=>{e&&!e.isDone()&&(t=!0,e.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findWordBoundaryRight(t){let e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}findLineBoundaryLeft(t){let e=0,i=t-1;for(;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findLineBoundaryRight(t){let e=0,i=t;for(;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}searchWordBoundary(t,e){let i=this._text,n=t>0&&this._reSpace.test(i[t])&&(e===-1||!Sh.test(i[t-1]))?t-1:t,r=i[n];for(;n>0&&n<i.length&&!ef.test(r);)n+=e,r=i[n];return e===-1&&ef.test(r)&&n++,n}selectWord(t){t=t||this.selectionStart;let e=this.searchWordBoundary(t,-1),i=Math.max(e,this.searchWordBoundary(t,1));this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){t=t||this.selectionStart;let e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(t){!this.isEditing&&this.editable&&(this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;let e=this.hiddenTextarea;Ai(e).activeElement!==e&&e.focus();let i=this.getSelectionStartFromPointer(t),n=this.selectionStart,r=this.selectionEnd;(i===this.__selectionStartOnMouseDown&&n!==r||n!==i&&r!==i)&&(i>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=i):(this.selectionStart=i,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,i){let n=i.slice(0,t),r=this.graphemeSplit(n).length;if(t===e)return{selectionStart:r,selectionEnd:r};let o=i.slice(t,e);return{selectionStart:r,selectionEnd:r+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(t,e,i){let n=i.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+i.slice(t,e).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),n=i.lineIndex,r=i.charIndex,o=this.getValueOfPropertyAt(n,r,"fontSize")*this.lineHeight,l=e.leftOffset,c=this.getCanvasRetinaScaling(),d=this.canvas.upperCanvasEl,u=d.width/c,v=d.height/c,y=u-o,C=v-o,w=new N(e.left+l,e.top+e.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new N(d.clientWidth/u,d.clientHeight/v));return w.x<0&&(w.x=0),w.x>y&&(w.x=y),w.y<0&&(w.y=0),w.y>C&&(w.y=C),w.x+=this.canvas._offset.left,w.y+=this.canvas._offset.top,{left:"".concat(w.x,"px"),top:"".concat(w.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditing(){let t=this._textBeforeEdit!==this.text;return this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire(va),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){let{lineIndex:i,charIndex:n}=this.get2DCursorLocation(t,!0),{lineIndex:r,charIndex:o}=this.get2DCursorLocation(e,!0);if(i!==r){if(this.styles[i])for(let l=n;l<this._unwrappedTextLines[i].length;l++)delete this.styles[i][l];if(this.styles[r])for(let l=o;l<this._unwrappedTextLines[r].length;l++){let c=this.styles[r][l];c&&(this.styles[i]||(this.styles[i]={}),this.styles[i][n+l-o]=c)}for(let l=i+1;l<=r;l++)delete this.styles[l];this.shiftLineStyles(r,i-r)}else if(this.styles[i]){let l=this.styles[i],c=o-n;for(let d=n;d<o;d++)delete l[d];for(let d in this.styles[i]){let u=parseInt(d,10);u>=o&&(l[u-c]=l[d],delete l[d])}}}shiftLineStyles(t,e){let i=Object.assign({},this.styles);for(let n in this.styles){let r=parseInt(n,10);r>t&&(this.styles[r+e]=i[r],i[r-e]||delete this.styles[r])}}insertNewlineStyleObject(t,e,i,n){let r={},o=this._unwrappedTextLines[t].length,l=o===e,c=!1;i||(i=1),this.shiftLineStyles(t,i);let d=this.styles[t]?this.styles[t][e===0?e:e-1]:void 0;for(let v in this.styles[t]){let y=parseInt(v,10);y>=e&&(c=!0,r[y-e]=this.styles[t][v],l&&e===0||delete this.styles[t][v])}let u=!1;for(c&&!l&&(this.styles[t+i]=r,u=!0),(u||o>e)&&i--;i>0;)n&&n[i-1]?this.styles[t+i]={0:A({},n[i-1])}:d?this.styles[t+i]={0:A({},d)}:delete this.styles[t+i],i--;this._forceClearCache=!0}insertCharStyleObject(t,e,i,n){this.styles||(this.styles={});let r=this.styles[t],o=r?A({},r):{};i||(i=1);for(let c in o){let d=parseInt(c,10);d>=e&&(r[d+i]=o[d],o[d-i]||delete r[d])}if(this._forceClearCache=!0,n){for(;i--;)Object.keys(n[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=A({},n[i]));return}if(!r)return;let l=r[e?e-1:1];for(;l&&i--;)this.styles[t][e+i]=A({},l)}insertNewStyleBlock(t,e,i){let n=this.get2DCursorLocation(e,!0),r=[0],o,l=0;for(let c=0;c<t.length;c++)t[c]===`
`?(l++,r[l]=0):r[l]++;for(r[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,r[0],i),i=i&&i.slice(r[0]+1)),l&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+r[0],l),o=1;o<l;o++)r[o]>0?this.insertCharStyleObject(n.lineIndex+o,0,r[o],i):i&&this.styles[n.lineIndex+o]&&i[0]&&(this.styles[n.lineIndex+o][0]=i[0]),i=i&&i.slice(r[o]+1);r[o]>0&&this.insertCharStyleObject(n.lineIndex+o,0,r[o],i)}removeChars(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i;n>i&&this.removeStyleFromTo(i,n);let r=this.graphemeSplit(t);this.insertNewStyleBlock(r,i,e),this._text=[...this._text.slice(0,i),...r,...this._text.slice(n)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,i){i<=t?(e===t?this._selectionDirection=Ze:this._selectionDirection===St&&(this._selectionDirection=Ze,this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?this._selectionDirection===St?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection=St:this._selectionDirection===Ze&&(this._selectionDirection=St,this.selectionStart=e),this.selectionEnd=i)}},_h=class extends gh{initHiddenTextarea(){let t=this.canvas&&Ai(this.canvas.getElement())||pr(),e=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[l,c]=o;return e.setAttribute(l,c)});let{top:i,left:n,fontSize:r}=this._calcTextareaPosition();e.style.cssText="position: absolute; top: ".concat(i,"; left: ").concat(n,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(r,";"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[l,c]=o;return e.addEventListener(l,this[c].bind(this))}),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;let e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){let e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;let i=()=>{this.updateFromTextArea(),this.fire(_a),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void i();let n=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,r=this._text.length,o=n.length,l=this.selectionStart,c=this.selectionEnd,d=l!==c,u,v,y,C,w=o-r,T=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),x=l>T.selectionStart;d?(v=this._text.slice(l,c),w+=c-l):o<r&&(v=x?this._text.slice(c+w,c):this._text.slice(l,l-w));let L=n.slice(T.selectionEnd-w,T.selectionEnd);if(v&&v.length&&(L.length&&(u=this.getSelectionStyles(l,l+1,!1),u=L.map(()=>u[0])),d?(y=l,C=c):x?(y=c-v.length,C=c):(y=c,C=c+v.length),this.removeStyleFromTo(y,C)),L.length){let{copyPasteData:R}=Xi();e&&L.join("")===R.copiedText&&!je.disableStyleCopyPaste&&(u=R.copiedTextStyle),this.insertNewStyleBlock(L,l,u)}i()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t,{selectionStart:i,selectionEnd:n}=e;this.compositionStart=i,this.compositionEnd=n,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:t}=Xi();t.copiedText=this.getSelectedText(),je.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let i,n=this._getLineLeftOffset(t);return e>0&&(i=this.__charBounds[t][e-1],n+=i.left+i.width),n}getDownCursorOffset(t,e){let i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-i;let o=n.charIndex,l=this._getWidthBeforeCursor(r,o),c=this._getIndexOnLine(r+1,l);return this._textLines[r].slice(o).length+c+1+this.missingNewlineOffset(r)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){let i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===0||t.metaKey||t.keyCode===33)return-i;let o=n.charIndex,l=this._getWidthBeforeCursor(r,o),c=this._getIndexOnLine(r-1,l),d=this._textLines[r].slice(0,o),u=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+c-d.length+(1-u)}_getIndexOnLine(t,e){let i=this._textLines[t],n,r,o=this._getLineLeftOffset(t),l=0;for(let c=0,d=i.length;c<d;c++)if(n=this.__charBounds[t][c].width,o+=n,o>e){r=!0;let u=o-n,v=o,y=Math.abs(u-e);l=Math.abs(v-e)<y?c:c-1;break}return r||(l=i.length-1),l}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){let i=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===St);if(e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),i!==0){let n=this.text.length;this.selectionStart=ws(0,this.selectionStart,n),this.selectionEnd=ws(0,this.selectionEnd,n),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){let e=this._selectionDirection===Ze?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,e,i){let n;if(t.altKey)n=this["findWordBoundary".concat(i)](this[e]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[e]+=i==="Left"?-1:1,!0;n=this["findLineBoundary".concat(i)](this[e])}return n!==void 0&&this[e]!==n&&(this[e]=n,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=Ze,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===St&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ze,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){let i="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===Ze&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=St,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=St,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}},Uc=s=>!!s.button,vh=class extends _h{constructor(){super(...arguments),V(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new mh(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}onMouseDown(t){if(!this.canvas)return;this.__newClickTime=+new Date;let e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),Zc(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y}doubleClickHandler(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))}tripleClickHandler(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))}_mouseDownHandler(t){let{e}=t;this.canvas&&this.editable&&!Uc(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(t){let{e}=t;this.canvas&&this.editable&&!Uc(e)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(t){let{e,transform:i}=t,n=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);let r=this.canvas._activeObject;if(r&&r!==this)return}!this.editable||this.group&&!this.group.interactive||i&&i.actionPerformed||Uc(e)||n||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(t){let e=this.getSelectionStartFromPointer(t),i=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){let e=this.canvas.getScenePoint(t).transform(gi(this.calcTransformMatrix())).add(new N(-this._getLeftOffset(),-this._getTopOffset())),i=0,n=0,r=0;for(let d=0;d<this._textLines.length&&i<=e.y;d++)i+=this.getHeightOfLine(d),r=d,d>0&&(n+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));let o=Math.abs(this._getLineLeftOffset(r)),l=this._textLines[r].length,c=this.__charBounds[r];for(let d=0;d<l;d++){let u=o+c[d].kernedWidth;if(e.x<=u){Math.abs(e.x-u)<=Math.abs(e.x-o)&&n++;break}o=u,n++}return Math.min(this.flipX?l-n:n,this._text.length)}},aa="moveCursorUp",la="moveCursorDown",ca="moveCursorLeft",ha="moveCursorRight",da="exitEditing",K3=A({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:da,27:da,33:aa,34:la,35:ha,36:ca,37:ca,38:aa,39:ha,40:la},keysMapRtl:{9:da,27:da,33:aa,34:la,35:ca,36:ha,37:ha,38:aa,39:ca,40:la},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1}),Vn=class s extends vh{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}get type(){let t=super.type;return t==="itext"?"i-text":t}constructor(t,e){super(t,A(A({},s.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(t==="canvas"&&(this.canvas instanceof Ts&&this.canvas.textEditingManager.remove(this),e instanceof Ts&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,i=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,i)}setSelectionStyles(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,i)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){let e=this.isEditing;this.isEditing=!1;let i=super.toCanvasElement(t);return this.isEditing=e,i}renderCursorOrSelection(){if(!this.isEditing)return;let t=this.clearContextTop(!0);if(!t)return;let e=this._getCursorBoundaries();this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),this.canvas.contextTopDirty=!0,t.restore()}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0,i=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t,e);return{left:i,top:n,leftOffset:r.left,topOffset:r.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,i=0,{charIndex:n,lineIndex:r}=this.get2DCursorLocation(t);for(let d=0;d<r;d++)e+=this.getHeightOfLine(d);let o=this._getLineLeftOffset(r),l=this.__charBounds[r][n];l&&(i=l.left),this.charSpacing!==0&&n===this._textLines[r].length&&(i-=this._getWidthOfCharSpacing());let c={top:e,left:o+(i>0?i:0)};return this.direction==="rtl"&&(this.textAlign===St||this.textAlign===Yi||this.textAlign===io?c.left*=-1:this.textAlign===Ze||this.textAlign===Ra?c.left=o-(i>0?i:0):this.textAlign!==Ie&&this.textAlign!==no||(c.left=o-(i>0?i:0))),c}renderCursorAt(t){let e=this._getCursorBoundaries(t,!0);this._renderCursor(this.canvas.contextTop,e,t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}_renderCursor(t,e,i){let n=this.get2DCursorLocation(i),r=n.lineIndex,o=n.charIndex>0?n.charIndex-1:0,l=this.getValueOfPropertyAt(r,o,"fontSize"),c=this.getObjectScaling().x*this.canvas.getZoom(),d=this.cursorWidth/c,u=this.getValueOfPropertyAt(r,o,"deltaY"),v=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-l*(1-this._fontSizeFraction);this.inCompositionMode&&this.renderSelection(t,e),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,o,Mt),t.globalAlpha=this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-d/2,v+e.top+u,d,l)}renderSelection(t,e){let i={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,i,e)}renderDragSourceEffect(){let t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){let e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,i){let n=e.selectionStart,r=e.selectionEnd,o=this.textAlign.includes(Yi),l=this.get2DCursorLocation(n),c=this.get2DCursorLocation(r),d=l.lineIndex,u=c.lineIndex,v=l.charIndex<0?0:l.charIndex,y=c.charIndex<0?0:c.charIndex;for(let C=d;C<=u;C++){let w=this._getLineLeftOffset(C)||0,T=this.getHeightOfLine(C),x=0,L=0,R=0;if(C===d&&(L=this.__charBounds[d][v].left),C>=d&&C<u)R=o&&!this.isEndOfWrapping(C)?this.width:this.getLineWidth(C)||5;else if(C===u)if(y===0)R=this.__charBounds[u][y].left;else{let _e=this._getWidthOfCharSpacing();R=this.__charBounds[u][y-1].left+this.__charBounds[u][y-1].width-_e}x=T,(this.lineHeight<1||C===u&&this.lineHeight>1)&&(T/=this.lineHeight);let U=i.left+w+L,q=T,K=0,ie=R-L;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",q=1,K=T):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===St||this.textAlign===Yi||this.textAlign===io?U=this.width-U-ie:this.textAlign===Ze||this.textAlign===Ra?U=i.left+w-R:this.textAlign!==Ie&&this.textAlign!==no||(U=i.left+w-R)),t.fillRect(U,i.top+i.topOffset+K,ie,q),i.topOffset+=x}}getCurrentCharFontSize(){let t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){let t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,Mt)}_getCurrentCharIndex(){let t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this._exitEditing(),this.draggableTextDelegate.dispose(),super.dispose()}};V(Vn,"ownDefaults",K3),V(Vn,"type","IText"),re.setClass(Vn),re.setClass(Vn,"i-text");var un=class s extends Vn{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(t,e){super(t,A(A({},s.ownDefaults),e))}static createControls(){return{controls:Gf()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Yi)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,i=0,n=0,r={};for(let o=0;o<t.graphemeLines.length;o++)t.graphemeText[n]===`
`&&o>0?(i=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&o>0&&(i++,n++),r[o]={line:e,offset:i},n+=t.graphemeLines[o].length,i+=t.graphemeLines[o].length;return r}styleHas(t,e){if(this._styleMap&&!this.isWrapping){let i=this._styleMap[e];i&&(e=i.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,i=0,n=t+1,r=!1,o=this._styleMap[t],l=this._styleMap[t+1];o&&(t=o.line,i=o.offset),l&&(n=l.line,r=n===t,e=l.offset);let c=t===void 0?this.styles:{line:this.styles[t]};for(let d in c)for(let u in c[d]){let v=parseInt(u,10);if(v>=i&&(!r||v<e))for(let y in c[d][u])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){let i=this._styleMap[t];if(!i)return{};t=i.line,e=i.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,i){let n=this._styleMap[t];super._setStyleDeclaration(n.line,n.offset+e,i)}_deleteStyleDeclaration(t,e){let i=this._styleMap[t];super._deleteStyleDeclaration(i.line,i.offset+e)}_getLineStyle(t){let e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){let e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;let i=this.getGraphemeDataForRender(t),n=[];for(let r=0;r<i.wordsData.length;r++)n.push(...this._wrapLine(r,e,i));return this.isWrapping=!1,n}getGraphemeDataForRender(t){let e=this.splitByGrapheme,i=e?"":" ",n=0;return{wordsData:t.map((r,o)=>{let l=0,c=e?this.graphemeSplit(r):this.wordSplit(r);return c.length===0?[{word:[],width:0}]:c.map(d=>{let u=e?[d]:this.graphemeSplit(d),v=this._measureWord(u,o,l);return n=Math.max(v,n),l+=u.length+i.length,{word:u,width:v}})}),largestWordWidth:n}}_measureWord(t,e){let i,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=0;for(let o=0,l=t.length;o<l;o++)r+=this._getGraphemeBox(t[o],e,o+n,i,!0).kernedWidth,i=t[o];return r}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,i){let{largestWordWidth:n,wordsData:r}=i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=this._getWidthOfCharSpacing(),c=this.splitByGrapheme,d=[],u=c?"":" ",v=0,y=[],C=0,w=0,T=!0;e-=o;let x=Math.max(e,n,this.dynamicMinWidth),L=r[t],R;for(C=0,R=0;R<L.length;R++){let{word:U,width:q}=L[R];C+=U.length,v+=w+q-l,v>x&&!T?(d.push(y),y=[],v=q,T=!0):v+=l,T||c||y.push(u),y=y.concat(U),w=c?0:this._measureWord([u],t,C),C++,T=!1}return R&&d.push(y),n+o>this.dynamicMinWidth&&(this.dynamicMinWidth=n-l+o),d}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){let e=super._splitTextIntoLines(t),i=this._wrapText(e.lines,this.width),n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=i[r].join("");return e.lines=n,e.graphemeLines=i,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let t=new Map;for(let e in this._styleMap){let i=parseInt(e,10);if(this._textLines[i]){let n=this._styleMap[e].line;t.set("".concat(n),!0)}}for(let e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}};V(un,"type","Textbox"),V(un,"textLayoutProperties",[...Vn.textLayoutProperties,"width"]),V(un,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),re.setClass(un);var Ba=class extends ur{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){let{target:i}=t,{clipPath:n,group:r}=i;if(!n||!this.shouldPerformLayout(t))return;let{width:o,height:l}=Gi(em(i,n)),c=new N(o,l);if(n.absolutePositioned)return{center:fn(n.getRelativeCenterPoint(),void 0,r?r.calcTransformMatrix():void 0),size:c};{let d=n.getRelativeCenterPoint().transform(i.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){let{center:u=new N,correction:v=new N}=this.calcBoundingBox(e,t)||{};return{center:u.add(d),correction:v.subtract(d),size:c}}return{center:i.getRelativeCenterPoint().add(d),size:c}}}};V(Ba,"type","clip-path"),re.setClass(Ba);var ja=class extends ur{getInitialSize(t,e){let{target:i}=t,{size:n}=e;return new N(i.width||n.x,i.height||n.y)}};V(ja,"type","fixed"),re.setClass(ja);var yh=class extends xs{subscribeTargets(t){let e=t.target;t.targets.reduce((i,n)=>(n.parent&&i.add(n.parent),i),new Set).forEach(i=>{i.layoutManager.subscribeTargets({target:i,targets:[e]})})}unsubscribeTargets(t){let e=t.target,i=e.getObjects();t.targets.reduce((n,r)=>(r.parent&&n.add(r.parent),n),new Set).forEach(n=>{!i.some(r=>r.parent===n)&&n.layoutManager.unsubscribeTargets({target:n,targets:[e]})})}},or=class s extends Ln{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,s.ownDefaults),this.setOptions(e);let{left:i,top:n,layoutManager:r}=e;this.groupInit(t,{left:i,top:n,layoutManager:r??new yh})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.multiSelectionStacking==="selection-order"?this.add(...e):e.forEach(n=>{let r=this._objects.findIndex(l=>l.isInFrontOf(n)),o=r===-1?this.size():r;this.insertAt(o,n)})}canEnterGroup(t){return this.getObjects().some(e=>e.isDescendantOf(t)||t.isDescendantOf(e))?(Pn("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);let i=new Set;e.forEach(n=>{let{parent:r}=n;r&&i.add(r)}),t===Uh?i.forEach(n=>{n._onAfterObjectsChange(Fa,e)}):i.forEach(n=>{n._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let n=A(A({hasControls:!1},i),{},{forActiveSelection:!0});for(let r=0;r<this._objects.length;r++)this._objects[r]._renderControls(t,n);super._renderControls(t,e),t.restore()}};V(or,"type","ActiveSelection"),V(or,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),re.setClass(or),re.setClass(or,"activeSelection");var bh=class{constructor(){V(this,"resources",{})}applyFilters(t,e,i,n,r){let o=r.getContext("2d");if(!o)return;o.drawImage(e,0,0,i,n);let l={sourceWidth:i,sourceHeight:n,imageData:o.getImageData(0,0,i,n),originalEl:e,originalImageData:o.getImageData(0,0,i,n),canvasEl:r,ctx:o,filterBackend:this};t.forEach(d=>{d.applyTo(l)});let{imageData:c}=l;return c.width===i&&c.height===n||(r.width=c.width,r.height=c.height),o.putImageData(c,0,0),l}},Ha=class{constructor(){let{tileSize:t=je.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};V(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),V(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){let i=It();i.width=t,i.height=e;let n=i.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});n&&(n.clearColor(0,0,0,0),this.canvas=i,this.gl=n)}applyFilters(t,e,i,n,r,o){let l=this.gl,c=r.getContext("2d");if(!l||!c)return;let d;o&&(d=this.getCachedTexture(o,e));let u={originalWidth:e.width||e.originalWidth||0,originalHeight:e.height||e.originalHeight||0,sourceWidth:i,sourceHeight:n,destinationWidth:i,destinationHeight:n,context:l,sourceTexture:this.createTexture(l,i,n,d?void 0:e),targetTexture:this.createTexture(l,i,n),originalTexture:d||this.createTexture(l,i,n,d?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},v=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,v),t.forEach(y=>{y&&y.applyTo(u)}),function(y){let C=y.targetCanvas,w=C.width,T=C.height,x=y.destinationWidth,L=y.destinationHeight;w===x&&T===L||(C.width=x,C.height=L)}(u),this.copyGLTo2D(l,u),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(u.sourceTexture),l.deleteTexture(u.targetTexture),l.deleteFramebuffer(v),c.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,i,n,r){let{NEAREST:o,TEXTURE_2D:l,RGBA:c,UNSIGNED_BYTE:d,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:v,TEXTURE_MIN_FILTER:y,TEXTURE_WRAP_S:C,TEXTURE_WRAP_T:w}=t,T=t.createTexture();return t.bindTexture(l,T),t.texParameteri(l,v,r||o),t.texParameteri(l,y,r||o),t.texParameteri(l,C,u),t.texParameteri(l,w,u),n?t.texImage2D(l,0,c,c,d,n):t.texImage2D(l,0,c,e,i,0,c,d,null),T}getCachedTexture(t,e,i){let{textureCache:n}=this;if(n[t])return n[t];{let r=this.createTexture(this.gl,e.width,e.height,e,i);return r&&(n[t]=r),r}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){let i=t.canvas,n=e.targetCanvas,r=n.getContext("2d");if(!r)return;r.translate(0,n.height),r.scale(1,-1);let o=i.height-n.height;r.drawImage(i,0,o,n.width,n.height,0,0,n.width,n.height)}copyGLTo2DPutImageData(t,e){let i=e.targetCanvas.getContext("2d"),n=e.destinationWidth,r=e.destinationHeight,o=n*r*4;if(!i)return;let l=new Uint8Array(this.imageBuffer,0,o),c=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,l);let d=new ImageData(c,n,r);i.putImageData(d,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let t=this.gl,e={renderer:"",vendor:""};if(!t)return e;let i=t.getExtension("WEBGL_debug_renderer_info");if(i){let n=t.getParameter(i.UNMASKED_RENDERER_WEBGL),r=t.getParameter(i.UNMASKED_VENDOR_WEBGL);n&&(e.renderer=n.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}},Wc;function $3(){let{WebGLProbe:s}=Xi();return s.queryWebGL(It()),je.enableGLFiltering&&s.isSupported(je.textureSize)?new Ha({tileSize:je.textureSize}):new bh}function zc(){return!Wc&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Wc=$3()),Wc}var Z3=["filters","resizeFilter","src","crossOrigin","type"],Tm=["cropX","cropY"],mi=class s extends Vt{static getDefaults(){return A(A({},super.getDefaults()),s.ownDefaults)}constructor(t,e){super(),V(this,"_lastScaleX",1),V(this,"_lastScaleY",1),V(this,"_filterScalingX",1),V(this,"_filterScalingY",1),this.filters=[],Object.assign(this,s.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(Nn()),this.setElement(typeof t=="string"?(this.canvas&&Ai(this.canvas.getElement())||pr()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(e),t.classList.add(s.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){let e=zc(!1);e instanceof Ha&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{let e=this[t];e&&Xi().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;let e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];return this.filters.forEach(i=>{i&&e.push(i.toObject())}),A(A({},super.toObject([...Tm,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let t=[],e=this._element,i=-this.width/2,n=-this.height/2,r=[],o=[],l="",c="";if(!e)return[];if(this.hasCrop()){let d=Nn();r.push('<clipPath id="imageCrop_'+d+`">
`,'	<rect x="'+i+'" y="'+n+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+d+')" '}if(this.imageSmoothing||(c=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(i-this.cropX,'" y="').concat(n-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(c).concat(l,`></image>
`)),this.stroke||this.strokeDashArray){let d=this.fill;this.fill=null,o=['	<rect x="'.concat(i,'" y="').concat(n,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=d}return r=this.paintFirst!==Mt?r.concat(o,t):r.concat(t,o),r}getSrc(t){let e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src")||"":e.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return eo(t,{crossOrigin:e,signal:i}).then(n=>{e!==void 0&&this.set({crossOrigin:e}),this.setElement(n)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),n=i.x,r=i.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||n>e&&r>e)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=r);let l=It(),c=o.width,d=o.height;l.width=c,l.height=d,this._element=l,this._lastScaleX=t.scaleX=n,this._lastScaleY=t.scaleY=r,zc().applyFilters([t],o,c,d,this._element),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(r=>r&&!r.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let e=this._originalElement,i=e.naturalWidth||e.width,n=e.naturalHeight||e.height;if(this._element===this._originalElement){let r=It();r.width=i,r.height=n,this._element=r,this._filteredEl=r}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,n),this._lastScaleX=1,this._lastScaleY=1);zc().applyFilters(t,this._originalElement,i,n,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){let e=this._element;if(!e)return;let i=this._filterScalingX,n=this._filterScalingY,r=this.width,o=this.height,l=Math.max(this.cropX,0),c=Math.max(this.cropY,0),d=e.naturalWidth||e.width,u=e.naturalHeight||e.height,v=l*i,y=c*n,C=Math.min(r*i,d-v),w=Math.min(o*n,u-y),T=-r/2,x=-o/2,L=Math.min(r,d/i-l),R=Math.min(o,u/n-c);e&&t.drawImage(e,v,y,C,w,T,x,L,R)}_needsResize(){let t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.getOriginalSize();this.width=t||i.width,this.height=e||i.height}parsePreserveAspectRatioAttribute(){let t=gf(this.preserveAspectRatio||""),e=this.width,i=this.height,n={width:e,height:i},r,o=this._element.width,l=this._element.height,c=1,d=1,u=0,v=0,y=0,C=0;return!t||t.alignX===ai&&t.alignY===ai?(c=e/o,d=i/l):(t.meetOrSlice==="meet"&&(c=d=im(this._element,n),r=(e-o*c)/2,t.alignX==="Min"&&(u=-r),t.alignX==="Max"&&(u=r),r=(i-l*d)/2,t.alignY==="Min"&&(v=-r),t.alignY==="Max"&&(v=r)),t.meetOrSlice==="slice"&&(c=d=nm(this._element,n),r=o-e/c,t.alignX==="Mid"&&(y=r/2),t.alignX==="Max"&&(y=r),r=l-i/d,t.alignY==="Mid"&&(C=r/2),t.alignY==="Max"&&(C=r),o=e/c,l=i/d)),{width:o,height:l,scaleX:c,scaleY:d,offsetLeft:u,offsetTop:v,cropX:y,cropY:C}}static fromObject(t,e){let{filters:i,resizeFilter:n,src:r,crossOrigin:o,type:l}=t,c=gt(t,Z3);return Promise.all([eo(r,A(A({},e),{},{crossOrigin:o})),i&&hr(i,e),n&&hr([n],e),po(c,e)]).then(d=>{let[u,v=[],[y]=[],C={}]=d;return new this(u,A(A({},c),{},{src:r,filters:v,resizeFilter:y},C))})}static fromURL(t){let{crossOrigin:e=null,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return eo(t,{crossOrigin:e,signal:i}).then(r=>new this(r,n))}static fromElement(e){return Pt(this,arguments,function*(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=_n(t,this.ATTRIBUTE_NAMES,n);return this.fromURL(r["xlink:href"],i,r).catch(o=>(Pn("log","Unable to parse Image",o),null))})}};V(mi,"type","Image"),V(mi,"cacheProperties",[...gn,...Tm]),V(mi,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),V(mi,"CSS_CANVAS","canvas-img"),V(mi,"ATTRIBUTE_NAMES",[...Un,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),re.setClass(mi),re.setSVGClass(mi);var jA=$a(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var Sm=lf,tf=s=>function(t,e,i){let{points:n,pathOffset:r}=i;return new N(n[s]).subtract(r).transform(bt(i.getViewportTransform(),i.calcTransformMatrix()))},Im=(s,t,e,i)=>{let{target:n,pointIndex:r}=t,o=n,l=fn(new N(e,i),void 0,o.calcOwnMatrix());return o.points[r]=l.add(o.pathOffset),o.setDimensions(),!0},Dm=(s,t)=>function(e,i,n,r){let o=i.target,l=new N(o.points[(s>0?s:o.points.length)-1]),c=l.subtract(o.pathOffset).transform(o.calcOwnMatrix()),d=t(e,A(A({},i),{},{pointIndex:s}),n,r),u=l.subtract(o.pathOffset).transform(o.calcOwnMatrix()).subtract(c);return o.left-=u.x,o.top-=u.y,d},nf=s=>Hn(Sm,Dm(s,Im)),Ch=(s,t,e)=>{let{path:i,pathOffset:n}=s,r=i[t];return new N(r[e]-n.x,r[e+1]-n.y).transform(bt(s.getViewportTransform(),s.calcTransformMatrix()))};function Q3(s,t,e){let{commandIndex:i,pointIndex:n}=this;return Ch(e,i,n)}function J3(s,t,e,i){let{target:n}=t,{commandIndex:r,pointIndex:o}=this,l=((c,d,u,v,y)=>{let{path:C,pathOffset:w}=c,T=C[(v>0?v:C.length)-1],x=new N(T[y],T[y+1]),L=x.subtract(w).transform(c.calcOwnMatrix()),R=fn(new N(d,u),void 0,c.calcOwnMatrix());C[v][y]=R.x+w.x,C[v][y+1]=R.y+w.y,c.setDimensions();let U=x.subtract(c.pathOffset).transform(c.calcOwnMatrix()).subtract(L);return c.left-=U.x,c.top-=U.y,c.set("dirty",!0),!0})(n,e,i,r,o);return Ah(this.actionName,A(A({},Vh(s,t,e,i)),{},{commandIndex:r,pointIndex:o})),l}var Ua=class extends $t{constructor(t){super(t)}render(t,e,i,n,r){let o=A(A({},n),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(t,e,i,o,r)}},wh=class extends Ua{constructor(t){super(t)}render(t,e,i,n,r){let{path:o}=r,{commandIndex:l,pointIndex:c,connectToCommandIndex:d,connectToPointIndex:u}=this;t.save(),t.strokeStyle=this.controlStroke,this.connectionDashArray&&t.setLineDash(this.connectionDashArray);let[v]=o[l],y=Ch(r,d,u);if(v==="Q"){let C=Ch(r,l,c+2);t.moveTo(C.x,C.y),t.lineTo(e,i)}else t.moveTo(e,i);t.lineTo(y.x,y.y),t.stroke(),t.restore(),super.render(t,e,i,n,r)}},ua=(s,t,e,i,n,r)=>new(e?wh:Ua)(A(A({commandIndex:s,pointIndex:t,actionName:"modifyPath",positionHandler:Q3,actionHandler:J3,connectToCommandIndex:n,connectToPointIndex:r},i),e?i.controlPointStyle:i.pointStyle)),HA=Object.freeze({__proto__:null,changeWidth:rh,createObjectDefaultControls:Bh,createPathControls:function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={},i="M";return s.path.forEach((n,r)=>{let o=n[0];switch(o!=="Z"&&(e["c_".concat(r,"_").concat(o)]=ua(r,n.length-2,!1,t)),o){case"C":e["c_".concat(r,"_C_CP_1")]=ua(r,1,!0,t,r-1,(l=>l==="C"?5:l==="Q"?3:1)(i)),e["c_".concat(r,"_C_CP_2")]=ua(r,3,!0,t,r,5);break;case"Q":e["c_".concat(r,"_Q_CP_1")]=ua(r,1,!0,t,r,3)}i=o}),e},createPolyActionHandler:nf,createPolyControls:function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={};for(let i=0;i<(typeof s=="number"?s:s.points.length);i++)e["p".concat(i)]=new $t(A({actionName:Sm,positionHandler:tf(i),actionHandler:nf(i)},t));return e},createPolyPositionHandler:tf,createResizeControls:Yf,createTextboxDefaultControls:Gf,dragHandler:Df,factoryPolyActionHandler:Dm,getLocalPoint:Ka,polyActionHandler:Im,renderCircleControl:Af,renderSquareControl:Vf,rotationStyleHandler:Lf,rotationWithSnapping:Pf,scaleCursorStyleHandler:tr,scaleOrSkewActionName:Zr,scaleSkewCursorStyleHandler:is,scalingEqually:$r,scalingX:Bf,scalingXOrSkewingY:oh,scalingY:jf,scalingYOrSkewingX:ah,skewCursorStyleHandler:Hf,skewHandlerX:Wf,skewHandlerY:zf,wrapWithFireEvent:Hn,wrapWithFixedAnchor:Is}),tl=s=>s.webgl!==void 0;var zh="precision highp float",eD=`
    `.concat(zh,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),tD=["type"],iD=["type"],nD=new RegExp(zh,"g"),Ct=class{get type(){return this.constructor.type}constructor(){let t=gt(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tD);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return eD}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:n="highp"}}=Xi();n!=="highp"&&(e=e.replace(nD,zh.replace("highp",n)));let r=t.createShader(t.VERTEX_SHADER),o=t.createShader(t.FRAGMENT_SHADER),l=t.createProgram();if(!r||!o||!l)throw new Ii("Vertex, fragment shader or program creation error");if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Ii("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(r)));if(t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Ii("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(o)));if(t.attachShader(l,r),t.attachShader(l,o),t.linkProgram(l),!t.getProgramParameter(l,t.LINK_STATUS))throw new Ii('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(l)));let c=this.getUniformLocations(t,l)||{};return c.uStepW=t.getUniformLocation(l,"uStepW"),c.uStepH=t.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:this.getAttributeLocations(t,l),uniformLocations:c}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(t,e){let i=this.constructor.uniformLocations,n={};for(let r=0;r<i.length;r++)n[i[r]]=t.getUniformLocation(e,i[r]);return n}sendAttributeData(t,e,i){let n=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)}_setupFrameBuffer(t){let e=t.context;if(t.passes>1){let i=t.destinationWidth,n=t.destinationHeight;t.sourceWidth===i&&t.sourceHeight===n||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,i,n)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;let e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){tl(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){let e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){let e=t.context,i=this.retrieveShader(t);t.pass===0&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){let e=It();e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}}toObject(){let t=Object.keys(this.constructor.defaults||{});return A({type:this.type},t.reduce((e,i)=>(e[i]=this[i],e),{}))}toJSON(){return this.toObject()}static fromObject(t,e){return Pt(this,null,function*(){return new this(gt(t,iD))})}};V(Ct,"type","BaseFilter"),V(Ct,"uniformLocations",[]);var sD={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `},ns=class extends Ct{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(sD[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:e}}=t,i=new ei(this.color).getSource(),n=i[0]*this.alpha,r=i[1]*this.alpha,o=i[2]*this.alpha,l=1-this.alpha;for(let c=0;c<e.length;c+=4){let d=e[c],u=e[c+1],v=e[c+2];switch(this.mode){case"multiply":e[c]=d*n/255,e[c+1]=u*r/255,e[c+2]=v*o/255;break;case"screen":e[c]=255-(255-d)*(255-n)/255,e[c+1]=255-(255-u)*(255-r)/255,e[c+2]=255-(255-v)*(255-o)/255;break;case"add":e[c]=d+n,e[c+1]=u+r,e[c+2]=v+o;break;case"difference":e[c]=Math.abs(d-n),e[c+1]=Math.abs(u-r),e[c+2]=Math.abs(v-o);break;case"subtract":e[c]=d-n,e[c+1]=u-r,e[c+2]=v-o;break;case"darken":e[c]=Math.min(d,n),e[c+1]=Math.min(u,r),e[c+2]=Math.min(v,o);break;case"lighten":e[c]=Math.max(d,n),e[c+1]=Math.max(u,r),e[c+2]=Math.max(v,o);break;case"overlay":e[c]=n<128?2*d*n/255:255-2*(255-d)*(255-n)/255,e[c+1]=r<128?2*u*r/255:255-2*(255-u)*(255-r)/255,e[c+2]=o<128?2*v*o/255:255-2*(255-v)*(255-o)/255;break;case"exclusion":e[c]=n+d-2*n*d/255,e[c+1]=r+u-2*r*u/255,e[c+2]=o+v-2*o*v/255;break;case"tint":e[c]=n+d*l,e[c+1]=r+u*l,e[c+2]=o+v*l}}}sendUniformData(t,e){let i=new ei(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(e.uColor,i)}};V(ns,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),V(ns,"type","BlendColor"),V(ns,"uniformLocations",["uColor"]),re.setClass(ns);var rD={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},oD=["type","image"],ss=class extends Ct{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return rD[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){let e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){let t=this.image,{width:e,height:i}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]}applyTo2d(t){let{imageData:{data:e,width:i,height:n},filterBackend:{resources:r}}=t,o=this.image;r.blendImage||(r.blendImage=It());let l=r.blendImage,c=l.getContext("2d");l.width!==i||l.height!==n?(l.width=i,l.height=n):c.clearRect(0,0,i,n),c.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),c.drawImage(o.getElement(),0,0,i,n);let d=c.getImageData(0,0,i,n).data;for(let u=0;u<e.length;u+=4){let v=e[u],y=e[u+1],C=e[u+2],w=e[u+3],T=d[u],x=d[u+1],L=d[u+2],R=d[u+3];switch(this.mode){case"multiply":e[u]=v*T/255,e[u+1]=y*x/255,e[u+2]=C*L/255,e[u+3]=w*R/255;break;case"mask":e[u+3]=R}}}sendUniformData(t,e){let i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)}toObject(){return A(A({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static fromObject(t,e){return Pt(this,null,function*(){let{type:i,image:n}=t,r=gt(t,oD);return mi.fromObject(n,e).then(o=>new this(A(A({},r),{},{image:o})))})}};V(ss,"type","BlendImage"),V(ss,"defaults",{mode:"multiply",alpha:1}),V(ss,"uniformLocations",["uTransformMatrix","uImage"]),re.setClass(ss);var rs=class extends Ct{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(t){tl(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){let{ctx:e,imageData:i,filterBackend:{resources:n}}=t,{width:r,height:o}=i;n.blurLayer1||(n.blurLayer1=It(),n.blurLayer2=It());let l=n.blurLayer1,c=n.blurLayer2;l.width===r&&l.height===o||(c.width=l.width=r,c.height=l.height=o);let d=l.getContext("2d"),u=c.getContext("2d"),v=15,y=.06*this.blur*.5,C,w,T,x;for(d.putImageData(i,0,0),u.clearRect(0,0,r,o),x=-15;x<=v;x++)C=(Math.random()-.5)/4,w=x/v,T=y*w*r+C,u.globalAlpha=1-Math.abs(w),u.drawImage(l,T,C),d.drawImage(c,0,0),u.globalAlpha=1,u.clearRect(0,0,c.width,c.height);for(x=-15;x<=v;x++)C=(Math.random()-.5)/4,w=x/v,T=y*w*o+C,u.globalAlpha=1-Math.abs(w),u.drawImage(l,C,T),d.drawImage(c,0,0),u.globalAlpha=1,u.clearRect(0,0,c.width,c.height);e.drawImage(l,0,0);let L=e.getImageData(0,0,l.width,l.height);return d.globalAlpha=1,d.clearRect(0,0,l.width,l.height),L}sendUniformData(t,e){let i=this.chooseRightDelta();t.uniform2fv(e.uDelta,i)}isNeutralState(){return this.blur===0}chooseRightDelta(){let t=1,e=[0,0];this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio);let i=t*this.blur*.12;return this.horizontal?e[0]=i:e[1]=i,e}};V(rs,"type","Blur"),V(rs,"defaults",{blur:0}),V(rs,"uniformLocations",["uDelta"]),re.setClass(rs);var os=class extends Ct{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=Math.round(255*this.brightness);for(let n=0;n<e.length;n+=4)e[n]=e[n]+i,e[n+1]=e[n+1]+i,e[n+2]=e[n+2]+i}isNeutralState(){return this.brightness===0}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}};V(os,"type","Brightness"),V(os,"defaults",{brightness:0}),V(os,"uniformLocations",["uBrightness"]),re.setClass(os);var pn=class extends Ct{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){let e=t.imageData.data,i=this.matrix,n=this.colorsOnly;for(let r=0;r<e.length;r+=4){let o=e[r],l=e[r+1],c=e[r+2];if(n)e[r]=o*i[0]+l*i[1]+c*i[2]+255*i[4],e[r+1]=o*i[5]+l*i[6]+c*i[7]+255*i[9],e[r+2]=o*i[10]+l*i[11]+c*i[12]+255*i[14];else{let d=e[r+3];e[r]=o*i[0]+l*i[1]+c*i[2]+d*i[3]+255*i[4],e[r+1]=o*i[5]+l*i[6]+c*i[7]+d*i[8]+255*i[9],e[r+2]=o*i[10]+l*i[11]+c*i[12]+d*i[13]+255*i[14],e[r+3]=o*i[15]+l*i[16]+c*i[17]+d*i[18]+255*i[19]}}}sendUniformData(t,e){let i=this.matrix,n=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],r=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,r)}toObject(){return A(A({},super.toObject()),{},{matrix:[...this.matrix]})}};function Ds(s,t){var e;let i=(V(e=class extends pn{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",s),V(e,"defaults",{colorsOnly:!1,matrix:t}),e);return re.setClass(i,s),i}V(pn,"type","ColorMatrix"),V(pn,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),V(pn,"uniformLocations",["uColorMatrix","uConstants"]),re.setClass(pn);var aD=Ds("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),lD=Ds("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),cD=Ds("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),hD=Ds("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),dD=Ds("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),uD=Ds("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),pD=Ds("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]),ho=class extends Ct{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){tl(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(e=>{e.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(i=>re.getClass(i.type).fromObject(i,e))).then(i=>new this({subFilters:i}))}};V(ho,"type","Composed"),re.setClass(ho);var as=class extends Ct{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:e}}=t,i=Math.floor(255*this.contrast),n=259*(i+255)/(255*(259-i));for(let r=0;r<e.length;r+=4)e[r]=n*(e[r]-128)+128,e[r+1]=n*(e[r+1]-128)+128,e[r+2]=n*(e[r+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}};V(as,"type","Contrast"),V(as,"defaults",{contrast:0}),V(as,"uniformLocations",["uContrast"]),re.setClass(as);var fD={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `},ls=class extends Ct{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return fD[this.getCacheKey()]}applyTo2d(t){let e=t.imageData,i=e.data,n=this.matrix,r=Math.round(Math.sqrt(n.length)),o=Math.floor(r/2),l=e.width,c=e.height,d=t.ctx.createImageData(l,c),u=d.data,v=this.opaque?1:0,y,C,w,T,x,L,R,U,q,K,ie,_e,$;for(ie=0;ie<c;ie++)for(K=0;K<l;K++){for(x=4*(ie*l+K),y=0,C=0,w=0,T=0,$=0;$<r;$++)for(_e=0;_e<r;_e++)R=ie+$-o,L=K+_e-o,R<0||R>=c||L<0||L>=l||(U=4*(R*l+L),q=n[$*r+_e],y+=i[U]*q,C+=i[U+1]*q,w+=i[U+2]*q,v||(T+=i[U+3]*q));u[x]=y,u[x+1]=C,u[x+2]=w,u[x+3]=v?i[x+3]:T}t.imageData=d}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return A(A({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}};V(ls,"type","Convolute"),V(ls,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),V(ls,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),re.setClass(ls);var Om="Gamma",cs=class extends Ct{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t,i=this.gamma,n=1/i[0],r=1/i[1],o=1/i[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let l=this.rgbValues;for(let c=0;c<256;c++)l.r[c]=255*Math.pow(c/255,n),l.g[c]=255*Math.pow(c/255,r),l.b[c]=255*Math.pow(c/255,o);for(let c=0;c<e.length;c+=4)e[c]=l.r[e[c]],e[c+1]=l.g[e[c+1]],e[c+2]=l.b[e[c+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){let{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:Om,gamma:this.gamma.concat()}}};V(cs,"type",Om),V(cs,"defaults",{gamma:[1,1,1]}),V(cs,"uniformLocations",["uGamma"]),re.setClass(cs);var mD={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `},hs=class extends Ct{applyTo2d(t){let{imageData:{data:e}}=t;for(let i,n=0;n<e.length;n+=4){switch(this.mode){case"average":i=(e[n]+e[n+1]+e[n+2])/3;break;case"lightness":i=(Math.min(e[n],e[n+1],e[n+2])+Math.max(e[n],e[n+1],e[n+2]))/2;break;case"luminosity":i=.21*e[n]+.72*e[n+1]+.07*e[n+2]}e[n]=i,e[n+1]=i,e[n+2]=i}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return mD[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}};V(hs,"type","Grayscale"),V(hs,"defaults",{mode:"average"}),V(hs,"uniformLocations",["uMode"]),re.setClass(hs);var lr=class extends pn{calculateMatrix(){let t=this.rotation*Math.PI,e=Pi(t),i=Ri(t),n=1/3,r=Math.sqrt(n)*i,o=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+o/3,this.matrix[1]=n*o-r,this.matrix[2]=n*o+r,this.matrix[5]=n*o+r,this.matrix[6]=e+n*o,this.matrix[7]=n*o-r,this.matrix[10]=n*o-r,this.matrix[11]=n*o+r,this.matrix[12]=e+n*o}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}};V(lr,"type","HueRotation"),V(lr,"defaults",{rotation:0}),re.setClass(lr);var ds=class extends Ct{applyTo2d(t){let{imageData:{data:e}}=t;for(let i=0;i<e.length;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2],this.alpha&&(e[i+3]=255-e[i+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}};V(ds,"type","Invert"),V(ds,"defaults",{alpha:!1,invert:!0}),V(ds,"uniformLocations",["uInvert","uAlpha"]),re.setClass(ds);var us=class extends Ct{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=this.noise;for(let n=0;n<e.length;n+=4){let r=(.5-Math.random())*i;e[n]+=r,e[n+1]+=r,e[n+2]+=r}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return this.noise===0}};V(us,"type","Noise"),V(us,"defaults",{noise:0}),V(us,"uniformLocations",["uNoise","uSeed"]),re.setClass(us);var ps=class extends Ct{applyTo2d(t){let{imageData:{data:e,width:i,height:n}}=t;for(let r=0;r<n;r+=this.blocksize)for(let o=0;o<i;o+=this.blocksize){let l=4*r*i+4*o,c=e[l],d=e[l+1],u=e[l+2],v=e[l+3];for(let y=r;y<Math.min(r+this.blocksize,n);y++)for(let C=o;C<Math.min(o+this.blocksize,i);C++){let w=4*y*i+4*C;e[w]=c,e[w+1]=d,e[w+2]=u,e[w+3]=v}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}};V(ps,"type","Pixelate"),V(ps,"defaults",{blocksize:4}),V(ps,"uniformLocations",["uBlocksize"]),re.setClass(ps);var fs=class extends Ct{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:e}}=t,i=255*this.distance,n=new ei(this.color).getSource(),r=[n[0]-i,n[1]-i,n[2]-i],o=[n[0]+i,n[1]+i,n[2]+i];for(let l=0;l<e.length;l+=4){let c=e[l],d=e[l+1],u=e[l+2];c>r[0]&&d>r[1]&&u>r[2]&&c<o[0]&&d<o[1]&&u<o[2]&&(e[l+3]=0)}}sendUniformData(t,e){let i=new ei(this.color).getSource(),n=this.distance,r=[0+i[0]/255-n,0+i[1]/255-n,0+i[2]/255-n,1],o=[i[0]/255+n,i[1]/255+n,i[2]/255+n,1];t.uniform4fv(e.uLow,r),t.uniform4fv(e.uHigh,o)}};V(fs,"type","RemoveColor"),V(fs,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),V(fs,"uniformLocations",["uLow","uHigh"]),re.setClass(fs);var ms=class extends Ct{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){let t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){let t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){let t=this.getFilterWindow();return this.generateShader(t)}getTaps(){let t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),n=new Array(i);for(let r=1;r<=i;r++)n[r-1]=t(r*e);return n}generateShader(t){let e=new Array(t);for(let i=1;i<=t;i++)e[i-1]="".concat(i,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((i,n)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(i,") * uTaps[").concat(n,"] + texture2D(uTexture, vTexCoord - ").concat(i,") * uTaps[").concat(n,`];
              sum += 2.0 * uTaps[`).concat(n,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){tl(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<11920929e-14&&e>-11920929e-14)return 1;let i=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(i)/i}}applyTo2d(t){let e=t.imageData,i=this.scaleX,n=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/n;let r=e.width,o=e.height,l=Math.round(r*i),c=Math.round(o*n),d;d=this.resizeType==="sliceHack"?this.sliceByTwo(t,r,o,l,c):this.resizeType==="hermite"?this.hermiteFastResize(t,r,o,l,c):this.resizeType==="bilinear"?this.bilinearFiltering(t,r,o,l,c):this.resizeType==="lanczos"?this.lanczosResize(t,r,o,l,c):new ImageData(l,c),t.imageData=d}sliceByTwo(t,e,i,n,r){let o=t.imageData,l=.5,c=!1,d=!1,u=e*l,v=i*l,y=t.filterBackend.resources,C=0,w=0,T=e,x=0;y.sliceByTwo||(y.sliceByTwo=It());let L=y.sliceByTwo;(L.width<1.5*e||L.height<i)&&(L.width=1.5*e,L.height=i);let R=L.getContext("2d");for(R.clearRect(0,0,1.5*e,i),R.putImageData(o,0,0),n=Math.floor(n),r=Math.floor(r);!c||!d;)e=u,i=v,n<Math.floor(u*l)?u=Math.floor(u*l):(u=n,c=!0),r<Math.floor(v*l)?v=Math.floor(v*l):(v=r,d=!0),R.drawImage(L,C,w,e,i,T,x,u,v),C=T,w=x,x+=v;return R.getImageData(C,w,n,r)}lanczosResize(t,e,i,n,r){let o=t.imageData.data,l=t.ctx.createImageData(n,r),c=l.data,d=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,v=this.rcpScaleY,y=2/this.rcpScaleX,C=2/this.rcpScaleY,w=Math.ceil(u*this.lanczosLobes/2),T=Math.ceil(v*this.lanczosLobes/2),x={},L={x:0,y:0},R={x:0,y:0};return function U(q){let K,ie,_e,$,Te,He,$e,_t,Ue,rt,Lt;for(L.x=(q+.5)*u,R.x=Math.floor(L.x),K=0;K<r;K++){for(L.y=(K+.5)*v,R.y=Math.floor(L.y),Te=0,He=0,$e=0,_t=0,Ue=0,ie=R.x-w;ie<=R.x+w;ie++)if(!(ie<0||ie>=e)){rt=Math.floor(1e3*Math.abs(ie-L.x)),x[rt]||(x[rt]={});for(let jt=R.y-T;jt<=R.y+T;jt++)jt<0||jt>=i||(Lt=Math.floor(1e3*Math.abs(jt-L.y)),x[rt][Lt]||(x[rt][Lt]=d(Math.sqrt(Math.pow(rt*y,2)+Math.pow(Lt*C,2))/1e3)),_e=x[rt][Lt],_e>0&&($=4*(jt*e+ie),Te+=_e,He+=_e*o[$],$e+=_e*o[$+1],_t+=_e*o[$+2],Ue+=_e*o[$+3]))}$=4*(K*n+q),c[$]=He/Te,c[$+1]=$e/Te,c[$+2]=_t/Te,c[$+3]=Ue/Te}return++q<n?U(q):l}(0)}bilinearFiltering(t,e,i,n,r){let o,l,c,d,u,v,y,C,w,T,x,L,R,U=0,q=this.rcpScaleX,K=this.rcpScaleY,ie=4*(e-1),_e=t.imageData.data,$=t.ctx.createImageData(n,r),Te=$.data;for(y=0;y<r;y++)for(C=0;C<n;C++)for(u=Math.floor(q*C),v=Math.floor(K*y),w=q*C-u,T=K*y-v,R=4*(v*e+u),x=0;x<4;x++)o=_e[R+x],l=_e[R+4+x],c=_e[R+ie+x],d=_e[R+ie+4+x],L=o*(1-w)*(1-T)+l*w*(1-T)+c*T*(1-w)+d*w*T,Te[U++]=L;return $}hermiteFastResize(t,e,i,n,r){let o=this.rcpScaleX,l=this.rcpScaleY,c=Math.ceil(o/2),d=Math.ceil(l/2),u=t.imageData.data,v=t.ctx.createImageData(n,r),y=v.data;for(let C=0;C<r;C++)for(let w=0;w<n;w++){let T=4*(w+C*n),x=0,L=0,R=0,U=0,q=0,K=0,ie=0,_e=(C+.5)*l;for(let $=Math.floor(C*l);$<(C+1)*l;$++){let Te=Math.abs(_e-($+.5))/d,He=(w+.5)*o,$e=Te*Te;for(let _t=Math.floor(w*o);_t<(w+1)*o;_t++){let Ue=Math.abs(He-(_t+.5))/c,rt=Math.sqrt($e+Ue*Ue);rt>1&&rt<-1||(x=2*rt*rt*rt-3*rt*rt+1,x>0&&(Ue=4*(_t+$*e),ie+=x*u[Ue+3],R+=x,u[Ue+3]<255&&(x=x*u[Ue+3]/250),U+=x*u[Ue],q+=x*u[Ue+1],K+=x*u[Ue+2],L+=x))}}y[T]=U/L,y[T+1]=q/L,y[T+2]=K/L,y[T+3]=ie/R}return v}};V(ms,"type","Resize"),V(ms,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),V(ms,"uniformLocations",["uDelta","uTaps"]),re.setClass(ms);var gs=class extends Ct{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=-this.saturation;for(let n=0;n<e.length;n+=4){let r=Math.max(e[n],e[n+1],e[n+2]);e[n]+=r!==e[n]?(r-e[n])*i:0,e[n+1]+=r!==e[n+1]?(r-e[n+1])*i:0,e[n+2]+=r!==e[n+2]?(r-e[n+2])*i:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}};V(gs,"type","Saturation"),V(gs,"defaults",{saturation:0}),V(gs,"uniformLocations",["uSaturation"]),re.setClass(gs);var _s=class extends Ct{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=-this.vibrance;for(let n=0;n<e.length;n+=4){let r=Math.max(e[n],e[n+1],e[n+2]),o=(e[n]+e[n+1]+e[n+2])/3,l=2*Math.abs(r-o)/255*i;e[n]+=r!==e[n]?(r-e[n])*l:0,e[n+1]+=r!==e[n+1]?(r-e[n+1])*l:0,e[n+2]+=r!==e[n+2]?(r-e[n+2])*l:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}};V(_s,"type","Vibrance"),V(_s,"defaults",{vibrance:0}),V(_s,"uniformLocations",["uVibrance"]),re.setClass(_s);var UA=Object.freeze({__proto__:null,BaseFilter:Ct,BlackWhite:pD,BlendColor:ns,BlendImage:ss,Blur:rs,Brightness:os,Brownie:aD,ColorMatrix:pn,Composed:ho,Contrast:as,Convolute:ls,Gamma:cs,Grayscale:hs,HueRotation:lr,Invert:ds,Kodachrome:cD,Noise:us,Pixelate:ps,Polaroid:dD,RemoveColor:fs,Resize:ms,Saturation:gs,Sepia:uD,Technicolor:hD,Vibrance:_s,Vintage:lD});var i9=(()=>{class s{amountToWordsService;canvas;canvasBack;textboxBackgroundColor="#f3fbfd";textboxBorderColor="#059bb4";currentTextboxBackgroundColor="#f3fbfd";objectSelected=new X;constructor(e){this.amountToWordsService=e}ngOnInit(){this.initializeCanvas(),this.addInitialTexts(),this.enableDragAndDrop()}resizeAndLoadCanvas(e){if(e){this.canvas.setDimensions({width:e.canvasWidth,height:e.canvasHeight}),this.canvasBack.setDimensions({width:e.canvasWidth,height:e.canvasHeight});let i=JSON.parse(e.chequeConfigFront),n=JSON.parse(e.chequeConfigBack);this.canvas.loadFromJSON(i).then(()=>{this.canvas.renderAll(),console.log("Canvas Front has been successfully loaded from JSON")}),this.canvasBack.loadFromJSON(n).then(()=>{this.canvasBack.renderAll(),console.log("Canvas Back has been successfully loaded from JSON")})}}initializeCanvas(){this.canvas=new Ts("canvas",{backgroundColor:"#f3f4f6"}),this.canvas.renderAll.bind(this.canvas),this.canvasBack=new Ts("canvasBack",{backgroundColor:"transparent"}),this.canvasBack.renderAll.bind(this.canvasBack)}loadBackgroundImage(e,i,n){this.canvas.setDimensions({width:e,height:i}),this.canvasBack.setDimensions({width:e,height:i}),this.canvas.renderAll(),this.canvasBack.renderAll(),mi.fromURL(n).then(r=>{let o=this.canvas.width/r.width,l=this.canvas.height/r.height,c=Math.min(o,l);r.scale(c),r.set({left:(this.canvas.width-r.width*c)/2,top:(this.canvas.height-r.height*c)/2}),this.canvas.backgroundImage=r,this.canvas.renderAll(),this.canvasBack.renderAll()})}resizeBackgroundImage(e,i){this.canvas.setDimensions({width:e,height:i}),this.canvasBack.setDimensions({width:e,height:i}),this.canvas.renderAll(),this.canvasBack.renderAll();let n=this.canvas.backgroundImage;if(n){let r=this.canvas.width/n.width,o=this.canvas.height/n.height,l=Math.min(r,o);n.scale(l),n.set({left:(this.canvas.width-n.width*l)/2,top:(this.canvas.height-n.height*l)/2}),this.canvas.backgroundImage=n}this.canvas.renderAll(),this.canvasBack.renderAll()}addInitialTexts(){this.addText("Date",30,20,80),this.addText("National Finance Company",30,50,180),this.addText("Amount in line1",30,90,130),this.addText("Amount in line2",30,130,130),this.addText("Rials",30,170,50),this.addText("Baiza",30,210,50),this.addText("A/C PAYEE",30,250,80),this.addTextBack("",100)}enableDragAndDrop(){this.canvas.on("object:moving",e=>{e.target.set({left:e.target.left,top:e.target.top})}),this.canvas.on("selection:created",()=>{this.objectSelected.emit(this.canvas.getActiveObject())}),this.canvasBack.on("selection:created",()=>{this.objectSelected.emit(this.canvasBack.getActiveObject())}),this.canvas.on("selection:updated",()=>{this.objectSelected.emit(this.canvas.getActiveObject())}),this.canvasBack.on("selection:updated",()=>{this.objectSelected.emit(this.canvasBack.getActiveObject())}),this.canvas.on("selection:cleared",()=>{this.objectSelected.emit(this.canvas.getActiveObject())}),this.canvasBack.on("selection:cleared",()=>{this.objectSelected.emit(this.canvasBack.getActiveObject())})}addText(e,i,n,r){let o=new un(e,{left:i,top:n,fill:"black",fontSize:14,editable:!1,hasControls:!0,hasBorders:!0,borderColor:this.textboxBorderColor,selectable:!0,lockRotation:!0,fontFamily:'"Inter var", sans-serif',width:r,padding:2,backgroundColor:this.textboxBackgroundColor,splitByGrapheme:!1,lineHeight:1,textAlign:"left"});this.canvas.add(o),o.on("modified",()=>{o.setCoords(),this.canvas.renderAll()}),o.on("moving",()=>{o.setCoords(),this.canvas.renderAll()})}addTextBack(e,i){let n=new un(e,{left:this.canvasBack.width/2-50,top:this.canvasBack.height/2,fill:"black",fontSize:20,editable:!1,hasControls:!0,hasBorders:!0,borderColor:this.textboxBorderColor,selectable:!0,lockRotation:!0,fontFamily:'"Inter var", sans-serif',width:i,padding:2,backgroundColor:this.textboxBackgroundColor,splitByGrapheme:!1,lineHeight:1,textAlign:"left"});this.canvasBack.add(n),n.on("modified",()=>{n.setCoords(),this.canvasBack.renderAll()}),n.on("moving",()=>{n.setCoords(),this.canvasBack.renderAll()})}toggleBackgroundColor(e){let i=this.canvas.getObjects(),n=this.canvasBack.getObjects();e?(i.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor",this.textboxBackgroundColor)}),n.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor",this.textboxBackgroundColor)})):(i.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor","transparent")}),n.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor","transparent")})),this.canvas.renderAll(),this.canvasBack.renderAll()}printCanvas(e,i,n,r){let o=0;r?o=i[0]?.periods||0:o=i.reduce((x,L)=>x+(L?L.periods:0),0);let l=qr.generateDatePeriods(e,o),c=this.canvas.backgroundImage,d=this.canvas.backgroundColor,u=this.canvas.getObjects(),v=this.canvasBack.getObjects();u.forEach((x,L)=>{x.type==="textbox"&&(x.set("backgroundColor","transparent"),L==0&&(this.currentTextboxBackgroundColor=x.backgroundColor))}),v.forEach(x=>{x.type==="textbox"&&x.set("backgroundColor","transparent")}),this.canvas.backgroundImage=void 0,this.canvas.backgroundColor="transparent",this.canvasBack.backgroundImage=void 0,this.canvasBack.backgroundColor="transparent";let y=[];this.updateTextBack(n+"",0);let C=this.canvasBack.toDataURL({format:"png",quality:1,multiplier:2}),w=0;i.forEach(x=>{let L=w+x.periods-1;for(let R=w;R<=L;R++){let U=l[R];R===w&&x.periods>1?(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(x.periodAmount),2,3),this.updateText(x.periodAmount+"/",4),this.updateText("---",5)):R===L&&(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(x.periodLastAmount),2,3),this.updateText(x.periodLastAmount+"/",4),this.updateText("---",5)),this.updateText(U,0),this.canvas.renderAll();let q=this.canvas.toDataURL({format:"png",quality:1,multiplier:2});U.trim()!==""&&y.push(q)}w+=x.periods}),this.canvas.backgroundImage=c,this.canvas.backgroundColor=d||"transparent",u.forEach(x=>{x.type==="textbox"&&x.set("backgroundColor",this.currentTextboxBackgroundColor)}),v.forEach(x=>{x.type==="textbox"&&x.set("backgroundColor",this.currentTextboxBackgroundColor)}),this.canvas.renderAll(),this.canvasBack.renderAll();let T=window.open("","_blank");if(T){let x=y.map((L,R)=>`
           <div class="page" style="${R<y.length-1?"page-break-after: always;":""}">
          <img src="${L}" style="width: 100%; height: auto;" />
        </div>

        <div class="page" >
          <img src="${C}" style="width: 100%; height: auto;" />
        </div>
      `).join("");T.document.write(`
        <html>
        <head>
          <title>Print</title>
          <style>
            @page {
              size: A4 portrait;
              margin: 0;
            }
            body {
              margin: 0;
              background-color: white;
            }
            .page {
              display: flex;
              justify-content: center;
              align-items: center;
              height: 100vh;
            }
            @media print {
              img {
                max-width: 100%;
                height: auto;
                transform: rotate(90deg); /* Rotate the image 90 degrees for print */
              }
            }
          </style>
        </head>
        <body>
          ${x}
        </body>
        </html>
      `),T.document.close(),T.onload=()=>{setTimeout(()=>{T.print(),T.close()},500)}}else console.error("Failed to open print window. Please check your browser settings.")}printPreviewCanvas(e,i,n,r){let o=0;r?o=i[0]?.periods||0:o=i.reduce((x,L)=>x+(L?L.periods:0),0);let l=qr.generateDatePeriods(e,o),c=this.canvas.backgroundImage,d=this.canvas.backgroundColor,u=this.canvas.getObjects(),v=this.canvasBack.getObjects();u.forEach((x,L)=>{x.type==="textbox"&&(x.set("backgroundColor","transparent"),L==0&&(this.currentTextboxBackgroundColor=x.backgroundColor))}),v.forEach(x=>{x.type==="textbox"&&x.set("backgroundColor","transparent")}),this.canvas.backgroundImage=void 0,this.canvas.backgroundColor="transparent",this.canvasBack.backgroundImage=void 0,this.canvasBack.backgroundColor="transparent";let y=[];this.updateTextBack(n+"",0);let C=this.canvasBack.toDataURL({format:"png",quality:1,multiplier:2}),w=0;i.forEach(x=>{let L=w+x.periods-1;for(let R=w;R<=L;R++){let U=l[R];R===w&&x.periods>1?(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(x.periodAmount),2,3),this.updateText(x.periodAmount+"/",4),this.updateText("---",5)):R===L&&(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(x.periodLastAmount),2,3),this.updateText(x.periodLastAmount+"/",4),this.updateText("---",5)),this.updateText(U,0),this.canvas.renderAll();let q=this.canvas.toDataURL({format:"png",quality:1,multiplier:2});U.trim()!==""&&y.push(q)}w+=x.periods}),this.canvas.backgroundImage=c,this.canvas.backgroundColor=d||"transparent",u.forEach(x=>{x.type==="textbox"&&x.set("backgroundColor",this.currentTextboxBackgroundColor)}),v.forEach(x=>{x.type==="textbox"&&x.set("backgroundColor",this.currentTextboxBackgroundColor)}),this.canvas.renderAll(),this.canvasBack.renderAll();let T=window.open("","_blank");if(T){let x=y.map((L,R)=>`
           <div class="page" style="${R<y.length-1?"page-break-after: always;":""}">
          <img src="${L}"  />
        </div>

        <div class="page" >
          <img src="${C}"  />
        </div>
      `).join("");T.document.write(`
        <html>
        <head>
          <title>Print</title>
          <style>
            @page {
              size: A4 portrait;
              margin: 0;
            }
            body {
              margin: 0;
              background-color: white;
            }
            .page {
              display: flex;
              justify-content: center;
              align-items: center;
              height: 100vh;
            }
            @media print {
              img {
                max-width: 100%;
                height: auto;
                transform: rotate(90deg); /* Rotate the image 90 degrees for print */
              }
            }
               img {
                max-width: 100%;
                height: auto;
                transform: rotate(90deg); /* Rotate the image 90 degrees for print */
              }
          </style>
        </head>
        <body>
          ${x}
        </body>
        </html>
      `),T.document.close(),T.onload=()=>{}}else console.error("Failed to open print window. Please check your browser settings.")}moveText(e){let i=this.canvas.getActiveObject(),n=!1;if(i||(i=this.canvasBack.getActiveObject(),n=!0),i){switch(e){case"left":i.set({left:i.left-1});break;case"right":i.set({left:i.left+1});break;case"up":i.set({top:i.top-1});break;case"down":i.set({top:i.top+1});break}i.setCoords(),n?this.canvasBack.renderAll():this.canvas.renderAll()}}resetCanvas(){this.canvas&&(this.canvas.clear(),this.canvasBack.clear(),this.canvas.backgroundColor="#f3f4f6",this.canvas.setDimensions({width:722,height:341}),this.canvasBack.setDimensions({width:722,height:341}),this.addInitialTexts(),this.enableDragAndDrop(),this.canvas.renderAll(),this.canvasBack.renderAll())}setBackgroundImage(){let e=prompt("Enter the URL of the background image:");e&&mi.fromURL(e).then(i=>{let n=this.canvas.width/i.width,r=this.canvas.height/i.height,o=Math.min(n,r);i.scale(o),i.set({left:(this.canvas.width-i.width*o)/2,top:(this.canvas.height-i.height*o)/2}),this.canvas.backgroundImage=i,this.canvas.renderAll()})}exportJSON(){let e=this.canvas.toJSON();return JSON.stringify(e,null,2)}exportBackJSON(){let e=this.canvasBack.toJSON();return JSON.stringify(e,null,2)}findTextObject(e){return this.canvas.getObjects("Textbox")[e]}updateText(e,i){this.canvas.getObjects("Textbox")[i].set({text:e}),this.canvas.renderAll()}splitTextBetweenTwoObjects(e,i,n){let o=this.findTextObject(i)?.width||100;o=o!=130?o-130:o;let l=this.canvas.getContext(),c=e.split(" "),d="",u=c.length;for(let v=0;v<c.length;v++){let y=d+c[v]+" ";if(l.measureText(y).width>o){u=v;break}d=y}if(this.updateText(d.trim(),i),u>0&&u<c.length){let v=c.slice(u).join(" ").trim();this.updateText(v,n)}else this.updateText("",n)}increaseTextboxWidth(){let e=this.canvas.getActiveObject(),i=!1;e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"?(e.width+=5,e.set({textAlign:"left"}),e.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()):console.log("No textbox selected")}decreaseTextboxWidth(){let e=this.canvas.getActiveObject(),i=!1;e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"?e.width>5&&(e.width-=5,e.set({textAlign:"left"}),e.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()):console.log("No textbox selected")}increaseFontSize(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("fontSize",n.fontSize+1),n.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()}else console.log("No textbox selected")}decreaseFontSize(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e,r=n.fontSize-1;n.set("fontSize",r>0?r:1),n.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()}}toggleBold(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("fontWeight",n.fontWeight==="bold"?"normal":"bold"),i?this.canvasBack.renderAll():this.canvas.renderAll()}}toggleItalic(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("fontStyle",n.fontStyle==="italic"?"normal":"italic"),i?this.canvasBack.renderAll():this.canvas.renderAll()}}toggleUnderline(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("underline",!n.underline),i?this.canvasBack.renderAll():this.canvas.renderAll()}}hideShowTextbox(e,i){let n=this.canvas.getObjects()[e];n&&n.type==="textbox"&&(n.set("visible",i),this.canvas.renderAll())}updateTextBack(e,i){this.canvasBack.getObjects("Textbox")[i].set({text:e}),this.canvasBack.renderAll()}static \u0275fac=function(i){return new(i||s)(B(Ip))};static \u0275cmp=G({type:s,selectors:[["app-image-manipulation"]],outputs:{objectSelected:"objectSelected"},decls:6,vars:0,consts:[[1,"col","p-0"],["id","canvas","width","722","height","341",1,"border-1","border-round"],[1,"font-bold","my-2"],[1,"col","p-0","mt-2"],["id","canvasBack","width","722","height","341",1,"border-1","border-round"]],template:function(i,n){i&1&&(I(0,"div",0),P(1,"canvas",1),D(),I(2,"div",2),ce(3,"Cheque Back"),D(),I(4,"div",3),P(5,"canvas",4),D())}})}return s})();var il={production:!0,apiUrl:"http://localhost:9001/cheque",featureFlag:!0,logging:{level:"error"}};var Em=(()=>{class s{http;baseUrl=il.apiUrl+"/api/cheques";constructor(e){this.http=e}createCheque(e){return this.http.post(`${this.baseUrl}/v1/save`,e)}getCheque(e){return this.http.get(`${this.baseUrl}/v1/${e}`)}getBanks(){return this.http.get(`${this.baseUrl}/v1/banks`)}updateCheque(e,i){return this.http.put(`${this.baseUrl}/v1/${e}`,i)}deleteCheque(e){return this.http.delete(`${this.baseUrl}/v1/${e}`)}static \u0275fac=function(i){return new(i||s)(Xe(Kn))};static \u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var km=["container"],_D=s=>[s,"p-toast-message"],vD=(s,t,e,i)=>({showTransformParams:s,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}),yD=s=>({value:"visible",params:s}),bD=(s,t)=>({$implicit:s,closeFn:t}),CD=s=>({$implicit:s});function wD(s,t){s&1&&le(0)}function xD(s,t){if(s&1&&(Q(0),S(1,wD,1,0,"ng-container",4),J()),s&2){let e=_();g(),f("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",Fe(2,bD,e.message,e.onCloseIconClick))}}function TD(s,t){if(s&1&&P(0,"span"),s&2){let e=_(3);z("p-toast-message-icon pi "+e.message.icon)}}function SD(s,t){s&1&&P(0,"CheckIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function ID(s,t){s&1&&P(0,"InfoCircleIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function DD(s,t){s&1&&P(0,"TimesCircleIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function OD(s,t){s&1&&P(0,"ExclamationTriangleIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function ED(s,t){if(s&1&&(I(0,"span",13),Q(1),S(2,SD,1,2,"CheckIcon",6)(3,ID,1,2,"InfoCircleIcon",6)(4,DD,1,2,"TimesCircleIcon",6)(5,OD,1,2,"ExclamationTriangleIcon",6),J(),D()),s&2){let e=_(3);k("aria-hidden",!0)("data-pc-section","icon"),g(2),f("ngIf",e.message.severity==="success"),g(),f("ngIf",e.message.severity==="info"),g(),f("ngIf",e.message.severity==="error"),g(),f("ngIf",e.message.severity==="warn")}}function kD(s,t){if(s&1&&(Q(0),S(1,TD,1,2,"span",8)(2,ED,6,6,"span",9),I(3,"div",10)(4,"div",11),ce(5),D(),I(6,"div",12),ce(7),D()(),J()),s&2){let e=_(2);g(),f("ngIf",e.message.icon),g(),f("ngIf",!e.message.icon),g(),k("data-pc-section","text"),g(),k("data-pc-section","summary"),g(),ze(e.message.summary),g(),k("data-pc-section","detail"),g(),ze(e.message.detail)}}function MD(s,t){s&1&&le(0)}function FD(s,t){if(s&1&&P(0,"span"),s&2){let e=_(3);z("pt-1 text-base p-toast-message-icon pi "+e.message.closeIcon)}}function AD(s,t){s&1&&P(0,"TimesIcon",16),s&2&&(f("styleClass","p-toast-icon-close-icon"),k("aria-hidden",!0)("data-pc-section","closeicon"))}function VD(s,t){if(s&1){let e=Z();I(0,"button",14),W("click",function(n){O(e);let r=_(2);return E(r.onCloseIconClick(n))})("keydown.enter",function(n){O(e);let r=_(2);return E(r.onCloseIconClick(n))}),S(1,FD,1,2,"span",8)(2,AD,1,3,"TimesIcon",15),D()}if(s&2){let e=_(2);k("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),g(),f("ngIf",e.message.closeIcon),g(),f("ngIf",!e.message.closeIcon)}}function LD(s,t){if(s&1&&(I(0,"div",5),S(1,kD,8,7,"ng-container",6)(2,MD,1,0,"ng-container",4)(3,VD,3,4,"button",7),D()),s&2){let e=_();f("ngClass",e.message==null?null:e.message.contentStyleClass),k("data-pc-section","content"),g(),f("ngIf",!e.template),g(),f("ngTemplateOutlet",e.template)("ngTemplateOutletContext",ae(6,CD,e.message)),g(),f("ngIf",(e.message==null?null:e.message.closable)!==!1)}}function PD(s,t){if(s&1){let e=Z();I(0,"p-toastItem",3),W("onClose",function(n){O(e);let r=_();return E(r.onMessageClose(n))})("@toastAnimation.start",function(n){O(e);let r=_();return E(r.onAnimationStart(n))})("@toastAnimation.done",function(n){O(e);let r=_();return E(r.onAnimationEnd(n))}),D()}if(s&2){let e=t.$implicit,i=t.index,n=_();f("message",e)("index",i)("life",n.life)("template",n.template)("headlessTemplate",n.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",n.showTransformOptions)("hideTransformOptions",n.hideTransformOptions)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}}var RD=(()=>{class s{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new X;containerViewChild;timeout;constructor(e,i){this.zone=e,this.config=i}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=e=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(i){return new(i||s)(B(et),B(nt))};static \u0275cmp=G({type:s,selectors:[["p-toastItem"]],viewQuery:function(i,n){if(i&1&&ve(km,5),i&2){let r;ee(r=te())&&(n.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",fe],life:[2,"life","life",fe],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[Ee],decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,n){if(i&1){let r=Z();I(0,"div",2,0),W("mouseenter",function(){return O(r),E(n.onMouseEnter())})("mouseleave",function(){return O(r),E(n.onMouseLeave())}),S(2,xD,2,5,"ng-container",3)(3,LD,4,8,"ng-template",null,1,xt),D()}if(i&2){let r=it(4);z(n.message==null?null:n.message.styleClass),f("ngClass",ae(9,_D,"p-toast-message-"+(n.message==null?null:n.message.severity)))("@messageState",ae(16,yD,Tn(11,vD,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions))),k("id",n.message==null?null:n.message.id)("data-pc-name","toast")("data-pc-section","root"),g(2),f("ngIf",n.headlessTemplate)("ngIfElse",r)}},dependencies:()=>[Me,Be,qe,Yt,Kt,$s,Zs,Ks,st],encapsulation:2,data:{animation:[ui("messageState",[Uo("visible",pt({transform:"translateY(0)",opacity:1})),Tt("void => *",[pt({transform:"{{showTransformParams}}",opacity:0}),Et("{{showTransitionParams}}")]),Tt("* => void",[Et("{{hideTransitionParams}}",pt({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return s})(),O9=(()=>{class s{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(e){this._position=e,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new X;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(e,i,n,r,o){this.document=e,this.renderer=i,this.messageService=n,this.cd=r,this.config=o}styleElement;id=Re();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(Array.isArray(e)){let i=e.filter(n=>this.canAdd(n));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return e?e.find(n=>n.summary===i.summary&&n.detail==i.detail&&n.severity===i.severity)!=null:!1}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"message":this.template=e.template;break;case"headless":this.headlessTemplate=e.template;break;default:this.template=e.template;break}})}onMessageClose(e){this.messages?.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){e.fromState==="void"&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&this.containerViewChild?.nativeElement.style.zIndex===""&&ft.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){e.toState==="void"&&this.autoZIndex&&he.isEmpty(this.messages)&&ft.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let i in this.breakpoints){let n="";for(let r in this.breakpoints[i])n+=r+":"+this.breakpoints[i][r]+" !important;";e+=`
                    @media screen and (max-width: ${i}) {
                        .p-toast[${this.id}] {
                           ${n}
                        }
                    }
                `}this.renderer.setProperty(this.styleElement,"innerHTML",e)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&ft.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(i){return new(i||s)(B(ke),B(ct),B(Us),B(Ke),B(nt))};static \u0275cmp=G({type:s,selectors:[["p-toast"]],contentQueries:function(i,n,r){if(i&1&&Pe(r,Ye,4),i&2){let o;ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ve(km,5),i&2){let r;ee(r=te())&&(n.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",H],baseZIndex:[2,"baseZIndex","baseZIndex",fe],life:[2,"life","life",fe],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",H],preventDuplicates:[2,"preventDuplicates","preventDuplicates",H],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[Ee],decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(i,n){i&1&&(I(0,"div",1,0),S(2,PD,1,10,"p-toastItem",2),D()),i&2&&(z(n.styleClass),f("ngClass","p-toast-"+n._position)("ngStyle",n.style),g(2),f("ngForOf",n.messages))},dependencies:[Me,ni,Ae,RD],styles:[`@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}
`],encapsulation:2,data:{animation:[ui("toastAnimation",[Tt(":enter, :leave",[bu("@*",yu())])])]},changeDetection:0})}return s})(),Yh=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,ri,Kt,$s,Zs,Ks,st,De]})}return s})();var ND=["content"],BD=[[["p-footer"]]],jD=["p-footer"],HD=s=>({"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":s}),UD=(s,t)=>({transform:s,transition:t}),WD=s=>({value:"visible",params:s}),Mm=s=>({$implicit:s}),zD=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function YD(s,t){s&1&&le(0)}function GD(s,t){if(s&1&&(Q(0),S(1,YD,1,0,"ng-container",7),J()),s&2){let e=_(3);g(),f("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",ae(2,Mm,e.confirmation))}}function XD(s,t){s&1&&le(0)}function qD(s,t){if(s&1&&(I(0,"div",14),S(1,XD,1,0,"ng-container",15),D()),s&2){let e=_(4);g(),f("ngTemplateOutlet",e.headerTemplate)}}function KD(s,t){if(s&1&&(I(0,"span",19),ce(1),D()),s&2){let e=_(5);f("id",e.ariaLabelledBy),g(),ze(e.option("header"))}}function $D(s,t){if(s&1){let e=Z();I(0,"button",20),W("click",function(n){O(e);let r=_(5);return E(r.close(n))})("keydown.enter",function(n){O(e);let r=_(5);return E(r.close(n))}),P(1,"TimesIcon"),D()}if(s&2){let e=_(5);f("ngClass",Ei(2,zD)),k("aria-label",e.closeAriaLabel)}}function ZD(s,t){if(s&1&&(I(0,"div",14),S(1,KD,2,2,"span",16),I(2,"div",17),S(3,$D,2,3,"button",18),D()()),s&2){let e=_(4);g(),f("ngIf",e.option("header")),g(2),f("ngIf",e.closable)}}function QD(s,t){if(s&1&&P(0,"i",3),s&2){let e=_(4);z(e.option("icon")),f("ngClass","p-confirm-dialog-icon")}}function JD(s,t){}function eO(s,t){s&1&&S(0,JD,0,0,"ng-template")}function tO(s,t){if(s&1&&(Q(0),S(1,eO,1,0,null,15),J()),s&2){let e=_(4);g(),f("ngTemplateOutlet",e.iconTemplate)}}function iO(s,t){if(s&1&&P(0,"span",21),s&2){let e=_(4);f("innerHTML",e.option("message"),kr)}}function nO(s,t){}function sO(s,t){s&1&&S(0,nO,0,0,"ng-template")}function rO(s,t){if(s&1&&(Q(0),S(1,sO,1,0,null,7),J()),s&2){let e=_(4);g(),f("ngTemplateOutlet",e.messageTemplate)("ngTemplateOutletContext",ae(2,Mm,e.confirmation))}}function oO(s,t){s&1&&le(0)}function aO(s,t){if(s&1&&(I(0,"div",22),tt(1),S(2,oO,1,0,"ng-container",15),D()),s&2){let e=_(4);g(2),f("ngTemplateOutlet",e.footerTemplate)}}function lO(s,t){if(s&1&&P(0,"i"),s&2){let e=_(7);z(e.option("rejectIcon"))}}function cO(s,t){s&1&&P(0,"TimesIcon",28),s&2&&f("styleClass","p-button-icon-left")}function hO(s,t){if(s&1&&(Q(0),S(1,lO,1,2,"i",26)(2,cO,1,1,"TimesIcon",27),J()),s&2){let e=_(6);g(),f("ngIf",e.option("rejectIcon")),g(),f("ngIf",!e.option("rejectIcon"))}}function dO(s,t){}function uO(s,t){s&1&&S(0,dO,0,0,"ng-template")}function pO(s,t){if(s&1&&(I(0,"span",29),S(1,uO,1,0,null,15),D()),s&2){let e=_(6);g(),f("ngTemplateOutlet",e.rejectIconTemplate)}}function fO(s,t){if(s&1){let e=Z();I(0,"button",24),W("click",function(){O(e);let n=_(5);return E(n.reject())}),S(1,hO,3,2,"ng-container",11)(2,pO,2,1,"span",25),D()}if(s&2){let e=_(5);z(e.option("rejectButtonStyleClass")),f("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),k("aria-label",e.rejectAriaLabel),g(),f("ngIf",!e.rejectIconTemplate),g(),f("ngIf",e.rejectIconTemplate)}}function mO(s,t){if(s&1&&P(0,"i"),s&2){let e=_(7);z(e.option("acceptIcon"))}}function gO(s,t){s&1&&P(0,"CheckIcon",28),s&2&&f("styleClass","p-button-icon-left")}function _O(s,t){if(s&1&&(Q(0),S(1,mO,1,2,"i",26)(2,gO,1,1,"CheckIcon",27),J()),s&2){let e=_(6);g(),f("ngIf",e.option("acceptIcon")),g(),f("ngIf",!e.option("acceptIcon"))}}function vO(s,t){}function yO(s,t){s&1&&S(0,vO,0,0,"ng-template")}function bO(s,t){if(s&1&&(I(0,"span",29),S(1,yO,1,0,null,15),D()),s&2){let e=_(6);g(),f("ngTemplateOutlet",e.acceptIconTemplate)}}function CO(s,t){if(s&1){let e=Z();I(0,"button",24),W("click",function(){O(e);let n=_(5);return E(n.accept())}),S(1,_O,3,2,"ng-container",11)(2,bO,2,1,"span",25),D()}if(s&2){let e=_(5);z(e.option("acceptButtonStyleClass")),f("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),k("aria-label",e.acceptAriaLabel),g(),f("ngIf",!e.acceptIconTemplate),g(),f("ngIf",e.acceptIconTemplate)}}function wO(s,t){if(s&1&&(I(0,"div",22),S(1,fO,3,7,"button",23)(2,CO,3,7,"button",23),D()),s&2){let e=_(4);g(),f("ngIf",e.option("rejectVisible")),g(),f("ngIf",e.option("acceptVisible"))}}function xO(s,t){if(s&1&&(S(0,qD,2,1,"div",8)(1,ZD,4,2,"div",8),I(2,"div",9,1),S(4,QD,1,3,"i",10)(5,tO,2,1,"ng-container",11)(6,iO,1,1,"span",12)(7,rO,2,4,"ng-container",11),D(),S(8,aO,3,1,"div",13)(9,wO,3,2,"div",13)),s&2){let e=_(3);f("ngIf",e.headerTemplate),g(),f("ngIf",!e.headerTemplate),g(3),f("ngIf",!e.iconTemplate&&e.option("icon")),g(),f("ngIf",e.iconTemplate),g(),f("ngIf",!e.messageTemplate),g(),f("ngIf",e.messageTemplate),g(),f("ngIf",e.footer||e.footerTemplate),g(),f("ngIf",!e.footer&&!e.footerTemplate)}}function TO(s,t){if(s&1){let e=Z();I(0,"div",5),W("@animation.start",function(n){O(e);let r=_(2);return E(r.onAnimationStart(n))})("@animation.done",function(n){O(e);let r=_(2);return E(r.onAnimationEnd(n))}),S(1,GD,2,4,"ng-container",6)(2,xO,10,8,"ng-template",null,0,xt),D()}if(s&2){let e=it(3),i=_(2);z(i.styleClass),f("ngClass",ae(9,HD,i.rtl))("ngStyle",i.style)("@animation",ae(14,WD,Fe(11,UD,i.transformOptions,i.transitionOptions))),k("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),g(),f("ngIf",i.headlessTemplate)("ngIfElse",e)}}function SO(s,t){if(s&1&&(I(0,"div",3),S(1,TO,4,16,"div",4),D()),s&2){let e=_();z(e.maskStyleClass),f("ngClass",e.getMaskClass()),g(),f("ngIf",e.visible)}}var IO=js([pt({transform:"{{transform}}",opacity:0}),Et("{{transition}}",pt({transform:"none",opacity:1}))]),DO=js([Et("{{transition}}",pt({transform:"{{transform}}",opacity:0}))]),$9=(()=>{class s{el;renderer;confirmationService;zone;cd;config;document;header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo;key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onHide=new X;footer;contentViewChild;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"message":this.messageTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"rejecticon":this.rejectIconTemplate=e.template;break;case"accepticon":this.acceptIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break}})}headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;confirmation;_visible;_style;maskVisible;documentEscapeListener;container;wrapper;contentContainer;subscription;maskClickListener;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=Re();ariaLabelledBy=this.getAriaLabelledBy();confirmationOptions;translationSubscription;constructor(e,i,n,r,o,l,c){this.el=e,this.renderer=i,this.confirmationService=n,this.zone=r,this.cd=o,this.config=l,this.document=c,this.subscription=this.confirmationService.requireConfirmation$.subscribe(d=>{if(!d){this.hide();return}d.key===this.key&&(this.confirmation=d,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:this.confirmation.rejectVisible==null?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:this.confirmation.acceptVisible==null?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:this.confirmation.blockScroll===!1||this.confirmation.blockScroll===!0?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:this.confirmation.closeOnEscape===!1||this.confirmation.closeOnEscape===!0?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:this.confirmation.dismissableMask===!1||this.confirmation.dismissableMask===!0?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new X,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new X,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return this.header!==null?Re()+"_header":null}option(e){let i=this.confirmationOptions||this;if(i.hasOwnProperty(e))return i[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.contentContainer=M.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();let i=this.getElementToFocus();i&&i.focus();break}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return M.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return M.findSingle(this.container,".p-confirm-dialog-reject");case"close":return M.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return M.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):M.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&M.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&M.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`
                    @media screen and (max-width: ${i}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[i]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e}}close(e){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit($n.CANCEL),this.hide($n.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(ft.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){let i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(n=>n===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){if(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{if(i.which==27&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===ft.get(this.container)&&this.visible&&this.close(i),i.which===9&&this.focusTrap){i.preventDefault();let n=M.getFocusableElements(this.container);if(n&&n.length>0)if(!n[0].ownerDocument.activeElement)n[0].focus();else{let r=n.indexOf(n[0].ownerDocument.activeElement);i.shiftKey?r==-1||r===0?n[n.length-1].focus():n[r-1].focus():r==-1||r===n.length-1?n[0].focus():n[r+1].focus()}}})}}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&ft.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide($n.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit($n.REJECT),this.hide($n.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(ht.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(ht.REJECT)}static \u0275fac=function(i){return new(i||s)(B(Oe),B(ct),B(Ko),B(et),B(Ke),B(nt),B(ke))};static \u0275cmp=G({type:s,selectors:[["p-confirmDialog"]],contentQueries:function(i,n,r){if(i&1&&(Pe(r,Zo,5),Pe(r,Ye,4)),i&2){let o;ee(o=te())&&(n.footer=o.first),ee(o=te())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ve(ND,5),i&2){let r;ee(r=te())&&(n.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",H],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",H],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",H],dismissableMask:[2,"dismissableMask","dismissableMask",H],blockScroll:[2,"blockScroll","blockScroll",H],rtl:[2,"rtl","rtl",H],closable:[2,"closable","closable",H],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",H],baseZIndex:[2,"baseZIndex","baseZIndex",fe],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",H],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},features:[Ee],ngContentSelectors:jD,decls:1,vars:1,consts:[["notHeadless",""],["content",""],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],["class","p-confirm-dialog-message",3,"innerHTML",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"click","keydown.enter","ngClass"],[1,"p-confirm-dialog-message",3,"innerHTML"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"click","label","ngClass"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(i,n){i&1&&(ut(BD),S(0,SO,2,4,"div",2)),i&2&&f("ngIf",n.maskVisible)},dependencies:()=>[Me,Be,qe,Ae,En,Yt,st,Kt],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[ui("animation",[Tt("void => visible",[Hs(IO)]),Tt("visible => void",[Hs(DO)])])]},changeDetection:0})}return s})(),Gh=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,Mi,ri,st,Kt,Mi,De]})}return s})();var Fm=(()=>{class s{http;baseUrl=il.apiUrl+"/api/contracts";constructor(e){this.http=e}getContract(e){return this.http.get(`${this.baseUrl}/v1/view/${e}`)}static \u0275fac=function(i){return new(i||s)(Xe(Kn))};static \u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var OO=["sliderHandle"],EO=["sliderHandleStart"],kO=["sliderHandleEnd"],MO=(s,t,e,i)=>({"p-slider p-component":!0,"p-disabled":s,"p-slider-horizontal":t,"p-slider-vertical":e,"p-slider-animate":i}),FO=(s,t)=>({left:s,width:t}),AO=(s,t)=>({bottom:s,height:t}),VO=s=>({height:s}),LO=s=>({width:s}),Xh=(s,t)=>({left:s,bottom:t}),Am=s=>({"p-slider-handle-active":s});function PO(s,t){if(s&1&&P(0,"span",8),s&2){let e=_();f("ngStyle",Fe(2,FO,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),k("data-pc-section","range")}}function RO(s,t){if(s&1&&P(0,"span",8),s&2){let e=_();f("ngStyle",Fe(2,AO,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),k("data-pc-section","range")}}function NO(s,t){if(s&1&&P(0,"span",8),s&2){let e=_();f("ngStyle",ae(2,VO,e.handleValue+"%")),k("data-pc-section","range")}}function BO(s,t){if(s&1&&P(0,"span",8),s&2){let e=_();f("ngStyle",ae(2,LO,e.handleValue+"%")),k("data-pc-section","range")}}function jO(s,t){if(s&1){let e=Z();I(0,"span",9,0),W("touchstart",function(n){O(e);let r=_();return E(r.onDragStart(n))})("touchmove",function(n){O(e);let r=_();return E(r.onDrag(n))})("touchend",function(n){O(e);let r=_();return E(r.onDragEnd(n))})("mousedown",function(n){O(e);let r=_();return E(r.onMouseDown(n))})("keydown",function(n){O(e);let r=_();return E(r.onKeyDown(n))}),D()}if(s&2){let e=_();xn("transition",e.dragging?"none":null),f("ngStyle",Fe(12,Xh,e.orientation=="horizontal"?e.handleValue+"%":null,e.orientation=="vertical"?e.handleValue+"%":null))("autofocus",e.autofocus),k("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","handle")}}function HO(s,t){if(s&1){let e=Z();I(0,"span",10,1),W("keydown",function(n){O(e);let r=_();return E(r.onKeyDown(n,0))})("mousedown",function(n){O(e);let r=_();return E(r.onMouseDown(n,0))})("touchstart",function(n){O(e);let r=_();return E(r.onDragStart(n,0))})("touchmove",function(n){O(e);let r=_();return E(r.onDrag(n,0))})("touchend",function(n){O(e);let r=_();return E(r.onDragEnd(n))}),D()}if(s&2){let e=_();xn("transition",e.dragging?"none":null),f("ngStyle",Fe(13,Xh,e.rangeStartLeft,e.rangeStartBottom))("ngClass",ae(16,Am,e.handleIndex==0))("autofocus",e.autofocus),k("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","startHandler")}}function UO(s,t){if(s&1){let e=Z();I(0,"span",11,2),W("keydown",function(n){O(e);let r=_();return E(r.onKeyDown(n,1))})("mousedown",function(n){O(e);let r=_();return E(r.onMouseDown(n,1))})("touchstart",function(n){O(e);let r=_();return E(r.onDragStart(n,1))})("touchmove",function(n){O(e);let r=_();return E(r.onDrag(n,1))})("touchend",function(n){O(e);let r=_();return E(r.onDragEnd(n))}),D()}if(s&2){let e=_();xn("transition",e.dragging?"none":null),f("ngStyle",Fe(12,Xh,e.rangeEndLeft,e.rangeEndBottom))("ngClass",ae(15,Am,e.handleIndex==1)),k("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","endHandler")}}var WO={provide:si,useExisting:Rt(()=>zO),multi:!0},zO=(()=>{class s{document;platformId;el;renderer;ngZone;cd;animate;disabled;min=0;max=100;orientation="horizontal";step;range;style;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;autofocus;onChange=new X;onSlideEnd=new X;sliderHandle;sliderHandleStart;sliderHandleEnd;value;values;handleValue;handleValues=[];diff;offset;bottom;onModelChange=()=>{};onModelTouched=()=>{};dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;constructor(e,i,n,r,o,l){this.document=e,this.platformId=i,this.el=n,this.renderer=r,this.ngZone=o,this.cd=l}onMouseDown(e,i){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&M.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onDragStart(e,i){if(!this.disabled){var n=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[i]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.orientation==="horizontal"?(this.startx=parseInt(n.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(n.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&M.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onDrag(e){if(!this.disabled){var i=e.changedTouches[0],n=0;this.orientation==="horizontal"?n=Math.floor((parseInt(i.clientX,10)-this.startx)*100/this.barWidth)+this.startHandleValue:n=Math.floor((this.starty-parseInt(i.clientY,10))*100/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,n),e.preventDefault()}}onDragEnd(e){this.disabled||(this.dragging=!1,this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value}),this.animate&&M.addClass(this.el.nativeElement.children[0],"p-slider-animate"))}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e),this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(e,i){switch(this.handleIndex=i,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,i),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,i),e.preventDefault();break;case"PageDown":this.decrementValue(e,i,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,i,!0),e.preventDefault();break;case"Home":this.updateValue(this.min,e),e.preventDefault();break;case"End":this.updateValue(this.max,e),e.preventDefault();break;case"Tab":this.onDragEnd(e);break;default:break}}decrementValue(e,i,n=!1){let r;this.range?this.step?r=this.values[i]-this.step:r=this.values[i]-1:this.step?r=this.value-this.step:!this.step&&n?r=this.value-10:r=this.value-1,this.updateValue(r,e),e.preventDefault()}incrementValue(e,i,n=!1){let r;this.range?this.step?r=this.values[i]+this.step:r=this.values[i]+1:this.step?r=this.value+this.step:!this.step&&n?r=this.value+10:r=this.value+1,this.updateValue(r,e),e.preventDefault()}handleChange(e){let i=this.calculateHandleValue(e);this.setValueFromHandle(e,i)}bindDragListeners(){vt(this.platformId)&&this.ngZone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",i=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(i)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",i=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.range?this.onSlideEnd.emit({originalEvent:i,values:this.values}):this.onSlideEnd.emit({originalEvent:i,value:this.value}),this.animate&&M.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(e,i){let n=this.getValueFromHandle(i);this.range?this.step?this.handleStepChange(n,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=i,this.updateValue(n,e)):this.step?this.handleStepChange(n,this.value):(this.handleValue=i,this.updateValue(n,e)),this.cd.markForCheck()}handleStepChange(e,i){let n=e-i,r=i,o=this.step;n<0?r=i+Math.ceil(e/o-i/o)*o:n>0&&(r=i+Math.floor(e/o-i/o)*o),this.updateValue(r),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return this.orientation==="vertical"}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+M.getWindowScrollLeft(),this.initY=e.top+M.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return this.orientation==="horizontal"?(e.pageX-this.initX)*100/this.barWidth:(this.initY+this.barHeight-e.pageY)*100/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=(this.values[0]<this.min?0:this.values[0]-this.min)*100/(this.max-this.min),this.handleValues[1]=(this.values[1]>this.max?100:this.values[1]-this.min)*100/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=(this.value-this.min)*100/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,i){if(this.range){let n=e;this.handleIndex==0?(n<this.min?(n=this.min,this.handleValues[0]=0):n>this.values[1]&&n>this.max&&(n=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(n>this.max?(n=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):n<this.min?(n=this.min,this.handleValues[1]=0):n<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(n);let r=[this.minVal,this.maxVal];this.onModelChange(r),this.onChange.emit({event:i,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:i,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(e){return(this.max-this.min)*(e/100)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let i=this.getDecimalsCount(this.step);return i>0?+parseFloat(e.toString()).toFixed(i):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}static \u0275fac=function(i){return new(i||s)(B(ke),B(lt),B(Oe),B(ct),B(et),B(Ke))};static \u0275cmp=G({type:s,selectors:[["p-slider"]],viewQuery:function(i,n){if(i&1&&(ve(OO,5),ve(EO,5),ve(kO,5)),i&2){let r;ee(r=te())&&(n.sliderHandle=r.first),ee(r=te())&&(n.sliderHandleStart=r.first),ee(r=te())&&(n.sliderHandleEnd=r.first)}},hostAttrs:[1,"p-element"],inputs:{animate:[2,"animate","animate",H],disabled:[2,"disabled","disabled",H],min:[2,"min","min",fe],max:[2,"max","max",fe],orientation:"orientation",step:[2,"step","step",fe],range:[2,"range","range",H],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",fe],autofocus:[2,"autofocus","autofocus",H]},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[qt([WO]),Ee],decls:8,vars:18,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"click","ngStyle","ngClass"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","autofocus","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","ngClass","autofocus","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle","role","slider",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle","autofocus"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass","autofocus"],["role","slider",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass"]],template:function(i,n){i&1&&(I(0,"div",3),W("click",function(o){return n.onBarClick(o)}),S(1,PO,1,5,"span",4)(2,RO,1,5,"span",4)(3,NO,1,4,"span",4)(4,BO,1,4,"span",4)(5,jO,2,15,"span",5)(6,HO,2,18,"span",6)(7,UO,2,17,"span",7),D()),i&2&&(z(n.styleClass),f("ngStyle",n.style)("ngClass",Tn(13,MO,n.disabled,n.orientation=="horizontal",n.orientation=="vertical",n.animate)),k("data-pc-name","slider")("data-pc-section","root"),g(),f("ngIf",n.range&&n.orientation=="horizontal"),g(),f("ngIf",n.range&&n.orientation=="vertical"),g(),f("ngIf",!n.range&&n.orientation=="vertical"),g(),f("ngIf",!n.range&&n.orientation=="horizontal"),g(),f("ngIf",!n.range),g(),f("ngIf",n.range),g(),f("ngIf",n.range))},dependencies:[Me,Be,Ae,wi],styles:[`@layer primeng{.p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}}
`],encapsulation:2,changeDetection:0})}return s})(),qh=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({imports:[we,Wi]})}return s})();var R7=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=ue({type:s});static \u0275inj=de({providers:[Mu(),Em,Us,Ko,Fm],imports:[we,Ql,pc,rc,vc,yc,bc,xc,Tc,qh,Xr,Sc,Ic,Mc,Yh,Gh,Ql,pc,rc,vc,yc,bc,xc,Tc,qh,Xr,Sc,Ic,Mc,we,Yh,Gh]})}return s})();export{Fu as a,kE as b,ME as c,Ko as d,Us as e,nt as f,Ye as g,Wk as h,Ju as i,aM as j,sc as k,LC as l,fc as m,Hx as n,T2 as o,S2 as p,B2 as q,yp as r,vT as s,uF as t,gF as u,bF as v,FA as w,Tp as x,qr as y,Ip as z,i9 as A,il as B,Em as C,O9 as D,$9 as E,Fm as F,R7 as G};
