import{$ as Vf,$a as T,$b as Tn,A as If,Aa as br,Ab as tl,Ac as Si,B as Df,Ba as Nf,Bb as Kf,Bc as Rt,C as xn,Ca as jf,Cb as Zf,D as gr,Da as Bf,Db as Qf,Dc as Ct,E as Yn,Ea as Uf,Eb as Xt,Ec as ul,F as vh,Fa as Hf,Fb as ve,Fc as Ft,G as _r,Ga as zf,Gb as qi,Gc as xr,H as Of,Ha as Wf,Hb as he,Hc as dm,I as vr,Ia as xs,Ib as Pe,Ic as Tr,J as Gn,Ja as Do,Jb as Ti,Jc as pm,K as yh,Ka as Oo,Kb as Xn,L as Ef,La as Ja,Lb as il,M as kf,Ma as Eo,Mb as Jf,N as Mf,Na as _,Nb as em,O as wi,Oa as j,Ob as tm,P as Af,Pa as Yf,Pb as It,Q as $t,Qa as el,Qb as nl,R as yt,Rb as sl,S as Nt,Sa as Gf,Sb as Ih,T as Te,Ta as pt,Tb as rl,U as ue,Ua as Cr,Ub as ol,V as Ff,Vb as al,W as ot,Wa as Jt,X as bh,Xa as Ce,Xb as Ue,Y as ke,Ya as Me,Yb as im,Z as le,Za as $f,Zb as B,_ as Ch,_a as Sh,_b as _e,a as K,aa as So,ab as qf,ac as Ts,b as tt,ba as q,bb as k,bc as nm,c as bf,ca as de,cb as f,cc as sm,da as Dt,db as qn,dc as wr,e as uC,ea as Io,eb as xi,ec as rm,f as dC,fa as Rf,fb as Xf,fc as om,g as Yt,ga as ws,gb as Y,gc as Re,h as Cf,ha as Li,hb as S,hc as am,i as wf,ia as Pi,ib as I,ic as Dh,j as ph,ja as O,jb as L,jc as lm,k as fh,ka as E,kb as ee,kc as cm,l as mh,la as Ie,lb as te,lc as ko,m as Qt,ma as be,mb as pe,mc as ll,n as Ri,na as $n,nb as J,nc as Le,o as Wn,oa as Qa,ob as W,oc as ei,p as Gt,pa as G,pb as v,pc as He,q as we,qa as nt,qb as bt,qc as Ne,r as To,ra as wh,rb as ct,rc as qe,s as xf,sa as Ve,sb as je,sc as Se,t as Tf,ta as Lf,tb as ye,tc as hm,u as Qe,ua as xh,ub as ie,uc as Ot,v as Za,va as Pf,vb as ne,vc as cl,w as Ci,wa as gt,wb as at,wc as um,x as gh,xb as fe,xc as hl,y as Sf,ya as Th,yb as We,z as _h,za as yr,zb as qt}from"./chunk-S75CAB2Z.js";var d0=uC((cd,$r)=>{"use strict";(function(s,t){typeof cd=="object"&&typeof $r<"u"?$r.exports=t():typeof define=="function"&&define.amd?define(t):s.moment=t()})(cd,function(){"use strict";var s;function t(){return s.apply(null,arguments)}function e(l){s=l}function i(l){return l instanceof Array||Object.prototype.toString.call(l)==="[object Array]"}function n(l){return l!=null&&Object.prototype.toString.call(l)==="[object Object]"}function r(l,h){return Object.prototype.hasOwnProperty.call(l,h)}function o(l){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(l).length===0;var h;for(h in l)if(r(l,h))return!1;return!0}function a(l){return l===void 0}function c(l){return typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]"}function u(l){return l instanceof Date||Object.prototype.toString.call(l)==="[object Date]"}function d(l,h){var p=[],g,w=l.length;for(g=0;g<w;++g)p.push(h(l[g],g));return p}function m(l,h){for(var p in h)r(h,p)&&(l[p]=h[p]);return r(h,"toString")&&(l.toString=h.toString),r(h,"valueOf")&&(l.valueOf=h.valueOf),l}function y(l,h,p,g){return Kp(l,h,p,g,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function C(l){return l._pf==null&&(l._pf=b()),l._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(l){var h=Object(this),p=h.length>>>0,g;for(g=0;g<p;g++)if(g in h&&l.call(this,h[g],g,h))return!0;return!1};function D(l){var h=null,p=!1,g=l._d&&!isNaN(l._d.getTime());if(g&&(h=C(l),p=x.call(h.parsedDateParts,function(w){return w!=null}),g=h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&p),l._strict&&(g=g&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(l))l._isValid=g;else return g;return l._isValid}function R(l){var h=y(NaN);return l!=null?m(C(h),l):C(h).userInvalidated=!0,h}var U=t.momentProperties=[],P=!1;function z(l,h){var p,g,w,A=U.length;if(a(h._isAMomentObject)||(l._isAMomentObject=h._isAMomentObject),a(h._i)||(l._i=h._i),a(h._f)||(l._f=h._f),a(h._l)||(l._l=h._l),a(h._strict)||(l._strict=h._strict),a(h._tzm)||(l._tzm=h._tzm),a(h._isUTC)||(l._isUTC=h._isUTC),a(h._offset)||(l._offset=h._offset),a(h._pf)||(l._pf=C(h)),a(h._locale)||(l._locale=h._locale),A>0)for(p=0;p<A;p++)g=U[p],w=h[g],a(w)||(l[g]=w);return l}function $(l){z(this,l),this._d=new Date(l._d!=null?l._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,t.updateOffset(this),P=!1)}function Z(l){return l instanceof $||l!=null&&l._isAMomentObject!=null}function ge(l){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+l)}function Q(l,h){var p=!0;return m(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,l),p){var g=[],w,A,H,se=arguments.length;for(A=0;A<se;A++){if(w="",typeof arguments[A]=="object"){w+=`
[`+A+"] ";for(H in arguments[0])r(arguments[0],H)&&(w+=H+": "+arguments[0][H]+", ");w=w.slice(0,-2)}else w=arguments[A];g.push(w)}ge(l+`
Arguments: `+Array.prototype.slice.call(g).join("")+`
`+new Error().stack),p=!1}return h.apply(this,arguments)},h)}var Ee={};function Xe(l,h){t.deprecationHandler!=null&&t.deprecationHandler(l,h),Ee[l]||(ge(h),Ee[l]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function it(l){return typeof Function<"u"&&l instanceof Function||Object.prototype.toString.call(l)==="[object Function]"}function St(l){var h,p;for(p in l)r(l,p)&&(h=l[p],it(h)?this[p]=h:this["_"+p]=h);this._config=l,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ke(l,h){var p=m({},l),g;for(g in h)r(h,g)&&(n(l[g])&&n(h[g])?(p[g]={},m(p[g],l[g]),m(p[g],h[g])):h[g]!=null?p[g]=h[g]:delete p[g]);for(g in l)r(l,g)&&!r(h,g)&&n(l[g])&&(p[g]=m({},p[g]));return p}function dt(l){l!=null&&this.set(l)}var Wt;Object.keys?Wt=Object.keys:Wt=function(l){var h,p=[];for(h in l)r(l,h)&&p.push(h);return p};var Kt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function yi(l,h,p){var g=this._calendar[l]||this._calendar.sameElse;return it(g)?g.call(h,p):g}function Ze(l,h,p){var g=""+Math.abs(l),w=h-g.length,A=l>=0;return(A?p?"+":"":"-")+Math.pow(10,Math.max(0,w)).toString().substr(1)+g}var di=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jn={},rn={};function ce(l,h,p,g){var w=g;typeof g=="string"&&(w=function(){return this[g]()}),l&&(rn[l]=w),h&&(rn[h[0]]=function(){return Ze(w.apply(this,arguments),h[1],h[2])}),p&&(rn[p]=function(){return this.localeData().ordinal(w.apply(this,arguments),l)})}function on(l){return l.match(/\[[\s\S]/)?l.replace(/^\[|\]$/g,""):l.replace(/\\/g,"")}function ar(l){var h=l.match(di),p,g;for(p=0,g=h.length;p<g;p++)rn[h[p]]?h[p]=rn[h[p]]:h[p]=on(h[p]);return function(w){var A="",H;for(H=0;H<g;H++)A+=it(h[H])?h[H].call(w,l):h[H];return A}}function Ai(l,h){return l.isValid()?(h=Bn(h,l.localeData()),jn[h]=jn[h]||ar(h),jn[h](l)):l.localeData().invalidDate()}function Bn(l,h){var p=5;function g(w){return h.longDateFormat(w)||w}for(pi.lastIndex=0;p>=0&&pi.test(l);)l=l.replace(pi,g),pi.lastIndex=0,p-=1;return l}var zc={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function fo(l){var h=this._longDateFormat[l],p=this._longDateFormat[l.toUpperCase()];return h||!p?h:(this._longDateFormat[l]=p.match(di).map(function(g){return g==="MMMM"||g==="MM"||g==="DD"||g==="dddd"?g.slice(1):g}).join(""),this._longDateFormat[l])}var an="Invalid date";function Cv(){return this._invalidDate}var wv="%d",xv=/\d{1,2}/;function Tv(l){return this._ordinal.replace("%d",l)}var Sv={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Iv(l,h,p,g){var w=this._relativeTime[p];return it(w)?w(l,h,p,g):w.replace(/%d/i,l)}function Dv(l,h){var p=this._relativeTime[l>0?"future":"past"];return it(p)?p(h):p.replace(/%s/i,h)}var Ep={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Fi(l){return typeof l=="string"?Ep[l]||Ep[l.toLowerCase()]:void 0}function Wc(l){var h={},p,g;for(g in l)r(l,g)&&(p=Fi(g),p&&(h[p]=l[g]));return h}var Ov={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ev(l){var h=[],p;for(p in l)r(l,p)&&h.push({unit:p,priority:Ov[p]});return h.sort(function(g,w){return g.priority-w.priority}),h}var kp=/\d/,bi=/\d\d/,Mp=/\d{3}/,Yc=/\d{4}/,Fa=/[+-]?\d{6}/,ft=/\d\d?/,Ap=/\d\d\d\d?/,Fp=/\d\d\d\d\d\d?/,Va=/\d{1,3}/,Gc=/\d{1,4}/,Ra=/[+-]?\d{1,6}/,lr=/\d+/,La=/[+-]?\d+/,kv=/Z|[+-]\d\d:?\d\d/gi,Pa=/Z|[+-]\d\d(?::?\d\d)?/gi,Mv=/[+-]?\d+(\.\d{1,3})?/,mo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,cr=/^[1-9]\d?/,$c=/^([1-9]\d|\d)/,Na;Na={};function re(l,h,p){Na[l]=it(h)?h:function(g,w){return g&&p?p:h}}function Av(l,h){return r(Na,l)?Na[l](h._strict,h._locale):new RegExp(Fv(l))}function Fv(l){return fn(l.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,p,g,w,A){return p||g||w||A}))}function fn(l){return l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Vi(l){return l<0?Math.ceil(l)||0:Math.floor(l)}function Be(l){var h=+l,p=0;return h!==0&&isFinite(h)&&(p=Vi(h)),p}var qc={};function lt(l,h){var p,g=h,w;for(typeof l=="string"&&(l=[l]),c(h)&&(g=function(A,H){H[h]=Be(A)}),w=l.length,p=0;p<w;p++)qc[l[p]]=g}function go(l,h){lt(l,function(p,g,w,A){w._w=w._w||{},h(p,w._w,w,A)})}function Vv(l,h,p){h!=null&&r(qc,l)&&qc[l](h,p._a,p,l)}function ja(l){return l%4===0&&l%100!==0||l%400===0}var Zt=0,mn=1,ln=2,Pt=3,Gi=4,gn=5,ys=6,Rv=7,Lv=8;ce("Y",0,0,function(){var l=this.year();return l<=9999?Ze(l,4):"+"+l}),ce(0,["YY",2],0,function(){return this.year()%100}),ce(0,["YYYY",4],0,"year"),ce(0,["YYYYY",5],0,"year"),ce(0,["YYYYYY",6,!0],0,"year"),re("Y",La),re("YY",ft,bi),re("YYYY",Gc,Yc),re("YYYYY",Ra,Fa),re("YYYYYY",Ra,Fa),lt(["YYYYY","YYYYYY"],Zt),lt("YYYY",function(l,h){h[Zt]=l.length===2?t.parseTwoDigitYear(l):Be(l)}),lt("YY",function(l,h){h[Zt]=t.parseTwoDigitYear(l)}),lt("Y",function(l,h){h[Zt]=parseInt(l,10)});function _o(l){return ja(l)?366:365}t.parseTwoDigitYear=function(l){return Be(l)+(Be(l)>68?1900:2e3)};var Vp=hr("FullYear",!0);function Pv(){return ja(this.year())}function hr(l,h){return function(p){return p!=null?(Rp(this,l,p),t.updateOffset(this,h),this):vo(this,l)}}function vo(l,h){if(!l.isValid())return NaN;var p=l._d,g=l._isUTC;switch(h){case"Milliseconds":return g?p.getUTCMilliseconds():p.getMilliseconds();case"Seconds":return g?p.getUTCSeconds():p.getSeconds();case"Minutes":return g?p.getUTCMinutes():p.getMinutes();case"Hours":return g?p.getUTCHours():p.getHours();case"Date":return g?p.getUTCDate():p.getDate();case"Day":return g?p.getUTCDay():p.getDay();case"Month":return g?p.getUTCMonth():p.getMonth();case"FullYear":return g?p.getUTCFullYear():p.getFullYear();default:return NaN}}function Rp(l,h,p){var g,w,A,H,se;if(!(!l.isValid()||isNaN(p))){switch(g=l._d,w=l._isUTC,h){case"Milliseconds":return void(w?g.setUTCMilliseconds(p):g.setMilliseconds(p));case"Seconds":return void(w?g.setUTCSeconds(p):g.setSeconds(p));case"Minutes":return void(w?g.setUTCMinutes(p):g.setMinutes(p));case"Hours":return void(w?g.setUTCHours(p):g.setHours(p));case"Date":return void(w?g.setUTCDate(p):g.setDate(p));case"FullYear":break;default:return}A=p,H=l.month(),se=l.date(),se=se===29&&H===1&&!ja(A)?28:se,w?g.setUTCFullYear(A,H,se):g.setFullYear(A,H,se)}}function Nv(l){return l=Fi(l),it(this[l])?this[l]():this}function jv(l,h){if(typeof l=="object"){l=Wc(l);var p=Ev(l),g,w=p.length;for(g=0;g<w;g++)this[p[g].unit](l[p[g].unit])}else if(l=Fi(l),it(this[l]))return this[l](h);return this}function Bv(l,h){return(l%h+h)%h}var At;Array.prototype.indexOf?At=Array.prototype.indexOf:At=function(l){var h;for(h=0;h<this.length;++h)if(this[h]===l)return h;return-1};function Xc(l,h){if(isNaN(l)||isNaN(h))return NaN;var p=Bv(h,12);return l+=(h-p)/12,p===1?ja(l)?29:28:31-p%7%2}ce("M",["MM",2],"Mo",function(){return this.month()+1}),ce("MMM",0,0,function(l){return this.localeData().monthsShort(this,l)}),ce("MMMM",0,0,function(l){return this.localeData().months(this,l)}),re("M",ft,cr),re("MM",ft,bi),re("MMM",function(l,h){return h.monthsShortRegex(l)}),re("MMMM",function(l,h){return h.monthsRegex(l)}),lt(["M","MM"],function(l,h){h[mn]=Be(l)-1}),lt(["MMM","MMMM"],function(l,h,p,g){var w=p._locale.monthsParse(l,g,p._strict);w!=null?h[mn]=w:C(p).invalidMonth=l});var Uv="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Lp="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Pp=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Hv=mo,zv=mo;function Wv(l,h){return l?i(this._months)?this._months[l.month()]:this._months[(this._months.isFormat||Pp).test(h)?"format":"standalone"][l.month()]:i(this._months)?this._months:this._months.standalone}function Yv(l,h){return l?i(this._monthsShort)?this._monthsShort[l.month()]:this._monthsShort[Pp.test(h)?"format":"standalone"][l.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Gv(l,h,p){var g,w,A,H=l.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],g=0;g<12;++g)A=y([2e3,g]),this._shortMonthsParse[g]=this.monthsShort(A,"").toLocaleLowerCase(),this._longMonthsParse[g]=this.months(A,"").toLocaleLowerCase();return p?h==="MMM"?(w=At.call(this._shortMonthsParse,H),w!==-1?w:null):(w=At.call(this._longMonthsParse,H),w!==-1?w:null):h==="MMM"?(w=At.call(this._shortMonthsParse,H),w!==-1?w:(w=At.call(this._longMonthsParse,H),w!==-1?w:null)):(w=At.call(this._longMonthsParse,H),w!==-1?w:(w=At.call(this._shortMonthsParse,H),w!==-1?w:null))}function $v(l,h,p){var g,w,A;if(this._monthsParseExact)return Gv.call(this,l,h,p);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),g=0;g<12;g++){if(w=y([2e3,g]),p&&!this._longMonthsParse[g]&&(this._longMonthsParse[g]=new RegExp("^"+this.months(w,"").replace(".","")+"$","i"),this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(w,"").replace(".","")+"$","i")),!p&&!this._monthsParse[g]&&(A="^"+this.months(w,"")+"|^"+this.monthsShort(w,""),this._monthsParse[g]=new RegExp(A.replace(".",""),"i")),p&&h==="MMMM"&&this._longMonthsParse[g].test(l))return g;if(p&&h==="MMM"&&this._shortMonthsParse[g].test(l))return g;if(!p&&this._monthsParse[g].test(l))return g}}function Np(l,h){if(!l.isValid())return l;if(typeof h=="string"){if(/^\d+$/.test(h))h=Be(h);else if(h=l.localeData().monthsParse(h),!c(h))return l}var p=h,g=l.date();return g=g<29?g:Math.min(g,Xc(l.year(),p)),l._isUTC?l._d.setUTCMonth(p,g):l._d.setMonth(p,g),l}function jp(l){return l!=null?(Np(this,l),t.updateOffset(this,!0),this):vo(this,"Month")}function qv(){return Xc(this.year(),this.month())}function Xv(l){return this._monthsParseExact?(r(this,"_monthsRegex")||Bp.call(this),l?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=Hv),this._monthsShortStrictRegex&&l?this._monthsShortStrictRegex:this._monthsShortRegex)}function Kv(l){return this._monthsParseExact?(r(this,"_monthsRegex")||Bp.call(this),l?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=zv),this._monthsStrictRegex&&l?this._monthsStrictRegex:this._monthsRegex)}function Bp(){function l(xe,ze){return ze.length-xe.length}var h=[],p=[],g=[],w,A,H,se;for(w=0;w<12;w++)A=y([2e3,w]),H=fn(this.monthsShort(A,"")),se=fn(this.months(A,"")),h.push(H),p.push(se),g.push(se),g.push(H);h.sort(l),p.sort(l),g.sort(l),this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Zv(l,h,p,g,w,A,H){var se;return l<100&&l>=0?(se=new Date(l+400,h,p,g,w,A,H),isFinite(se.getFullYear())&&se.setFullYear(l)):se=new Date(l,h,p,g,w,A,H),se}function yo(l){var h,p;return l<100&&l>=0?(p=Array.prototype.slice.call(arguments),p[0]=l+400,h=new Date(Date.UTC.apply(null,p)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(l)):h=new Date(Date.UTC.apply(null,arguments)),h}function Ba(l,h,p){var g=7+h-p,w=(7+yo(l,0,g).getUTCDay()-h)%7;return-w+g-1}function Up(l,h,p,g,w){var A=(7+p-g)%7,H=Ba(l,g,w),se=1+7*(h-1)+A+H,xe,ze;return se<=0?(xe=l-1,ze=_o(xe)+se):se>_o(l)?(xe=l+1,ze=se-_o(l)):(xe=l,ze=se),{year:xe,dayOfYear:ze}}function bo(l,h,p){var g=Ba(l.year(),h,p),w=Math.floor((l.dayOfYear()-g-1)/7)+1,A,H;return w<1?(H=l.year()-1,A=w+_n(H,h,p)):w>_n(l.year(),h,p)?(A=w-_n(l.year(),h,p),H=l.year()+1):(H=l.year(),A=w),{week:A,year:H}}function _n(l,h,p){var g=Ba(l,h,p),w=Ba(l+1,h,p);return(_o(l)-g+w)/7}ce("w",["ww",2],"wo","week"),ce("W",["WW",2],"Wo","isoWeek"),re("w",ft,cr),re("ww",ft,bi),re("W",ft,cr),re("WW",ft,bi),go(["w","ww","W","WW"],function(l,h,p,g){h[g.substr(0,1)]=Be(l)});function Qv(l){return bo(l,this._week.dow,this._week.doy).week}var Jv={dow:0,doy:6};function e1(){return this._week.dow}function t1(){return this._week.doy}function i1(l){var h=this.localeData().week(this);return l==null?h:this.add((l-h)*7,"d")}function n1(l){var h=bo(this,1,4).week;return l==null?h:this.add((l-h)*7,"d")}ce("d",0,"do","day"),ce("dd",0,0,function(l){return this.localeData().weekdaysMin(this,l)}),ce("ddd",0,0,function(l){return this.localeData().weekdaysShort(this,l)}),ce("dddd",0,0,function(l){return this.localeData().weekdays(this,l)}),ce("e",0,0,"weekday"),ce("E",0,0,"isoWeekday"),re("d",ft),re("e",ft),re("E",ft),re("dd",function(l,h){return h.weekdaysMinRegex(l)}),re("ddd",function(l,h){return h.weekdaysShortRegex(l)}),re("dddd",function(l,h){return h.weekdaysRegex(l)}),go(["dd","ddd","dddd"],function(l,h,p,g){var w=p._locale.weekdaysParse(l,g,p._strict);w!=null?h.d=w:C(p).invalidWeekday=l}),go(["d","e","E"],function(l,h,p,g){h[g]=Be(l)});function s1(l,h){return typeof l!="string"?l:isNaN(l)?(l=h.weekdaysParse(l),typeof l=="number"?l:null):parseInt(l,10)}function r1(l,h){return typeof l=="string"?h.weekdaysParse(l)%7||7:isNaN(l)?null:l}function Kc(l,h){return l.slice(h,7).concat(l.slice(0,h))}var o1="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Hp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),a1="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),l1=mo,c1=mo,h1=mo;function u1(l,h){var p=i(this._weekdays)?this._weekdays:this._weekdays[l&&l!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return l===!0?Kc(p,this._week.dow):l?p[l.day()]:p}function d1(l){return l===!0?Kc(this._weekdaysShort,this._week.dow):l?this._weekdaysShort[l.day()]:this._weekdaysShort}function p1(l){return l===!0?Kc(this._weekdaysMin,this._week.dow):l?this._weekdaysMin[l.day()]:this._weekdaysMin}function f1(l,h,p){var g,w,A,H=l.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],g=0;g<7;++g)A=y([2e3,1]).day(g),this._minWeekdaysParse[g]=this.weekdaysMin(A,"").toLocaleLowerCase(),this._shortWeekdaysParse[g]=this.weekdaysShort(A,"").toLocaleLowerCase(),this._weekdaysParse[g]=this.weekdays(A,"").toLocaleLowerCase();return p?h==="dddd"?(w=At.call(this._weekdaysParse,H),w!==-1?w:null):h==="ddd"?(w=At.call(this._shortWeekdaysParse,H),w!==-1?w:null):(w=At.call(this._minWeekdaysParse,H),w!==-1?w:null):h==="dddd"?(w=At.call(this._weekdaysParse,H),w!==-1||(w=At.call(this._shortWeekdaysParse,H),w!==-1)?w:(w=At.call(this._minWeekdaysParse,H),w!==-1?w:null)):h==="ddd"?(w=At.call(this._shortWeekdaysParse,H),w!==-1||(w=At.call(this._weekdaysParse,H),w!==-1)?w:(w=At.call(this._minWeekdaysParse,H),w!==-1?w:null)):(w=At.call(this._minWeekdaysParse,H),w!==-1||(w=At.call(this._weekdaysParse,H),w!==-1)?w:(w=At.call(this._shortWeekdaysParse,H),w!==-1?w:null))}function m1(l,h,p){var g,w,A;if(this._weekdaysParseExact)return f1.call(this,l,h,p);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),g=0;g<7;g++){if(w=y([2e3,1]).day(g),p&&!this._fullWeekdaysParse[g]&&(this._fullWeekdaysParse[g]=new RegExp("^"+this.weekdays(w,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[g]=new RegExp("^"+this.weekdaysShort(w,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[g]=new RegExp("^"+this.weekdaysMin(w,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[g]||(A="^"+this.weekdays(w,"")+"|^"+this.weekdaysShort(w,"")+"|^"+this.weekdaysMin(w,""),this._weekdaysParse[g]=new RegExp(A.replace(".",""),"i")),p&&h==="dddd"&&this._fullWeekdaysParse[g].test(l))return g;if(p&&h==="ddd"&&this._shortWeekdaysParse[g].test(l))return g;if(p&&h==="dd"&&this._minWeekdaysParse[g].test(l))return g;if(!p&&this._weekdaysParse[g].test(l))return g}}function g1(l){if(!this.isValid())return l!=null?this:NaN;var h=vo(this,"Day");return l!=null?(l=s1(l,this.localeData()),this.add(l-h,"d")):h}function _1(l){if(!this.isValid())return l!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return l==null?h:this.add(l-h,"d")}function v1(l){if(!this.isValid())return l!=null?this:NaN;if(l!=null){var h=r1(l,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function y1(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Zc.call(this),l?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=l1),this._weekdaysStrictRegex&&l?this._weekdaysStrictRegex:this._weekdaysRegex)}function b1(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Zc.call(this),l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=c1),this._weekdaysShortStrictRegex&&l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function C1(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Zc.call(this),l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=h1),this._weekdaysMinStrictRegex&&l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zc(){function l(ri,wn){return wn.length-ri.length}var h=[],p=[],g=[],w=[],A,H,se,xe,ze;for(A=0;A<7;A++)H=y([2e3,1]).day(A),se=fn(this.weekdaysMin(H,"")),xe=fn(this.weekdaysShort(H,"")),ze=fn(this.weekdays(H,"")),h.push(se),p.push(xe),g.push(ze),w.push(se),w.push(xe),w.push(ze);h.sort(l),p.sort(l),g.sort(l),w.sort(l),this._weekdaysRegex=new RegExp("^("+w.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Qc(){return this.hours()%12||12}function w1(){return this.hours()||24}ce("H",["HH",2],0,"hour"),ce("h",["hh",2],0,Qc),ce("k",["kk",2],0,w1),ce("hmm",0,0,function(){return""+Qc.apply(this)+Ze(this.minutes(),2)}),ce("hmmss",0,0,function(){return""+Qc.apply(this)+Ze(this.minutes(),2)+Ze(this.seconds(),2)}),ce("Hmm",0,0,function(){return""+this.hours()+Ze(this.minutes(),2)}),ce("Hmmss",0,0,function(){return""+this.hours()+Ze(this.minutes(),2)+Ze(this.seconds(),2)});function zp(l,h){ce(l,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}zp("a",!0),zp("A",!1);function Wp(l,h){return h._meridiemParse}re("a",Wp),re("A",Wp),re("H",ft,$c),re("h",ft,cr),re("k",ft,cr),re("HH",ft,bi),re("hh",ft,bi),re("kk",ft,bi),re("hmm",Ap),re("hmmss",Fp),re("Hmm",Ap),re("Hmmss",Fp),lt(["H","HH"],Pt),lt(["k","kk"],function(l,h,p){var g=Be(l);h[Pt]=g===24?0:g}),lt(["a","A"],function(l,h,p){p._isPm=p._locale.isPM(l),p._meridiem=l}),lt(["h","hh"],function(l,h,p){h[Pt]=Be(l),C(p).bigHour=!0}),lt("hmm",function(l,h,p){var g=l.length-2;h[Pt]=Be(l.substr(0,g)),h[Gi]=Be(l.substr(g)),C(p).bigHour=!0}),lt("hmmss",function(l,h,p){var g=l.length-4,w=l.length-2;h[Pt]=Be(l.substr(0,g)),h[Gi]=Be(l.substr(g,2)),h[gn]=Be(l.substr(w)),C(p).bigHour=!0}),lt("Hmm",function(l,h,p){var g=l.length-2;h[Pt]=Be(l.substr(0,g)),h[Gi]=Be(l.substr(g))}),lt("Hmmss",function(l,h,p){var g=l.length-4,w=l.length-2;h[Pt]=Be(l.substr(0,g)),h[Gi]=Be(l.substr(g,2)),h[gn]=Be(l.substr(w))});function x1(l){return(l+"").toLowerCase().charAt(0)==="p"}var T1=/[ap]\.?m?\.?/i,S1=hr("Hours",!0);function I1(l,h,p){return l>11?p?"pm":"PM":p?"am":"AM"}var Yp={calendar:Kt,longDateFormat:zc,invalidDate:an,ordinal:wv,dayOfMonthOrdinalParse:xv,relativeTime:Sv,months:Uv,monthsShort:Lp,week:Jv,weekdays:o1,weekdaysMin:a1,weekdaysShort:Hp,meridiemParse:T1},vt={},Co={},wo;function D1(l,h){var p,g=Math.min(l.length,h.length);for(p=0;p<g;p+=1)if(l[p]!==h[p])return p;return g}function Gp(l){return l&&l.toLowerCase().replace("_","-")}function O1(l){for(var h=0,p,g,w,A;h<l.length;){for(A=Gp(l[h]).split("-"),p=A.length,g=Gp(l[h+1]),g=g?g.split("-"):null;p>0;){if(w=Ua(A.slice(0,p).join("-")),w)return w;if(g&&g.length>=p&&D1(A,g)>=p-1)break;p--}h++}return wo}function E1(l){return!!(l&&l.match("^[^/\\\\]*$"))}function Ua(l){var h=null,p;if(vt[l]===void 0&&typeof $r<"u"&&$r&&$r.exports&&E1(l))try{h=wo._abbr,p=bf,p("./locale/"+l),Un(h)}catch{vt[l]=null}return vt[l]}function Un(l,h){var p;return l&&(a(h)?p=vn(l):p=Jc(l,h),p?wo=p:typeof console<"u"&&console.warn&&console.warn("Locale "+l+" not found. Did you forget to load it?")),wo._abbr}function Jc(l,h){if(h!==null){var p,g=Yp;if(h.abbr=l,vt[l]!=null)Xe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),g=vt[l]._config;else if(h.parentLocale!=null)if(vt[h.parentLocale]!=null)g=vt[h.parentLocale]._config;else if(p=Ua(h.parentLocale),p!=null)g=p._config;else return Co[h.parentLocale]||(Co[h.parentLocale]=[]),Co[h.parentLocale].push({name:l,config:h}),null;return vt[l]=new dt(Ke(g,h)),Co[l]&&Co[l].forEach(function(w){Jc(w.name,w.config)}),Un(l),vt[l]}else return delete vt[l],null}function k1(l,h){if(h!=null){var p,g,w=Yp;vt[l]!=null&&vt[l].parentLocale!=null?vt[l].set(Ke(vt[l]._config,h)):(g=Ua(l),g!=null&&(w=g._config),h=Ke(w,h),g==null&&(h.abbr=l),p=new dt(h),p.parentLocale=vt[l],vt[l]=p),Un(l)}else vt[l]!=null&&(vt[l].parentLocale!=null?(vt[l]=vt[l].parentLocale,l===Un()&&Un(l)):vt[l]!=null&&delete vt[l]);return vt[l]}function vn(l){var h;if(l&&l._locale&&l._locale._abbr&&(l=l._locale._abbr),!l)return wo;if(!i(l)){if(h=Ua(l),h)return h;l=[l]}return O1(l)}function M1(){return Wt(vt)}function eh(l){var h,p=l._a;return p&&C(l).overflow===-2&&(h=p[mn]<0||p[mn]>11?mn:p[ln]<1||p[ln]>Xc(p[Zt],p[mn])?ln:p[Pt]<0||p[Pt]>24||p[Pt]===24&&(p[Gi]!==0||p[gn]!==0||p[ys]!==0)?Pt:p[Gi]<0||p[Gi]>59?Gi:p[gn]<0||p[gn]>59?gn:p[ys]<0||p[ys]>999?ys:-1,C(l)._overflowDayOfYear&&(h<Zt||h>ln)&&(h=ln),C(l)._overflowWeeks&&h===-1&&(h=Rv),C(l)._overflowWeekday&&h===-1&&(h=Lv),C(l).overflow=h),l}var A1=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,F1=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,V1=/Z|[+-]\d\d(?::?\d\d)?/,Ha=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],th=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],R1=/^\/?Date\((-?\d+)/i,L1=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,P1={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function $p(l){var h,p,g=l._i,w=A1.exec(g)||F1.exec(g),A,H,se,xe,ze=Ha.length,ri=th.length;if(w){for(C(l).iso=!0,h=0,p=ze;h<p;h++)if(Ha[h][1].exec(w[1])){H=Ha[h][0],A=Ha[h][2]!==!1;break}if(H==null){l._isValid=!1;return}if(w[3]){for(h=0,p=ri;h<p;h++)if(th[h][1].exec(w[3])){se=(w[2]||" ")+th[h][0];break}if(se==null){l._isValid=!1;return}}if(!A&&se!=null){l._isValid=!1;return}if(w[4])if(V1.exec(w[4]))xe="Z";else{l._isValid=!1;return}l._f=H+(se||"")+(xe||""),nh(l)}else l._isValid=!1}function N1(l,h,p,g,w,A){var H=[j1(l),Lp.indexOf(h),parseInt(p,10),parseInt(g,10),parseInt(w,10)];return A&&H.push(parseInt(A,10)),H}function j1(l){var h=parseInt(l,10);return h<=49?2e3+h:h<=999?1900+h:h}function B1(l){return l.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function U1(l,h,p){if(l){var g=Hp.indexOf(l),w=new Date(h[0],h[1],h[2]).getDay();if(g!==w)return C(p).weekdayMismatch=!0,p._isValid=!1,!1}return!0}function H1(l,h,p){if(l)return P1[l];if(h)return 0;var g=parseInt(p,10),w=g%100,A=(g-w)/100;return A*60+w}function qp(l){var h=L1.exec(B1(l._i)),p;if(h){if(p=N1(h[4],h[3],h[2],h[5],h[6],h[7]),!U1(h[1],p,l))return;l._a=p,l._tzm=H1(h[8],h[9],h[10]),l._d=yo.apply(null,l._a),l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),C(l).rfc2822=!0}else l._isValid=!1}function z1(l){var h=R1.exec(l._i);if(h!==null){l._d=new Date(+h[1]);return}if($p(l),l._isValid===!1)delete l._isValid;else return;if(qp(l),l._isValid===!1)delete l._isValid;else return;l._strict?l._isValid=!1:t.createFromInputFallback(l)}t.createFromInputFallback=Q("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(l){l._d=new Date(l._i+(l._useUTC?" UTC":""))});function ur(l,h,p){return l??h??p}function W1(l){var h=new Date(t.now());return l._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function ih(l){var h,p,g=[],w,A,H;if(!l._d){for(w=W1(l),l._w&&l._a[ln]==null&&l._a[mn]==null&&Y1(l),l._dayOfYear!=null&&(H=ur(l._a[Zt],w[Zt]),(l._dayOfYear>_o(H)||l._dayOfYear===0)&&(C(l)._overflowDayOfYear=!0),p=yo(H,0,l._dayOfYear),l._a[mn]=p.getUTCMonth(),l._a[ln]=p.getUTCDate()),h=0;h<3&&l._a[h]==null;++h)l._a[h]=g[h]=w[h];for(;h<7;h++)l._a[h]=g[h]=l._a[h]==null?h===2?1:0:l._a[h];l._a[Pt]===24&&l._a[Gi]===0&&l._a[gn]===0&&l._a[ys]===0&&(l._nextDay=!0,l._a[Pt]=0),l._d=(l._useUTC?yo:Zv).apply(null,g),A=l._useUTC?l._d.getUTCDay():l._d.getDay(),l._tzm!=null&&l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),l._nextDay&&(l._a[Pt]=24),l._w&&typeof l._w.d<"u"&&l._w.d!==A&&(C(l).weekdayMismatch=!0)}}function Y1(l){var h,p,g,w,A,H,se,xe,ze;h=l._w,h.GG!=null||h.W!=null||h.E!=null?(A=1,H=4,p=ur(h.GG,l._a[Zt],bo(mt(),1,4).year),g=ur(h.W,1),w=ur(h.E,1),(w<1||w>7)&&(xe=!0)):(A=l._locale._week.dow,H=l._locale._week.doy,ze=bo(mt(),A,H),p=ur(h.gg,l._a[Zt],ze.year),g=ur(h.w,ze.week),h.d!=null?(w=h.d,(w<0||w>6)&&(xe=!0)):h.e!=null?(w=h.e+A,(h.e<0||h.e>6)&&(xe=!0)):w=A),g<1||g>_n(p,A,H)?C(l)._overflowWeeks=!0:xe!=null?C(l)._overflowWeekday=!0:(se=Up(p,g,w,A,H),l._a[Zt]=se.year,l._dayOfYear=se.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function nh(l){if(l._f===t.ISO_8601){$p(l);return}if(l._f===t.RFC_2822){qp(l);return}l._a=[],C(l).empty=!0;var h=""+l._i,p,g,w,A,H,se=h.length,xe=0,ze,ri;for(w=Bn(l._f,l._locale).match(di)||[],ri=w.length,p=0;p<ri;p++)A=w[p],g=(h.match(Av(A,l))||[])[0],g&&(H=h.substr(0,h.indexOf(g)),H.length>0&&C(l).unusedInput.push(H),h=h.slice(h.indexOf(g)+g.length),xe+=g.length),rn[A]?(g?C(l).empty=!1:C(l).unusedTokens.push(A),Vv(A,g,l)):l._strict&&!g&&C(l).unusedTokens.push(A);C(l).charsLeftOver=se-xe,h.length>0&&C(l).unusedInput.push(h),l._a[Pt]<=12&&C(l).bigHour===!0&&l._a[Pt]>0&&(C(l).bigHour=void 0),C(l).parsedDateParts=l._a.slice(0),C(l).meridiem=l._meridiem,l._a[Pt]=G1(l._locale,l._a[Pt],l._meridiem),ze=C(l).era,ze!==null&&(l._a[Zt]=l._locale.erasConvertYear(ze,l._a[Zt])),ih(l),eh(l)}function G1(l,h,p){var g;return p==null?h:l.meridiemHour!=null?l.meridiemHour(h,p):(l.isPM!=null&&(g=l.isPM(p),g&&h<12&&(h+=12),!g&&h===12&&(h=0)),h)}function $1(l){var h,p,g,w,A,H,se=!1,xe=l._f.length;if(xe===0){C(l).invalidFormat=!0,l._d=new Date(NaN);return}for(w=0;w<xe;w++)A=0,H=!1,h=z({},l),l._useUTC!=null&&(h._useUTC=l._useUTC),h._f=l._f[w],nh(h),D(h)&&(H=!0),A+=C(h).charsLeftOver,A+=C(h).unusedTokens.length*10,C(h).score=A,se?A<g&&(g=A,p=h):(g==null||A<g||H)&&(g=A,p=h,H&&(se=!0));m(l,p||h)}function q1(l){if(!l._d){var h=Wc(l._i),p=h.day===void 0?h.date:h.day;l._a=d([h.year,h.month,p,h.hour,h.minute,h.second,h.millisecond],function(g){return g&&parseInt(g,10)}),ih(l)}}function X1(l){var h=new $(eh(Xp(l)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function Xp(l){var h=l._i,p=l._f;return l._locale=l._locale||vn(l._l),h===null||p===void 0&&h===""?R({nullInput:!0}):(typeof h=="string"&&(l._i=h=l._locale.preparse(h)),Z(h)?new $(eh(h)):(u(h)?l._d=h:i(p)?$1(l):p?nh(l):K1(l),D(l)||(l._d=null),l))}function K1(l){var h=l._i;a(h)?l._d=new Date(t.now()):u(h)?l._d=new Date(h.valueOf()):typeof h=="string"?z1(l):i(h)?(l._a=d(h.slice(0),function(p){return parseInt(p,10)}),ih(l)):n(h)?q1(l):c(h)?l._d=new Date(h):t.createFromInputFallback(l)}function Kp(l,h,p,g,w){var A={};return(h===!0||h===!1)&&(g=h,h=void 0),(p===!0||p===!1)&&(g=p,p=void 0),(n(l)&&o(l)||i(l)&&l.length===0)&&(l=void 0),A._isAMomentObject=!0,A._useUTC=A._isUTC=w,A._l=p,A._i=l,A._f=h,A._strict=g,X1(A)}function mt(l,h,p,g){return Kp(l,h,p,g,!1)}var Z1=Q("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=mt.apply(null,arguments);return this.isValid()&&l.isValid()?l<this?this:l:R()}),Q1=Q("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=mt.apply(null,arguments);return this.isValid()&&l.isValid()?l>this?this:l:R()});function Zp(l,h){var p,g;if(h.length===1&&i(h[0])&&(h=h[0]),!h.length)return mt();for(p=h[0],g=1;g<h.length;++g)(!h[g].isValid()||h[g][l](p))&&(p=h[g]);return p}function J1(){var l=[].slice.call(arguments,0);return Zp("isBefore",l)}function ey(){var l=[].slice.call(arguments,0);return Zp("isAfter",l)}var ty=function(){return Date.now?Date.now():+new Date},xo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function iy(l){var h,p=!1,g,w=xo.length;for(h in l)if(r(l,h)&&!(At.call(xo,h)!==-1&&(l[h]==null||!isNaN(l[h]))))return!1;for(g=0;g<w;++g)if(l[xo[g]]){if(p)return!1;parseFloat(l[xo[g]])!==Be(l[xo[g]])&&(p=!0)}return!0}function ny(){return this._isValid}function sy(){return $i(NaN)}function za(l){var h=Wc(l),p=h.year||0,g=h.quarter||0,w=h.month||0,A=h.week||h.isoWeek||0,H=h.day||0,se=h.hour||0,xe=h.minute||0,ze=h.second||0,ri=h.millisecond||0;this._isValid=iy(h),this._milliseconds=+ri+ze*1e3+xe*6e4+se*1e3*60*60,this._days=+H+A*7,this._months=+w+g*3+p*12,this._data={},this._locale=vn(),this._bubble()}function Wa(l){return l instanceof za}function sh(l){return l<0?Math.round(-1*l)*-1:Math.round(l)}function ry(l,h,p){var g=Math.min(l.length,h.length),w=Math.abs(l.length-h.length),A=0,H;for(H=0;H<g;H++)(p&&l[H]!==h[H]||!p&&Be(l[H])!==Be(h[H]))&&A++;return A+w}function Qp(l,h){ce(l,0,0,function(){var p=this.utcOffset(),g="+";return p<0&&(p=-p,g="-"),g+Ze(~~(p/60),2)+h+Ze(~~p%60,2)})}Qp("Z",":"),Qp("ZZ",""),re("Z",Pa),re("ZZ",Pa),lt(["Z","ZZ"],function(l,h,p){p._useUTC=!0,p._tzm=rh(Pa,l)});var oy=/([\+\-]|\d\d)/gi;function rh(l,h){var p=(h||"").match(l),g,w,A;return p===null?null:(g=p[p.length-1]||[],w=(g+"").match(oy)||["-",0,0],A=+(w[1]*60)+Be(w[2]),A===0?0:w[0]==="+"?A:-A)}function oh(l,h){var p,g;return h._isUTC?(p=h.clone(),g=(Z(l)||u(l)?l.valueOf():mt(l).valueOf())-p.valueOf(),p._d.setTime(p._d.valueOf()+g),t.updateOffset(p,!1),p):mt(l).local()}function ah(l){return-Math.round(l._d.getTimezoneOffset())}t.updateOffset=function(){};function ay(l,h,p){var g=this._offset||0,w;if(!this.isValid())return l!=null?this:NaN;if(l!=null){if(typeof l=="string"){if(l=rh(Pa,l),l===null)return this}else Math.abs(l)<16&&!p&&(l=l*60);return!this._isUTC&&h&&(w=ah(this)),this._offset=l,this._isUTC=!0,w!=null&&this.add(w,"m"),g!==l&&(!h||this._changeInProgress?nf(this,$i(l-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?g:ah(this)}function ly(l,h){return l!=null?(typeof l!="string"&&(l=-l),this.utcOffset(l,h),this):-this.utcOffset()}function cy(l){return this.utcOffset(0,l)}function hy(l){return this._isUTC&&(this.utcOffset(0,l),this._isUTC=!1,l&&this.subtract(ah(this),"m")),this}function uy(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var l=rh(kv,this._i);l!=null?this.utcOffset(l):this.utcOffset(0,!0)}return this}function dy(l){return this.isValid()?(l=l?mt(l).utcOffset():0,(this.utcOffset()-l)%60===0):!1}function py(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function fy(){if(!a(this._isDSTShifted))return this._isDSTShifted;var l={},h;return z(l,this),l=Xp(l),l._a?(h=l._isUTC?y(l._a):mt(l._a),this._isDSTShifted=this.isValid()&&ry(l._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function my(){return this.isValid()?!this._isUTC:!1}function gy(){return this.isValid()?this._isUTC:!1}function Jp(){return this.isValid()?this._isUTC&&this._offset===0:!1}var _y=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vy=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $i(l,h){var p=l,g=null,w,A,H;return Wa(l)?p={ms:l._milliseconds,d:l._days,M:l._months}:c(l)||!isNaN(+l)?(p={},h?p[h]=+l:p.milliseconds=+l):(g=_y.exec(l))?(w=g[1]==="-"?-1:1,p={y:0,d:Be(g[ln])*w,h:Be(g[Pt])*w,m:Be(g[Gi])*w,s:Be(g[gn])*w,ms:Be(sh(g[ys]*1e3))*w}):(g=vy.exec(l))?(w=g[1]==="-"?-1:1,p={y:bs(g[2],w),M:bs(g[3],w),w:bs(g[4],w),d:bs(g[5],w),h:bs(g[6],w),m:bs(g[7],w),s:bs(g[8],w)}):p==null?p={}:typeof p=="object"&&("from"in p||"to"in p)&&(H=yy(mt(p.from),mt(p.to)),p={},p.ms=H.milliseconds,p.M=H.months),A=new za(p),Wa(l)&&r(l,"_locale")&&(A._locale=l._locale),Wa(l)&&r(l,"_isValid")&&(A._isValid=l._isValid),A}$i.fn=za.prototype,$i.invalid=sy;function bs(l,h){var p=l&&parseFloat(l.replace(",","."));return(isNaN(p)?0:p)*h}function ef(l,h){var p={};return p.months=h.month()-l.month()+(h.year()-l.year())*12,l.clone().add(p.months,"M").isAfter(h)&&--p.months,p.milliseconds=+h-+l.clone().add(p.months,"M"),p}function yy(l,h){var p;return l.isValid()&&h.isValid()?(h=oh(h,l),l.isBefore(h)?p=ef(l,h):(p=ef(h,l),p.milliseconds=-p.milliseconds,p.months=-p.months),p):{milliseconds:0,months:0}}function tf(l,h){return function(p,g){var w,A;return g!==null&&!isNaN(+g)&&(Xe(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),A=p,p=g,g=A),w=$i(p,g),nf(this,w,l),this}}function nf(l,h,p,g){var w=h._milliseconds,A=sh(h._days),H=sh(h._months);l.isValid()&&(g=g??!0,H&&Np(l,vo(l,"Month")+H*p),A&&Rp(l,"Date",vo(l,"Date")+A*p),w&&l._d.setTime(l._d.valueOf()+w*p),g&&t.updateOffset(l,A||H))}var by=tf(1,"add"),Cy=tf(-1,"subtract");function sf(l){return typeof l=="string"||l instanceof String}function wy(l){return Z(l)||u(l)||sf(l)||c(l)||Ty(l)||xy(l)||l===null||l===void 0}function xy(l){var h=n(l)&&!o(l),p=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],w,A,H=g.length;for(w=0;w<H;w+=1)A=g[w],p=p||r(l,A);return h&&p}function Ty(l){var h=i(l),p=!1;return h&&(p=l.filter(function(g){return!c(g)&&sf(l)}).length===0),h&&p}function Sy(l){var h=n(l)&&!o(l),p=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],w,A;for(w=0;w<g.length;w+=1)A=g[w],p=p||r(l,A);return h&&p}function Iy(l,h){var p=l.diff(h,"days",!0);return p<-6?"sameElse":p<-1?"lastWeek":p<0?"lastDay":p<1?"sameDay":p<2?"nextDay":p<7?"nextWeek":"sameElse"}function Dy(l,h){arguments.length===1&&(arguments[0]?wy(arguments[0])?(l=arguments[0],h=void 0):Sy(arguments[0])&&(h=arguments[0],l=void 0):(l=void 0,h=void 0));var p=l||mt(),g=oh(p,this).startOf("day"),w=t.calendarFormat(this,g)||"sameElse",A=h&&(it(h[w])?h[w].call(this,p):h[w]);return this.format(A||this.localeData().calendar(w,this,mt(p)))}function Oy(){return new $(this)}function Ey(l,h){var p=Z(l)?l:mt(l);return this.isValid()&&p.isValid()?(h=Fi(h)||"millisecond",h==="millisecond"?this.valueOf()>p.valueOf():p.valueOf()<this.clone().startOf(h).valueOf()):!1}function ky(l,h){var p=Z(l)?l:mt(l);return this.isValid()&&p.isValid()?(h=Fi(h)||"millisecond",h==="millisecond"?this.valueOf()<p.valueOf():this.clone().endOf(h).valueOf()<p.valueOf()):!1}function My(l,h,p,g){var w=Z(l)?l:mt(l),A=Z(h)?h:mt(h);return this.isValid()&&w.isValid()&&A.isValid()?(g=g||"()",(g[0]==="("?this.isAfter(w,p):!this.isBefore(w,p))&&(g[1]===")"?this.isBefore(A,p):!this.isAfter(A,p))):!1}function Ay(l,h){var p=Z(l)?l:mt(l),g;return this.isValid()&&p.isValid()?(h=Fi(h)||"millisecond",h==="millisecond"?this.valueOf()===p.valueOf():(g=p.valueOf(),this.clone().startOf(h).valueOf()<=g&&g<=this.clone().endOf(h).valueOf())):!1}function Fy(l,h){return this.isSame(l,h)||this.isAfter(l,h)}function Vy(l,h){return this.isSame(l,h)||this.isBefore(l,h)}function Ry(l,h,p){var g,w,A;if(!this.isValid())return NaN;if(g=oh(l,this),!g.isValid())return NaN;switch(w=(g.utcOffset()-this.utcOffset())*6e4,h=Fi(h),h){case"year":A=Ya(this,g)/12;break;case"month":A=Ya(this,g);break;case"quarter":A=Ya(this,g)/3;break;case"second":A=(this-g)/1e3;break;case"minute":A=(this-g)/6e4;break;case"hour":A=(this-g)/36e5;break;case"day":A=(this-g-w)/864e5;break;case"week":A=(this-g-w)/6048e5;break;default:A=this-g}return p?A:Vi(A)}function Ya(l,h){if(l.date()<h.date())return-Ya(h,l);var p=(h.year()-l.year())*12+(h.month()-l.month()),g=l.clone().add(p,"months"),w,A;return h-g<0?(w=l.clone().add(p-1,"months"),A=(h-g)/(g-w)):(w=l.clone().add(p+1,"months"),A=(h-g)/(w-g)),-(p+A)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ly(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Py(l){if(!this.isValid())return null;var h=l!==!0,p=h?this.clone().utc():this;return p.year()<0||p.year()>9999?Ai(p,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):it(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ai(p,"Z")):Ai(p,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ny(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var l="moment",h="",p,g,w,A;return this.isLocal()||(l=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),p="["+l+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",w="-MM-DD[T]HH:mm:ss.SSS",A=h+'[")]',this.format(p+g+w+A)}function jy(l){l||(l=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var h=Ai(this,l);return this.localeData().postformat(h)}function By(l,h){return this.isValid()&&(Z(l)&&l.isValid()||mt(l).isValid())?$i({to:this,from:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function Uy(l){return this.from(mt(),l)}function Hy(l,h){return this.isValid()&&(Z(l)&&l.isValid()||mt(l).isValid())?$i({from:this,to:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function zy(l){return this.to(mt(),l)}function rf(l){var h;return l===void 0?this._locale._abbr:(h=vn(l),h!=null&&(this._locale=h),this)}var of=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(l){return l===void 0?this.localeData():this.locale(l)});function af(){return this._locale}var Ga=1e3,dr=60*Ga,$a=60*dr,lf=(365*400+97)*24*$a;function pr(l,h){return(l%h+h)%h}function cf(l,h,p){return l<100&&l>=0?new Date(l+400,h,p)-lf:new Date(l,h,p).valueOf()}function hf(l,h,p){return l<100&&l>=0?Date.UTC(l+400,h,p)-lf:Date.UTC(l,h,p)}function Wy(l){var h,p;if(l=Fi(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?hf:cf,l){case"year":h=p(this.year(),0,1);break;case"quarter":h=p(this.year(),this.month()-this.month()%3,1);break;case"month":h=p(this.year(),this.month(),1);break;case"week":h=p(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=p(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=pr(h+(this._isUTC?0:this.utcOffset()*dr),$a);break;case"minute":h=this._d.valueOf(),h-=pr(h,dr);break;case"second":h=this._d.valueOf(),h-=pr(h,Ga);break}return this._d.setTime(h),t.updateOffset(this,!0),this}function Yy(l){var h,p;if(l=Fi(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?hf:cf,l){case"year":h=p(this.year()+1,0,1)-1;break;case"quarter":h=p(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=p(this.year(),this.month()+1,1)-1;break;case"week":h=p(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=p(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=$a-pr(h+(this._isUTC?0:this.utcOffset()*dr),$a)-1;break;case"minute":h=this._d.valueOf(),h+=dr-pr(h,dr)-1;break;case"second":h=this._d.valueOf(),h+=Ga-pr(h,Ga)-1;break}return this._d.setTime(h),t.updateOffset(this,!0),this}function Gy(){return this._d.valueOf()-(this._offset||0)*6e4}function $y(){return Math.floor(this.valueOf()/1e3)}function qy(){return new Date(this.valueOf())}function Xy(){var l=this;return[l.year(),l.month(),l.date(),l.hour(),l.minute(),l.second(),l.millisecond()]}function Ky(){var l=this;return{years:l.year(),months:l.month(),date:l.date(),hours:l.hours(),minutes:l.minutes(),seconds:l.seconds(),milliseconds:l.milliseconds()}}function Zy(){return this.isValid()?this.toISOString():null}function Qy(){return D(this)}function Jy(){return m({},C(this))}function eb(){return C(this).overflow}function tb(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ce("N",0,0,"eraAbbr"),ce("NN",0,0,"eraAbbr"),ce("NNN",0,0,"eraAbbr"),ce("NNNN",0,0,"eraName"),ce("NNNNN",0,0,"eraNarrow"),ce("y",["y",1],"yo","eraYear"),ce("y",["yy",2],0,"eraYear"),ce("y",["yyy",3],0,"eraYear"),ce("y",["yyyy",4],0,"eraYear"),re("N",lh),re("NN",lh),re("NNN",lh),re("NNNN",db),re("NNNNN",pb),lt(["N","NN","NNN","NNNN","NNNNN"],function(l,h,p,g){var w=p._locale.erasParse(l,g,p._strict);w?C(p).era=w:C(p).invalidEra=l}),re("y",lr),re("yy",lr),re("yyy",lr),re("yyyy",lr),re("yo",fb),lt(["y","yy","yyy","yyyy"],Zt),lt(["yo"],function(l,h,p,g){var w;p._locale._eraYearOrdinalRegex&&(w=l.match(p._locale._eraYearOrdinalRegex)),p._locale.eraYearOrdinalParse?h[Zt]=p._locale.eraYearOrdinalParse(l,w):h[Zt]=parseInt(l,10)});function ib(l,h){var p,g,w,A=this._eras||vn("en")._eras;for(p=0,g=A.length;p<g;++p){switch(typeof A[p].since){case"string":w=t(A[p].since).startOf("day"),A[p].since=w.valueOf();break}switch(typeof A[p].until){case"undefined":A[p].until=1/0;break;case"string":w=t(A[p].until).startOf("day").valueOf(),A[p].until=w.valueOf();break}}return A}function nb(l,h,p){var g,w,A=this.eras(),H,se,xe;for(l=l.toUpperCase(),g=0,w=A.length;g<w;++g)if(H=A[g].name.toUpperCase(),se=A[g].abbr.toUpperCase(),xe=A[g].narrow.toUpperCase(),p)switch(h){case"N":case"NN":case"NNN":if(se===l)return A[g];break;case"NNNN":if(H===l)return A[g];break;case"NNNNN":if(xe===l)return A[g];break}else if([H,se,xe].indexOf(l)>=0)return A[g]}function sb(l,h){var p=l.since<=l.until?1:-1;return h===void 0?t(l.since).year():t(l.since).year()+(h-l.offset)*p}function rb(){var l,h,p,g=this.localeData().eras();for(l=0,h=g.length;l<h;++l)if(p=this.clone().startOf("day").valueOf(),g[l].since<=p&&p<=g[l].until||g[l].until<=p&&p<=g[l].since)return g[l].name;return""}function ob(){var l,h,p,g=this.localeData().eras();for(l=0,h=g.length;l<h;++l)if(p=this.clone().startOf("day").valueOf(),g[l].since<=p&&p<=g[l].until||g[l].until<=p&&p<=g[l].since)return g[l].narrow;return""}function ab(){var l,h,p,g=this.localeData().eras();for(l=0,h=g.length;l<h;++l)if(p=this.clone().startOf("day").valueOf(),g[l].since<=p&&p<=g[l].until||g[l].until<=p&&p<=g[l].since)return g[l].abbr;return""}function lb(){var l,h,p,g,w=this.localeData().eras();for(l=0,h=w.length;l<h;++l)if(p=w[l].since<=w[l].until?1:-1,g=this.clone().startOf("day").valueOf(),w[l].since<=g&&g<=w[l].until||w[l].until<=g&&g<=w[l].since)return(this.year()-t(w[l].since).year())*p+w[l].offset;return this.year()}function cb(l){return r(this,"_erasNameRegex")||ch.call(this),l?this._erasNameRegex:this._erasRegex}function hb(l){return r(this,"_erasAbbrRegex")||ch.call(this),l?this._erasAbbrRegex:this._erasRegex}function ub(l){return r(this,"_erasNarrowRegex")||ch.call(this),l?this._erasNarrowRegex:this._erasRegex}function lh(l,h){return h.erasAbbrRegex(l)}function db(l,h){return h.erasNameRegex(l)}function pb(l,h){return h.erasNarrowRegex(l)}function fb(l,h){return h._eraYearOrdinalRegex||lr}function ch(){var l=[],h=[],p=[],g=[],w,A,H,se,xe,ze=this.eras();for(w=0,A=ze.length;w<A;++w)H=fn(ze[w].name),se=fn(ze[w].abbr),xe=fn(ze[w].narrow),h.push(H),l.push(se),p.push(xe),g.push(H),g.push(se),g.push(xe);this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+p.join("|")+")","i")}ce(0,["gg",2],0,function(){return this.weekYear()%100}),ce(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qa(l,h){ce(0,[l,l.length],0,h)}qa("gggg","weekYear"),qa("ggggg","weekYear"),qa("GGGG","isoWeekYear"),qa("GGGGG","isoWeekYear"),re("G",La),re("g",La),re("GG",ft,bi),re("gg",ft,bi),re("GGGG",Gc,Yc),re("gggg",Gc,Yc),re("GGGGG",Ra,Fa),re("ggggg",Ra,Fa),go(["gggg","ggggg","GGGG","GGGGG"],function(l,h,p,g){h[g.substr(0,2)]=Be(l)}),go(["gg","GG"],function(l,h,p,g){h[g]=t.parseTwoDigitYear(l)});function mb(l){return uf.call(this,l,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function gb(l){return uf.call(this,l,this.isoWeek(),this.isoWeekday(),1,4)}function _b(){return _n(this.year(),1,4)}function vb(){return _n(this.isoWeekYear(),1,4)}function yb(){var l=this.localeData()._week;return _n(this.year(),l.dow,l.doy)}function bb(){var l=this.localeData()._week;return _n(this.weekYear(),l.dow,l.doy)}function uf(l,h,p,g,w){var A;return l==null?bo(this,g,w).year:(A=_n(l,g,w),h>A&&(h=A),Cb.call(this,l,h,p,g,w))}function Cb(l,h,p,g,w){var A=Up(l,h,p,g,w),H=yo(A.year,0,A.dayOfYear);return this.year(H.getUTCFullYear()),this.month(H.getUTCMonth()),this.date(H.getUTCDate()),this}ce("Q",0,"Qo","quarter"),re("Q",kp),lt("Q",function(l,h){h[mn]=(Be(l)-1)*3});function wb(l){return l==null?Math.ceil((this.month()+1)/3):this.month((l-1)*3+this.month()%3)}ce("D",["DD",2],"Do","date"),re("D",ft,cr),re("DD",ft,bi),re("Do",function(l,h){return l?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),lt(["D","DD"],ln),lt("Do",function(l,h){h[ln]=Be(l.match(ft)[0])});var df=hr("Date",!0);ce("DDD",["DDDD",3],"DDDo","dayOfYear"),re("DDD",Va),re("DDDD",Mp),lt(["DDD","DDDD"],function(l,h,p){p._dayOfYear=Be(l)});function xb(l){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return l==null?h:this.add(l-h,"d")}ce("m",["mm",2],0,"minute"),re("m",ft,$c),re("mm",ft,bi),lt(["m","mm"],Gi);var Tb=hr("Minutes",!1);ce("s",["ss",2],0,"second"),re("s",ft,$c),re("ss",ft,bi),lt(["s","ss"],gn);var Sb=hr("Seconds",!1);ce("S",0,0,function(){return~~(this.millisecond()/100)}),ce(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ce(0,["SSS",3],0,"millisecond"),ce(0,["SSSS",4],0,function(){return this.millisecond()*10}),ce(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ce(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ce(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ce(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ce(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),re("S",Va,kp),re("SS",Va,bi),re("SSS",Va,Mp);var Hn,pf;for(Hn="SSSS";Hn.length<=9;Hn+="S")re(Hn,lr);function Ib(l,h){h[ys]=Be(("0."+l)*1e3)}for(Hn="S";Hn.length<=9;Hn+="S")lt(Hn,Ib);pf=hr("Milliseconds",!1),ce("z",0,0,"zoneAbbr"),ce("zz",0,0,"zoneName");function Db(){return this._isUTC?"UTC":""}function Ob(){return this._isUTC?"Coordinated Universal Time":""}var X=$.prototype;X.add=by,X.calendar=Dy,X.clone=Oy,X.diff=Ry,X.endOf=Yy,X.format=jy,X.from=By,X.fromNow=Uy,X.to=Hy,X.toNow=zy,X.get=Nv,X.invalidAt=eb,X.isAfter=Ey,X.isBefore=ky,X.isBetween=My,X.isSame=Ay,X.isSameOrAfter=Fy,X.isSameOrBefore=Vy,X.isValid=Qy,X.lang=of,X.locale=rf,X.localeData=af,X.max=Q1,X.min=Z1,X.parsingFlags=Jy,X.set=jv,X.startOf=Wy,X.subtract=Cy,X.toArray=Xy,X.toObject=Ky,X.toDate=qy,X.toISOString=Py,X.inspect=Ny,typeof Symbol<"u"&&Symbol.for!=null&&(X[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),X.toJSON=Zy,X.toString=Ly,X.unix=$y,X.valueOf=Gy,X.creationData=tb,X.eraName=rb,X.eraNarrow=ob,X.eraAbbr=ab,X.eraYear=lb,X.year=Vp,X.isLeapYear=Pv,X.weekYear=mb,X.isoWeekYear=gb,X.quarter=X.quarters=wb,X.month=jp,X.daysInMonth=qv,X.week=X.weeks=i1,X.isoWeek=X.isoWeeks=n1,X.weeksInYear=yb,X.weeksInWeekYear=bb,X.isoWeeksInYear=_b,X.isoWeeksInISOWeekYear=vb,X.date=df,X.day=X.days=g1,X.weekday=_1,X.isoWeekday=v1,X.dayOfYear=xb,X.hour=X.hours=S1,X.minute=X.minutes=Tb,X.second=X.seconds=Sb,X.millisecond=X.milliseconds=pf,X.utcOffset=ay,X.utc=cy,X.local=hy,X.parseZone=uy,X.hasAlignedHourOffset=dy,X.isDST=py,X.isLocal=my,X.isUtcOffset=gy,X.isUtc=Jp,X.isUTC=Jp,X.zoneAbbr=Db,X.zoneName=Ob,X.dates=Q("dates accessor is deprecated. Use date instead.",df),X.months=Q("months accessor is deprecated. Use month instead",jp),X.years=Q("years accessor is deprecated. Use year instead",Vp),X.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ly),X.isDSTShifted=Q("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",fy);function Eb(l){return mt(l*1e3)}function kb(){return mt.apply(null,arguments).parseZone()}function ff(l){return l}var et=dt.prototype;et.calendar=yi,et.longDateFormat=fo,et.invalidDate=Cv,et.ordinal=Tv,et.preparse=ff,et.postformat=ff,et.relativeTime=Iv,et.pastFuture=Dv,et.set=St,et.eras=ib,et.erasParse=nb,et.erasConvertYear=sb,et.erasAbbrRegex=hb,et.erasNameRegex=cb,et.erasNarrowRegex=ub,et.months=Wv,et.monthsShort=Yv,et.monthsParse=$v,et.monthsRegex=Kv,et.monthsShortRegex=Xv,et.week=Qv,et.firstDayOfYear=t1,et.firstDayOfWeek=e1,et.weekdays=u1,et.weekdaysMin=p1,et.weekdaysShort=d1,et.weekdaysParse=m1,et.weekdaysRegex=y1,et.weekdaysShortRegex=b1,et.weekdaysMinRegex=C1,et.isPM=x1,et.meridiem=I1;function Xa(l,h,p,g){var w=vn(),A=y().set(g,h);return w[p](A,l)}function mf(l,h,p){if(c(l)&&(h=l,l=void 0),l=l||"",h!=null)return Xa(l,h,p,"month");var g,w=[];for(g=0;g<12;g++)w[g]=Xa(l,g,p,"month");return w}function hh(l,h,p,g){typeof l=="boolean"?(c(h)&&(p=h,h=void 0),h=h||""):(h=l,p=h,l=!1,c(h)&&(p=h,h=void 0),h=h||"");var w=vn(),A=l?w._week.dow:0,H,se=[];if(p!=null)return Xa(h,(p+A)%7,g,"day");for(H=0;H<7;H++)se[H]=Xa(h,(H+A)%7,g,"day");return se}function Mb(l,h){return mf(l,h,"months")}function Ab(l,h){return mf(l,h,"monthsShort")}function Fb(l,h,p){return hh(l,h,p,"weekdays")}function Vb(l,h,p){return hh(l,h,p,"weekdaysShort")}function Rb(l,h,p){return hh(l,h,p,"weekdaysMin")}Un("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(l){var h=l%10,p=Be(l%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return l+p}}),t.lang=Q("moment.lang is deprecated. Use moment.locale instead.",Un),t.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",vn);var yn=Math.abs;function Lb(){var l=this._data;return this._milliseconds=yn(this._milliseconds),this._days=yn(this._days),this._months=yn(this._months),l.milliseconds=yn(l.milliseconds),l.seconds=yn(l.seconds),l.minutes=yn(l.minutes),l.hours=yn(l.hours),l.months=yn(l.months),l.years=yn(l.years),this}function gf(l,h,p,g){var w=$i(h,p);return l._milliseconds+=g*w._milliseconds,l._days+=g*w._days,l._months+=g*w._months,l._bubble()}function Pb(l,h){return gf(this,l,h,1)}function Nb(l,h){return gf(this,l,h,-1)}function _f(l){return l<0?Math.floor(l):Math.ceil(l)}function jb(){var l=this._milliseconds,h=this._days,p=this._months,g=this._data,w,A,H,se,xe;return l>=0&&h>=0&&p>=0||l<=0&&h<=0&&p<=0||(l+=_f(uh(p)+h)*864e5,h=0,p=0),g.milliseconds=l%1e3,w=Vi(l/1e3),g.seconds=w%60,A=Vi(w/60),g.minutes=A%60,H=Vi(A/60),g.hours=H%24,h+=Vi(H/24),xe=Vi(vf(h)),p+=xe,h-=_f(uh(xe)),se=Vi(p/12),p%=12,g.days=h,g.months=p,g.years=se,this}function vf(l){return l*4800/146097}function uh(l){return l*146097/4800}function Bb(l){if(!this.isValid())return NaN;var h,p,g=this._milliseconds;if(l=Fi(l),l==="month"||l==="quarter"||l==="year")switch(h=this._days+g/864e5,p=this._months+vf(h),l){case"month":return p;case"quarter":return p/3;case"year":return p/12}else switch(h=this._days+Math.round(uh(this._months)),l){case"week":return h/7+g/6048e5;case"day":return h+g/864e5;case"hour":return h*24+g/36e5;case"minute":return h*1440+g/6e4;case"second":return h*86400+g/1e3;case"millisecond":return Math.floor(h*864e5)+g;default:throw new Error("Unknown unit "+l)}}function bn(l){return function(){return this.as(l)}}var yf=bn("ms"),Ub=bn("s"),Hb=bn("m"),zb=bn("h"),Wb=bn("d"),Yb=bn("w"),Gb=bn("M"),$b=bn("Q"),qb=bn("y"),Xb=yf;function Kb(){return $i(this)}function Zb(l){return l=Fi(l),this.isValid()?this[l+"s"]():NaN}function Cs(l){return function(){return this.isValid()?this._data[l]:NaN}}var Qb=Cs("milliseconds"),Jb=Cs("seconds"),eC=Cs("minutes"),tC=Cs("hours"),iC=Cs("days"),nC=Cs("months"),sC=Cs("years");function rC(){return Vi(this.days()/7)}var Cn=Math.round,fr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function oC(l,h,p,g,w){return w.relativeTime(h||1,!!p,l,g)}function aC(l,h,p,g){var w=$i(l).abs(),A=Cn(w.as("s")),H=Cn(w.as("m")),se=Cn(w.as("h")),xe=Cn(w.as("d")),ze=Cn(w.as("M")),ri=Cn(w.as("w")),wn=Cn(w.as("y")),zn=A<=p.ss&&["s",A]||A<p.s&&["ss",A]||H<=1&&["m"]||H<p.m&&["mm",H]||se<=1&&["h"]||se<p.h&&["hh",se]||xe<=1&&["d"]||xe<p.d&&["dd",xe];return p.w!=null&&(zn=zn||ri<=1&&["w"]||ri<p.w&&["ww",ri]),zn=zn||ze<=1&&["M"]||ze<p.M&&["MM",ze]||wn<=1&&["y"]||["yy",wn],zn[2]=h,zn[3]=+l>0,zn[4]=g,oC.apply(null,zn)}function lC(l){return l===void 0?Cn:typeof l=="function"?(Cn=l,!0):!1}function cC(l,h){return fr[l]===void 0?!1:h===void 0?fr[l]:(fr[l]=h,l==="s"&&(fr.ss=h-1),!0)}function hC(l,h){if(!this.isValid())return this.localeData().invalidDate();var p=!1,g=fr,w,A;return typeof l=="object"&&(h=l,l=!1),typeof l=="boolean"&&(p=l),typeof h=="object"&&(g=Object.assign({},fr,h),h.s!=null&&h.ss==null&&(g.ss=h.s-1)),w=this.localeData(),A=aC(this,!p,g,w),p&&(A=w.pastFuture(+this,A)),w.postformat(A)}var dh=Math.abs;function mr(l){return(l>0)-(l<0)||+l}function Ka(){if(!this.isValid())return this.localeData().invalidDate();var l=dh(this._milliseconds)/1e3,h=dh(this._days),p=dh(this._months),g,w,A,H,se=this.asSeconds(),xe,ze,ri,wn;return se?(g=Vi(l/60),w=Vi(g/60),l%=60,g%=60,A=Vi(p/12),p%=12,H=l?l.toFixed(3).replace(/\.?0+$/,""):"",xe=se<0?"-":"",ze=mr(this._months)!==mr(se)?"-":"",ri=mr(this._days)!==mr(se)?"-":"",wn=mr(this._milliseconds)!==mr(se)?"-":"",xe+"P"+(A?ze+A+"Y":"")+(p?ze+p+"M":"")+(h?ri+h+"D":"")+(w||g||l?"T":"")+(w?wn+w+"H":"")+(g?wn+g+"M":"")+(l?wn+H+"S":"")):"P0D"}var $e=za.prototype;$e.isValid=ny,$e.abs=Lb,$e.add=Pb,$e.subtract=Nb,$e.as=Bb,$e.asMilliseconds=yf,$e.asSeconds=Ub,$e.asMinutes=Hb,$e.asHours=zb,$e.asDays=Wb,$e.asWeeks=Yb,$e.asMonths=Gb,$e.asQuarters=$b,$e.asYears=qb,$e.valueOf=Xb,$e._bubble=jb,$e.clone=Kb,$e.get=Zb,$e.milliseconds=Qb,$e.seconds=Jb,$e.minutes=eC,$e.hours=tC,$e.days=iC,$e.weeks=rC,$e.months=nC,$e.years=sC,$e.humanize=hC,$e.toISOString=Ka,$e.toString=Ka,$e.toJSON=Ka,$e.locale=rf,$e.localeData=af,$e.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ka),$e.lang=of,ce("X",0,0,"unix"),ce("x",0,0,"valueOf"),re("x",La),re("X",Mv),lt("X",function(l,h,p){p._d=new Date(parseFloat(l)*1e3)}),lt("x",function(l,h,p){p._d=new Date(Be(l))});return t.version="2.30.1",e(mt),t.fn=X,t.min=J1,t.max=ey,t.now=ty,t.utc=y,t.unix=Eb,t.months=Mb,t.isDate=u,t.locale=Un,t.invalid=R,t.duration=$i,t.isMoment=Z,t.weekdays=Fb,t.parseZone=kb,t.localeData=vn,t.isDuration=Wa,t.monthsShort=Ab,t.weekdaysMin=Rb,t.defineLocale=Jc,t.updateLocale=k1,t.locales=M1,t.weekdaysShort=Vb,t.normalizeUnits=Fi,t.relativeTimeRounding=lC,t.relativeTimeThreshold=cC,t.calendarFormat=Iy,t.prototype=X,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var Ao=class{},pl=class{},Sn=class s{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let n=e.slice(0,i),r=n.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof s?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new s;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof s?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let n=(t.op==="a"?this.headers.get(e):void 0)||[];n.push(...i),this.headers.set(e,n);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>r.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),n=t.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Eh=class{encodeKey(t){return fm(t)}encodeValue(t){return fm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function fC(s,t){let e=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(n=>{let r=n.indexOf("="),[o,a]=r==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,r)),t.decodeValue(n.slice(r+1))],c=e.get(o)||[];c.push(a),e.set(o,c)}),e}var mC=/%(\d[a-f0-9])/gi,gC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fm(s){return encodeURIComponent(s).replace(mC,(t,e)=>gC[e]??t)}function dl(s){return`${s}`}var Zn=class s{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Eh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=fC(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],n=Array.isArray(i)?i.map(dl):[dl(i)];this.map.set(e,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let n=t[i];Array.isArray(n)?n.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new s({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(dl(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],n=i.indexOf(dl(t.value));n!==-1&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var kh=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function _C(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function mm(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function gm(s){return typeof Blob<"u"&&s instanceof Blob}function _m(s){return typeof FormData<"u"&&s instanceof FormData}function vC(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}var Mo=class s{constructor(t,e,i,n){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let r;if(_C(this.method)||n?(this.body=i!==void 0?i:null,r=n):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new Sn,this.context??=new kh,!this.params)this.params=new Zn,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||mm(this.body)||gm(this.body)||_m(this.body)||vC(this.body)?this.body:this.body instanceof Zn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_m(this.body)?null:gm(this.body)?this.body.type||null:mm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Zn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,r=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,u=t.headers||this.headers,d=t.params||this.params,m=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((y,b)=>y.set(b,t.setHeaders[b]),u)),t.setParams&&(d=Object.keys(t.setParams).reduce((y,b)=>y.set(b,t.setParams[b]),d)),new s(e,i,o,{params:d,headers:u,context:m,reportProgress:c,responseType:n,withCredentials:a,transferCache:r})}},Ni=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(Ni||{}),Fo=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new Sn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},fl=class s extends Fo{constructor(t={}){super(t),this.type=Ni.ResponseHeader}clone(t={}){return new s({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Vo=class s extends Fo{constructor(t={}){super(t),this.type=Ni.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new s({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Kn=class extends Fo{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Cm=200,yC=204;function Oh(s,t){return{body:t,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,transferCache:s.transferCache}}var Ss=(()=>{class s{constructor(e){this.handler=e}request(e,i,n={}){let r;if(e instanceof Mo)r=e;else{let c;n.headers instanceof Sn?c=n.headers:c=new Sn(n.headers);let u;n.params&&(n.params instanceof Zn?u=n.params:u=new Zn({fromObject:n.params})),r=new Mo(e,i,n.body!==void 0?n.body:null,{headers:c,context:n.context,params:u,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let o=we(r).pipe(Yn(c=>this.handler.handle(c)));if(e instanceof Mo||n.observe==="events")return o;let a=o.pipe(xn(c=>c instanceof Vo));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(Qe(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Qe(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Qe(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Qe(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Zn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,n={}){return this.request("PATCH",e,Oh(n,i))}post(e,i,n={}){return this.request("POST",e,Oh(n,i))}put(e,i,n={}){return this.request("PUT",e,Oh(n,i))}static{this.\u0275fac=function(i){return new(i||s)(ke(Ao))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})(),bC=/^\)\]\}',?\n/,CC="X-Request-URL";function vm(s){if(s.url)return s.url;let t=CC.toLocaleLowerCase();return s.headers.get(t)}var wC=(()=>{class s{constructor(){this.fetchImpl=le(Mh,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=le(nt)}handle(e){return new ph(i=>{let n=new AbortController;return this.doRequest(e,n.signal,i).then(Ah,r=>i.error(new Kn({error:r}))),()=>n.abort()})}doRequest(e,i,n){return Yt(this,null,function*(){let r=this.createRequestInit(e),o;try{let b=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,K({signal:i},r)));xC(b),n.next({type:Ni.Sent}),o=yield b}catch(b){n.error(new Kn({error:b,status:b.status??0,statusText:b.statusText,url:e.urlWithParams,headers:b.headers}));return}let a=new Sn(o.headers),c=o.statusText,u=vm(o)??e.urlWithParams,d=o.status,m=null;if(e.reportProgress&&n.next(new fl({headers:a,status:d,statusText:c,url:u})),o.body){let b=o.headers.get("content-length"),C=[],x=o.body.getReader(),D=0,R,U,P=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Yt(this,null,function*(){for(;;){let{done:$,value:Z}=yield x.read();if($)break;if(C.push(Z),D+=Z.length,e.reportProgress){U=e.responseType==="text"?(U??"")+(R??=new TextDecoder).decode(Z,{stream:!0}):void 0;let ge=()=>n.next({type:Ni.DownloadProgress,total:b?+b:void 0,loaded:D,partialText:U});P?P.run(ge):ge()}}}));let z=this.concatChunks(C,D);try{let $=o.headers.get("Content-Type")??"";m=this.parseBody(e,z,$)}catch($){n.error(new Kn({error:$,headers:new Sn(o.headers),status:o.status,statusText:o.statusText,url:vm(o)??e.urlWithParams}));return}}d===0&&(d=m?Cm:0),d>=200&&d<300?(n.next(new Vo({body:m,headers:a,status:d,statusText:c,url:u})),n.complete()):n.error(new Kn({error:m,headers:a,status:d,statusText:c,url:u}))})}parseBody(e,i,n){switch(e.responseType){case"json":let r=new TextDecoder().decode(i).replace(bC,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:n});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},n=e.withCredentials?"include":void 0;if(e.headers.forEach((r,o)=>i[r]=o.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let r=e.detectContentTypeHeader();r!==null&&(i["Content-Type"]=r)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:n}}concatChunks(e,i){let n=new Uint8Array(i),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})(),Mh=class{};function Ah(){}function xC(s){s.then(Ah,Ah)}function TC(s,t){return t(s)}function SC(s,t,e){return(i,n)=>Li(e,()=>t(i,r=>s(r,n)))}var wm=new ot(""),IC=new ot(""),DC=new ot("",{providedIn:"root",factory:()=>!0});var ym=(()=>{class s extends Ao{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=le(Qa),this.contributeToStability=le(DC)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(wm),...this.injector.get(IC,[])]));this.chain=i.reduceRight((n,r)=>SC(n,r,this.injector),TC)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,n=>this.backend.handle(n)).pipe(vr(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||s)(ke(pl),ke(ws))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})();var OC=/^\)\]\}',?\n/;function EC(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}var bm=(()=>{class s{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new yt(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Gt(i.\u0275loadImpl()):we(null)).pipe(wi(()=>new ph(r=>{let o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((x,D)=>o.setRequestHeader(x,D.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let x=e.detectContentTypeHeader();x!==null&&o.setRequestHeader("Content-Type",x)}if(e.responseType){let x=e.responseType.toLowerCase();o.responseType=x!=="json"?x:"text"}let a=e.serializeBody(),c=null,u=()=>{if(c!==null)return c;let x=o.statusText||"OK",D=new Sn(o.getAllResponseHeaders()),R=EC(o)||e.url;return c=new fl({headers:D,status:o.status,statusText:x,url:R}),c},d=()=>{let{headers:x,status:D,statusText:R,url:U}=u(),P=null;D!==yC&&(P=typeof o.response>"u"?o.responseText:o.response),D===0&&(D=P?Cm:0);let z=D>=200&&D<300;if(e.responseType==="json"&&typeof P=="string"){let $=P;P=P.replace(OC,"");try{P=P!==""?JSON.parse(P):null}catch(Z){P=$,z&&(z=!1,P={error:Z,text:P})}}z?(r.next(new Vo({body:P,headers:x,status:D,statusText:R,url:U||void 0})),r.complete()):r.error(new Kn({error:P,headers:x,status:D,statusText:R,url:U||void 0}))},m=x=>{let{url:D}=u(),R=new Kn({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:D||void 0});r.error(R)},y=!1,b=x=>{y||(r.next(u()),y=!0);let D={type:Ni.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(D.total=x.total),e.responseType==="text"&&o.responseText&&(D.partialText=o.responseText),r.next(D)},C=x=>{let D={type:Ni.UploadProgress,loaded:x.loaded};x.lengthComputable&&(D.total=x.total),r.next(D)};return o.addEventListener("load",d),o.addEventListener("error",m),o.addEventListener("timeout",m),o.addEventListener("abort",m),e.reportProgress&&(o.addEventListener("progress",b),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),r.next({type:Ni.Sent}),()=>{o.removeEventListener("error",m),o.removeEventListener("abort",m),o.removeEventListener("load",d),o.removeEventListener("timeout",m),e.reportProgress&&(o.removeEventListener("progress",b),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||s)(ke(hl))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})(),xm=new ot(""),kC="XSRF-TOKEN",MC=new ot("",{providedIn:"root",factory:()=>kC}),AC="X-XSRF-TOKEN",FC=new ot("",{providedIn:"root",factory:()=>AC}),ml=class{},VC=(()=>{class s{constructor(e,i,n){this.doc=e,this.platform=i,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ll(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||s)(ke(Re),ke(gt),ke(MC))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})();function RC(s,t){let e=s.url.toLowerCase();if(!le(xm)||s.method==="GET"||s.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(s);let i=le(ml).getToken(),n=le(FC);return i!=null&&!s.headers.has(n)&&(s=s.clone({headers:s.headers.set(n,i)})),t(s)}function Tm(...s){let t=[Ss,bm,ym,{provide:Ao,useExisting:ym},{provide:pl,useFactory:()=>le(wC,{optional:!0})??le(bm)},{provide:wm,useValue:RC,multi:!0},{provide:xm,useValue:!0},{provide:ml,useClass:VC}];for(let e of s)t.push(...e.\u0275providers);return Io(t)}var Lh=class extends om{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ph=class s extends Lh{static makeCurrent(){rm(new s)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=PC();return e==null?null:NC(e)}resetBaseElement(){Ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ll(document.cookie,t)}},Ro=null;function PC(){return Ro=Ro||document.querySelector("base"),Ro?Ro.getAttribute("href"):null}function NC(s){return new URL(s,document.baseURI).pathname}var jC=(()=>{class s{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})(),Nh=new ot(""),Em=(()=>{class s{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,n){return this._findPluginFor(i).addEventListener(e,i,n)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new yt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||s)(ke(Nh),ke(nt))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})(),gl=class{constructor(t){this._doc=t}},Vh="ng-app-id",km=(()=>{class s{constructor(e,i,n,r={}){this.doc=e,this.appId=i,this.nonce=n,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cl(r),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(n=>n.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Vh}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(n=>{n.textContent!=null&&i.set(n.textContent,n)}),i}return null}changeUsageCount(e,i){let n=this.styleRef;if(n.has(e)){let r=n.get(e);return r.usage+=i,r.usage}return n.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let n=this.styleNodesInDOM,r=n?.get(i);if(r?.parentNode===e)return n.delete(i),r.removeAttribute(Vh),r;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Vh,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){let n=this.getStyleElement(e,i),r=this.styleRef,o=r.get(i)?.elements;o?o.push(n):r.set(i,{elements:[n],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||s)(ke(Re),ke(xh),ke(Th,8),ke(gt))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})(),Rh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Bh=/%COMP%/g,Mm="%COMP%",BC=`_nghost-${Mm}`,UC=`_ngcontent-${Mm}`,HC=!0,zC=new ot("",{providedIn:"root",factory:()=>HC});function WC(s){return UC.replace(Bh,s)}function YC(s){return BC.replace(Bh,s)}function Am(s,t){return t.map(e=>e.replace(Bh,s))}var Sm=(()=>{class s{constructor(e,i,n,r,o,a,c,u=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=cl(a),this.defaultRenderer=new Lo(e,o,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===So.ShadowDom&&(i=tt(K({},i),{encapsulation:So.Emulated}));let n=this.getOrCreateRenderer(e,i);return n instanceof _l?n.applyToHost(e):n instanceof Po&&n.applyStyles(),n}getOrCreateRenderer(e,i){let n=this.rendererByCompId,r=n.get(i.id);if(!r){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case So.Emulated:r=new _l(c,u,i,this.appId,d,o,a,m);break;case So.ShadowDom:return new jh(c,u,e,i,o,a,this.nonce,m);default:r=new Po(c,u,i,d,o,a,m);break}n.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||s)(ke(Em),ke(km),ke(xh),ke(zC),ke(Re),ke(gt),ke(nt),ke(Th))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})(),Lo=class{constructor(t,e,i,n){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Rh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Im(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Im(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new yt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;let r=Rh[n];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let n=Rh[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(Eo.DashCase|Eo.Important)?t.style.setProperty(e,i,n&Eo.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Eo.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=wr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Im(s){return s.tagName==="TEMPLATE"&&s.content!==void 0}var jh=class extends Lo{constructor(t,e,i,n,r,o,a,c){super(t,r,o,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Am(n.id,n.styles);for(let d of u){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=d,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Po=class extends Lo{constructor(t,e,i,n,r,o,a,c){super(t,r,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n,this.styles=c?Am(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},_l=class extends Po{constructor(t,e,i,n,r,o,a,c){let u=n+"-"+i.id;super(t,e,i,r,o,a,c,u),this.contentAttr=WC(u),this.hostAttr=YC(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},GC=(()=>{class s extends gl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n){return e.addEventListener(i,n,!1),()=>this.removeEventListener(e,i,n)}removeEventListener(e,i,n){return e.removeEventListener(i,n)}static{this.\u0275fac=function(i){return new(i||s)(ke(Re))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})(),Dm=["alt","control","meta","shift"],$C={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qC={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey},XC=(()=>{class s extends gl{constructor(e){super(e)}supports(e){return s.parseEventName(e)!=null}addEventListener(e,i,n){let r=s.parseEventName(i),o=s.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(e,r.domEventName,o))}static parseEventName(e){let i=e.toLowerCase().split("."),n=i.shift();if(i.length===0||!(n==="keydown"||n==="keyup"))return null;let r=s._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),Dm.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),o+=u+".")}),o+=r,i.length!=0||r.length===0)return null;let c={};return c.domEventName=n,c.fullKey=o,c}static matchEventFullKeyCode(e,i){let n=$C[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(n=e.code,r="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),Dm.forEach(o=>{if(o!==n){let a=qC[o];a(e)&&(r+=o+".")}}),r+=n,r===i)}static eventCallback(e,i,n){return r=>{s.matchEventFullKeyCode(r,e)&&n.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||s)(ke(Re))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})();function yF(s,t){return im(K({rootComponent:s},KC(t)))}function KC(s){return{appProviders:[...tw,...s?.providers??[]],platformProviders:ew}}function ZC(){Ph.makeCurrent()}function QC(){return new wh}function JC(){return Lf(document),document}var ew=[{provide:gt,useValue:hm},{provide:Pf,useValue:ZC,multi:!0},{provide:Re,useFactory:JC,deps:[]}];var tw=[{provide:Rf,useValue:"root"},{provide:wh,useFactory:QC,deps:[]},{provide:Nh,useClass:GC,multi:!0,deps:[Re,nt,gt]},{provide:Nh,useClass:XC,multi:!0,deps:[Re]},Sm,km,Em,{provide:Gf,useExisting:Sm},{provide:hl,useClass:jC,deps:[]},[]];var Fm=(()=>{class s{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||s)(ke(Re))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Uh=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:function(i){let n=null;return i?n=new(i||s):n=ke(iw),n},providedIn:"root"})}}return s})(),iw=(()=>{class s extends Uh{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case xs.NONE:return i;case xs.HTML:return br(i,"HTML")?yr(i):Wf(this._doc,String(i)).toString();case xs.STYLE:return br(i,"Style")?yr(i):i;case xs.SCRIPT:if(br(i,"Script"))return yr(i);throw new yt(5200,!1);case xs.URL:return br(i,"URL")?yr(i):zf(String(i));case xs.RESOURCE_URL:if(br(i,"ResourceURL"))return yr(i);throw new yt(5201,!1);default:throw new yt(5202,!1)}}bypassSecurityTrustHtml(e){return Nf(e)}bypassSecurityTrustStyle(e){return jf(e)}bypassSecurityTrustScript(e){return Bf(e)}bypassSecurityTrustUrl(e){return Uf(e)}bypassSecurityTrustResourceUrl(e){return Hf(e)}static{this.\u0275fac=function(i){return new(i||s)(ke(Re))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Ae="primary",Jo=Symbol("RouteTitle"),Gh=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function kr(s){return new Gh(s)}function nw(s,t,e){let i=e.path.split("/");if(i.length>s.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<s.length))return null;let n={};for(let r=0;r<i.length;r++){let o=i[r],a=s[r];if(o[0]===":")n[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:s.slice(0,i.length),posParams:n}}function sw(s,t){if(s.length!==t.length)return!1;for(let e=0;e<s.length;++e)if(!cn(s[e],t[e]))return!1;return!0}function cn(s,t){let e=s?$h(s):void 0,i=t?$h(t):void 0;if(!e||!i||e.length!=i.length)return!1;let n;for(let r=0;r<e.length;r++)if(n=e[r],!Ym(s[n],t[n]))return!1;return!0}function $h(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}function Ym(s,t){if(Array.isArray(s)&&Array.isArray(t)){if(s.length!==t.length)return!1;let e=[...s].sort(),i=[...t].sort();return e.every((n,r)=>i[r]===n)}else return s===t}function Gm(s){return s.length>0?s[s.length-1]:null}function es(s){return xf(s)?s:sl(s)?Gt(Promise.resolve(s)):we(s)}var rw={exact:qm,subset:Xm},$m={exact:ow,subset:aw,ignored:()=>!0};function Rm(s,t,e){return rw[e.paths](s.root,t.root,e.matrixParams)&&$m[e.queryParams](s.queryParams,t.queryParams)&&!(e.fragment==="exact"&&s.fragment!==t.fragment)}function ow(s,t){return cn(s,t)}function qm(s,t,e){if(!Ds(s.segments,t.segments)||!bl(s.segments,t.segments,e)||s.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!s.children[i]||!qm(s.children[i],t.children[i],e))return!1;return!0}function aw(s,t){return Object.keys(t).length<=Object.keys(s).length&&Object.keys(t).every(e=>Ym(s[e],t[e]))}function Xm(s,t,e){return Km(s,t,t.segments,e)}function Km(s,t,e,i){if(s.segments.length>e.length){let n=s.segments.slice(0,e.length);return!(!Ds(n,e)||t.hasChildren()||!bl(n,e,i))}else if(s.segments.length===e.length){if(!Ds(s.segments,e)||!bl(s.segments,e,i))return!1;for(let n in t.children)if(!s.children[n]||!Xm(s.children[n],t.children[n],i))return!1;return!0}else{let n=e.slice(0,s.segments.length),r=e.slice(s.segments.length);return!Ds(s.segments,n)||!bl(s.segments,n,i)||!s.children[Ae]?!1:Km(s.children[Ae],t,r,i)}}function bl(s,t,e){return t.every((i,n)=>$m[e](s[n].parameters,i.parameters))}var Dn=class{constructor(t=new st([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=kr(this.queryParams),this._queryParamMap}toString(){return hw.serialize(this)}},st=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cl(this)}},Is=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=kr(this.parameters),this._parameterMap}toString(){return Qm(this)}};function lw(s,t){return Ds(s,t)&&s.every((e,i)=>cn(e.parameters,t[i].parameters))}function Ds(s,t){return s.length!==t.length?!1:s.every((e,i)=>e.path===t[i].path)}function cw(s,t){let e=[];return Object.entries(s.children).forEach(([i,n])=>{i===Ae&&(e=e.concat(t(n,i)))}),Object.entries(s.children).forEach(([i,n])=>{i!==Ae&&(e=e.concat(t(n,i)))}),e}var ea=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:()=>new Mr,providedIn:"root"})}}return s})(),Mr=class{parse(t){let e=new Xh(t);return new Dn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${No(t.root,!0)}`,i=pw(t.queryParams),n=typeof t.fragment=="string"?`#${uw(t.fragment)}`:"";return`${e}${i}${n}`}},hw=new Mr;function Cl(s){return s.segments.map(t=>Qm(t)).join("/")}function No(s,t){if(!s.hasChildren())return Cl(s);if(t){let e=s.children[Ae]?No(s.children[Ae],!1):"",i=[];return Object.entries(s.children).forEach(([n,r])=>{n!==Ae&&i.push(`${n}:${No(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=cw(s,(i,n)=>n===Ae?[No(s.children[Ae],!1)]:[`${n}:${No(i,!1)}`]);return Object.keys(s.children).length===1&&s.children[Ae]!=null?`${Cl(s)}/${e[0]}`:`${Cl(s)}/(${e.join("//")})`}}function Zm(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vl(s){return Zm(s).replace(/%3B/gi,";")}function uw(s){return encodeURI(s)}function qh(s){return Zm(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wl(s){return decodeURIComponent(s)}function Lm(s){return wl(s.replace(/\+/g,"%20"))}function Qm(s){return`${qh(s.path)}${dw(s.parameters)}`}function dw(s){return Object.entries(s).map(([t,e])=>`;${qh(t)}=${qh(e)}`).join("")}function pw(s){let t=Object.entries(s).map(([e,i])=>Array.isArray(i)?i.map(n=>`${vl(e)}=${vl(n)}`).join("&"):`${vl(e)}=${vl(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var fw=/^[^\/()?;#]+/;function Hh(s){let t=s.match(fw);return t?t[0]:""}var mw=/^[^\/()?;=#]+/;function gw(s){let t=s.match(mw);return t?t[0]:""}var _w=/^[^=?&#]+/;function vw(s){let t=s.match(_w);return t?t[0]:""}var yw=/^[^&#]+/;function bw(s){let t=s.match(yw);return t?t[0]:""}var Xh=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new st([],{}):new st([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ae]=new st(t,e)),i}parseSegment(){let t=Hh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new yt(4009,!1);return this.capture(t),new Is(wl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=gw(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let n=Hh(this.remaining);n&&(i=n,this.capture(i))}t[wl(e)]=wl(i)}parseQueryParam(t){let e=vw(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=bw(this.remaining);o&&(i=o,this.capture(i))}let n=Lm(e),r=Lm(i);if(t.hasOwnProperty(n)){let o=t[n];Array.isArray(o)||(o=[o],t[n]=o),o.push(r)}else t[n]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Hh(this.remaining),n=this.remaining[i.length];if(n!=="/"&&n!==")"&&n!==";")throw new yt(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Ae);let o=this.parseChildren();e[r]=Object.keys(o).length===1?o[Ae]:new st([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new yt(4011,!1)}};function Jm(s){return s.segments.length>0?new st([],{[Ae]:s}):s}function eg(s){let t={};for(let[i,n]of Object.entries(s.children)){let r=eg(n);if(i===Ae&&r.segments.length===0&&r.hasChildren())for(let[o,a]of Object.entries(r.children))t[o]=a;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new st(s.segments,t);return Cw(e)}function Cw(s){if(s.numberOfChildren===1&&s.children[Ae]){let t=s.children[Ae];return new st(s.segments.concat(t.segments),t.children)}return s}function Wo(s){return s instanceof Dn}function ww(s,t,e=null,i=null){let n=tg(s);return ig(n,t,e,i)}function tg(s){let t;function e(r){let o={};for(let c of r.children){let u=e(c);o[c.outlet]=u}let a=new st(r.url,o);return r===s&&(t=a),a}let i=e(s.root),n=Jm(i);return t??n}function ig(s,t,e,i){let n=s;for(;n.parent;)n=n.parent;if(t.length===0)return zh(n,n,n,e,i);let r=xw(t);if(r.toRoot())return zh(n,n,new st([],{}),e,i);let o=Tw(r,n,s),a=o.processChildren?Uo(o.segmentGroup,o.index,r.commands):sg(o.segmentGroup,o.index,r.commands);return zh(n,o.segmentGroup,a,e,i)}function xl(s){return typeof s=="object"&&s!=null&&!s.outlets&&!s.segmentPath}function Yo(s){return typeof s=="object"&&s!=null&&s.outlets}function zh(s,t,e,i,n){let r={};i&&Object.entries(i).forEach(([c,u])=>{r[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;s===t?o=e:o=ng(s,t,e);let a=Jm(eg(o));return new Dn(a,r,n)}function ng(s,t,e){let i={};return Object.entries(s.children).forEach(([n,r])=>{r===t?i[n]=e:i[n]=ng(r,t,e)}),new st(s.segments,i)}var Tl=class{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&xl(i[0]))throw new yt(4003,!1);let n=i.find(Yo);if(n&&n!==Gm(i))throw new yt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xw(s){if(typeof s[0]=="string"&&s.length===1&&s[0]==="/")return new Tl(!0,0,s);let t=0,e=!1,i=s.reduce((n,r,o)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...n,{outlets:a}]}if(r.segmentPath)return[...n,r.segmentPath]}return typeof r!="string"?[...n,r]:o===0?(r.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&n.push(a))}),n):[...n,r]},[]);return new Tl(e,t,i)}var Dr=class{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function Tw(s,t,e){if(s.isAbsolute)return new Dr(t,!0,0);if(!e)return new Dr(t,!1,NaN);if(e.parent===null)return new Dr(e,!0,0);let i=xl(s.commands[0])?0:1,n=e.segments.length-1+i;return Sw(e,n,s.numberOfDoubleDots)}function Sw(s,t,e){let i=s,n=t,r=e;for(;r>n;){if(r-=n,i=i.parent,!i)throw new yt(4005,!1);n=i.segments.length}return new Dr(i,!1,n-r)}function Iw(s){return Yo(s[0])?s[0].outlets:{[Ae]:s}}function sg(s,t,e){if(s??=new st([],{}),s.segments.length===0&&s.hasChildren())return Uo(s,t,e);let i=Dw(s,t,e),n=e.slice(i.commandIndex);if(i.match&&i.pathIndex<s.segments.length){let r=new st(s.segments.slice(0,i.pathIndex),{});return r.children[Ae]=new st(s.segments.slice(i.pathIndex),s.children),Uo(r,0,n)}else return i.match&&n.length===0?new st(s.segments,{}):i.match&&!s.hasChildren()?Kh(s,t,e):i.match?Uo(s,0,n):Kh(s,t,e)}function Uo(s,t,e){if(e.length===0)return new st(s.segments,{});{let i=Iw(e),n={};if(Object.keys(i).some(r=>r!==Ae)&&s.children[Ae]&&s.numberOfChildren===1&&s.children[Ae].segments.length===0){let r=Uo(s.children[Ae],t,e);return new st(s.segments,r.children)}return Object.entries(i).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[r]=sg(s.children[r],t,o))}),Object.entries(s.children).forEach(([r,o])=>{i[r]===void 0&&(n[r]=o)}),new st(s.segments,n)}}function Dw(s,t,e){let i=0,n=t,r={match:!1,pathIndex:0,commandIndex:0};for(;n<s.segments.length;){if(i>=e.length)return r;let o=s.segments[n],a=e[i];if(Yo(a))break;let c=`${a}`,u=i<e.length-1?e[i+1]:null;if(n>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Nm(c,u,o))return r;i+=2}else{if(!Nm(c,{},o))return r;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}function Kh(s,t,e){let i=s.segments.slice(0,t),n=0;for(;n<e.length;){let r=e[n];if(Yo(r)){let c=Ow(r.outlets);return new st(i,c)}if(n===0&&xl(e[0])){let c=s.segments[t];i.push(new Is(c.path,Pm(e[0]))),n++;continue}let o=Yo(r)?r.outlets[Ae]:`${r}`,a=n<e.length-1?e[n+1]:null;o&&a&&xl(a)?(i.push(new Is(o,Pm(a))),n+=2):(i.push(new Is(o,{})),n++)}return new st(i,{})}function Ow(s){let t={};return Object.entries(s).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Kh(new st([],{}),0,i))}),t}function Pm(s){let t={};return Object.entries(s).forEach(([e,i])=>t[e]=`${i}`),t}function Nm(s,t,e){return s==e.path&&cn(t,e.parameters)}var Ho="imperative",Ut=function(s){return s[s.NavigationStart=0]="NavigationStart",s[s.NavigationEnd=1]="NavigationEnd",s[s.NavigationCancel=2]="NavigationCancel",s[s.NavigationError=3]="NavigationError",s[s.RoutesRecognized=4]="RoutesRecognized",s[s.ResolveStart=5]="ResolveStart",s[s.ResolveEnd=6]="ResolveEnd",s[s.GuardsCheckStart=7]="GuardsCheckStart",s[s.GuardsCheckEnd=8]="GuardsCheckEnd",s[s.RouteConfigLoadStart=9]="RouteConfigLoadStart",s[s.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",s[s.ChildActivationStart=11]="ChildActivationStart",s[s.ChildActivationEnd=12]="ChildActivationEnd",s[s.ActivationStart=13]="ActivationStart",s[s.ActivationEnd=14]="ActivationEnd",s[s.Scroll=15]="Scroll",s[s.NavigationSkipped=16]="NavigationSkipped",s}(Ut||{}),ji=class{constructor(t,e){this.id=t,this.url=e}},Ar=class extends ji{constructor(t,e,i="imperative",n=null){super(t,e),this.type=Ut.NavigationStart,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},On=class extends ji{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=Ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Di=function(s){return s[s.Redirect=0]="Redirect",s[s.SupersededByNewNavigation=1]="SupersededByNewNavigation",s[s.NoDataFromResolver=2]="NoDataFromResolver",s[s.GuardRejected=3]="GuardRejected",s}(Di||{}),Sl=function(s){return s[s.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",s[s.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",s}(Sl||{}),In=class extends ji{constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n,this.type=Ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qn=class extends ji{constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n,this.type=Ut.NavigationSkipped}},Go=class extends ji{constructor(t,e,i,n){super(t,e),this.error=i,this.target=n,this.type=Ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Il=class extends ji{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=Ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zh=class extends ji{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=Ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qh=class extends ji{constructor(t,e,i,n,r){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=r,this.type=Ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jh=class extends ji{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=Ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eu=class extends ji{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=Ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tu=class{constructor(t){this.route=t,this.type=Ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},iu=class{constructor(t){this.route=t,this.type=Ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},nu=class{constructor(t){this.snapshot=t,this.type=Ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{constructor(t){this.snapshot=t,this.type=Ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ru=class{constructor(t){this.snapshot=t,this.type=Ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ou=class{constructor(t){this.snapshot=t,this.type=Ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dl=class{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=Ut.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},$o=class{},Fr=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Ew(s,t){return s.providers&&!s._injector&&(s._injector=Sh(s.providers,t,`Route: ${s.path}`)),s._injector??t}function Xi(s){return s.outlet||Ae}function kw(s,t){let e=s.filter(i=>Xi(i)===t);return e.push(...s.filter(i=>Xi(i)!==t)),e}function ta(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let t=s.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var au=class{get injector(){return ta(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new ia(this.rootInjector),this.attachRef=null}},ia=(()=>{class s{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let n=this.getOrCreateContext(e);n.outlet=i,this.contexts.set(e,n)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new au(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||s)(ke(ws))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Ol=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=lu(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=lu(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=cu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return cu(t,this._root).map(e=>e.value)}};function lu(s,t){if(s===t.value)return t;for(let e of t.children){let i=lu(s,e);if(i)return i}return null}function cu(s,t){if(s===t.value)return[t];for(let e of t.children){let i=cu(s,e);if(i.length)return i.unshift(t),i}return[]}var Ii=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ir(s){let t={};return s&&s.children.forEach(e=>t[e.value.outlet]=e),t}var El=class extends Ol{constructor(t,e){super(t),this.snapshot=e,vu(this,t)}toString(){return this.snapshot.toString()}};function rg(s){let t=Mw(s),e=new Ri([new Is("",{})]),i=new Ri({}),n=new Ri({}),r=new Ri({}),o=new Ri(""),a=new Os(e,i,r,o,n,Ae,s,t.root);return a.snapshot=t.root,new El(new Ii(a,[]),t)}function Mw(s){let t={},e={},i={},n="",r=new Or([],t,i,n,e,Ae,s,null,{});return new Ml("",new Ii(r,[]))}var Os=class{constructor(t,e,i,n,r,o,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=r,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Qe(u=>u[Jo]))??we(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Qe(t=>kr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Qe(t=>kr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kl(s,t,e="emptyOnly"){let i,{routeConfig:n}=s;return t!==null&&(e==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:K(K({},t.params),s.params),data:K(K({},t.data),s.data),resolve:K(K(K(K({},s.data),t.data),n?.data),s._resolvedData)}:i={params:K({},s.params),data:K({},s.data),resolve:K(K({},s.data),s._resolvedData??{})},n&&ag(n)&&(i.resolve[Jo]=n.title),i}var Or=class{get title(){return this.data?.[Jo]}constructor(t,e,i,n,r,o,a,c,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ml=class extends Ol{constructor(t,e){super(e),this.url=t,vu(this,e)}toString(){return og(this._root)}};function vu(s,t){t.value._routerState=s,t.children.forEach(e=>vu(s,e))}function og(s){let t=s.children.length>0?` { ${s.children.map(og).join(", ")} } `:"";return`${s.value}${t}`}function Wh(s){if(s.snapshot){let t=s.snapshot,e=s._futureSnapshot;s.snapshot=e,cn(t.queryParams,e.queryParams)||s.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&s.fragmentSubject.next(e.fragment),cn(t.params,e.params)||s.paramsSubject.next(e.params),sw(t.url,e.url)||s.urlSubject.next(e.url),cn(t.data,e.data)||s.dataSubject.next(e.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function hu(s,t){let e=cn(s.params,t.params)&&lw(s.url,t.url),i=!s.parent!=!t.parent;return e&&!i&&(!s.parent||hu(s.parent,t.parent))}function ag(s){return typeof s.title=="string"||s.title===null}var Aw=(()=>{class s{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new G,this.deactivateEvents=new G,this.attachEvents=new G,this.detachEvents=new G,this.parentContexts=le(ia),this.location=le(Cr),this.changeDetector=le(Ue),this.inputBinder=le(Rl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:n}=e.name;if(i)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new yt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new yt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new yt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new yt(4013,!1);this._activatedRoute=e;let n=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new uu(e,a,n.injector);this.activated=n.createComponent(o,{index:n.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275dir=Dt({type:s,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pi]})}}return s})(),uu=class s{__ngOutletInjector(t){return new s(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Os?this.route:t===ia?this.childContexts:this.parent.get(t,e)}},Rl=new ot(""),jm=(()=>{class s{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,n=Za([i.queryParams,i.params,i.data]).pipe(wi(([r,o,a],c)=>(a=K(K(K({},r),o),a),c===0?we(a):Promise.resolve(a)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let o=sm(i.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,r[a])});this.outletDataSubscriptions.set(e,n)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})();function Fw(s,t,e){let i=qo(s,t._root,e?e._root:void 0);return new El(i,t)}function qo(s,t,e){if(e&&s.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let n=Vw(s,t,e);return new Ii(i,n)}else{if(s.shouldAttach(t.value)){let r=s.retrieve(t.value);if(r!==null){let o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>qo(s,a)),o}}let i=Rw(t.value),n=t.children.map(r=>qo(s,r));return new Ii(i,n)}}function Vw(s,t,e){return t.children.map(i=>{for(let n of e.children)if(s.shouldReuseRoute(i.value,n.value.snapshot))return qo(s,i,n);return qo(s,i)})}function Rw(s){return new Os(new Ri(s.url),new Ri(s.params),new Ri(s.queryParams),new Ri(s.fragment),new Ri(s.data),s.outlet,s.component,s)}var Xo=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},lg="ngNavigationCancelingError";function Al(s,t){let{redirectTo:e,navigationBehaviorOptions:i}=Wo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=cg(!1,Di.Redirect);return n.url=e,n.navigationBehaviorOptions=i,n}function cg(s,t){let e=new Error(`NavigationCancelingError: ${s||""}`);return e[lg]=!0,e.cancellationCode=t,e}function Lw(s){return hg(s)&&Wo(s.url)}function hg(s){return!!s&&s[lg]}var Pw=(s,t,e,i)=>Qe(n=>(new du(t,n.targetRouterState,n.currentRouterState,e,i).activate(s),n)),du=class{constructor(t,e,i,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Wh(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let n=Ir(e);t.children.forEach(r=>{let o=r.value.outlet;this.deactivateRoutes(r,n[o],i),delete n[o]}),Object.values(n).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let n=t.value,r=e?e.value:null;if(n===r)if(n.component){let o=i.getContext(n.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,r=Ir(t);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,n);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,r=Ir(t);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let n=Ir(e);t.children.forEach(r=>{this.activateRoutes(r,n[r.value.outlet],i),this.forwardEvent(new ou(r.value.snapshot))}),t.children.length&&this.forwardEvent(new su(t.value.snapshot))}activateRoutes(t,e,i){let n=t.value,r=e?e.value:null;if(Wh(n),n===r)if(n.component){let o=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(n.component){let o=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Wh(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=n,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,i)}},Fl=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Er=class{constructor(t,e){this.component=t,this.route=e}};function Nw(s,t,e){let i=s._root,n=t?t._root:null;return jo(i,n,e,[i.value])}function jw(s){let t=s.routeConfig?s.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:s,guards:t}}function Rr(s,t){let e=Symbol(),i=t.get(s,e);return i===e?typeof s=="function"&&!Ff(s)?s:t.get(s):i}function jo(s,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let r=Ir(t);return s.children.forEach(o=>{Bw(o,r[o.value.outlet],e,i.concat([o.value]),n),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,a])=>zo(a,e.getContext(o),n)),n}function Bw(s,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let r=s.value,o=t?t.value:null,a=e?e.getContext(s.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){let c=Uw(o,r,r.routeConfig.runGuardsAndResolvers);c?n.canActivateChecks.push(new Fl(i)):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?jo(s,t,a?a.children:null,i,n):jo(s,t,e,i,n),c&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new Er(a.outlet.component,o))}else o&&zo(t,a,n),n.canActivateChecks.push(new Fl(i)),r.component?jo(s,null,a?a.children:null,i,n):jo(s,null,e,i,n);return n}function Uw(s,t,e){if(typeof e=="function")return e(s,t);switch(e){case"pathParamsChange":return!Ds(s.url,t.url);case"pathParamsOrQueryParamsChange":return!Ds(s.url,t.url)||!cn(s.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hu(s,t)||!cn(s.queryParams,t.queryParams);case"paramsChange":default:return!hu(s,t)}}function zo(s,t,e){let i=Ir(s),n=s.value;Object.entries(i).forEach(([r,o])=>{n.component?t?zo(o,t.children.getContext(r),e):zo(o,null,e):zo(o,t,e)}),n.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Er(t.outlet.component,n)):e.canDeactivateChecks.push(new Er(null,n)):e.canDeactivateChecks.push(new Er(null,n))}function na(s){return typeof s=="function"}function Hw(s){return typeof s=="boolean"}function zw(s){return s&&na(s.canLoad)}function Ww(s){return s&&na(s.canActivate)}function Yw(s){return s&&na(s.canActivateChild)}function Gw(s){return s&&na(s.canDeactivate)}function $w(s){return s&&na(s.canMatch)}function ug(s){return s instanceof Tf||s?.name==="EmptyError"}var yl=Symbol("INITIAL_VALUE");function Vr(){return wi(s=>Za(s.map(t=>t.pipe(_r(1),Mf(yl)))).pipe(Qe(t=>{for(let e of t)if(e!==!0){if(e===yl)return yl;if(e===!1||qw(e))return e}return!0}),xn(t=>t!==yl),_r(1)))}function qw(s){return Wo(s)||s instanceof Xo}function Xw(s,t){return Ci(e=>{let{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:r,canDeactivateChecks:o}}=e;return o.length===0&&r.length===0?we(tt(K({},e),{guardsResult:!0})):Kw(o,i,n,s).pipe(Ci(a=>a&&Hw(a)?Zw(i,r,s,t):we(a)),Qe(a=>tt(K({},e),{guardsResult:a})))})}function Kw(s,t,e,i){return Gt(s).pipe(Ci(n=>ix(n.component,n.route,e,t,i)),Gn(n=>n!==!0,!0))}function Zw(s,t,e,i){return Gt(t).pipe(Yn(n=>Sf(Jw(n.route.parent,i),Qw(n.route,i),tx(s,n.path,e),ex(s,n.route,e))),Gn(n=>n!==!0,!0))}function Qw(s,t){return s!==null&&t&&t(new ru(s)),we(!0)}function Jw(s,t){return s!==null&&t&&t(new nu(s)),we(!0)}function ex(s,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return we(!0);let n=i.map(r=>_h(()=>{let o=ta(t)??e,a=Rr(r,o),c=Ww(a)?a.canActivate(t,s):Li(o,()=>a(t,s));return es(c).pipe(Gn())}));return we(n).pipe(Vr())}function tx(s,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>jw(o)).filter(o=>o!==null).map(o=>_h(()=>{let a=o.guards.map(c=>{let u=ta(o.node)??e,d=Rr(c,u),m=Yw(d)?d.canActivateChild(i,s):Li(u,()=>d(i,s));return es(m).pipe(Gn())});return we(a).pipe(Vr())}));return we(r).pipe(Vr())}function ix(s,t,e,i,n){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return we(!0);let o=r.map(a=>{let c=ta(t)??n,u=Rr(a,c),d=Gw(u)?u.canDeactivate(s,t,e,i):Li(c,()=>u(s,t,e,i));return es(d).pipe(Gn())});return we(o).pipe(Vr())}function nx(s,t,e,i){let n=t.canLoad;if(n===void 0||n.length===0)return we(!0);let r=n.map(o=>{let a=Rr(o,s),c=zw(a)?a.canLoad(t,e):Li(s,()=>a(t,e));return es(c)});return we(r).pipe(Vr(),dg(i))}function dg(s){return wf($t(t=>{if(typeof t!="boolean")throw Al(s,t)}),Qe(t=>t===!0))}function sx(s,t,e,i){let n=t.canMatch;if(!n||n.length===0)return we(!0);let r=n.map(o=>{let a=Rr(o,s),c=$w(a)?a.canMatch(t,e):Li(s,()=>a(t,e));return es(c)});return we(r).pipe(Vr(),dg(i))}var Ko=class{constructor(t){this.segmentGroup=t||null}},Zo=class extends Error{constructor(t){super(),this.urlTree=t}};function Sr(s){return To(new Ko(s))}function rx(s){return To(new yt(4e3,!1))}function ox(s){return To(cg(!1,Di.GuardRejected))}var pu=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),n.numberOfChildren===0)return we(i);if(n.numberOfChildren>1||!n.children[Ae])return rx(`${t.redirectTo}`);n=n.children[Ae]}}applyRedirectCommands(t,e,i,n,r){if(typeof e!="string"){let a=e,{queryParams:c,fragment:u,routeConfig:d,url:m,outlet:y,params:b,data:C,title:x}=n,D=Li(r,()=>a({params:b,data:C,queryParams:c,fragment:u,routeConfig:d,url:m,outlet:y,title:x}));if(D instanceof Dn)throw new Zo(D);e=D}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Zo(o);return o}applyRedirectCreateUrlTree(t,e,i,n){let r=this.createSegmentGroup(t,e.root,i,n);return new Dn(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([n,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);i[n]=e[a]}else i[n]=r}),i}createSegmentGroup(t,e,i,n){let r=this.createSegments(t,e.segments,i,n),o={};return Object.entries(e.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(t,c,i,n)}),new st(r,o)}createSegments(t,e,i,n){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,n):this.findOrReturn(r,i))}findPosParam(t,e,i){let n=i[e.path.substring(1)];if(!n)throw new yt(4001,!1);return n}findOrReturn(t,e){let i=0;for(let n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}},fu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ax(s,t,e,i,n){let r=pg(s,t,e);return r.matched?(i=Ew(t,i),sx(i,t,e,n).pipe(Qe(o=>o===!0?r:K({},fu)))):we(r)}function pg(s,t,e){if(t.path==="**")return lx(e);if(t.path==="")return t.pathMatch==="full"&&(s.hasChildren()||e.length>0)?K({},fu):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let n=(t.matcher||nw)(e,s,t);if(!n)return K({},fu);let r={};Object.entries(n.posParams??{}).forEach(([a,c])=>{r[a]=c.path});let o=n.consumed.length>0?K(K({},r),n.consumed[n.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function lx(s){return{matched:!0,parameters:s.length>0?Gm(s).parameters:{},consumedSegments:s,remainingSegments:[],positionalParamSegments:{}}}function Bm(s,t,e,i){return e.length>0&&ux(s,e,i)?{segmentGroup:new st(t,hx(i,new st(e,s.children))),slicedSegments:[]}:e.length===0&&dx(s,e,i)?{segmentGroup:new st(s.segments,cx(s,e,i,s.children)),slicedSegments:e}:{segmentGroup:new st(s.segments,s.children),slicedSegments:e}}function cx(s,t,e,i){let n={};for(let r of e)if(Ll(s,t,r)&&!i[Xi(r)]){let o=new st([],{});n[Xi(r)]=o}return K(K({},i),n)}function hx(s,t){let e={};e[Ae]=t;for(let i of s)if(i.path===""&&Xi(i)!==Ae){let n=new st([],{});e[Xi(i)]=n}return e}function ux(s,t,e){return e.some(i=>Ll(s,t,i)&&Xi(i)!==Ae)}function dx(s,t,e){return e.some(i=>Ll(s,t,i))}function Ll(s,t,e){return(s.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function px(s,t,e){return t.length===0&&!s.children[e]}var mu=class{};function fx(s,t,e,i,n,r,o="emptyOnly"){return new gu(s,t,e,i,n,o,r).recognize()}var mx=31,gu=class{constructor(t,e,i,n,r,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=n,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new pu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new yt(4002,`'${t.segmentGroup}'`)}recognize(){let t=Bm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Qe(({children:e,rootSnapshot:i})=>{let n=new Ii(i,e),r=new Ml("",n),o=ww(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),{state:r,tree:o}}))}match(t){let e=new Or([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ae,e).pipe(Qe(i=>({children:i,rootSnapshot:e})),gr(i=>{if(i instanceof Zo)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ko?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,n,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,r):this.processSegment(t,e,i,i.segments,n,!0,r).pipe(Qe(o=>o instanceof Ii?[o]:[]))}processChildren(t,e,i,n){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Gt(r).pipe(Yn(o=>{let a=i.children[o],c=kw(e,o);return this.processSegmentGroup(t,c,a,o,n)}),kf((o,a)=>(o.push(...a),o)),vh(null),Ef(),Ci(o=>{if(o===null)return Sr(i);let a=fg(o);return gx(a),we(a)}))}processSegment(t,e,i,n,r,o,a){return Gt(e).pipe(Yn(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,n,r,o,a).pipe(gr(u=>{if(u instanceof Ko)return we(null);throw u}))),Gn(c=>!!c),gr(c=>{if(ug(c))return px(i,n,r)?we(new mu):Sr(i);throw c}))}processSegmentAgainstRoute(t,e,i,n,r,o,a,c){return Xi(i)!==o&&(o===Ae||!Ll(n,r,i))?Sr(n):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,i,r,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,n,e,i,r,o,c):Sr(n)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,r,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:m,remainingSegments:y}=pg(e,n,r);if(!c)return Sr(e);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mx&&(this.allowRedirects=!1));let b=new Or(r,u,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Um(n),Xi(n),n.component??n._loadedComponent??null,n,Hm(n)),C=kl(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(C.params),b.data=Object.freeze(C.data);let x=this.applyRedirects.applyRedirectCommands(d,n.redirectTo,m,b,t);return this.applyRedirects.lineralizeSegments(n,x).pipe(Ci(D=>this.processSegment(t,i,e,D.concat(y),o,!1,a)))}matchSegmentAgainstRoute(t,e,i,n,r,o){let a=ax(e,i,n,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(wi(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,n).pipe(wi(({routes:u})=>{let d=i._loadedInjector??t,{parameters:m,consumedSegments:y,remainingSegments:b}=c,C=new Or(y,m,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Um(i),Xi(i),i.component??i._loadedComponent??null,i,Hm(i)),x=kl(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(x.params),C.data=Object.freeze(x.data);let{segmentGroup:D,slicedSegments:R}=Bm(e,y,b,u);if(R.length===0&&D.hasChildren())return this.processChildren(d,u,D,C).pipe(Qe(P=>new Ii(C,P)));if(u.length===0&&R.length===0)return we(new Ii(C,[]));let U=Xi(i)===r;return this.processSegment(d,u,D,R,U?Ae:r,!0,C).pipe(Qe(P=>new Ii(C,P instanceof Ii?[P]:[])))}))):Sr(e)))}getChildConfig(t,e,i){return e.children?we({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?we({routes:e._loadedRoutes,injector:e._loadedInjector}):nx(t,e,i,this.urlSerializer).pipe(Ci(n=>n?this.configLoader.loadChildren(t,e).pipe($t(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):ox(e))):we({routes:[],injector:t})}};function gx(s){s.sort((t,e)=>t.value.outlet===Ae?-1:e.value.outlet===Ae?1:t.value.outlet.localeCompare(e.value.outlet))}function _x(s){let t=s.value.routeConfig;return t&&t.path===""}function fg(s){let t=[],e=new Set;for(let i of s){if(!_x(i)){t.push(i);continue}let n=t.find(r=>i.value.routeConfig===r.value.routeConfig);n!==void 0?(n.children.push(...i.children),e.add(n)):t.push(i)}for(let i of e){let n=fg(i.children);t.push(new Ii(i.value,n))}return t.filter(i=>!e.has(i))}function Um(s){return s.data||{}}function Hm(s){return s.resolve||{}}function vx(s,t,e,i,n,r){return Ci(o=>fx(s,t,e,i,o.extractedUrl,n,r).pipe(Qe(({state:a,tree:c})=>tt(K({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function yx(s,t){return Ci(e=>{let{targetSnapshot:i,guards:{canActivateChecks:n}}=e;if(!n.length)return we(e);let r=new Set(n.map(c=>c.route)),o=new Set;for(let c of r)if(!o.has(c))for(let u of mg(c))o.add(u);let a=0;return Gt(o).pipe(Yn(c=>r.has(c)?bx(c,i,s,t):(c.data=kl(c,c.parent,s).resolve,we(void 0))),$t(()=>a++),yh(1),Ci(c=>a===o.size?we(e):Wn))})}function mg(s){let t=s.children.map(e=>mg(e)).flat();return[s,...t]}function bx(s,t,e,i){let n=s.routeConfig,r=s._resolve;return n?.title!==void 0&&!ag(n)&&(r[Jo]=n.title),Cx(r,s,t,i).pipe(Qe(o=>(s._resolvedData=o,s.data=kl(s,s.parent,e).resolve,null)))}function Cx(s,t,e,i){let n=$h(s);if(n.length===0)return we({});let r={};return Gt(n).pipe(Ci(o=>wx(s[o],t,e,i).pipe(Gn(),$t(a=>{if(a instanceof Xo)throw Al(new Mr,a);r[o]=a}))),yh(1),Of(r),gr(o=>ug(o)?Wn:To(o)))}function wx(s,t,e,i){let n=ta(t)??i,r=Rr(s,n),o=r.resolve?r.resolve(t,e):Li(n,()=>r(t,e));return es(o)}function Yh(s){return wi(t=>{let e=s(t);return e?Gt(e).pipe(Qe(()=>t)):we(t)})}var gg=(()=>{class s{buildTitle(e){let i,n=e.root;for(;n!==void 0;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(r=>r.outlet===Ae);return i}getResolvedTitleForRoute(e){return e.data[Jo]}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:()=>le(xx),providedIn:"root"})}}return s})(),xx=(()=>{class s extends gg{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||s)(ke(Fm))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),sa=new ot("",{providedIn:"root",factory:()=>({})}),Tx=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=q({type:s,selectors:[["ng-component"]],standalone:!0,features:[ve],decls:1,vars:0,template:function(i,n){i&1&&L(0,"router-outlet")},dependencies:[Aw],encapsulation:2})}}return s})();function yu(s){let t=s.children&&s.children.map(yu),e=t?tt(K({},s),{children:t}):K({},s);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ae&&(e.component=Tx),e}var Qo=new ot(""),bu=(()=>{class s{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=le(al)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return we(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=es(e.loadComponent()).pipe(Qe(_g),$t(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),vr(()=>{this.componentLoaders.delete(e)})),n=new mh(i,()=>new Qt).pipe(fh());return this.componentLoaders.set(e,n),n}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return we({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=Sx(i,this.compiler,e,this.onLoadEndListener).pipe(vr(()=>{this.childrenLoaders.delete(i)})),o=new mh(r,()=>new Qt).pipe(fh());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function Sx(s,t,e,i){return es(s.loadChildren()).pipe(Qe(_g),Ci(n=>n instanceof $f||Array.isArray(n)?we(n):Gt(t.compileModuleAsync(n))),Qe(n=>{i&&i(s);let r,o,a=!1;return Array.isArray(n)?(o=n,a=!0):(r=n.create(e).injector,o=r.get(Qo,[],{optional:!0,self:!0}).flat()),{routes:o.map(yu),injector:r}}))}function Ix(s){return s&&typeof s=="object"&&"default"in s}function _g(s){return Ix(s)?s.default:s}var Cu=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:()=>le(Dx),providedIn:"root"})}}return s})(),Dx=(()=>{class s{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),vg=new ot(""),yg=new ot("");function Ox(s,t,e){let i=s.get(yg),n=s.get(Re);return s.get(nt).runOutsideAngular(()=>{if(!n.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let r,o=new Promise(u=>{r=u}),a=n.startViewTransition(()=>(r(),Ex(s))),{onViewTransitionCreated:c}=i;return c&&Li(s,()=>c({transition:a,from:t,to:e})),o})}function Ex(s){return new Promise(t=>{qf({read:()=>setTimeout(t)},{injector:s})})}var kx=new ot(""),wu=(()=>{class s{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qt,this.transitionAbortSubject=new Qt,this.configLoader=le(bu),this.environmentInjector=le(ws),this.urlSerializer=le(ea),this.rootContexts=le(ia),this.location=le(ko),this.inputBindingEnabled=le(Rl,{optional:!0})!==null,this.titleStrategy=le(gg),this.options=le(sa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=le(Cu),this.createViewTransition=le(vg,{optional:!0}),this.navigationErrorHandler=le(kx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>we(void 0),this.rootComponentType=null;let e=n=>this.events.next(new tu(n)),i=n=>this.events.next(new iu(n));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(tt(K(K({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,n){return this.transitions=new Ri({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ho,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xn(r=>r.id!==0),Qe(r=>tt(K({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),wi(r=>{let o=!1,a=!1;return we(r).pipe(wi(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Di.SupersededByNewNavigation),Wn;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?tt(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&d!=="reload"){let m="";return this.events.next(new Qn(c.id,this.urlSerializer.serialize(c.rawUrl),m,Sl.IgnoredSameUrlNavigation)),c.resolve(!1),Wn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return we(c).pipe(wi(m=>{let y=this.transitions?.getValue();return this.events.next(new Ar(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Wn:Promise.resolve(m)}),vx(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),$t(m=>{r.targetSnapshot=m.targetSnapshot,r.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=tt(K({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Il(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:y,source:b,restoredState:C,extras:x}=c,D=new Ar(m,this.urlSerializer.serialize(y),b,C);this.events.next(D);let R=rg(this.rootComponentType).snapshot;return this.currentTransition=r=tt(K({},c),{targetSnapshot:R,urlAfterRedirects:y,extras:tt(K({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,we(r)}else{let m="";return this.events.next(new Qn(c.id,this.urlSerializer.serialize(c.extractedUrl),m,Sl.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Wn}}),$t(c=>{let u=new Zh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Qe(c=>(this.currentTransition=r=tt(K({},c),{guards:Nw(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),r)),Xw(this.environmentInjector,c=>this.events.next(c)),$t(c=>{if(r.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Al(this.urlSerializer,c.guardsResult);let u=new Qh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),xn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Di.GuardRejected),!1)),Yh(c=>{if(c.guards.canActivateChecks.length)return we(c).pipe($t(u=>{let d=new Jh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),wi(u=>{let d=!1;return we(u).pipe(yx(this.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Di.NoDataFromResolver)}}))}),$t(u=>{let d=new eu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Yh(c=>{let u=d=>{let m=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(d.routeConfig).pipe($t(y=>{d.component=y}),Qe(()=>{})));for(let y of d.children)m.push(...u(y));return m};return Za(u(c.targetSnapshot.root)).pipe(vh(null),_r(1))}),Yh(()=>this.afterPreactivation()),wi(()=>{let{currentSnapshot:c,targetSnapshot:u}=r,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Gt(d).pipe(Qe(()=>r)):we(r)}),Qe(c=>{let u=Fw(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r=tt(K({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,r}),$t(()=>{this.events.next(new $o)}),Pw(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),_r(1),$t({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new On(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Af(this.transitionAbortSubject.pipe($t(c=>{throw c}))),vr(()=>{!o&&!a&&this.cancelNavigationTransition(r,"",Di.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),gr(c=>{if(a=!0,hg(c))this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),Lw(c)?this.events.next(new Fr(c.url,c.navigationBehaviorOptions)):r.resolve(!1);else{let u=new Go(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);try{let d=Li(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Xo){let{message:m,cancellationCode:y}=Al(this.urlSerializer,d);this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),m,y)),this.events.next(new Fr(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let m=e.errorHandler(c);r.resolve(!!m)}}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return Wn}))}))}cancelNavigationTransition(e,i,n){let r=new In(e.id,this.urlSerializer.serialize(e.extractedUrl),i,n);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function Mx(s){return s!==Ho}var Ax=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:()=>le(Fx),providedIn:"root"})}}return s})(),_u=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Fx=(()=>{class s extends _u{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})()}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),bg=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:()=>le(Vx),providedIn:"root"})}}return s})(),Vx=(()=>{class s extends bg{constructor(){super(...arguments),this.location=le(ko),this.urlSerializer=le(ea),this.options=le(sa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=le(Cu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rg(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Ar)this.stateMemento=this.createStateMemento();else if(e instanceof Qn)this.rawUrlTree=i.initialUrl;else if(e instanceof Il){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??n,i)}}else e instanceof $o?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof In&&(e.code===Di.GuardRejected||e.code===Di.NoDataFromResolver)?this.restoreHistory(i):e instanceof Go?this.restoreHistory(i,!0):e instanceof On&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let n=e instanceof Dn?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(n)||i.extras.replaceUrl){let r=this.browserPageId,o=K(K({},i.extras.state),this.generateNgRouterState(i.id,r));this.location.replaceState(n,"",o)}else{let r=K(K({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(n,"",r)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,r=this.currentPageId-n;r!==0?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&r===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})()}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Bo=function(s){return s[s.COMPLETE=0]="COMPLETE",s[s.FAILED=1]="FAILED",s[s.REDIRECTING=2]="REDIRECTING",s}(Bo||{});function Cg(s,t){s.events.pipe(xn(e=>e instanceof On||e instanceof In||e instanceof Go||e instanceof Qn),Qe(e=>e instanceof On||e instanceof Qn?Bo.COMPLETE:(e instanceof In?e.code===Di.Redirect||e.code===Di.SupersededByNewNavigation:!1)?Bo.REDIRECTING:Bo.FAILED),xn(e=>e!==Bo.REDIRECTING),_r(1)).subscribe(()=>{t()})}function Rx(s){throw s}var Lx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Px={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jn=(()=>{class s{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=le(nl),this.stateManager=le(bg),this.options=le(sa,{optional:!0})||{},this.pendingTasks=le(Qa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=le(wu),this.urlSerializer=le(ea),this.location=le(ko),this.urlHandlingStrategy=le(Cu),this._events=new Qt,this.errorHandler=this.options.errorHandler||Rx,this.navigated=!1,this.routeReuseStrategy=le(Ax),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=le(Qo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!le(Rl,{optional:!0}),this.eventsSubscription=new Cf,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let n=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(n!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof In&&i.code!==Di.Redirect&&i.code!==Di.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof On)this.navigated=!0;else if(i instanceof Fr){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,n.currentRawUrl),c=K({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Mx(n.source)},o);this.scheduleNavigation(a,Ho,null,c,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}jx(i)&&this._events.next(i)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ho,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,n){let r={replaceUrl:!0},o=n?.navigationId?n:null;if(n){let c=K({},n);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(r.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,o,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(yu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:n,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=K(K({},this.currentUrlTree.queryParams),r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}d!==null&&(d=this.removeEmptyProps(d));let m;try{let y=n?n.snapshot:this.routerState.snapshot.root;m=tg(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),m=this.currentUrlTree.root}return ig(m,e,d,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){let n=Wo(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,Ho,null,i)}navigate(e,i={skipLocationChange:!1}){return Nx(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let n;if(i===!0?n=K({},Lx):i===!1?n=K({},Px):n=i,Wo(e))return Rm(this.currentUrlTree,e,n);let r=this.parseUrl(e);return Rm(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.entries(e).reduce((i,[n,r])=>(r!=null&&(i[n]=r),i),{})}scheduleNavigation(e,i,n,r,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((m,y)=>{a=m,c=y});let d=this.pendingTasks.add();return Cg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function Nx(s){for(let t=0;t<s.length;t++)if(s[t]==null)throw new yt(4008,!1)}function jx(s){return!(s instanceof $o)&&!(s instanceof Fr)}var Vl=class{};var Bx=(()=>{class s{constructor(e,i,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xn(e=>e instanceof On),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let n=[];for(let r of i){r.providers&&!r._injector&&(r._injector=Sh(r.providers,e,`Route: ${r.path}`));let o=r._injector??e,a=r._loadedInjector??o;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&n.push(this.preloadConfig(o,r)),(r.children||r._loadedRoutes)&&n.push(this.processRoutes(a,r.children??r._loadedRoutes))}return Gt(n).pipe(gh())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let n;i.loadChildren&&i.canLoad===void 0?n=this.loader.loadChildren(e,i):n=we(null);let r=n.pipe(Ci(o=>o===null?we(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return Gt([r,o]).pipe(gh())}else return r})}static{this.\u0275fac=function(i){return new(i||s)(ke(Jn),ke(al),ke(ws),ke(Vl),ke(bu))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),wg=new ot(""),Ux=(()=>{class s{constructor(e,i,n,r,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=n,this.zone=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ar?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof On?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Qn&&e.code===Sl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Dl&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dl(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){Yf()}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})();function BF(s,...t){return Io([{provide:Qo,multi:!0,useValue:s},[],{provide:Os,useFactory:xg,deps:[Jn]},{provide:rl,multi:!0,useFactory:Tg},t.map(e=>e.\u0275providers)])}function xg(s){return s.routerState.root}function ra(s,t){return{\u0275kind:s,\u0275providers:t}}function Tg(){let s=le($n);return t=>{let e=s.get(ol);if(t!==e.components[0])return;let i=s.get(Jn),n=s.get(Sg);s.get(xu)===1&&i.initialNavigation(),s.get(Ig,null,bh.Optional)?.setUpPreloading(),s.get(wg,null,bh.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Sg=new ot("",{factory:()=>new Qt}),xu=new ot("",{providedIn:"root",factory:()=>1});function Hx(){return ra(2,[{provide:xu,useValue:0},{provide:Ih,multi:!0,deps:[$n],useFactory:t=>{let e=t.get(am,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let n=t.get(Jn),r=t.get(Sg);Cg(n,()=>{i(!0)}),t.get(wu).afterPreactivation=()=>(i(!0),r.closed?we(void 0):r),n.initialNavigation()}))}}])}function zx(){return ra(3,[{provide:Ih,multi:!0,useFactory:()=>{let t=le(Jn);return()=>{t.setUpLocationChangeListener()}}},{provide:xu,useValue:2}])}var Ig=new ot("");function Wx(s){return ra(0,[{provide:Ig,useExisting:Bx},{provide:Vl,useExisting:s}])}function Yx(){return ra(8,[jm,{provide:Rl,useExisting:jm}])}function Gx(s){let t=[{provide:vg,useValue:Ox},{provide:yg,useValue:K({skipNextTransition:!!s?.skipInitialTransition},s)}];return ra(9,t)}var zm=new ot("ROUTER_FORROOT_GUARD"),$x=[ko,{provide:ea,useClass:Mr},Jn,ia,{provide:Os,useFactory:xg,deps:[Jn]},bu,[]],UF=(()=>{class s{constructor(e){}static forRoot(e,i){return{ngModule:s,providers:[$x,[],{provide:Qo,multi:!0,useValue:e},{provide:zm,useFactory:Zx,deps:[[Jn,new Ch,new Vf]]},{provide:sa,useValue:i||{}},i?.useHash?Xx():Kx(),qx(),i?.preloadingStrategy?Wx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Qx(i):[],i?.bindToComponentInputs?Yx().\u0275providers:[],i?.enableViewTransitions?Gx().\u0275providers:[],Jx()]}}static forChild(e){return{ngModule:s,providers:[{provide:Qo,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||s)(ke(zm,8))}}static{this.\u0275mod=de({type:s})}static{this.\u0275inj=ue({})}}return s})();function qx(){return{provide:wg,useFactory:()=>{let s=le(um),t=le(nt),e=le(sa),i=le(wu),n=le(ea);return e.scrollOffset&&s.setOffset(e.scrollOffset),new Ux(n,i,s,t,e)}}}function Xx(){return{provide:Dh,useClass:cm}}function Kx(){return{provide:Dh,useClass:lm}}function Zx(s){return"guarded"}function Qx(s){return[s.initialNavigation==="disabled"?zx().\u0275providers:[],s.initialNavigation==="enabledBlocking"?Hx().\u0275providers:[]]}var Wm=new ot("");function Jx(){return[{provide:Wm,useFactory:Tg},{provide:rl,multi:!0,useExisting:Wm}]}var ae=class s{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=Array.isArray(t),n=Array.isArray(e),r,o,a;if(i&&n){if(o=t.length,o!=e.length)return!1;for(r=o;r--!==0;)if(!this.equalsByValue(t[r],e[r]))return!1;return!0}if(i!=n)return!1;var c=this.isDate(t),u=this.isDate(e);if(c!=u)return!1;if(c&&u)return t.getTime()==e.getTime();var d=t instanceof RegExp,m=e instanceof RegExp;if(d!=m)return!1;if(d&&m)return t.toString()==e.toString();var y=Object.keys(t);if(o=y.length,o!==Object.keys(e).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,y[r]))return!1;for(r=o;r--!==0;)if(a=y[r],!this.equalsByValue(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let i=e.split("."),n=t;for(let r=0,o=i.length;r<o;++r){if(n==null)return null;n=n[i[r]]}return n}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){let n;t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,n){if(i.length>0){let r=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],n)>e){i.splice(o,0,t),r=!0;break}r||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e){for(let n=0;n<e.length;n++)if(e[n]==t){i=n;break}}return i}static contains(t,e){if(t!=null&&e&&e.length){for(let i of e)if(this.equals(t,i))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,n=1){let r=-1,o=this.isEmpty(t),a=this.isEmpty(e);return o&&a?r=0:o?r=n:a?r=-n:typeof t=="string"&&typeof e=="string"?r=t.localeCompare(e,i,{numeric:!0}):r=t<e?-1:t>e?1:0,r}static sort(t,e,i=1,n,r=1){let o=s.compare(t,e,n,i),a=i;return(s.isEmpty(t)||s.isEmpty(e))&&(a=r===1?i:r),a*o}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return K(K({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=Array.isArray(t),n=Array.isArray(e),r,o,a;if(i&&n){if(o=t.length,o!=e.length)return!1;for(r=o;r--!==0;)if(!this.deepEquals(t[r],e[r]))return!1;return!0}if(i!=n)return!1;var c=t instanceof Date,u=e instanceof Date;if(c!=u)return!1;if(c&&u)return t.getTime()==e.getTime();var d=t instanceof RegExp,m=e instanceof RegExp;if(d!=m)return!1;if(d&&m)return t.toString()==e.toString();var y=Object.keys(t);if(o=y.length,o!==Object.keys(e).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,y[r]))return!1;for(r=o;r--!==0;)if(a=y[r],!this.deepEquals(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}},Dg=0;function Ye(s="pn_id_"){return Dg++,`${s}${Dg}`}function e2(){let s=[],t=(r,o)=>{let a=s.length>0?s[s.length-1]:{key:r,value:o},c=a.value+(a.key===r?0:o)+2;return s.push({key:r,value:c}),c},e=r=>{s=s.filter(o=>o.value!==r)},i=()=>s.length>0?s[s.length-1].value:0,n=r=>r&&parseInt(r.style.zIndex,10)||0;return{get:n,set:(r,o,a)=>{o&&(o.style.zIndex=String(t(r,a)))},clear:r=>{r&&(e(n(r)),r.style.zIndex="")},getCurrent:()=>i()}}var wt=e2();var Og=["*"],Es=function(s){return s[s.ACCEPT=0]="ACCEPT",s[s.REJECT=1]="REJECT",s[s.CANCEL=2]="CANCEL",s}(Es||{}),Lr=(()=>{class s{requireConfirmationSource=new Qt;acceptConfirmationSource=new Qt;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Te({token:s,factory:s.\u0275fac})}return s})();var ti=(()=>{class s{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return s})();var Eg=(()=>{class s{filter(e,i,n,r,o){let a=[];if(e)for(let c of e)for(let u of i){let d=ae.resolveFieldData(c,u);if(this.filters[r](d,n,o)){a.push(c);break}}return a}filters={startsWith:(e,i,n)=>{if(i==null||i.trim()==="")return!0;if(e==null)return!1;let r=ae.removeAccents(i.toString()).toLocaleLowerCase(n);return ae.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,r.length)===r},contains:(e,i,n)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(e==null)return!1;let r=ae.removeAccents(i.toString()).toLocaleLowerCase(n);return ae.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)!==-1},notContains:(e,i,n)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(e==null)return!1;let r=ae.removeAccents(i.toString()).toLocaleLowerCase(n);return ae.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)===-1},endsWith:(e,i,n)=>{if(i==null||i.trim()==="")return!0;if(e==null)return!1;let r=ae.removeAccents(i.toString()).toLocaleLowerCase(n),o=ae.removeAccents(e.toString()).toLocaleLowerCase(n);return o.indexOf(r,o.length-r.length)!==-1},equals:(e,i,n)=>i==null||typeof i=="string"&&i.trim()===""?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()===i.getTime():e==i?!0:ae.removeAccents(e.toString()).toLocaleLowerCase(n)==ae.removeAccents(i.toString()).toLocaleLowerCase(n),notEquals:(e,i,n)=>i==null||typeof i=="string"&&i.trim()===""?!1:e==null?!0:e.getTime&&i.getTime?e.getTime()!==i.getTime():e==i?!1:ae.removeAccents(e.toString()).toLocaleLowerCase(n)!=ae.removeAccents(i.toString()).toLocaleLowerCase(n),in:(e,i)=>{if(i==null||i.length===0)return!0;for(let n=0;n<i.length;n++)if(ae.equals(e,i[n]))return!0;return!1},between:(e,i)=>i==null||i[0]==null||i[1]==null?!0:e==null?!1:e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1],lt:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()<i.getTime():e<i,lte:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i,gt:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()>i.getTime():e>i,gte:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i,is:(e,i,n)=>this.filters.equals(e,i,n),isNot:(e,i,n)=>this.filters.notEquals(e,i,n),before:(e,i,n)=>this.filters.lt(e,i,n),after:(e,i,n)=>this.filters.gt(e,i,n),dateIs:(e,i)=>i==null?!0:e==null?!1:e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>i==null?!0:e==null?!1:e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>i==null?!0:e==null?!1:e.getTime()<i.getTime(),dateAfter:(e,i)=>{if(i==null)return!0;if(e==null)return!1;let n=new Date(e);return n.setHours(0,0,0,0),n.getTime()>i.getTime()}};register(e,i){this.filters[e]=i}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),ts=(()=>{class s{messageSource=new Qt;clearSource=new Qt;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Te({token:s,factory:s.\u0275fac})}return s})(),Pl=(()=>{class s{clickSource=new Qt;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var ht=(()=>{class s{ripple=!1;inputStyle=Jt("outlined");overlayOptions={};csp=Jt({nonce:void 0});filterMatchModeOptions={text:[ti.STARTS_WITH,ti.CONTAINS,ti.NOT_CONTAINS,ti.ENDS_WITH,ti.EQUALS,ti.NOT_EQUALS],numeric:[ti.EQUALS,ti.NOT_EQUALS,ti.LESS_THAN,ti.LESS_THAN_OR_EQUAL_TO,ti.GREATER_THAN,ti.GREATER_THAN_OR_EQUAL_TO],date:[ti.DATE_IS,ti.DATE_IS_NOT,ti.DATE_BEFORE,ti.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Qt;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=K(K({},this.translation),e),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),kg=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["p-header"]],standalone:!0,features:[ve],ngContentSelectors:Og,decls:1,vars:0,template:function(i,n){i&1&&(bt(),ct(0))},encapsulation:2})}return s})(),Nl=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["p-footer"]],standalone:!0,features:[ve],ngContentSelectors:Og,decls:1,vars:0,template:function(i,n){i&1&&(bt(),ct(0))},encapsulation:2})}return s})(),Ge=(()=>{class s{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||s)(j(el))};static \u0275dir=Dt({type:s,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return s})(),Oe=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({})}return s})(),_t=(()=>{class s{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return s})();var M=(()=>{class s{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let n=i.trim().split(" ");for(let r=0;r<n.length;r++)e.classList.add(n[r])}else{let n=i.split(" ");for(let r=0;r<n.length;r++)e.className+=" "+n[r]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(n=>n.split(" ").forEach(r=>this.removeClass(e,r)))}static hasClass(e,i){return e&&i?e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,n=0;for(var r=0;r<i.length;r++){if(i[r]==e)return n;i[r].nodeType==1&&n++}return-1}static indexWithinGroup(e,i){let n=e.parentNode?e.parentNode.childNodes:[],r=0;for(var o=0;o<n.length;o++){if(n[o]==e)return r;n[o].attributes&&n[o].attributes[i]&&n[o].nodeType==1&&r++}return-1}static appendOverlay(e,i,n="self"){n!=="self"&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,n="self",r=!0){e&&i&&(r&&(e.style.minWidth=`${s.getOuterWidth(i)}px`),n==="self"?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,n=!0){let r=U=>{if(U)return getComputedStyle(U).getPropertyValue("position")==="relative"?U:r(U.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=i.offsetHeight??i.getBoundingClientRect().height,c=i.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),m=this.getViewport(),b=r(e)?.getBoundingClientRect()||{top:-1*u,left:-1*d},C,x;c.top+a+o.height>m.height?(C=c.top-b.top-o.height,e.style.transformOrigin="bottom",c.top+C<0&&(C=-1*c.top)):(C=a+c.top-b.top,e.style.transformOrigin="top");let D=c.left+o.width-m.width,R=c.left-b.left;o.width>m.width?x=(c.left-b.left)*-1:D>0?x=R-D:x=c.left-b.left,e.style.top=C+"px",e.style.left=x+"px",n&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,n=!0){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,a=r.width,c=i.offsetHeight??i.getBoundingClientRect().height,u=i.offsetWidth??i.getBoundingClientRect().width,d=i.getBoundingClientRect(),m=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),b=this.getViewport(),C,x;d.top+c+o>b.height?(C=d.top+m-o,e.style.transformOrigin="bottom",C<0&&(C=m)):(C=c+d.top+m,e.style.transformOrigin="top"),d.left+a>b.width?x=Math.max(0,d.left+y+u-a):x=d.left+y,e.style.top=C+"px",e.style.left=x+"px",n&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return e.parentNode===null?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let n=this.getParents(e),r=/(auto|scroll)/,o=a=>{let c=window.getComputedStyle(a,null);return r.test(c.getPropertyValue("overflow"))||r.test(c.getPropertyValue("overflowX"))||r.test(c.getPropertyValue("overflowY"))};for(let a of n){let c=a.nodeType===1&&a.dataset.scrollselectors;if(c){let u=c.split(",");for(let d of u){let m=this.findSingle(a,d);m&&o(m)&&i.push(m)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,c=e.getBoundingClientRect(),d=i.getBoundingClientRect().top+document.body.scrollTop-(c.top+document.body.scrollTop)-r-a,m=e.scrollTop,y=e.clientHeight,b=this.getOuterHeight(i);d<0?e.scrollTop=m+d:d+b>y&&(e.scrollTop=m+d-y+b)}static fadeIn(e,i){e.style.opacity=0;let n=+new Date,r=0,o=function(){r=+e.style.opacity.replace(",",".")+(new Date().getTime()-n)/i,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var n=1,r=50,o=i,a=r/o;let c=setInterval(()=>{n=n-a,n<=0&&(n=0,clearInterval(c)),e.style.opacity=n},r)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var n=Element.prototype,r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return r.call(e,i)}static getOuterWidth(e,i){let n=e.offsetWidth;if(i){let r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,n=getComputedStyle(e);return i+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),i}static width(e){let i=e.offsetWidth,n=getComputedStyle(e);return i-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,n=getComputedStyle(e);return i+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),i}static getOuterHeight(e,i){let n=e.offsetHeight;if(i){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}static getHeight(e){let i=e.offsetHeight,n=getComputedStyle(e);return i-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,n=getComputedStyle(e);return i-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),i}static getViewport(){let e=window,i=document,n=i.documentElement,r=i.getElementsByTagName("body")[0],o=e.innerWidth||n.clientWidth||r.clientWidth,a=e.innerHeight||n.clientHeight||r.clientHeight;return{width:o,height:a}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let n=e.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return!0;var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return!0}var o=e.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(e);else throw"Cannot append "+i+" to "+e}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+i}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let n=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=n,n}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,n){e[i].apply(e,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let n=this.find(e,this.getFocusableSelectorString(i)),r=[];for(let o of n){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&r.push(o)}return r}static getFocusableElement(e,i=""){let n=this.findSingle(e,this.getFocusableSelectorString(i));if(n){let r=getComputedStyle(n);if(this.isVisible(n)&&r.display!="none"&&r.visibility!="hidden")return n}return null}static getFirstFocusableElement(e,i=""){let n=this.getFocusableElements(e,i);return n.length>0?n[0]:null}static getLastFocusableElement(e,i){let n=this.getFocusableElements(e,i);return n.length>0?n[n.length-1]:null}static getNextFocusableElement(e,i=!1){let n=s.getFocusableElements(e),r=0;if(n&&n.length>0){let o=n.indexOf(n[0].ownerDocument.activeElement);i?o==-1||o===0?r=n.length-1:r=o-1:o!=-1&&o!==n.length-1&&(r=o+1)}return n[r]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let n=typeof e;if(n==="string")return document.querySelector(e);if(n==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(e)?e():e;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){let n=e.getAttribute(i);return isNaN(n)?n==="true"||n==="false"?n==="true":n:+n}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,i={},...n){if(e){let r=document.createElement(e);return this.setAttributes(r,i),r.append(...n),r}}static setAttribute(e,i="",n){this.isElement(e)&&n!==null&&n!==void 0&&e.setAttribute(i,n)}static setAttributes(e,i={}){if(this.isElement(e)){let n=(r,o)=>{let a=e?.$attrs?.[r]?[e?.$attrs?.[r]]:[];return[o].flat().reduce((c,u)=>{if(u!=null){let d=typeof u;if(d==="string"||d==="number")c.push(u);else if(d==="object"){let m=Array.isArray(u)?n(r,u):Object.entries(u).map(([y,b])=>r==="style"&&(b||b===0)?`${y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${b}`:b?y:void 0);c=m.length?c.concat(m.filter(y=>!!y)):c}}return c},a)};Object.entries(i).forEach(([r,o])=>{if(o!=null){let a=r.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),o):r==="pBind"?this.setAttributes(e,o):(o=r==="class"?[...new Set(n("class",o))].join(" ").trim():r==="style"?n("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[r]=o),e.setAttribute(r,o))}})}}static isFocusableElement(e,i=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return s})(),is=class{element;listener;scrollableParents;constructor(t,e=()=>{}){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=M.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var t2=["*"],De=(()=>{class s{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let e=ae.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",B],styleClass:"styleClass"},standalone:!0,features:[Me,ve],ngContentSelectors:t2,decls:1,vars:0,template:function(i,n){i&1&&(bt(),ct(0))},encapsulation:2,changeDetection:0})}return s})();var Tu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["EyeIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Su=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["RefreshIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var Iu=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["SearchMinusIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var Du=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["SearchPlusIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var ut=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["TimesIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Ou=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["UndoIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var Mg=(()=>{class s{pFocusTrapDisabled=!1;platformId=le(gt);host=le(Ve);document=le(Re);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){Ot(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){e.pFocusTrapDisabled&&Ot(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let e="0",i=n=>M.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:e,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:n?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:i,relatedTarget:n}=e,r=n===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(n)?M.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;M.focus(r)}onLastHiddenElementFocus(e){let{currentTarget:i,relatedTarget:n}=e,r=n===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(n)?M.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;M.focus(r)}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Dt({type:s,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",B]},features:[Me,Pi]})}return s})(),Ag=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se]})}return s})();var n2=["mask"],s2=["previewButton"],r2=["closeButton"],o2=(s,t)=>({height:s,width:t,border:"none"}),a2=(s,t)=>({showTransitionParams:s,hideTransitionParams:t}),l2=s=>({value:"visible",params:s});function c2(s,t){s&1&&pe(0)}function h2(s,t){if(s&1&&(ee(0),T(1,c2,1,0,"ng-container",10),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.indicatorTemplate)}}function u2(s,t){s&1&&L(0,"EyeIcon",11),s&2&&f("styleClass","p-image-preview-icon")}function d2(s,t){if(s&1){let e=J();S(0,"button",8,0),W("click",function(){O(e);let n=v();return E(n.onImageClick())}),T(2,h2,2,1,"ng-container",9)(3,u2,1,1,"ng-template",null,1,It),I()}if(s&2){let e=at(4),i=v();f("ngStyle",Pe(4,o2,i.height+"px",i.width+"px")),k("aria-label",i.zoomImageAriaLabel),_(2),f("ngIf",i.indicatorTemplate)("ngIfElse",e)}}function p2(s,t){s&1&&L(0,"RefreshIcon")}function f2(s,t){}function m2(s,t){s&1&&T(0,f2,0,0,"ng-template")}function g2(s,t){s&1&&L(0,"UndoIcon")}function _2(s,t){}function v2(s,t){s&1&&T(0,_2,0,0,"ng-template")}function y2(s,t){s&1&&L(0,"SearchMinusIcon")}function b2(s,t){}function C2(s,t){s&1&&T(0,b2,0,0,"ng-template")}function w2(s,t){s&1&&L(0,"SearchPlusIcon")}function x2(s,t){}function T2(s,t){s&1&&T(0,x2,0,0,"ng-template")}function S2(s,t){s&1&&L(0,"TimesIcon")}function I2(s,t){}function D2(s,t){s&1&&T(0,I2,0,0,"ng-template")}function O2(s,t){if(s&1){let e=J();S(0,"div"),W("@animation.start",function(n){O(e);let r=v(2);return E(r.onAnimationStart(n))})("@animation.done",function(n){O(e);let r=v(2);return E(r.onAnimationEnd(n))}),S(1,"img",17),W("click",function(){O(e);let n=v(2);return E(n.onPreviewImageClick())}),I()()}if(s&2){let e=v(2);f("@animation",he(8,l2,Pe(5,a2,e.showTransitionOptions,e.hideTransitionOptions))),_(),f("ngStyle",e.imagePreviewStyle()),k("src",e.previewImageSrc?e.previewImageSrc:e.src,Oo)("srcset",e.previewImageSrcSet)("sizes",e.previewImageSizes)}}function E2(s,t){if(s&1){let e=J();S(0,"div",12,2),W("click",function(){O(e);let n=v();return E(n.onMaskClick())})("keydown",function(n){O(e);let r=v();return E(r.onMaskKeydown(n))}),S(2,"div",13),W("click",function(n){O(e);let r=v();return E(r.handleToolbarClick(n))}),S(3,"button",14),W("click",function(){O(e);let n=v();return E(n.rotateRight())}),T(4,p2,1,0,"RefreshIcon",15)(5,m2,1,0,null,10),I(),S(6,"button",14),W("click",function(){O(e);let n=v();return E(n.rotateLeft())}),T(7,g2,1,0,"UndoIcon",15)(8,v2,1,0,null,10),I(),S(9,"button",16),W("click",function(){O(e);let n=v();return E(n.zoomOut())}),T(10,y2,1,0,"SearchMinusIcon",15)(11,C2,1,0,null,10),I(),S(12,"button",16),W("click",function(){O(e);let n=v();return E(n.zoomIn())}),T(13,w2,1,0,"SearchPlusIcon",15)(14,T2,1,0,null,10),I(),S(15,"button",14,3),W("click",function(){O(e);let n=v();return E(n.closePreview())}),T(17,S2,1,0,"TimesIcon",15)(18,D2,1,0,null,10),I()(),T(19,O2,2,10,"div",15),I()}if(s&2){let e=v();k("aria-modal",e.maskVisible),_(3),k("aria-label",e.rightAriaLabel()),_(),f("ngIf",!e.rotateRightIconTemplate),_(),f("ngTemplateOutlet",e.rotateRightIconTemplate),_(),k("aria-label",e.leftAriaLabel()),_(),f("ngIf",!e.rotateLeftIconTemplate),_(),f("ngTemplateOutlet",e.rotateLeftIconTemplate),_(),f("disabled",e.isZoomOutDisabled),k("aria-label",e.zoomOutAriaLabel()),_(),f("ngIf",!e.zoomOutIconTemplate),_(),f("ngTemplateOutlet",e.zoomOutIconTemplate),_(),f("disabled",e.isZoomInDisabled),k("aria-label",e.zoomInAriaLabel()),_(),f("ngIf",!e.zoomInIconTemplate),_(),f("ngTemplateOutlet",e.zoomInIconTemplate),_(),k("aria-label",e.closeAriaLabel()),_(2),f("ngIf",!e.closeIconTemplate),_(),f("ngTemplateOutlet",e.closeIconTemplate),_(),f("ngIf",e.previewVisible)}}var e9=(()=>{class s{document;config;cd;el;imageClass;imageStyle;styleClass;style;src;srcSet;sizes;previewImageSrc;previewImageSrcSet;previewImageSizes;alt;width;height;loading;appendTo;preview=!1;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";onShow=new G;onHide=new G;onImageError=new G;mask;previewButton;closeButton;templates;indicatorTemplate;rotateRightIconTemplate;rotateLeftIconTemplate;zoomOutIconTemplate;zoomInIconTemplate;closeIconTemplate;maskVisible=!1;previewVisible=!1;rotate=0;scale=1;previewClick=!1;container;wrapper;get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}zoomSettings={default:1,step:.1,max:1.5,min:.5};constructor(e,i,n,r){this.document=e,this.config=i,this.cd=n,this.el=r}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"indicator":this.indicatorTemplate=e.template;break;case"rotaterighticon":this.rotateRightIconTemplate=e.template;break;case"rotatelefticon":this.rotateLeftIconTemplate=e.template;break;case"zoomouticon":this.zoomOutIconTemplate=e.template;break;case"zoominicon":this.zoomInIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.indicatorTemplate=e.template;break}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0,M.blockBodyScroll())}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(e){switch(e.code){case"Escape":this.onMaskClick(),setTimeout(()=>{M.focus(this.previewButton.nativeElement)},25),e.preventDefault();break;default:break}}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),setTimeout(()=>{M.focus(this.closeButton.nativeElement)},25);break;case"void":M.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":wt.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({});break}}moveOnTop(){wt.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):M.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}get zoomImageAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomImage:void 0}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}handleToolbarClick(e){e.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default,M.unblockBodyScroll()}imageError(e){this.onImageError.emit(e)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(e){this.previewVisible&&this.closePreview()}static \u0275fac=function(i){return new(i||s)(j(Re),j(ht),j(Ue),j(Ve))};static \u0275cmp=q({type:s,selectors:[["p-image"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(n2,5),ye(s2,5),ye(r2,5)),i&2){let r;ie(r=ne())&&(n.mask=r.first),ie(r=ne())&&(n.previewButton=r.first),ie(r=ne())&&(n.closeButton=r.first)}},hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&W("keydown.escape",function(o){return n.onKeydownHandler(o)},!1,Ja)},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",srcSet:"srcSet",sizes:"sizes",previewImageSrc:"previewImageSrc",previewImageSrcSet:"previewImageSrcSet",previewImageSizes:"previewImageSizes",alt:"alt",width:"width",height:"height",loading:"loading",appendTo:"appendTo",preview:[2,"preview","preview",B],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},features:[Me],decls:4,vars:16,consts:[["previewButton",""],["defaultTemplate",""],["mask",""],["closeButton",""],[3,"ngClass","ngStyle"],[3,"error","ngStyle"],["type","button","class","p-image-preview-indicator",3,"ngStyle","click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter","role","dialog","pFocusTrap","",3,"click","keydown",4,"ngIf"],["type","button",1,"p-image-preview-indicator",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[3,"styleClass"],["role","dialog","pFocusTrap","",1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click","keydown"],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-link",3,"click"],[4,"ngIf"],["type","button",1,"p-image-action","p-link",3,"click","disabled"],[1,"p-image-preview",3,"click","ngStyle"]],template:function(i,n){i&1&&(S(0,"span",4)(1,"img",5),W("error",function(o){return n.imageError(o)}),I(),T(2,d2,5,7,"button",6)(3,E2,20,19,"div",7),I()),i&2&&(Y(n.styleClass),f("ngClass",n.containerClass())("ngStyle",n.style),_(),Y(n.imageClass),f("ngStyle",n.imageStyle),k("src",n.src,Oo)("srcset",n.srcSet)("sizes",n.sizes)("alt",n.alt)("width",n.width)("height",n.height)("loading",n.loading),_(),f("ngIf",n.preview),_(),f("ngIf",n.maskVisible))},dependencies:()=>[Le,He,qe,Ne,Su,Tu,Ou,Iu,Du,ut,Mg],styles:[`@layer primeng{.p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block;line-height:0}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;outline:none;border:none;padding:0;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon.pi{font-size:1.5rem}.p-image-preview-icon.p-icon{scale:1.5}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex;z-index:1}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-action.p-link[disabled]{opacity:.5}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}}
`],encapsulation:2,data:{animation:[Si("animation",[Ft("void => visible",[Ct({transform:"scale(0.7)",opacity:0}),Rt("{{showTransitionParams}}")]),Ft("visible => void",[Rt("{{hideTransitionParams}}",Ct({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return s})(),Eu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Oe,Su,Tu,Ou,Iu,Du,ut,Ag,Oe]})}return s})();var Bg=(()=>{class s{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||s)(j(pt),j(Ve))}}static{this.\u0275dir=Dt({type:s})}}return s})(),k2=(()=>{class s extends Bg{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})()}static{this.\u0275dir=Dt({type:s,features:[Ce]})}}return s})(),ii=new ot("");var M2={provide:ii,useExisting:Nt(()=>Ug),multi:!0};function A2(){let s=wr()?wr().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}var F2=new ot(""),Ug=(()=>{class s extends Bg{constructor(e,i,n){super(e,i),this._compositionMode=n,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!A2())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||s)(j(pt),j(Ve),j(F2,8))}}static{this.\u0275dir=Dt({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){i&1&&W("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},features:[Xt([M2]),Ce]})}}return s})();var V2=new ot(""),R2=new ot("");function Hg(s){return s!=null}function zg(s){return sl(s)?Gt(s):s}function Wg(s){let t={};return s.forEach(e=>{t=e!=null?K(K({},t),e):t}),Object.keys(t).length===0?null:t}function Yg(s,t){return t.map(e=>e(s))}function L2(s){return!s.validate}function Gg(s){return s.map(t=>L2(t)?t:e=>t.validate(e))}function P2(s){if(!s)return null;let t=s.filter(Hg);return t.length==0?null:function(e){return Wg(Yg(e,t))}}function $g(s){return s!=null?P2(Gg(s)):null}function N2(s){if(!s)return null;let t=s.filter(Hg);return t.length==0?null:function(e){let i=Yg(e,t).map(zg);return If(i).pipe(Qe(Wg))}}function qg(s){return s!=null?N2(Gg(s)):null}function Fg(s,t){return s===null?[t]:Array.isArray(s)?[...s,t]:[s,t]}function j2(s){return s._rawValidators}function B2(s){return s._rawAsyncValidators}function ku(s){return s?Array.isArray(s)?s:[s]:[]}function Bl(s,t){return Array.isArray(s)?s.includes(t):s===t}function Vg(s,t){let e=ku(t);return ku(s).forEach(n=>{Bl(e,n)||e.push(n)}),e}function Rg(s,t){return ku(t).filter(e=>!Bl(s,e))}var Ul=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$g(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Mu=class extends Ul{get formDirective(){return null}get path(){return null}},En=class extends Ul{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Au=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},U2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_9=tt(K({},U2),{"[class.ng-submitted]":"isSubmitted"}),v9=(()=>{class s extends Au{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||s)(j(En,2))}}static{this.\u0275dir=Dt({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){i&2&&xi("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[Ce]})}}return s})();var oa="VALID",jl="INVALID",Pr="PENDING",aa="DISABLED",jr=class{},Hl=class extends jr{constructor(t,e){super(),this.value=t,this.source=e}},la=class extends jr{constructor(t,e){super(),this.pristine=t,this.source=e}},ca=class extends jr{constructor(t,e){super(),this.touched=t,this.source=e}},Nr=class extends jr{constructor(t,e){super(),this.status=t,this.source=e}};function H2(s){return(zl(s)?s.validators:s)||null}function z2(s){return Array.isArray(s)?$g(s):s||null}function W2(s,t){return(zl(t)?t.asyncValidators:s)||null}function Y2(s){return Array.isArray(s)?qg(s):s||null}function zl(s){return s!=null&&!Array.isArray(s)&&typeof s=="object"}var Fu=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Tn(()=>this.statusReactive()),this.statusReactive=Jt(void 0),this._pristine=Tn(()=>this.pristineReactive()),this.pristineReactive=Jt(!0),this._touched=Tn(()=>this.touchedReactive()),this.touchedReactive=Jt(!1),this._events=new Qt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ts(this.statusReactive)}set status(t){Ts(()=>this.statusReactive.set(t))}get valid(){return this.status===oa}get invalid(){return this.status===jl}get pending(){return this.status==Pr}get disabled(){return this.status===aa}get enabled(){return this.status!==aa}get pristine(){return Ts(this.pristineReactive)}set pristine(t){Ts(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Ts(this.touchedReactive)}set touched(t){Ts(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Vg(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Vg(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Rg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Rg(t,this._rawAsyncValidators))}hasValidator(t){return Bl(this._rawValidators,t)}hasAsyncValidator(t){return Bl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(tt(K({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ca(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new ca(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(tt(K({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new la(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new la(!0,i))}markAsPending(t={}){this.status=Pr;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Nr(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(tt(K({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=aa,this.errors=null,this._forEachChild(n=>{n.disable(tt(K({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hl(this.value,i)),this._events.next(new Nr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(tt(K({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=oa,this._forEachChild(i=>{i.enable(tt(K({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(tt(K({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oa||this.status===Pr)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hl(this.value,e)),this._events.next(new Nr(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(tt(K({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aa:oa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Pr,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=zg(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,n)=>i&&i._find(n),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Nr(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new G,this.statusChanges=new G}_calculateStatus(){return this._allControlsDisabled()?aa:this.errors?jl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pr)?Pr:this._anyControlsHaveStatus(jl)?jl:oa}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),n&&this._events.next(new la(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ca(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=z2(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Y2(this._rawAsyncValidators)}};var Xg=new ot("CallSetDisabledState",{providedIn:"root",factory:()=>Vu}),Vu="always";function G2(s,t){return[...t.path,s]}function $2(s,t,e=Vu){X2(s,t),t.valueAccessor.writeValue(s.value),(s.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(s.disabled),K2(s,t),Q2(s,t),Z2(s,t),q2(s,t)}function Lg(s,t){s.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function q2(s,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};s.registerOnDisabledChange(e),t._registerOnDestroy(()=>{s._unregisterOnDisabledChange(e)})}}function X2(s,t){let e=j2(s);t.validator!==null?s.setValidators(Fg(e,t.validator)):typeof e=="function"&&s.setValidators([e]);let i=B2(s);t.asyncValidator!==null?s.setAsyncValidators(Fg(i,t.asyncValidator)):typeof i=="function"&&s.setAsyncValidators([i]);let n=()=>s.updateValueAndValidity();Lg(t._rawValidators,n),Lg(t._rawAsyncValidators,n)}function K2(s,t){t.valueAccessor.registerOnChange(e=>{s._pendingValue=e,s._pendingChange=!0,s._pendingDirty=!0,s.updateOn==="change"&&Kg(s,t)})}function Z2(s,t){t.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,s.updateOn==="blur"&&s._pendingChange&&Kg(s,t),s.updateOn!=="submit"&&s.markAsTouched()})}function Kg(s,t){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function Q2(s,t){let e=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};s.registerOnChange(e),t._registerOnDestroy(()=>{s._unregisterOnChange(e)})}function J2(s,t){if(!s.hasOwnProperty("model"))return!1;let e=s.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function eT(s){return Object.getPrototypeOf(s.constructor)===k2}function tT(s,t){if(!t)return null;Array.isArray(t);let e,i,n;return t.forEach(r=>{r.constructor===Ug?e=r:eT(r)?i=r:n=r}),n||i||e||null}function Pg(s,t){let e=s.indexOf(t);e>-1&&s.splice(e,1)}function Ng(s){return typeof s=="object"&&s!==null&&Object.keys(s).length===2&&"value"in s&&"disabled"in s}var iT=class extends Fu{constructor(t=null,e,i){super(H2(e),W2(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Ng(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Pg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Pg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Ng(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var nT={provide:En,useExisting:Nt(()=>Ru)},jg=Promise.resolve(),Ru=(()=>{class s extends En{constructor(e,i,n,r,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new iT,this._registered=!1,this.name="",this.update=new G,this._parent=e,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=tT(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),J2(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){jg.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,n=i!==0&&B(i);jg.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?G2(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||s)(j(Mu,9),j(V2,10),j(R2,10),j(ii,10),j(Ue,8),j(Xg,8))}}static{this.\u0275dir=Dt({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xt([nT]),Ce,Pi]})}}return s})();var sT=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=de({type:s})}static{this.\u0275inj=ue({})}}return s})();var Lu=(()=>{class s{static withConfig(e){return{ngModule:s,providers:[{provide:Xg,useValue:e.callSetDisabledState??Vu}]}}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=de({type:s})}static{this.\u0275inj=ue({imports:[sT]})}}return s})();var Wl=(()=>{class s{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Ye()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(e,i,n,r,o,a){this.platformId=e,this.el=i,this.zone=n,this.config=r,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){Ot(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement)),i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=K(K({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(M.hasClass(e.relatedTarget,"p-tooltip")||M.hasClass(e.relatedTarget,"p-tooltip-text")||M.hasClass(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?M.appendChild(this.container,this.el.nativeElement):M.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),M.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?wt.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&wt.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e instanceof el){let i=this.viewContainer.createEmbeddedView(e);i.detectChanges(),i.rootNodes.forEach(n=>this.tooltipText.appendChild(n))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),i=e.left+M.getWindowScrollLeft(),n=e.top+M.getWindowScrollTop();return{left:i,top:n}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.activeElement,i=this.getHostOffset(),n=i.left+M.getOuterWidth(e),r=i.top+(M.getOuterHeight(e)-M.getOuterHeight(this.container))/2;this.container.style.left=n+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?M.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-M.getOuterWidth(this.container),n=e.top+(M.getOuterHeight(this.el.nativeElement)-M.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,n=e.top-M.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,n=e.top+M.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=K(K({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return M.hasClass(e,"p-inputwrapper")?M.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,n=e.left,r=M.getOuterWidth(this.container),o=M.getOuterHeight(this.container),a=M.getViewport();return n+r>a.width||n<0||i<0||i+o>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new is(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement))}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):M.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&wt.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||s)(j(gt),j(Ve),j(nt),j(ht),j(pt),j(Cr))};static \u0275dir=Dt({type:s,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&W("keydown.escape",function(o){return n.onPressEscape(o)},!1,Ja)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",B],showDelay:[2,"showDelay","showDelay",_e],hideDelay:[2,"hideDelay","hideDelay",_e],life:[2,"life","life",_e],positionTop:[2,"positionTop","positionTop",_e],positionLeft:[2,"positionLeft","positionLeft",_e],autoHide:[2,"autoHide","autoHide",B],fitContent:[2,"fitContent","fitContent",B],hideOnEscape:[2,"hideOnEscape","hideOnEscape",B],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Me,Pi]})}return s})(),ks=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se]})}return s})();var mi=(()=>{class s{autofocus=!1;focused=!1;platformId=le(gt);document=le(Re);host=le(Ve);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Ot(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=M.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Dt({type:s,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",B]},standalone:!0,features:[Me]})}return s})(),Bi=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({})}return s})();var oT=["overlay"],aT=["content"],lT=["*"],cT=(s,t,e,i,n,r,o,a,c,u,d,m,y,b)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":s,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":n,"p-overlay-bottom":r,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":c,"p-overlay-left-start":u,"p-overlay-left-end":d,"p-overlay-right":m,"p-overlay-right-start":y,"p-overlay-right-end":b}),hT=(s,t,e)=>({showTransitionParams:s,hideTransitionParams:t,transform:e}),uT=s=>({value:"visible",params:s}),dT=s=>({mode:s}),pT=s=>({$implicit:s});function fT(s,t){s&1&&pe(0)}function mT(s,t){if(s&1){let e=J();S(0,"div",3,1),W("click",function(n){O(e);let r=v(2);return E(r.onOverlayContentClick(n))})("@overlayContentAnimation.start",function(n){O(e);let r=v(2);return E(r.onOverlayContentAnimationStart(n))})("@overlayContentAnimation.done",function(n){O(e);let r=v(2);return E(r.onOverlayContentAnimationDone(n))}),ct(2),T(3,fT,1,0,"ng-container",4),I()}if(s&2){let e=v(2);Y(e.contentStyleClass),f("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",he(11,uT,Ti(7,hT,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),_(3),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",he(15,pT,he(13,dT,e.overlayMode)))}}function gT(s,t){if(s&1){let e=J();S(0,"div",3,0),W("click",function(){O(e);let n=v();return E(n.onOverlayClick())}),T(2,mT,4,17,"div",2),I()}if(s&2){let e=v();Y(e.styleClass),f("ngStyle",e.style)("ngClass",tm(5,cT,[e.modal,e.modal&&e.overlayResponsiveDirection==="center",e.modal&&e.overlayResponsiveDirection==="top",e.modal&&e.overlayResponsiveDirection==="top-start",e.modal&&e.overlayResponsiveDirection==="top-end",e.modal&&e.overlayResponsiveDirection==="bottom",e.modal&&e.overlayResponsiveDirection==="bottom-start",e.modal&&e.overlayResponsiveDirection==="bottom-end",e.modal&&e.overlayResponsiveDirection==="left",e.modal&&e.overlayResponsiveDirection==="left-start",e.modal&&e.overlayResponsiveDirection==="left-end",e.modal&&e.overlayResponsiveDirection==="right",e.modal&&e.overlayResponsiveDirection==="right-start",e.modal&&e.overlayResponsiveDirection==="right-end"])),_(2),f("ngIf",e.visible)}}var _T={provide:ii,useExisting:Nt(()=>Pu),multi:!0},vT=xr([Ct({transform:"{{transform}}",opacity:0}),Rt("{{showTransitionParams}}")]),yT=xr([Rt("{{hideTransitionParams}}",Ct({transform:"{{transform}}",opacity:0}))]),Pu=(()=>{class s{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return ae.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return ae.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return ae.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return ae.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new G;onBeforeShow=new G;onShow=new G;onBeforeHide=new G;onHide=new G;onAnimationStart=new G;onAnimationDone=new G;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Ot(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return K(K({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return K(K({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return M.getTargetElement(this.target,this.el?.nativeElement)}constructor(e,i,n,r,o,a,c,u){this.document=e,this.platformId=i,this.el=n,this.renderer=r,this.config=o,this.overlayService=a,this.cd=c,this.zone=u,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&M.focus(this.targetEl),this.modal&&M.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&M.focus(this.targetEl),this.modal&&M.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&M.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&wt.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),M.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&M.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),wt.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new is(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let n=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&n}):n)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),wt.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||s)(j(Re),j(gt),j(Ve),j(pt),j(ht),j(Pl),j(Ue),j(nt))};static \u0275cmp=q({type:s,selectors:[["p-overlay"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(oT,5),ye(aT,5)),i&2){let r;ie(r=ne())&&(n.overlayViewChild=r.first),ie(r=ne())&&(n.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Xt([_T])],ngContentSelectors:lT,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(bt(),T(0,gT,3,20,"div",2)),i&2&&f("ngIf",n.modalVisible)},dependencies:[Le,He,qe,Ne],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[Si("overlayContentAnimation",[Ft(":enter",[Tr(vT)]),Ft(":leave",[Tr(yT)])])]},changeDetection:0})}return s})(),Nu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Oe,Oe]})}return s})();var Ht=(()=>{class s{document;platformId;renderer;el;zone;config;constructor(e,i,n,r,o,a){this.document=e,this.platformId=i,this.renderer=n,this.el=r,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Ot(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(M.removeClass(i,"p-ink-active"),!M.getHeight(i)&&!M.getWidth(i)){let a=Math.max(M.getOuterWidth(this.el.nativeElement),M.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let n=M.getOffset(this.el.nativeElement),r=e.pageX-n.left+this.document.body.scrollTop-M.getWidth(i)/2,o=e.pageY-n.top+this.document.body.scrollLeft-M.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",r+"px"),M.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&M.removeClass(a,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if(typeof e[i].className=="string"&&e[i].className.indexOf("p-ink")!==-1)return e[i];return null}resetInk(){let e=this.getInk();e&&M.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),M.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,M.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||s)(j(Re),j(gt),j(pt),j(Ve),j(nt),j(ht,8))};static \u0275dir=Dt({type:s,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return s})(),ni=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({})}return s})();var ha=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["SpinnerIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var CT=["element"],wT=["content"],xT=["*"],TT=(s,t,e)=>({"p-scroller":!0,"p-scroller-inline":s,"p-both-scroll":t,"p-horizontal-scroll":e}),ju=(s,t)=>({$implicit:s,options:t}),ST=s=>({"p-scroller-loading":s}),IT=s=>({"p-component-overlay":s}),DT=s=>({numCols:s}),Qg=s=>({options:s}),OT=()=>({styleClass:"p-scroller-loading-icon"}),ET=(s,t)=>({rows:s,columns:t});function kT(s,t){s&1&&pe(0)}function MT(s,t){if(s&1&&(ee(0),T(1,kT,1,0,"ng-container",10),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Pe(2,ju,e.loadedItems,e.getContentOptions()))}}function AT(s,t){s&1&&pe(0)}function FT(s,t){if(s&1&&(ee(0),T(1,AT,1,0,"ng-container",10),te()),s&2){let e=t.$implicit,i=t.index,n=v(3);_(),f("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",Pe(2,ju,e,n.getOptions(i)))}}function VT(s,t){if(s&1&&(S(0,"div",11,3),T(2,FT,2,5,"ng-container",12),I()),s&2){let e=v(2);f("ngClass",he(5,ST,e.d_loading))("ngStyle",e.contentStyle),k("data-pc-section","content"),_(2),f("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function RT(s,t){if(s&1&&L(0,"div",13),s&2){let e=v(2);f("ngStyle",e.spacerStyle),k("data-pc-section","spacer")}}function LT(s,t){s&1&&pe(0)}function PT(s,t){if(s&1&&(ee(0),T(1,LT,1,0,"ng-container",10),te()),s&2){let e=t.index,i=v(4);_(),f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",he(4,Qg,i.getLoaderOptions(e,i.both&&he(2,DT,i._numItemsInViewport.cols))))}}function NT(s,t){if(s&1&&(ee(0),T(1,PT,2,6,"ng-container",15),te()),s&2){let e=v(3);_(),f("ngForOf",e.loaderArr)}}function jT(s,t){s&1&&pe(0)}function BT(s,t){if(s&1&&(ee(0),T(1,jT,1,0,"ng-container",10),te()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",he(3,Qg,qi(2,OT)))}}function UT(s,t){s&1&&L(0,"SpinnerIcon",16),s&2&&(f("styleClass","p-scroller-loading-icon pi-spin"),k("data-pc-section","loadingIcon"))}function HT(s,t){if(s&1&&T(0,BT,2,5,"ng-container",6)(1,UT,1,2,"ng-template",null,5,It),s&2){let e=at(2),i=v(3);f("ngIf",i.loaderIconTemplate)("ngIfElse",e)}}function zT(s,t){if(s&1&&(S(0,"div",14),T(1,NT,2,1,"ng-container",6)(2,HT,3,2,"ng-template",null,4,It),I()),s&2){let e=at(3),i=v(2);f("ngClass",he(4,IT,!i.loaderTemplate)),k("data-pc-section","loader"),_(),f("ngIf",i.loaderTemplate)("ngIfElse",e)}}function WT(s,t){if(s&1){let e=J();ee(0),S(1,"div",7,1),W("scroll",function(n){O(e);let r=v();return E(r.onContainerScroll(n))}),T(3,MT,2,5,"ng-container",6)(4,VT,3,7,"ng-template",null,2,It)(6,RT,1,2,"div",8)(7,zT,4,6,"div",9),I(),te()}if(s&2){let e=at(5),i=v();_(),Y(i._styleClass),f("ngStyle",i._style)("ngClass",Ti(12,TT,i.inline,i.both,i.horizontal)),k("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),_(2),f("ngIf",i.contentTemplate)("ngIfElse",e),_(3),f("ngIf",i._showSpacer),_(),f("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function YT(s,t){s&1&&pe(0)}function GT(s,t){if(s&1&&(ee(0),T(1,YT,1,0,"ng-container",10),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Pe(5,ju,e.items,Pe(2,ET,e._items,e.loadedColumns)))}}function $T(s,t){if(s&1&&(ct(0),T(1,GT,2,8,"ng-container",17)),s&2){let e=v();_(),f("ngIf",e.contentTemplate)}}var Jg=(()=>{class s{document;platformId;renderer;cd;zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([i,n])=>this[`_${i}`]!==n&&(this[`_${i}`]=n))}onLazyLoad=new G;onScroll=new G;onScrollIndexChange=new G;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;resizeObserver;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(e,i,n,r,o){this.document=e,this.platformId=i,this.renderer=n,this.cd=r,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){let{previousValue:n,currentValue:r}=e.loading;this.lazy&&n!==r&&r!==this.d_loading&&(this.d_loading=r,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:n,currentValue:r}=e.numToleratedItems;n!==r&&r!==this.d_numToleratedItems&&(this.d_numToleratedItems=r)}if(e.options){let{previousValue:n,currentValue:r}=e.options;this.lazy&&n?.loading!==r?.loading&&r?.loading!==this.d_loading&&(this.d_loading=r.loading,i=!0),n?.numToleratedItems!==r?.numToleratedItems&&r?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=r.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Ot(this.platformId)&&!this.initialized&&M.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=M.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=M.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=M.getWidth(this.contentEl),this.defaultContentHeight=M.getHeight(this.contentEl),this.resizeObserver=new ResizeObserver(()=>this.onResize()),this.resizeObserver.observe(this.elementViewChild?.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||M.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){if(this.both?e.every(r=>r>-1):e>-1){let r=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:c}=this.calculateNumItems(),u=this.getContentPosition(),d=this.itemSize,m=(R=0,U)=>R<=U?0:R,y=(R,U,P)=>R*U+P,b=(R=0,U=0)=>this.scrollTo({left:R,top:U,behavior:i}),C=this.both?{rows:0,cols:0}:0,x=!1,D=!1;this.both?(C={rows:m(e[0],c[0]),cols:m(e[1],c[1])},b(y(C.cols,d[1],u.left),y(C.rows,d[0],u.top)),D=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,x=C.rows!==r.rows||C.cols!==r.cols):(C=m(e,c),this.horizontal?b(y(C,d,u.left),o):b(a,y(C,d,u.top)),D=this.lastScrollPos!==(this.horizontal?a:o),x=C!==r),this.isRangeChanged=x,D&&(this.first=C)}}scrollInView(e,i,n="auto"){if(i){let{first:r,viewport:o}=this.getRenderedRange(),a=(d=0,m=0)=>this.scrollTo({left:d,top:m,behavior:n}),c=i==="to-start",u=i==="to-end";if(c){if(this.both)o.first.rows-r.rows>e[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-r.cols>e[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-r>e){let d=(o.first-1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}else if(u){if(this.both)o.last.rows-r.rows<=e[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-r.cols<=e[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-r<=e+1){let d=(o.first+1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}}else this.scrollToIndex(e,n)}getRenderedRange(){let e=(r,o)=>o||r?Math.floor(r/(o||r)):0,i=this.first,n=0;if(this.elementViewChild?.nativeElement){let{scrollTop:r,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:e(r,this._itemSize[0]),cols:e(o,this._itemSize[1])},n={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:r;i=e(a,this._itemSize),n=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:n}}}calculateNumItems(){let e=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,n=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,r=(u,d)=>d||u?Math.ceil(u/(d||u)):0,o=u=>Math.ceil(u/2),a=this.both?{rows:r(n,this._itemSize[0]),cols:r(i,this._itemSize[1])}:r(this.horizontal?i:n,this._itemSize),c=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:c}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),n=(a,c,u,d=!1)=>this.getLast(a+c+(a<u?2:3)*u,d),r=this.first,o=this.both?{rows:n(this.first.rows,e.rows,i[0]),cols:n(this.first.cols,e.cols,i[1],!0)}:n(this.first,e,i);this.last=o,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:r.cols}:0:r,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,i]=[M.getWidth(this.contentEl),M.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[n,r]=[M.getWidth(this.elementViewChild.nativeElement),M.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=n<this.defaultWidth?n+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=r<this.defaultHeight?r+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),n=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),r=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),o=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:n,top:r,bottom:o,x:i+n,y:r+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,n=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,r=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(r("height",n),r("width",i)):r("height",n)}}setSpacerSize(){if(this._items){let e=(n,r,o)=>this.spacerStyle=tt(K({},this.spacerStyle),{[`${n}`]:r*o+"px"}),i=this._items.length;this.both?(e("height",i,this._itemSize[0]),e("width",this._columns?.length||this._items[1]?.length,this._itemSize[1])):this.horizontal?e("width",this._columns.length||this._items.length,this._itemSize):e("height",i,this._itemSize)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let i=e?e.first:this.first,n=(o,a)=>o*a,r=(o=0,a=0)=>this.contentStyle=tt(K({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)r(n(i.cols,this._itemSize[1]),n(i.rows,this._itemSize[0]));else{let o=n(i,this._itemSize);this.horizontal?r(o,0):r(0,o)}}}onScrollPositionChange(e){let i=e.target,n=this.getContentPosition(),r=(D,R)=>D?D>R?D-R:D:0,o=(D,R)=>R||D?Math.floor(D/(R||D)):0,a=(D,R,U,P,z,$)=>D<=z?z:$?U-P-z:R+z-1,c=(D,R,U,P,z,$,Z)=>D<=$?0:Math.max(0,Z?D<R?U:D-$:D>R?U:D-2*$),u=(D,R,U,P,z,$=!1)=>{let Z=R+P+2*z;return D>=z&&(Z+=z+1),this.getLast(Z,$)},d=r(i.scrollTop,n.top),m=r(i.scrollLeft,n.left),y=this.both?{rows:0,cols:0}:0,b=this.last,C=!1,x=this.lastScrollPos;if(this.both){let D=this.lastScrollPos.top<=d,R=this.lastScrollPos.left<=m;if(!this._appendOnly||this._appendOnly&&(D||R)){let U={rows:o(d,this._itemSize[0]),cols:o(m,this._itemSize[1])},P={rows:a(U.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],D),cols:a(U.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],R)};y={rows:c(U.rows,P.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],D),cols:c(U.cols,P.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],R)},b={rows:u(U.rows,y.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:u(U.cols,y.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},C=y.rows!==this.first.rows||b.rows!==this.last.rows||y.cols!==this.first.cols||b.cols!==this.last.cols||this.isRangeChanged,x={top:d,left:m}}}else{let D=this.horizontal?m:d,R=this.lastScrollPos<=D;if(!this._appendOnly||this._appendOnly&&R){let U=o(D,this._itemSize),P=a(U,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,R);y=c(U,P,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,R),b=u(U,y,this.last,this.numItemsInViewport,this.d_numToleratedItems),C=y!==this.first||b!==this.last||this.isRangeChanged,x=D}}return{first:y,last:b,isRangeChanged:C,scrollPos:x}}onScrollChange(e){let{first:i,last:n,isRangeChanged:r,scrollPos:o}=this.onScrollPositionChange(e);if(r){let a={first:i,last:n};if(this.setContentPosition(a),this.first=i,this.last=n,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let c={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:n,this.items.length)};(this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last)&&this.handleEvents("onLazyLoad",c),this.lazyLoadState=c}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(e);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}unbindResizeListener(){this.resizeObserver&&(this.resizeObserver.unobserve(this.elementViewChild?.nativeElement),this.resizeObserver=null)}onResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(M.isVisible(this.elementViewChild?.nativeElement)){let[e,i]=[M.getWidth(this.elementViewChild?.nativeElement),M.getHeight(this.elementViewChild?.nativeElement)],[n,r]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?n||r:this.horizontal?n:this.vertical?r:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=M.getWidth(this.contentEl),this.defaultContentHeight=M.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let i=(this._items||[]).length,n=this.both?this.first.rows+e:this.first+e;return{index:n,count:i,first:n===0,last:n===i-1,even:n%2===0,odd:n%2!==0}}getLoaderOptions(e,i){let n=this.loaderArr.length;return K({index:e,count:n,first:e===0,last:e===n-1,even:e%2===0,odd:e%2!==0},i)}static \u0275fac=function(i){return new(i||s)(j(Re),j(gt),j(pt),j(Ue),j(nt))};static \u0275cmp=q({type:s,selectors:[["p-scroller"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(CT,5),ye(wT,5)),i&2){let r;ie(r=ne())&&(n.elementViewChild=r.first),ie(r=ne())&&(n.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Pi],ngContentSelectors:xT,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,n){if(i&1&&(bt(),T(0,WT,8,16,"ng-container",6)(1,$T,2,1,"ng-template",null,0,It)),i&2){let r=at(2);f("ngIf",!n._disabled)("ngIfElse",r)}},dependencies:()=>[Le,ei,He,qe,Ne,ha],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return s})(),Bu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Oe,ha,Oe]})}return s})();var oi=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["CheckIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Uu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["BlankIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"rect",1),I())},encapsulation:2})}return s})();var Ur=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Hu=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["SearchIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var ua=s=>({height:s}),XT=(s,t,e)=>({"p-dropdown-item":!0,"p-highlight":s,"p-disabled":t,"p-focus":e}),zu=s=>({$implicit:s});function KT(s,t){s&1&&L(0,"CheckIcon",4),s&2&&f("styleClass","p-dropdown-check-icon")}function ZT(s,t){s&1&&L(0,"BlankIcon",4),s&2&&f("styleClass","p-dropdown-blank-icon")}function QT(s,t){if(s&1&&(ee(0),T(1,KT,1,1,"CheckIcon",3)(2,ZT,1,1,"BlankIcon",3),te()),s&2){let e=v();_(),f("ngIf",e.selected),_(),f("ngIf",!e.selected)}}function JT(s,t){if(s&1&&(S(0,"span"),fe(1),I()),s&2){let e,i=v();_(),We((e=i.label)!==null&&e!==void 0?e:"empty")}}function eS(s,t){s&1&&pe(0)}var tS=["container"],iS=["filter"],nS=["focusInput"],sS=["editableInput"],rS=["items"],oS=["scroller"],aS=["overlay"],lS=["firstHiddenFocusableEl"],cS=["lastHiddenFocusableEl"],hS=s=>({"max-height":s}),e0=s=>({options:s}),uS=s=>({"p-variant-filled":s}),t0=(s,t)=>({$implicit:s,options:t}),dS=()=>({});function pS(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(2);_(),We(e.label()==="p-emptylabel"?"\xA0":e.label())}}function fS(s,t){if(s&1&&pe(0,25),s&2){let e=v(2);f("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",he(2,zu,e.selectedOption))}}function mS(s,t){if(s&1&&(S(0,"span"),fe(1),I()),s&2){let e=v(3);_(),We(e.label()==="p-emptylabel"?"\xA0":e.label())}}function gS(s,t){if(s&1&&T(0,mS,2,1,"span",18),s&2){let e=v(2);f("ngIf",e.isSelectedOptionEmpty())}}function _S(s,t){if(s&1){let e=J();S(0,"span",23,3),W("focus",function(n){O(e);let r=v();return E(r.onInputFocus(n))})("blur",function(n){O(e);let r=v();return E(r.onInputBlur(n))})("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n))}),T(2,pS,2,1,"ng-container",20)(3,fS,1,4,"ng-container",24)(4,gS,1,1,"ng-template",null,4,It),I()}if(s&2){let e,i=at(5),n=v();f("ngClass",n.inputClass)("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass)("autofocus",n.autofocus),k("aria-disabled",n.disabled)("id",n.inputId)("aria-label",n.ariaLabel||(n.label()==="p-emptylabel"?void 0:n.label()))("aria-labelledby",n.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(e=n.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",n.overlayVisible?n.id+"_list":null)("tabindex",n.disabled?-1:n.tabindex)("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("aria-required",n.required)("required",n.required),_(2),f("ngIf",!n.selectedItemTemplate)("ngIfElse",i),_(),f("ngIf",n.selectedItemTemplate&&!n.isSelectedOptionEmpty())}}function vS(s,t){if(s&1){let e=J();S(0,"input",26,5),W("input",function(n){O(e);let r=v();return E(r.onEditableInput(n))})("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n))})("focus",function(n){O(e);let r=v();return E(r.onInputFocus(n))})("blur",function(n){O(e);let r=v();return E(r.onInputBlur(n))}),I()}if(s&2){let e=v();f("ngClass",e.inputClass)("disabled",e.disabled)("autofocus",e.autofocus),k("id",e.inputId)("maxlength",e.maxlength)("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function yS(s,t){if(s&1){let e=J();S(0,"TimesIcon",29),W("click",function(n){O(e);let r=v(2);return E(r.clear(n))}),I()}s&2&&(f("styleClass","p-dropdown-clear-icon"),k("data-pc-section","clearicon"))}function bS(s,t){}function CS(s,t){s&1&&T(0,bS,0,0,"ng-template")}function wS(s,t){if(s&1){let e=J();S(0,"span",30),W("click",function(n){O(e);let r=v(2);return E(r.clear(n))}),T(1,CS,1,0,null,31),I()}if(s&2){let e=v(2);k("data-pc-section","clearicon"),_(),f("ngTemplateOutlet",e.clearIconTemplate)}}function xS(s,t){if(s&1&&(ee(0),T(1,yS,1,2,"TimesIcon",27)(2,wS,2,2,"span",28),te()),s&2){let e=v();_(),f("ngIf",!e.clearIconTemplate),_(),f("ngIf",e.clearIconTemplate)}}function TS(s,t){s&1&&pe(0)}function SS(s,t){if(s&1&&(ee(0),T(1,TS,1,0,"ng-container",31),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.loadingIconTemplate)}}function IS(s,t){if(s&1&&L(0,"span",34),s&2){let e=v(3);f("ngClass","p-dropdown-trigger-icon pi-spin "+e.loadingIcon)}}function DS(s,t){s&1&&L(0,"span",35),s&2&&Y("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function OS(s,t){if(s&1&&(ee(0),T(1,IS,1,1,"span",32)(2,DS,1,2,"span",33),te()),s&2){let e=v(2);_(),f("ngIf",e.loadingIcon),_(),f("ngIf",!e.loadingIcon)}}function ES(s,t){if(s&1&&(ee(0),T(1,SS,2,1,"ng-container",18)(2,OS,3,2,"ng-container",18),te()),s&2){let e=v();_(),f("ngIf",e.loadingIconTemplate),_(),f("ngIf",!e.loadingIconTemplate)}}function kS(s,t){if(s&1&&L(0,"span",39),s&2){let e=v(3);f("ngClass",e.dropdownIcon)}}function MS(s,t){s&1&&L(0,"ChevronDownIcon",40),s&2&&f("styleClass","p-dropdown-trigger-icon")}function AS(s,t){if(s&1&&(ee(0),T(1,kS,1,1,"span",37)(2,MS,1,1,"ChevronDownIcon",38),te()),s&2){let e=v(2);_(),f("ngIf",e.dropdownIcon),_(),f("ngIf",!e.dropdownIcon)}}function FS(s,t){}function VS(s,t){s&1&&T(0,FS,0,0,"ng-template")}function RS(s,t){if(s&1&&(S(0,"span",41),T(1,VS,1,0,null,31),I()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.dropdownIconTemplate)}}function LS(s,t){if(s&1&&T(0,AS,3,2,"ng-container",18)(1,RS,2,1,"span",36),s&2){let e=v();f("ngIf",!e.dropdownIconTemplate),_(),f("ngIf",e.dropdownIconTemplate)}}function PS(s,t){s&1&&pe(0)}function NS(s,t){s&1&&pe(0)}function jS(s,t){if(s&1&&(ee(0),T(1,NS,1,0,"ng-container",48),te()),s&2){let e=v(3);_(),f("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",he(2,e0,e.filterOptions))}}function BS(s,t){s&1&&L(0,"SearchIcon",40),s&2&&f("styleClass","p-dropdown-filter-icon")}function US(s,t){}function HS(s,t){s&1&&T(0,US,0,0,"ng-template")}function zS(s,t){if(s&1&&(S(0,"span",52),T(1,HS,1,0,null,31),I()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.filterIconTemplate)}}function WS(s,t){if(s&1){let e=J();S(0,"div",49)(1,"input",50,10),W("input",function(n){O(e);let r=v(3);return E(r.onFilterInputChange(n))})("keydown",function(n){O(e);let r=v(3);return E(r.onFilterKeyDown(n))})("blur",function(n){O(e);let r=v(3);return E(r.onFilterBlur(n))}),I(),T(3,BS,1,1,"SearchIcon",38)(4,zS,2,1,"span",51),I()}if(s&2){let e=v(3);_(),f("value",e._filterValue()||"")("ngClass",he(8,uS,e.variant==="filled"||e.config.inputStyle()==="filled")),k("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),_(2),f("ngIf",!e.filterIconTemplate),_(),f("ngIf",e.filterIconTemplate)}}function YS(s,t){if(s&1){let e=J();S(0,"div",47),W("click",function(n){return O(e),E(n.stopPropagation())}),T(1,jS,2,4,"ng-container",20)(2,WS,5,10,"ng-template",null,9,It),I()}if(s&2){let e=at(3),i=v(2);_(),f("ngIf",i.filterTemplate)("ngIfElse",e)}}function GS(s,t){s&1&&pe(0)}function $S(s,t){if(s&1&&T(0,GS,1,0,"ng-container",48),s&2){let e=t.$implicit,i=t.options;v(2);let n=at(9);f("ngTemplateOutlet",n)("ngTemplateOutletContext",Pe(2,t0,e,i))}}function qS(s,t){s&1&&pe(0)}function XS(s,t){if(s&1&&T(0,qS,1,0,"ng-container",48),s&2){let e=t.options,i=v(4);f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",he(2,e0,e))}}function KS(s,t){s&1&&(ee(0),T(1,XS,1,4,"ng-template",54),te())}function ZS(s,t){if(s&1){let e=J();S(0,"p-scroller",53,11),W("onLazyLoad",function(n){O(e);let r=v(2);return E(r.onLazyLoad.emit(n))}),T(2,$S,1,5,"ng-template",22)(3,KS,2,0,"ng-container",18),I()}if(s&2){let e=v(2);Xf(he(8,ua,e.scrollHeight)),f("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),_(3),f("ngIf",e.loaderTemplate)}}function QS(s,t){s&1&&pe(0)}function JS(s,t){if(s&1&&(ee(0),T(1,QS,1,0,"ng-container",48),te()),s&2){v();let e=at(9),i=v();_(),f("ngTemplateOutlet",e)("ngTemplateOutletContext",Pe(3,t0,i.visibleOptions(),qi(2,dS)))}}function eI(s,t){if(s&1&&(S(0,"span"),fe(1),I()),s&2){let e=v(2).$implicit,i=v(3);_(),We(i.getOptionGroupLabel(e.optionGroup))}}function tI(s,t){s&1&&pe(0)}function iI(s,t){if(s&1&&(ee(0),S(1,"li",58),T(2,eI,2,1,"span",18)(3,tI,1,0,"ng-container",48),I(),te()),s&2){let e=v(),i=e.$implicit,n=e.index,r=v().options,o=v(2);_(),f("ngStyle",he(5,ua,r.itemSize+"px")),k("id",o.id+"_"+o.getOptionIndex(n,r)),_(),f("ngIf",!o.groupTemplate),_(),f("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",he(7,zu,i.optionGroup))}}function nI(s,t){if(s&1){let e=J();ee(0),S(1,"p-dropdownItem",59),W("onClick",function(n){O(e);let r=v().$implicit,o=v(3);return E(o.onOptionSelect(n,r))})("onMouseEnter",function(n){O(e);let r=v().index,o=v().options,a=v(2);return E(a.onOptionMouseEnter(n,a.getOptionIndex(r,o)))}),I(),te()}if(s&2){let e=v(),i=e.$implicit,n=e.index,r=v().options,o=v(2);_(),f("id",o.id+"_"+o.getOptionIndex(n,r))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(n,r))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(n,r)))("ariaSetSize",o.ariaSetSize)}}function sI(s,t){if(s&1&&T(0,iI,4,9,"ng-container",18)(1,nI,2,10,"ng-container",18),s&2){let e=t.$implicit,i=v(3);f("ngIf",i.isOptionGroup(e)),_(),f("ngIf",!i.isOptionGroup(e))}}function rI(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(4);_(),qt(" ",e.emptyFilterMessageLabel," ")}}function oI(s,t){s&1&&pe(0,null,13)}function aI(s,t){if(s&1&&(S(0,"li",60),T(1,rI,2,1,"ng-container",20)(2,oI,2,0,"ng-container",31),I()),s&2){let e=v().options,i=v(2);f("ngStyle",he(4,ua,e.itemSize+"px")),_(),f("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),_(),f("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function lI(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(4);_(),qt(" ",e.emptyMessageLabel," ")}}function cI(s,t){s&1&&pe(0,null,14)}function hI(s,t){if(s&1&&(S(0,"li",60),T(1,lI,2,1,"ng-container",20)(2,cI,2,0,"ng-container",31),I()),s&2){let e=v().options,i=v(2);f("ngStyle",he(4,ua,e.itemSize+"px")),_(),f("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),_(),f("ngTemplateOutlet",i.emptyTemplate)}}function uI(s,t){if(s&1&&(S(0,"ul",55,12),T(2,sI,2,2,"ng-template",56)(3,aI,3,6,"li",57)(4,hI,3,6,"li",57),I()),s&2){let e=t.$implicit,i=t.options,n=v(2);f("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),k("id",n.id+"_list")("aria-label",n.listLabel),_(2),f("ngForOf",e),_(),f("ngIf",n.filterValue&&n.isEmpty()),_(),f("ngIf",!n.filterValue&&n.isEmpty())}}function dI(s,t){s&1&&pe(0)}function pI(s,t){if(s&1){let e=J();S(0,"div",42)(1,"span",43,6),W("focus",function(n){O(e);let r=v();return E(r.onFirstHiddenFocus(n))}),I(),T(3,PS,1,0,"ng-container",31)(4,YS,4,2,"div",44),S(5,"div",45),T(6,ZS,4,10,"p-scroller",46)(7,JS,2,6,"ng-container",18)(8,uI,5,7,"ng-template",null,7,It),I(),T(10,dI,1,0,"ng-container",31),S(11,"span",43,8),W("focus",function(n){O(e);let r=v();return E(r.onLastHiddenFocus(n))}),I()()}if(s&2){let e=v();Y(e.panelStyleClass),f("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),_(),k("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),_(2),f("ngTemplateOutlet",e.headerTemplate),_(),f("ngIf",e.filter),_(),f("ngStyle",he(16,hS,e.virtualScroll?"auto":e.scrollHeight||"auto")),_(),f("ngIf",e.virtualScroll),_(),f("ngIf",!e.virtualScroll),_(3),f("ngTemplateOutlet",e.footerTemplate),_(),k("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var fI={provide:ii,useExisting:Nt(()=>gI),multi:!0},mI=(()=>{class s{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new G;onMouseEnter=new G;ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",B],focused:[2,"focused","focused",B],label:"label",disabled:[2,"disabled","disabled",B],visible:[2,"visible","visible",B],itemSize:[2,"itemSize","itemSize",_e],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",B]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Me],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,n){i&1&&(S(0,"li",0),W("click",function(o){return n.onOptionClick(o)})("mouseenter",function(o){return n.onOptionMouseEnter(o)}),T(1,QT,3,2,"ng-container",1)(2,JT,2,1,"span",1)(3,eS,1,0,"ng-container",2),I()),i&2&&(f("id",n.id)("ngStyle",he(14,ua,n.itemSize+"px"))("ngClass",Ti(16,XT,n.selected,n.disabled,n.focused)),k("aria-label",n.label)("aria-setsize",n.ariaSetSize)("aria-posinset",n.ariaPosInset)("aria-selected",n.selected)("data-p-focused",n.focused)("data-p-highlight",n.selected)("data-p-disabled",n.disabled),_(),f("ngIf",n.checkmark),_(),f("ngIf",!n.template),_(),f("ngTemplateOutlet",n.template)("ngTemplateOutletContext",he(20,zu,n.option)))},dependencies:()=>[Le,He,qe,Ne,Ht,Uu,oi],encapsulation:2})}return s})(),gI=(()=>{class s{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){ae.deepEquals(e,this._options())||this._options.set(e)}onChange=new G;onFilter=new G;onFocus=new G;onBlur=new G;onClick=new G;onShow=new G;onHide=new G;onClear=new G;onLazyLoad=new G;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=Jt(null);_placeholder=Jt(void 0);modelValue=Jt(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=Jt(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=Jt(-1);labelId;listId;clicked=Jt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(_t.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(_t.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(_t.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=Tn(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let n=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(r=>r.label?r.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:r.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let r=this.options||[],o=[];return r.forEach(a=>{let u=this.getOptionGroupChildren(a).filter(d=>n.includes(d));u.length>0&&o.push(tt(K({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...u]}))}),this.flatOptions(o)}return n}return e});label=Tn(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),i=e.findIndex(n=>this.isOptionValueEqualsModelValue(n));return i!==-1?this.getOptionLabel(e[i]):this.placeholder()||"p-emptylabel"});filled=Tn(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=Tn(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,i,n,r,o,a){this.el=e,this.renderer=i,this.cd=n,this.zone=r,this.filterService=o,this.config=a,nm(()=>{let c=this.modelValue(),u=this.visibleOptions();if(u&&ae.isNotEmpty(u)){let d=this.findSelectedOptionIndex();(d!==-1||c===void 0||typeof c=="string"&&c.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=u[d])}ae.isEmpty(u)&&(c===void 0||this.isModelValueNotSet())&&ae.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),c!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||Ye(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&M.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((i,n,r)=>{i.push({optionGroup:n,group:!0,index:r});let o=this.getOptionGroupChildren(n);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,i,n=!0,r=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),r===!1&&this.onChange.emit({originalEvent:e,value:o})}n&&this.hide(!0)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}updateModel(e,i){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return ae.isEmpty(this.selectedOption)}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return ae.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let e=this.el.nativeElement.parentElement,i=e?.classList.contains("p-float-label");if(e&&i&&!this.selectedOption){let n=e.querySelector("label");n&&this._placeholder.set(n.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?ae.resolveFieldData(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?ae.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?ae.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?ae.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?ae.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let i=e.target.value;this.searchValue="",!this.searchOptions(e,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:i})},1),!this.overlayVisible&&ae.isNotEmpty(i)&&this.show()}show(e){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),e&&M.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=M.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&M.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&setTimeout(()=>{M.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{M.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(e){e.preventDefault()}onKeyDown(e,i){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&ae.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let n=this.visibleOptions()[i];this.onOptionSelect(e,n,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=M.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?ae.findLastIndex(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}findLastOptionIndex(){return ae.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,i=!1){if(e.altKey&&!i){if(this.focusedOptionIndex()!==-1){let n=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,n)}this.overlayVisible&&this.hide()}else{let n=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,i=!1){if(i){let n=e.currentTarget;e.shiftKey?n.setSelectionRange(0,n.value.length):(n.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,i=!1){if(i){let n=e.currentTarget;if(e.shiftKey)n.setSelectionRange(0,n.value.length);else{let r=n.value.length;n.setSelectionRange(r,r),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,i=!1){!this.editable&&!i&&this.onEnterKey(e)}onEnterKey(e,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let n=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,n)}!i&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())M.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let n=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,n)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;M.focus(i)}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;M.focus(i)}hasFocusableElements(){return M.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(e,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,r=!1;return this.focusedOptionIndex()!==-1?(n=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),n=n===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):n+this.focusedOptionIndex()):n=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),n!==-1&&(r=!0),n===-1&&this.focusedOptionIndex()===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let i=e.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?M.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():M.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(i){return new(i||s)(j(Ve),j(pt),j(Ue),j(nt),j(Eg),j(ht))};static \u0275cmp=q({type:s,selectors:[["p-dropdown"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(tS,5),ye(iS,5),ye(nS,5),ye(sS,5),ye(rS,5),ye(oS,5),ye(aS,5),ye(lS,5),ye(cS,5)),i&2){let r;ie(r=ne())&&(n.containerViewChild=r.first),ie(r=ne())&&(n.filterViewChild=r.first),ie(r=ne())&&(n.focusInputViewChild=r.first),ie(r=ne())&&(n.editableInputViewChild=r.first),ie(r=ne())&&(n.itemsViewChild=r.first),ie(r=ne())&&(n.scroller=r.first),ie(r=ne())&&(n.overlayViewChild=r.first),ie(r=ne())&&(n.firstHiddenFocusableElementOnOverlay=r.first),ie(r=ne())&&(n.lastHiddenFocusableElementOnOverlay=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,n){i&2&&xi("p-inputwrapper-filled",n.filled())("p-inputwrapper-focus",n.focused||n.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",B],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",B],required:[2,"required","required",B],editable:[2,"editable","editable",B],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",_e],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",B],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",B],checkmark:[2,"checkmark","checkmark",B],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",B],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",B],group:[2,"group","group",B],showClear:[2,"showClear","showClear",B],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",B],virtualScroll:[2,"virtualScroll","virtualScroll",B],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",_e],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",_e],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",B],selectOnFocus:[2,"selectOnFocus","selectOnFocus",B],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",B],autofocusFilter:[2,"autofocusFilter","autofocusFilter",B],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[Xt([fI]),Me],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,n){if(i&1){let r=J();S(0,"div",15,0),W("click",function(a){return O(r),E(n.onContainerClick(a))}),T(2,_S,6,20,"span",16)(3,vS,2,8,"input",17)(4,xS,3,2,"ng-container",18),S(5,"div",19),W("mousedown",function(a){return O(r),E(n.onMouseDown(a))}),T(6,ES,3,2,"ng-container",20)(7,LS,2,2,"ng-template",null,1,It),I(),S(9,"p-overlay",21,2),Qf("visibleChange",function(a){return O(r),Zf(n.overlayVisible,a)||(n.overlayVisible=a),E(a)}),W("onAnimationStart",function(a){return O(r),E(n.onOverlayAnimationStart(a))})("onHide",function(){return O(r),E(n.hide())}),T(11,pI,13,18,"ng-template",22),I()()}if(i&2){let r,o=at(8);Y(n.styleClass),f("ngClass",n.containerClass)("ngStyle",n.style),k("id",n.id),_(2),f("ngIf",!n.editable),_(),f("ngIf",n.editable),_(),f("ngIf",n.isVisibleClearIcon),_(),k("aria-expanded",(r=n.overlayVisible)!==null&&r!==void 0?r:!1)("data-pc-section","trigger"),_(),f("ngIf",n.loading)("ngIfElse",o),_(3),Kf("visible",n.overlayVisible),f("options",n.overlayOptions)("target","@parent")("appendTo",n.appendTo)("autoZIndex",n.autoZIndex)("baseZIndex",n.baseZIndex)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}},dependencies:()=>[Le,ei,He,qe,Ne,Pu,Ge,Wl,Jg,mi,ut,Ur,Hu,mI],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return s})(),Wu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Nu,Oe,ks,ni,Bu,Bi,ut,Ur,Hu,Uu,oi,Nu,Oe,Bu]})}return s})();var _I=["*"],i0=s=>({class:s});function vI(s,t){s&1&&pe(0)}function yI(s,t){if(s&1&&L(0,"span",8),s&2){let e=v(3);f("ngClass",e.iconClass()),k("aria-hidden",!0)("data-pc-section","loadingicon")}}function bI(s,t){if(s&1&&L(0,"SpinnerIcon",9),s&2){let e=v(3);f("styleClass",e.spinnerIconClass())("spin",!0),k("aria-hidden",!0)("data-pc-section","loadingicon")}}function CI(s,t){if(s&1&&(ee(0),T(1,yI,1,3,"span",6)(2,bI,1,4,"SpinnerIcon",7),te()),s&2){let e=v(2);_(),f("ngIf",e.loadingIcon),_(),f("ngIf",!e.loadingIcon)}}function wI(s,t){}function xI(s,t){if(s&1&&T(0,wI,0,0,"ng-template",10),s&2){let e=v(2);f("ngIf",e.loadingIconTemplate)}}function TI(s,t){if(s&1&&(ee(0),T(1,CI,3,2,"ng-container",2)(2,xI,1,1,null,5),te()),s&2){let e=v();_(),f("ngIf",!e.loadingIconTemplate),_(),f("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",he(3,i0,e.iconClass()))}}function SI(s,t){if(s&1&&L(0,"span",8),s&2){let e=v(2);f("ngClass",e.iconClass()),k("data-pc-section","icon")}}function II(s,t){}function DI(s,t){if(s&1&&T(0,II,0,0,"ng-template",10),s&2){let e=v(2);f("ngIf",!e.icon&&e.iconTemplate)}}function OI(s,t){if(s&1&&(ee(0),T(1,SI,1,2,"span",6)(2,DI,1,1,null,5),te()),s&2){let e=v();_(),f("ngIf",e.icon&&!e.iconTemplate),_(),f("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",he(3,i0,e.iconClass()))}}function EI(s,t){if(s&1&&(S(0,"span",11),fe(1),I()),s&2){let e=v();k("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),_(),We(e.label)}}function kI(s,t){if(s&1&&(S(0,"span",8),fe(1),I()),s&2){let e=v();Y(e.badgeClass),f("ngClass",e.badgeStyleClass()),k("data-pc-section","badge"),_(),We(e.badge)}}var ss={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},rs=(()=>{class s{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(ss);constructor(e,i){this.el=e,this.document=i}ngAfterViewInit(){M.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e=[ss.button,ss.component];return this.icon&&!this.label&&ae.isEmpty(this.htmlElement.textContent)&&e.push(ss.iconOnly),this.loading&&(e.push(ss.disabled,ss.loading),!this.icon&&this.label&&e.push(ss.labelOnly),this.icon&&!this.label&&!ae.isEmpty(this.htmlElement.textContent)&&e.push(ss.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),e}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!M.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!M.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let n=this.label?"p-button-icon-"+this.iconPos:null;n&&M.addClass(i,n);let r=this.getIconClass();r&&M.addMultipleClasses(i,r),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let e=M.findSingle(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=M.findSingle(this.htmlElement,".p-button-icon"),i=M.findSingle(this.htmlElement,".p-button-label");e?this.iconPos?e.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||s)(j(Ve),j(Re))};static \u0275dir=Dt({type:s,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",B],rounded:[2,"rounded","rounded",B],text:[2,"text","text",B],outlined:[2,"outlined","outlined",B],size:"size",plain:[2,"plain","plain",B]},standalone:!0,features:[Me]})}return s})(),Yu=(()=>{class s{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new G;onFocus=new G;onBlur=new G;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[i])=>e+` ${i}`,"p-button-loading-icon")}iconClass(){let e={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||s)(j(Ve))};static \u0275cmp=q({type:s,selectors:[["p-button"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,n){i&2&&xi("p-disabled",n.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",B],loading:[2,"loading","loading",B],loadingIcon:"loadingIcon",raised:[2,"raised","raised",B],rounded:[2,"rounded","rounded",B],text:[2,"text","text",B],plain:[2,"plain","plain",B],severity:"severity",outlined:[2,"outlined","outlined",B],link:[2,"link","link",B],tabindex:[2,"tabindex","tabindex",_e],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",B]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Me,ve],ngContentSelectors:_I,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,n){i&1&&(bt(),S(0,"button",0),W("click",function(o){return n.onClick.emit(o)})("focus",function(o){return n.onFocus.emit(o)})("blur",function(o){return n.onBlur.emit(o)}),ct(1),T(2,vI,1,0,"ng-container",1)(3,TI,3,5,"ng-container",2)(4,OI,3,5,"ng-container",2)(5,EI,2,3,"span",3)(6,kI,2,5,"span",4),I()),i&2&&(f("ngStyle",n.style)("disabled",n.disabled||n.loading)("ngClass",n.buttonClass)("autofocus",n.autofocus),k("type",n.type)("aria-label",n.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",n.tabindex),_(2),f("ngTemplateOutlet",n.contentTemplate),_(),f("ngIf",n.loading),_(),f("ngIf",!n.loading),_(),f("ngIf",!n.contentTemplate&&n.label),_(),f("ngIf",!n.contentTemplate&&n.badge))},dependencies:[He,qe,Ne,Le,Ht,mi,ha],encapsulation:2,changeDetection:0})}return s})(),Ki=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Yu,Oe]})}return s})();var Hr=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var zr=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["ChevronRightIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Gu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["ChevronUpIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var $u=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["CalendarIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var MI=["container"],AI=["inputfield"],FI=["contentWrapper"],VI=[[["p-header"]],[["p-footer"]]],RI=["p-header","p-footer"],LI=(s,t,e,i,n)=>({"p-calendar":!0,"p-input-icon-right":s,"p-calendar-w-btn":t,"p-calendar-timeonly":e,"p-calendar-disabled":i,"p-focus":n}),PI=s=>({clickCallBack:s}),NI=s=>({"p-datepicker-icon":s}),jI=(s,t,e,i,n,r)=>({"p-datepicker p-component":!0,"p-datepicker-inline":s,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":n,"p-datepicker-touch-ui":r}),n0=(s,t)=>({showTransitionParams:s,hideTransitionParams:t}),BI=s=>({value:"visibleTouchUI",params:s}),UI=s=>({value:"visible",params:s}),qu=s=>({$implicit:s}),HI=(s,t)=>({"p-datepicker-other-month":s,"p-datepicker-today":t}),zI=(s,t)=>({"p-highlight p-datepicker-current-day":s,"p-disabled":t}),r0=(s,t)=>({"p-highlight":s,"p-disabled":t}),s0=s=>[s];function WI(s,t){if(s&1){let e=J();S(0,"TimesIcon",11),W("click",function(){O(e);let n=v(3);return E(n.clear())}),I()}s&2&&f("styleClass","p-calendar-clear-icon")}function YI(s,t){}function GI(s,t){s&1&&T(0,YI,0,0,"ng-template")}function $I(s,t){if(s&1){let e=J();S(0,"span",12),W("click",function(){O(e);let n=v(3);return E(n.clear())}),T(1,GI,1,0,null,13),I()}if(s&2){let e=v(3);_(),f("ngTemplateOutlet",e.clearIconTemplate)}}function qI(s,t){if(s&1&&(ee(0),T(1,WI,1,1,"TimesIcon",9)(2,$I,2,1,"span",10),te()),s&2){let e=v(2);_(),f("ngIf",!e.clearIconTemplate),_(),f("ngIf",e.clearIconTemplate)}}function XI(s,t){if(s&1&&L(0,"span",16),s&2){let e=v(3);f("ngClass",e.icon)}}function KI(s,t){s&1&&L(0,"CalendarIcon")}function ZI(s,t){}function QI(s,t){s&1&&T(0,ZI,0,0,"ng-template")}function JI(s,t){if(s&1&&(ee(0),T(1,KI,1,0,"CalendarIcon",7)(2,QI,1,0,null,13),te()),s&2){let e=v(3);_(),f("ngIf",!e.triggerIconTemplate),_(),f("ngTemplateOutlet",e.triggerIconTemplate)}}function eD(s,t){if(s&1){let e=J();S(0,"button",14),W("click",function(n){O(e),v();let r=at(1),o=v();return E(o.onButtonClick(n,r))}),T(1,XI,1,1,"span",15)(2,JI,3,2,"ng-container",7),I()}if(s&2){let e,i=v(2);f("disabled",i.disabled),k("aria-label",i.iconButtonAriaLabel)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.panelId:null),_(),f("ngIf",i.icon),_(),f("ngIf",!i.icon)}}function tD(s,t){if(s&1){let e=J();S(0,"CalendarIcon",19),W("click",function(n){O(e);let r=v(3);return E(r.onButtonClick(n))}),I()}if(s&2){let e=v(3);f("ngClass",he(1,NI,e.showOnFocus))}}function iD(s,t){s&1&&pe(0)}function nD(s,t){if(s&1&&(ee(0),T(1,tD,1,3,"CalendarIcon",17)(2,iD,1,0,"ng-container",18),te()),s&2){let e=v(2);_(),f("ngIf",!e.inputIconTemplate),_(),f("ngTemplateOutlet",e.inputIconTemplate)("ngTemplateOutletContext",he(3,PI,e.onButtonClick.bind(e)))}}function sD(s,t){if(s&1){let e=J();S(0,"input",6,1),W("focus",function(n){O(e);let r=v();return E(r.onInputFocus(n))})("keydown",function(n){O(e);let r=v();return E(r.onInputKeydown(n))})("click",function(){O(e);let n=v();return E(n.onInputClick())})("blur",function(n){O(e);let r=v();return E(r.onInputBlur(n))})("input",function(n){O(e);let r=v();return E(r.onUserInput(n))}),I(),T(2,qI,3,2,"ng-container",7)(3,eD,3,6,"button",8)(4,nD,3,5,"ng-container",7)}if(s&2){let e,i=v();Y(i.inputStyleClass),f("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass",i.inputClass)("autofocus",i.autofocus),k("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.panelId:null)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null),_(2),f("ngIf",i.showClear&&!i.disabled&&i.value!=null),_(),f("ngIf",i.showIcon&&i.iconDisplay==="button"),_(),f("ngIf",i.iconDisplay==="input"&&i.showIcon)}}function rD(s,t){s&1&&pe(0)}function oD(s,t){s&1&&L(0,"ChevronLeftIcon",40),s&2&&f("styleClass","p-datepicker-prev-icon")}function aD(s,t){}function lD(s,t){s&1&&T(0,aD,0,0,"ng-template")}function cD(s,t){if(s&1&&(S(0,"span",41),T(1,lD,1,0,null,13),I()),s&2){let e=v(5);_(),f("ngTemplateOutlet",e.previousIconTemplate)}}function hD(s,t){if(s&1){let e=J();S(0,"button",38),W("keydown",function(n){O(e);let r=v(4);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(4);return E(r.onPrevButtonClick(n))}),T(1,oD,1,1,"ChevronLeftIcon",35)(2,cD,2,1,"span",39),I()}if(s&2){let e=v(4);k("aria-label",e.prevIconAriaLabel),_(),f("ngIf",!e.previousIconTemplate),_(),f("ngIf",e.previousIconTemplate)}}function uD(s,t){if(s&1){let e=J();S(0,"button",42),W("click",function(n){O(e);let r=v(4);return E(r.switchToMonthView(n))})("keydown",function(n){O(e);let r=v(4);return E(r.onContainerButtonKeydown(n))}),fe(1),I()}if(s&2){let e=v().$implicit,i=v(3);f("disabled",i.switchViewButtonDisabled()),k("aria-label",i.getTranslation("chooseMonth")),_(),qt(" ",i.getMonthName(e.month)," ")}}function dD(s,t){if(s&1){let e=J();S(0,"button",43),W("click",function(n){O(e);let r=v(4);return E(r.switchToYearView(n))})("keydown",function(n){O(e);let r=v(4);return E(r.onContainerButtonKeydown(n))}),fe(1),I()}if(s&2){let e=v().$implicit,i=v(3);f("disabled",i.switchViewButtonDisabled()),k("aria-label",i.getTranslation("chooseYear")),_(),qt(" ",i.getYear(e)," ")}}function pD(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(5);_(),tl("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function fD(s,t){s&1&&pe(0)}function mD(s,t){if(s&1&&(S(0,"span",44),T(1,pD,2,2,"ng-container",7)(2,fD,1,0,"ng-container",18),I()),s&2){let e=v(4);_(),f("ngIf",!e.decadeTemplate),_(),f("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",he(3,qu,e.yearPickerValues))}}function gD(s,t){s&1&&L(0,"ChevronRightIcon",40),s&2&&f("styleClass","p-datepicker-next-icon")}function _D(s,t){}function vD(s,t){s&1&&T(0,_D,0,0,"ng-template")}function yD(s,t){if(s&1&&(S(0,"span",45),T(1,vD,1,0,null,13),I()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.nextIconTemplate)}}function bD(s,t){if(s&1&&(S(0,"th",51)(1,"span"),fe(2),I()()),s&2){let e=v(5);_(2),We(e.getTranslation("weekHeader"))}}function CD(s,t){if(s&1&&(S(0,"th",52)(1,"span"),fe(2),I()()),s&2){let e=t.$implicit;_(2),We(e)}}function wD(s,t){if(s&1&&(S(0,"td",55)(1,"span",56),fe(2),I()()),s&2){let e=v().index,i=v(2).$implicit;_(2),qt(" ",i.weekNumbers[e]," ")}}function xD(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(2).$implicit;_(),We(e.day)}}function TD(s,t){s&1&&pe(0)}function SD(s,t){if(s&1&&(ee(0),T(1,TD,1,0,"ng-container",18),te()),s&2){let e=v(2).$implicit,i=v(6);_(),f("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",he(2,qu,e))}}function ID(s,t){s&1&&pe(0)}function DD(s,t){if(s&1&&(ee(0),T(1,ID,1,0,"ng-container",18),te()),s&2){let e=v(2).$implicit,i=v(6);_(),f("ngTemplateOutlet",i.disabledDateTemplate)("ngTemplateOutletContext",he(2,qu,e))}}function OD(s,t){if(s&1&&(S(0,"div",59),fe(1),I()),s&2){let e=v(2).$implicit;_(),qt(" ",e.day," ")}}function ED(s,t){if(s&1){let e=J();ee(0),S(1,"span",57),W("click",function(n){O(e);let r=v().$implicit,o=v(6);return E(o.onDateSelect(n,r))})("keydown",function(n){O(e);let r=v().$implicit,o=v(3).index,a=v(3);return E(a.onDateCellKeydown(n,r,o))}),T(2,xD,2,1,"ng-container",7)(3,SD,2,4,"ng-container",7)(4,DD,2,4,"ng-container",7),I(),T(5,OD,2,1,"div",58),te()}if(s&2){let e=v().$implicit,i=v(6);_(),f("ngClass",Pe(6,zI,i.isSelected(e)&&e.selectable,!e.selectable)),k("data-date",i.formatDateKey(i.formatDateMetaToDate(e))),_(),f("ngIf",!i.dateTemplate&&(e.selectable||!i.disabledDateTemplate)),_(),f("ngIf",e.selectable||!i.disabledDateTemplate),_(),f("ngIf",!e.selectable),_(),f("ngIf",i.isSelected(e))}}function kD(s,t){if(s&1&&(S(0,"td",16),T(1,ED,6,9,"ng-container",7),I()),s&2){let e=t.$implicit,i=v(6);f("ngClass",Pe(3,HI,e.otherMonth,e.today)),k("aria-label",e.day),_(),f("ngIf",e.otherMonth?i.showOtherMonths:!0)}}function MD(s,t){if(s&1&&(S(0,"tr"),T(1,wD,3,1,"td",53)(2,kD,2,6,"td",54),I()),s&2){let e=t.$implicit,i=v(5);_(),f("ngIf",i.showWeek),_(),f("ngForOf",e)}}function AD(s,t){if(s&1&&(S(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),T(4,bD,3,1,"th",48)(5,CD,3,1,"th",49),I()(),S(6,"tbody"),T(7,MD,3,2,"tr",50),I()()()),s&2){let e=v().$implicit,i=v(3);_(4),f("ngIf",i.showWeek),_(),f("ngForOf",i.weekDays),_(2),f("ngForOf",e.dates)}}function FD(s,t){if(s&1){let e=J();S(0,"div",27)(1,"div",28),T(2,hD,3,3,"button",29),S(3,"div",30),T(4,uD,2,3,"button",31)(5,dD,2,3,"button",32)(6,mD,3,5,"span",33),I(),S(7,"button",34),W("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(3);return E(r.onNextButtonClick(n))}),T(8,gD,1,1,"ChevronRightIcon",35)(9,yD,2,1,"span",36),I()(),T(10,AD,8,3,"div",37),I()}if(s&2){let e=t.index,i=v(3);_(2),f("ngIf",e===0),_(2),f("ngIf",i.currentView==="date"),_(),f("ngIf",i.currentView!=="year"),_(),f("ngIf",i.currentView==="year"),_(),qn("display",i.numberOfMonths===1||e===i.numberOfMonths-1?"inline-flex":"none"),k("aria-label",i.nextIconAriaLabel),_(),f("ngIf",!i.nextIconTemplate),_(),f("ngIf",i.nextIconTemplate),_(),f("ngIf",i.currentView==="date")}}function VD(s,t){if(s&1&&(S(0,"div",59),fe(1),I()),s&2){let e=v().$implicit;_(),qt(" ",e," ")}}function RD(s,t){if(s&1){let e=J();S(0,"span",62),W("click",function(n){let r=O(e).index,o=v(4);return E(o.onMonthSelect(n,r))})("keydown",function(n){let r=O(e).index,o=v(4);return E(o.onMonthCellKeydown(n,r))}),fe(1),T(2,VD,2,1,"div",58),I()}if(s&2){let e=t.$implicit,i=t.index,n=v(4);f("ngClass",Pe(3,r0,n.isMonthSelected(i),n.isMonthDisabled(i))),_(),qt(" ",e," "),_(),f("ngIf",n.isMonthSelected(i))}}function LD(s,t){if(s&1&&(S(0,"div",60),T(1,RD,3,6,"span",61),I()),s&2){let e=v(3);_(),f("ngForOf",e.monthPickerValues())}}function PD(s,t){if(s&1&&(S(0,"div",59),fe(1),I()),s&2){let e=v().$implicit;_(),qt(" ",e," ")}}function ND(s,t){if(s&1){let e=J();S(0,"span",65),W("click",function(n){let r=O(e).$implicit,o=v(4);return E(o.onYearSelect(n,r))})("keydown",function(n){let r=O(e).$implicit,o=v(4);return E(o.onYearCellKeydown(n,r))}),fe(1),T(2,PD,2,1,"div",58),I()}if(s&2){let e=t.$implicit,i=v(4);f("ngClass",Pe(3,r0,i.isYearSelected(e),i.isYearDisabled(e))),_(),qt(" ",e," "),_(),f("ngIf",i.isYearSelected(e))}}function jD(s,t){if(s&1&&(S(0,"div",63),T(1,ND,3,6,"span",64),I()),s&2){let e=v(3);_(),f("ngForOf",e.yearPickerValues())}}function BD(s,t){if(s&1&&(ee(0),S(1,"div",23),T(2,FD,11,10,"div",24),I(),T(3,LD,2,1,"div",25)(4,jD,2,1,"div",26),te()),s&2){let e=v(2);_(2),f("ngForOf",e.months),_(),f("ngIf",e.currentView==="month"),_(),f("ngIf",e.currentView==="year")}}function UD(s,t){s&1&&L(0,"ChevronUpIcon")}function HD(s,t){}function zD(s,t){s&1&&T(0,HD,0,0,"ng-template")}function WD(s,t){s&1&&(ee(0),fe(1,"0"),te())}function YD(s,t){s&1&&L(0,"ChevronDownIcon")}function GD(s,t){}function $D(s,t){s&1&&T(0,GD,0,0,"ng-template")}function qD(s,t){s&1&&L(0,"ChevronUpIcon")}function XD(s,t){}function KD(s,t){s&1&&T(0,XD,0,0,"ng-template")}function ZD(s,t){s&1&&(ee(0),fe(1,"0"),te())}function QD(s,t){s&1&&L(0,"ChevronDownIcon")}function JD(s,t){}function eO(s,t){s&1&&T(0,JD,0,0,"ng-template")}function tO(s,t){if(s&1&&(S(0,"div",69)(1,"span"),fe(2),I()()),s&2){let e=v(3);_(2),We(e.timeSeparator)}}function iO(s,t){s&1&&L(0,"ChevronUpIcon")}function nO(s,t){}function sO(s,t){s&1&&T(0,nO,0,0,"ng-template")}function rO(s,t){s&1&&(ee(0),fe(1,"0"),te())}function oO(s,t){s&1&&L(0,"ChevronDownIcon")}function aO(s,t){}function lO(s,t){s&1&&T(0,aO,0,0,"ng-template")}function cO(s,t){if(s&1){let e=J();S(0,"div",74)(1,"button",68),W("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(3);return E(r.incrementSecond(n))})("keydown.space",function(n){O(e);let r=v(3);return E(r.incrementSecond(n))})("mousedown",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseDown(n,2,1))})("mouseup",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(3);return E(n.onTimePickerElementMouseLeave())}),T(2,iO,1,0,"ChevronUpIcon",7)(3,sO,1,0,null,13),I(),S(4,"span"),T(5,rO,2,0,"ng-container",7),fe(6),I(),S(7,"button",68),W("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(3);return E(r.decrementSecond(n))})("keydown.space",function(n){O(e);let r=v(3);return E(r.decrementSecond(n))})("mousedown",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseDown(n,2,-1))})("mouseup",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(3);return E(n.onTimePickerElementMouseLeave())}),T(8,oO,1,0,"ChevronDownIcon",7)(9,lO,1,0,null,13),I()()}if(s&2){let e=v(3);_(),k("aria-label",e.getTranslation("nextSecond")),_(),f("ngIf",!e.incrementIconTemplate),_(),f("ngTemplateOutlet",e.incrementIconTemplate),_(2),f("ngIf",e.currentSecond<10),_(),We(e.currentSecond),_(),k("aria-label",e.getTranslation("prevSecond")),_(),f("ngIf",!e.decrementIconTemplate),_(),f("ngTemplateOutlet",e.decrementIconTemplate)}}function hO(s,t){s&1&&L(0,"ChevronUpIcon")}function uO(s,t){}function dO(s,t){s&1&&T(0,uO,0,0,"ng-template")}function pO(s,t){s&1&&L(0,"ChevronDownIcon")}function fO(s,t){}function mO(s,t){s&1&&T(0,fO,0,0,"ng-template")}function gO(s,t){if(s&1){let e=J();S(0,"div",75)(1,"button",76),W("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(3);return E(r.toggleAMPM(n))})("keydown.enter",function(n){O(e);let r=v(3);return E(r.toggleAMPM(n))}),T(2,hO,1,0,"ChevronUpIcon",7)(3,dO,1,0,null,13),I(),S(4,"span"),fe(5),I(),S(6,"button",76),W("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(3);return E(r.toggleAMPM(n))})("keydown.enter",function(n){O(e);let r=v(3);return E(r.toggleAMPM(n))}),T(7,pO,1,0,"ChevronDownIcon",7)(8,mO,1,0,null,13),I()()}if(s&2){let e=v(3);_(),k("aria-label",e.getTranslation("am")),_(),f("ngIf",!e.incrementIconTemplate),_(),f("ngTemplateOutlet",e.incrementIconTemplate),_(2),We(e.pm?"PM":"AM"),_(),k("aria-label",e.getTranslation("pm")),_(),f("ngIf",!e.decrementIconTemplate),_(),f("ngTemplateOutlet",e.decrementIconTemplate)}}function _O(s,t){if(s&1){let e=J();S(0,"div",66)(1,"div",67)(2,"button",68),W("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.incrementHour(n))})("keydown.space",function(n){O(e);let r=v(2);return E(r.incrementHour(n))})("mousedown",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseDown(n,0,1))})("mouseup",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(2);return E(n.onTimePickerElementMouseLeave())}),T(3,UD,1,0,"ChevronUpIcon",7)(4,zD,1,0,null,13),I(),S(5,"span"),T(6,WD,2,0,"ng-container",7),fe(7),I(),S(8,"button",68),W("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.decrementHour(n))})("keydown.space",function(n){O(e);let r=v(2);return E(r.decrementHour(n))})("mousedown",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseDown(n,0,-1))})("mouseup",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(2);return E(n.onTimePickerElementMouseLeave())}),T(9,YD,1,0,"ChevronDownIcon",7)(10,$D,1,0,null,13),I()(),S(11,"div",69)(12,"span"),fe(13),I()(),S(14,"div",70)(15,"button",68),W("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.incrementMinute(n))})("keydown.space",function(n){O(e);let r=v(2);return E(r.incrementMinute(n))})("mousedown",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseDown(n,1,1))})("mouseup",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(2);return E(n.onTimePickerElementMouseLeave())}),T(16,qD,1,0,"ChevronUpIcon",7)(17,KD,1,0,null,13),I(),S(18,"span"),T(19,ZD,2,0,"ng-container",7),fe(20),I(),S(21,"button",68),W("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.decrementMinute(n))})("keydown.space",function(n){O(e);let r=v(2);return E(r.decrementMinute(n))})("mousedown",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseDown(n,1,-1))})("mouseup",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(2);return E(n.onTimePickerElementMouseLeave())}),T(22,QD,1,0,"ChevronDownIcon",7)(23,eO,1,0,null,13),I()(),T(24,tO,3,1,"div",71)(25,cO,10,8,"div",72)(26,gO,9,7,"div",73),I()}if(s&2){let e=v(2);_(2),k("aria-label",e.getTranslation("nextHour")),_(),f("ngIf",!e.incrementIconTemplate),_(),f("ngTemplateOutlet",e.incrementIconTemplate),_(2),f("ngIf",e.currentHour<10),_(),We(e.currentHour),_(),k("aria-label",e.getTranslation("prevHour")),_(),f("ngIf",!e.decrementIconTemplate),_(),f("ngTemplateOutlet",e.decrementIconTemplate),_(3),We(e.timeSeparator),_(2),k("aria-label",e.getTranslation("nextMinute")),_(),f("ngIf",!e.incrementIconTemplate),_(),f("ngTemplateOutlet",e.incrementIconTemplate),_(2),f("ngIf",e.currentMinute<10),_(),We(e.currentMinute),_(),k("aria-label",e.getTranslation("prevMinute")),_(),f("ngIf",!e.decrementIconTemplate),_(),f("ngTemplateOutlet",e.decrementIconTemplate),_(),f("ngIf",e.showSeconds),_(),f("ngIf",e.showSeconds),_(),f("ngIf",e.hourFormat=="12")}}function vO(s,t){if(s&1){let e=J();S(0,"div",77)(1,"button",78),W("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(2);return E(r.onTodayButtonClick(n))}),I(),S(2,"button",78),W("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(2);return E(r.onClearButtonClick(n))}),I()()}if(s&2){let e=v(2);_(),f("label",e.getTranslation("today"))("ngClass",he(4,s0,e.todayButtonStyleClass)),_(),f("label",e.getTranslation("clear"))("ngClass",he(6,s0,e.clearButtonStyleClass))}}function yO(s,t){s&1&&pe(0)}function bO(s,t){if(s&1){let e=J();S(0,"div",20,2),W("@overlayAnimation.start",function(n){O(e);let r=v();return E(r.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){O(e);let r=v();return E(r.onOverlayAnimationDone(n))})("click",function(n){O(e);let r=v();return E(r.onOverlayClick(n))}),ct(2),T(3,rD,1,0,"ng-container",13)(4,BD,5,3,"ng-container",7)(5,_O,27,20,"div",21)(6,vO,3,8,"div",22),ct(7,1),T(8,yO,1,0,"ng-container",13),I()}if(s&2){let e=v();Y(e.panelStyleClass),f("ngStyle",e.panelStyle)("ngClass",Jf(15,jI,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,e.view==="month",e.touchUI))("@overlayAnimation",e.touchUI?he(25,BI,Pe(22,n0,e.showTransitionOptions,e.hideTransitionOptions)):he(30,UI,Pe(27,n0,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),k("id",e.panelId)("aria-label",e.getTranslation("chooseDate"))("role",e.inline?null:"dialog")("aria-modal",e.inline?null:"true"),_(3),f("ngTemplateOutlet",e.headerTemplate),_(),f("ngIf",!e.timeOnly),_(),f("ngIf",(e.showTime||e.timeOnly)&&e.currentView==="date"),_(),f("ngIf",e.showButtonBar),_(2),f("ngTemplateOutlet",e.footerTemplate)}}var CO={provide:ii,useExisting:Nt(()=>wO),multi:!0},wO=(()=>{class s{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(e){this._minDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){let i=e.split(":"),n=parseInt(i[0]),r=parseInt(i[1]);this.populateYearOptions(n,r)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){let i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new G;onBlur=new G;onClose=new G;onSelect=new G;onClear=new G;onInput=new G;onTodayClick=new G;onClearClick=new G;onMonthChange=new G;onYearChange=new G;onClickOutside=new G;onShow=new G;templates;containerViewChild;inputfieldViewChild;set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(e,i,n,r,o,a,c){this.document=e,this.el=i,this.renderer=n,this.cd=r,this.zone=o,this.config=a,this.overlayService=c,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=Ye(),this.panelId=this.attributeSelector+"_panel";let e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"inputicon":this.inputIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"triggericon":this.triggerIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"decrementicon":this.decrementIconTemplate=e.template;break;case"incrementicon":this.incrementIconTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=M.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let n=e;n<=i;n++)this.yearOptions.push(n)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(_t.DAY_NAMES_MIN);for(let n=0;n<7;n++)this.weekDays.push(i[e]),e=e==6?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%this.stepYearPicker;for(let n=0;n<this.stepYearPicker;n++)e.push(i+n);return e}createMonths(e,i){this.months=this.months=[];for(let n=0;n<this.numberOfMonths;n++){let r=e+n,o=i;r>11&&(r=r%11-1,o=i+1),this.months.push(this.createMonth(r,o))}}getWeekNumber(e){let i=new Date(e.getTime());if(this.startWeekFromFirstDayOfYear){let r=+this.getFirstDateOfWeek();i.setDate(i.getDate()+6+r-i.getDay())}else i.setDate(i.getDate()+4-(i.getDay()||7));let n=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((n-i.getTime())/864e5)/7)+1}createMonth(e,i){let n=[],r=this.getFirstDayOfMonthIndex(e,i),o=this.getDaysCountInMonth(e,i),a=this.getDaysCountInPrevMonth(e,i),c=1,u=new Date,d=[],m=Math.ceil((o+r)/7);for(let y=0;y<m;y++){let b=[];if(y==0){for(let x=a-r+1;x<=a;x++){let D=this.getPreviousMonthAndYear(e,i);b.push({day:x,month:D.month,year:D.year,otherMonth:!0,today:this.isToday(u,x,D.month,D.year),selectable:this.isSelectable(x,D.month,D.year,!0)})}let C=7-b.length;for(let x=0;x<C;x++)b.push({day:c,month:e,year:i,today:this.isToday(u,c,e,i),selectable:this.isSelectable(c,e,i,!1)}),c++}else for(let C=0;C<7;C++){if(c>o){let x=this.getNextMonthAndYear(e,i);b.push({day:c-o,month:x.month,year:x.year,otherMonth:!0,today:this.isToday(u,c-o,x.month,x.year),selectable:this.isSelectable(c-o,x.month,x.year,!0)})}else b.push({day:c,month:e,year:i,today:this.isToday(u,c,e,i),selectable:this.isSelectable(c,e,i,!1)});c++}this.showWeek&&d.push(this.getWeekNumber(new Date(b[0].year,b[0].month,b[0].day))),n.push(b)}return{month:e,year:i,dates:n,weekNumbers:d}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear<e[0]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]-i,e[e.length-1]-i)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear>e[e.length-1]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]+i,e[e.length-1]+i)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){if(this.disabled||!i.selectable){e.preventDefault();return}this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((n,r)=>!this.isDateEquals(n,i)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()}shouldSelectDate(e){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(e,i){this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){this.view==="year"?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value){if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++){let n=this.formatDateTime(this.value[i]);e+=n,i!==this.value.length-1&&(e+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[0],n=this.value[1];e=this.formatDateTime(i),n&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(n))}}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null,n=this.isValidDateForTimeConstraints(e);return this.isValidDate(e)?this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e))):this.dataType==="string"&&(i=e),i=n?i:"",i}formatDateMetaToDate(e){return new Date(e.year,e.month,e.day)}formatDateKey(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}setCurrentHourPM(e){this.hourFormat=="12"?(this.pm=e>11,e>=12?this.currentHour=e==12?12:e-12:this.currentHour=e==0?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=this.formatDateMetaToDate(e);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let n=this.value[0],r=this.value[1];!r&&i.getTime()>=n.getTime()?r=i:(n=i,r=null),this.updateModel([n,r])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(n=>this.formatDateTime(n))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let n=new Date;n.setDate(1),n.setMonth(e),n.setFullYear(i);let r=n.getDay()+this.getSundayIndex();return r>=7?r-7:r}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let n=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(n.month,n.year)}getPreviousMonthAndYear(e,i){let n,r;return e===0?(n=11,r=i-1):(n=e-1,r=i),{month:n,year:r}}getNextMonthAndYear(e,i){let n,r;return e===11?(n=0,r=i+1):(n=e+1,r=i),{month:n,year:r}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let n of this.value)if(i=this.isDateEquals(n,e),i)break;return i}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){let[i,n]=this.isRangeSelection()?this.value:[this.value,this.value],r=new Date(this.currentYear,e,1);return r>=i&&r<=(n??i)}return!1}isMonthDisabled(e,i){let n=i??this.currentYear;for(let r=1;r<this.getDaysCountInMonth(e,n)+1;r++)if(this.isSelectable(r,e,n,!1))return!1;return!0}isYearDisabled(e){return Array(12).fill(0).every((i,n)=>this.isMonthDisabled(n,e))}isYearSelected(e){if(!this.isComparable()||this.isMultipleSelection())return!1;let i=this.isRangeSelection()?this.value[0]:this.value;return i?i.getFullYear()===e:!1}isDateEquals(e,i){return e&&ae.isDate(e)?e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year:!1}isDateBetween(e,i,n){let r=!1;if(ae.isDate(e)&&ae.isDate(i)){let o=this.formatDateMetaToDate(n);return e.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return r}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(e,i,n,r){return e.getDate()===i&&e.getMonth()===n&&e.getFullYear()===r}isSelectable(e,i,n,r){let o=!0,a=!0,c=!0,u=!0;return r&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>n||this.minDate.getFullYear()===n&&this.currentView!="year"&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<n||this.maxDate.getFullYear()===n&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(a=!1),this.disabledDates&&(c=!this.isDateDisabled(e,i,n)),this.disabledDays&&(u=!this.isDayDisabled(e,i,n)),o&&a&&c&&u)}isDateDisabled(e,i,n){if(this.disabledDates){for(let r of this.disabledDates)if(r.getFullYear()===n&&r.getMonth()===i&&r.getDate()===e)return!0}return!1}isDayDisabled(e,i,n){if(this.disabledDays){let o=new Date(n,i,e).getDay();return this.disabledDays.indexOf(o)!==-1}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return this.currentView==="month"?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){let i=M.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),n=e.target;if(this.timeOnly)return;n==i.children[i?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;default:break}}onInputKeydown(e){this.isKeydown=!0,e.keyCode===40&&this.contentViewChild?this.trapFocus(e):e.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):e.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):e.keyCode===9&&this.contentViewChild&&(M.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,n){let r=e.currentTarget,o=r.parentElement,a=this.formatDateMetaToDate(i);switch(e.which){case 40:{r.tabIndex="-1";let C=M.index(o),x=o.parentElement.nextElementSibling;if(x){let D=x.children[C].children[0];M.hasClass(D,"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(x.children[C].children[0].tabIndex="0",x.children[C].children[0].focus())}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case 38:{r.tabIndex="-1";let C=M.index(o),x=o.parentElement.previousElementSibling;if(x){let D=x.children[C].children[0];M.hasClass(D,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(D.tabIndex="0",D.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{r.tabIndex="-1";let C=o.previousElementSibling;if(C){let x=C.children[0];M.hasClass(x,"p-disabled")||M.hasClass(x.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,n):(x.tabIndex="0",x.focus())}else this.navigateToMonth(!0,n);e.preventDefault();break}case 39:{r.tabIndex="-1";let C=o.nextElementSibling;if(C){let x=C.children[0];M.hasClass(x,"p-disabled")?this.navigateToMonth(!1,n):(x.tabIndex="0",x.focus())}else this.navigateToMonth(!1,n);e.preventDefault();break}case 13:case 32:{this.onDateSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}case 33:{r.tabIndex="-1";let C=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),x=this.formatDateKey(C);this.navigateToMonth(!0,n,`span[data-date='${x}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 34:{r.tabIndex="-1";let C=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),x=this.formatDateKey(C);this.navigateToMonth(!1,n,`span[data-date='${x}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 36:r.tabIndex="-1";let c=new Date(a.getFullYear(),a.getMonth(),1),u=this.formatDateKey(c),d=M.findSingle(r.offsetParent,`span[data-date='${u}']:not(.p-disabled):not(.p-ink)`);d&&(d.tabIndex="0",d.focus()),e.preventDefault();break;case 35:r.tabIndex="-1";let m=new Date(a.getFullYear(),a.getMonth()+1,0),y=this.formatDateKey(m),b=M.findSingle(r.offsetParent,`span[data-date='${y}']:not(.p-disabled):not(.p-ink)`);m&&(b.tabIndex="0",b.focus()),e.preventDefault();break;default:break}}onMonthCellKeydown(e,i){let n=e.currentTarget;switch(e.which){case 38:case 40:{n.tabIndex="-1";var r=n.parentElement.children,o=M.index(n);let a=r[e.which===40?o+3:o-3];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{n.tabIndex="-1";let a=n.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{n.tabIndex="-1";let a=n.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onMonthSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}default:break}}onYearCellKeydown(e,i){let n=e.currentTarget;switch(e.which){case 38:case 40:{n.tabIndex="-1";var r=n.parentElement.children,o=M.index(n);let a=r[e.which===40?o+2:o-2];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{n.tabIndex="-1";let a=n.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{n.tabIndex="-1";let a=n.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onYearSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.trapFocus(e);break}default:break}}navigateToMonth(e,i,n){if(e)if(this.numberOfMonths===1||i===0)this.navigationState={backward:!0},this._focusKey=n,this.navBackward(event);else{let r=this.contentViewChild.nativeElement.children[i-1];if(n){let o=M.findSingle(r,n);o.tabIndex="0",o.focus()}else{let o=M.find(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=o[o.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||i===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=n,this.navForward(event);else{let r=this.contentViewChild.nativeElement.children[i+1];if(n){let o=M.findSingle(r,n);o.tabIndex="0",o.focus()}else{let o=M.findSingle(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?M.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():M.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;this.currentView==="month"?i=M.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=M.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=M.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else this.currentView==="month"?e=M.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?e=M.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):e=M.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let e=this.contentViewChild?.nativeElement,i;if(this.currentView==="month"){let n=M.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=M.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");n.forEach(o=>o.tabIndex=-1),i=r||n[0],n.length===0&&M.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let n=M.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=M.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");n.forEach(o=>o.tabIndex=-1),i=r||n[0],n.length===0&&M.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(i=M.findSingle(e,"span.p-highlight"),!i){let n=M.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");n?i=n:i=M.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=M.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(!i[0].ownerDocument.activeElement)i[0].focus();else{let n=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(n==-1||n===0)if(this.focusTrap)i[i.length-1].focus();else{if(n===-1)return this.hideOverlay();if(n===0)return}else i[n-1].focus();else if(n==-1)if(this.timeOnly)i[0].focus();else{let r=0;for(let o=0;o<i.length;o++)i[o].tagName==="SPAN"&&(r=o);i[r].focus()}else if(n===i.length-1){if(!this.focusTrap&&n!=-1)return this.hideOverlay();i[0].focus()}else i[n+1].focus()}e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(e,i){return this.hourFormat=="12"?e===12?i?12:0:i?e+12:e:e}constrainTime(e,i,n,r){let o=[e,i,n],a,c=this.value,u=this.convertTo24Hour(e,r),d=this.isRangeSelection(),m=this.isMultipleSelection();(d||m)&&(this.value||(this.value=[new Date,new Date]),d&&(c=this.value[1]||this.value[0]),m&&(c=this.value[this.value.length-1]));let b=c?c.toDateString():null,C=this.minDate&&b&&this.minDate.toDateString()===b,x=this.maxDate&&b&&this.maxDate.toDateString()===b;switch(C&&(a=this.minDate.getHours()>=12),!0){case(C&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>u):o[0]=11;case(C&&this.minDate.getHours()===u&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(C&&this.minDate.getHours()===u&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(C&&!a&&this.minDate.getHours()-1===u&&this.minDate.getHours()>u):o[0]=11,this.pm=!0;case(C&&this.minDate.getHours()===u&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(C&&this.minDate.getHours()===u&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(C&&a&&this.minDate.getHours()>u&&u!==12):this.setCurrentHourPM(this.minDate.getHours()),o[0]=this.currentHour;case(C&&this.minDate.getHours()===u&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(C&&this.minDate.getHours()===u&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(C&&this.minDate.getHours()>u):o[0]=this.minDate.getHours();case(C&&this.minDate.getHours()===u&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(C&&this.minDate.getHours()===u&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(x&&this.maxDate.getHours()<u):o[0]=this.maxDate.getHours();case(x&&this.maxDate.getHours()===u&&this.maxDate.getMinutes()<i):o[1]=this.maxDate.getMinutes();case(x&&this.maxDate.getHours()===u&&this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<n):o[2]=this.maxDate.getSeconds();break}return o}incrementHour(e){let i=this.currentHour??0,n=(this.currentHour??0)+this.stepHour,r=this.pm;this.hourFormat=="24"?n=n>=24?n-24:n:this.hourFormat=="12"&&(i<12&&n>11&&(r=!this.pm),n=n>=13?n-12:n),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(n,this.currentMinute,this.currentSecond,r),e.preventDefault()}toggleAMPMIfNotMinDate(e){let i=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(i)&&i.length>0&&(i=i[i.length-1]);let n=i?i.toDateString():null;this.minDate&&n&&this.minDate.toDateString()===n&&this.minDate.getHours()>=12?this.pm=!0:this.pm=e}onTimePickerElementMouseDown(e,i,n){this.disabled||(this.repeat(e,null,i,n),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,n,r){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,n,r),this.cd.markForCheck()},o),n){case 0:r===1?this.incrementHour(e):this.decrementHour(e);break;case 1:r===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:r===1?this.incrementSecond(e):this.decrementSecond(e);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=(this.currentHour??0)-this.stepHour,n=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(n=!this.pm),i=i<=0?12+i:i),this.toggleAMPMIfNotMinDate(n),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(i,this.currentMinute,this.currentSecond,n),e.preventDefault()}incrementMinute(e){let i=(this.currentMinute??0)+this.stepMinute;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),e.preventDefault()}decrementMinute(e){let i=(this.currentMinute??0)-this.stepMinute;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?e.setHours(this.pm?12:0):e.setHours(this.pm?this.currentHour+12:this.currentHour):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?e=[this.value[0],e]:e=[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){let i=!this.pm;this.pm=i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,i),this.updateTime(),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let n=this.parseValueFromString(i);this.isValidSelection(n)?(this.updateModel(n),this.updateUI()):this.keepInvalid&&this.updateModel(n)}catch{let r=this.keepInvalid?i:null;this.updateModel(r)}this.filled=i!=null&&i.length,this.onInput.emit(e)}isValidSelection(e){if(this.isSingleSelection())return this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1);let i=e.every(n=>this.isSelectable(n.getDate(),n.getMonth(),n.getFullYear(),!1));return i&&this.isRangeSelection()&&(i=e.length===1||e.length>1&&e[1]>=e[0]),i}parseValueFromString(e){if(!e||e.trim().length===0)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let n=e.split(this.multipleSeparator);i=[];for(let r of n)i.push(this.parseDateTime(r.trim()))}else if(this.isRangeSelection()){let n=e.split(" "+this.rangeSeparator+" ");i=[];for(let r=0;r<n.length;r++)i[r]=this.parseDateTime(n[r].trim())}return i}parseDateTime(e){let i,n=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,n[0],n[1]);else{let r=this.getDateFormat();if(this.showTime){let o=this.hourFormat=="12"?n.pop():null,a=n.pop();i=this.parseDate(n.join(" "),r),this.populateTime(i,a,o)}else i=this.parseDate(e,r)}return i}populateTime(e,i,n){if(this.hourFormat=="12"&&!n)throw"Invalid Time";this.pm=n==="PM"||n==="pm";let r=this.parseTime(i);e.setHours(r.hour),e.setMinutes(r.minute),e.setSeconds(r.second)}isValidDate(e){return ae.isDate(e)&&ae.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[1]||e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?wt.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):wt.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e);break}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&wt.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):M.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=M.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=M.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=M.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),M.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):M.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),M.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",n=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),M.blockBodyScroll())}disableModality(){this.mask&&(M.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let e=this.document.body.children,i;for(let n=0;n<e.length;n++){let r=e[n];if(M.hasClass(r,"p-datepicker-mask-scrollblocker")){i=!0;break}}i||M.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(_t.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let n,r=d=>{let m=n+1<i.length&&i.charAt(n+1)===d;return m&&n++,m},o=(d,m,y)=>{let b=""+m;if(r(d))for(;b.length<y;)b="0"+b;return b},a=(d,m,y,b)=>r(d)?b[m]:y[m],c="",u=!1;if(e)for(n=0;n<i.length;n++)if(u)i.charAt(n)==="'"&&!r("'")?u=!1:c+=i.charAt(n);else switch(i.charAt(n)){case"d":c+=o("d",e.getDate(),2);break;case"D":c+=a("D",e.getDay(),this.getTranslation(_t.DAY_NAMES_SHORT),this.getTranslation(_t.DAY_NAMES));break;case"o":c+=o("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=o("m",e.getMonth()+1,2);break;case"M":c+=a("M",e.getMonth(),this.getTranslation(_t.MONTH_NAMES_SHORT),this.getTranslation(_t.MONTH_NAMES));break;case"y":c+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=e.getTime()*1e4+this.ticksTo1970;break;case"'":r("'")?c+="'":u=!0;break;default:c+=i.charAt(n)}return c}formatTime(e){if(!e)return"";let i="",n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return this.hourFormat=="12"&&n>11&&n!=12&&(n-=12),this.hourFormat=="12"?i+=n===0?12:n<10?"0"+n:n:i+=n<10?"0"+n:n,i+=":",i+=r<10?"0"+r:r,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),this.hourFormat=="12"&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":"),n=this.showSeconds?3:2;if(i.length!==n)throw"Invalid time";let r=parseInt(i[0]),o=parseInt(i[1]),a=this.showSeconds?parseInt(i[2]):null;if(isNaN(r)||isNaN(o)||r>23||o>59||this.hourFormat=="12"&&r>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(r!==12&&this.pm?r+=12:!this.pm&&r===12&&(r-=12)),{hour:r,minute:o,second:a}}parseDate(e,i){if(i==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e.toString():e+"",e==="")return null;let n,r,o,a=0,c=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),u=-1,d=-1,m=-1,y=-1,b=!1,C,x=P=>{let z=n+1<i.length&&i.charAt(n+1)===P;return z&&n++,z},D=P=>{let z=x(P),$=P==="@"?14:P==="!"?20:P==="y"&&z?4:P==="o"?3:2,Z=P==="y"?$:1,ge=new RegExp("^\\d{"+Z+","+$+"}"),Q=e.substring(a).match(ge);if(!Q)throw"Missing number at position "+a;return a+=Q[0].length,parseInt(Q[0],10)},R=(P,z,$)=>{let Z=-1,ge=x(P)?$:z,Q=[];for(let Ee=0;Ee<ge.length;Ee++)Q.push([Ee,ge[Ee]]);Q.sort((Ee,Xe)=>-(Ee[1].length-Xe[1].length));for(let Ee=0;Ee<Q.length;Ee++){let Xe=Q[Ee][1];if(e.substr(a,Xe.length).toLowerCase()===Xe.toLowerCase()){Z=Q[Ee][0],a+=Xe.length;break}}if(Z!==-1)return Z+1;throw"Unknown name at position "+a},U=()=>{if(e.charAt(a)!==i.charAt(n))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(m=1),n=0;n<i.length;n++)if(b)i.charAt(n)==="'"&&!x("'")?b=!1:U();else switch(i.charAt(n)){case"d":m=D("d");break;case"D":R("D",this.getTranslation(_t.DAY_NAMES_SHORT),this.getTranslation(_t.DAY_NAMES));break;case"o":y=D("o");break;case"m":d=D("m");break;case"M":d=R("M",this.getTranslation(_t.MONTH_NAMES_SHORT),this.getTranslation(_t.MONTH_NAMES));break;case"y":u=D("y");break;case"@":C=new Date(D("@")),u=C.getFullYear(),d=C.getMonth()+1,m=C.getDate();break;case"!":C=new Date((D("!")-this.ticksTo1970)/1e4),u=C.getFullYear(),d=C.getMonth()+1,m=C.getDate();break;case"'":x("'")?U():b=!0;break;default:U()}if(a<e.length&&(o=e.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(u===-1?u=new Date().getFullYear():u<100&&(u+=new Date().getFullYear()-new Date().getFullYear()%100+(u<=c?0:-100)),y>-1){d=1,m=y;do{if(r=this.getDaysCountInMonth(u,d-1),m<=r)break;d++,m-=r}while(!0)}if(this.view==="year"&&(d=d===-1?1:d,m=m===-1?1:m),C=this.daylightSavingAdjust(new Date(u,d-1,m)),C.getFullYear()!==u||C.getMonth()+1!==d||C.getDate()!==m)throw"Invalid date";return C}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(e){return this.keepInvalid?!0:(!this.minDate||e>=this.minDate)&&(!this.maxDate||e<=this.maxDate)}onTodayButtonClick(e){let i=new Date,n={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(e,n),this.onTodayClick.emit(i)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",M.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(n=>!!(n.breakpoint&&n.numMonths)).sort((n,r)=>-1*n.breakpoint.localeCompare(r.breakpoint,void 0,{numeric:!0}));for(let n=0;n<i.length;n++){let{breakpoint:r,numMonths:o}=i[n],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let c=o;c<this.numberOfMonths;c++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c+1}) {
                                display: none !important;
                            }
                        `;e+=`
                        @media screen and (max-width: ${r}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new is(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return M.hasClass(e.target,"p-datepicker-prev")||M.hasClass(e.target,"p-datepicker-prev-icon")||M.hasClass(e.target,"p-datepicker-next")||M.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!M.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&wt.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||s)(j(Re),j(Ve),j(pt),j(Ue),j(nt),j(ht),j(Pl))};static \u0275cmp=q({type:s,selectors:[["p-calendar"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(MI,5),ye(AI,5),ye(FI,5)),i&2){let r;ie(r=ne())&&(n.containerViewChild=r.first),ie(r=ne())&&(n.inputfieldViewChild=r.first),ie(r=ne())&&(n.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,n){i&2&&xi("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focus)("p-calendar-clearable",n.showClear&&!n.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",B],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",B],showOtherMonths:[2,"showOtherMonths","showOtherMonths",B],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",B],showIcon:[2,"showIcon","showIcon",B],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",B],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",B],yearNavigator:[2,"yearNavigator","yearNavigator",B],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",B],stepYearPicker:[2,"stepYearPicker","stepYearPicker",_e],stepHour:[2,"stepHour","stepHour",_e],stepMinute:[2,"stepMinute","stepMinute",_e],stepSecond:[2,"stepSecond","stepSecond",_e],showSeconds:[2,"showSeconds","showSeconds",B],required:[2,"required","required",B],showOnFocus:[2,"showOnFocus","showOnFocus",B],showWeek:[2,"showWeek","showWeek",B],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",B],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",_e],showButtonBar:[2,"showButtonBar","showButtonBar",B],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",B],autoZIndex:[2,"autoZIndex","autoZIndex",B],baseZIndex:[2,"baseZIndex","baseZIndex",_e],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",B],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",B],touchUI:[2,"touchUI","touchUI",B],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",B],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",_e],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Xt([CO]),Me],ngContentSelectors:RI,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(i,n){i&1&&(bt(VI),S(0,"span",3,0),T(2,sD,5,22,"ng-template",4)(3,bO,9,32,"div",5),I()),i&2&&(Y(n.styleClass),f("ngClass",il(6,LI,n.showIcon&&n.iconDisplay==="input",n.showIcon&&n.iconDisplay==="button",n.timeOnly,n.disabled,n.focus||n.overlayVisible))("ngStyle",n.style),_(2),f("ngIf",!n.inline),_(),f("ngIf",n.inline||n.overlayVisible))},dependencies:()=>[Le,ei,He,qe,Ne,rs,Ht,Hr,zr,Gu,Ur,ut,$u,mi],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Si("overlayAnimation",[ul("visibleTouchUI",Ct({transform:"translate(-50%,-50%)",opacity:1})),Ft("void => visible",[Ct({opacity:0,transform:"scaleY(0.8)"}),Rt("{{showTransitionParams}}",Ct({opacity:1,transform:"*"}))]),Ft("visible => void",[Rt("{{hideTransitionParams}}",Ct({opacity:0}))]),Ft("void => visibleTouchUI",[Ct({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Rt("{{showTransitionParams}}")]),Ft("visibleTouchUI => void",[Rt("{{hideTransitionParams}}",Ct({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return s})(),Xu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Ki,Oe,ni,Hr,zr,Gu,Ur,ut,$u,Bi,Ki,Oe]})}return s})();var o0=["*"];function xO(s,t){s&1&&pe(0)}function TO(s,t){if(s&1&&(ee(0),T(1,xO,1,0,"ng-container",3),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.contentTemplate)}}function SO(s,t){if(s&1&&(S(0,"div",1),ct(1),T(2,TO,2,1,"ng-container",2),I()),s&2){let e=v();f("hidden",!e.selected),k("id",e.tabView.getTabContentId(e.id))("aria-hidden",!e.selected)("aria-labelledby",e.tabView.getTabHeaderActionId(e.id))("data-pc-name","tabpanel"),_(2),f("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}var IO=["content"],DO=["navbar"],OO=["prevBtn"],EO=["nextBtn"],kO=["inkbar"],MO=["elementToObserve"],AO=s=>({"p-tabview p-component":!0,"p-tabview-scrollable":s}),FO=(s,t)=>({"p-highlight":s,"p-disabled":t});function VO(s,t){s&1&&L(0,"ChevronLeftIcon"),s&2&&k("aria-hidden",!0)}function RO(s,t){}function LO(s,t){s&1&&T(0,RO,0,0,"ng-template")}function PO(s,t){if(s&1){let e=J();S(0,"button",15,4),W("click",function(){O(e);let n=v();return E(n.navBackward())}),T(2,VO,1,1,"ChevronLeftIcon",16)(3,LO,1,0,null,17),I()}if(s&2){let e=v();k("tabindex",e.tabindex)("aria-label",e.prevButtonAriaLabel),_(2),f("ngIf",!e.previousIconTemplate),_(),f("ngTemplateOutlet",e.previousIconTemplate)}}function NO(s,t){if(s&1&&L(0,"span",26),s&2){let e=v(3).$implicit;f("ngClass",e.leftIcon)}}function jO(s,t){}function BO(s,t){s&1&&T(0,jO,0,0,"ng-template")}function UO(s,t){if(s&1&&(S(0,"span",27),T(1,BO,1,0,null,17),I()),s&2){let e=v(3).$implicit;_(),f("ngTemplateOutlet",e.leftIconTemplate)}}function HO(s,t){if(s&1&&L(0,"span",28),s&2){let e=v(3).$implicit;f("ngClass",e.rightIcon)}}function zO(s,t){}function WO(s,t){s&1&&T(0,zO,0,0,"ng-template")}function YO(s,t){if(s&1&&(S(0,"span",29),T(1,WO,1,0,null,17),I()),s&2){let e=v(3).$implicit;_(),f("ngTemplateOutlet",e.rightIconTemplate)}}function GO(s,t){if(s&1&&(ee(0),T(1,NO,1,1,"span",21)(2,UO,2,1,"span",22),S(3,"span",23),fe(4),I(),T(5,HO,1,1,"span",24)(6,YO,2,1,"span",25),te()),s&2){let e=v(2).$implicit;_(),f("ngIf",e.leftIcon&&!e.leftIconTemplate),_(),f("ngIf",e.leftIconTemplate),_(2),We(e.header),_(),f("ngIf",e.rightIcon&&!e.rightIconTemplate),_(),f("ngIf",e.rightIconTemplate)}}function $O(s,t){s&1&&pe(0)}function qO(s,t){if(s&1){let e=J();S(0,"TimesIcon",32),W("click",function(n){O(e);let r=v(3).$implicit,o=v();return E(o.close(n,r))}),I()}s&2&&f("styleClass","p-tabview-close")}function XO(s,t){s&1&&L(0,"span",33)}function KO(s,t){}function ZO(s,t){s&1&&T(0,KO,0,0,"ng-template")}function QO(s,t){if(s&1&&(ee(0),T(1,qO,1,1,"TimesIcon",30)(2,XO,1,0,"span",31)(3,ZO,1,0,null,17),te()),s&2){let e=v(2).$implicit;_(),f("ngIf",!e.closeIconTemplate),_(),f("ngIf",e.closeIconTemplate),_(),f("ngTemplateOutlet",e.closeIconTemplate)}}function JO(s,t){if(s&1){let e=J();S(0,"li",19)(1,"a",20),W("click",function(n){O(e);let r=v().$implicit,o=v();return E(o.open(n,r))})("keydown",function(n){O(e);let r=v().$implicit,o=v();return E(o.onTabKeyDown(n,r))}),T(2,GO,7,5,"ng-container",16)(3,$O,1,0,"ng-container",17)(4,QO,4,3,"ng-container",16),I()()}if(s&2){let e=v(),i=e.$implicit,n=e.index,r=v();Y(i.headerStyleClass),f("ngClass",Pe(19,FO,i.selected,i.disabled))("ngStyle",i.headerStyle),k("data-p-disabled",i.disabled),_(),f("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),k("id",r.getTabHeaderActionId(i.id))("aria-controls",r.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":r.tabindex)("aria-disabled",i.disabled)("data-pc-index",n)("data-pc-section","headeraction"),_(),f("ngIf",!i.headerTemplate),_(),f("ngTemplateOutlet",i.headerTemplate),_(),f("ngIf",i.closable)}}function eE(s,t){if(s&1&&T(0,JO,5,22,"li",18),s&2){let e=t.$implicit;f("ngIf",!e.closed)}}function tE(s,t){s&1&&L(0,"ChevronRightIcon"),s&2&&k("aria-hidden",!0)}function iE(s,t){}function nE(s,t){s&1&&T(0,iE,0,0,"ng-template")}function sE(s,t){if(s&1){let e=J();S(0,"button",34,5),W("click",function(){O(e);let n=v();return E(n.navForward())}),T(2,tE,1,1,"ChevronRightIcon",16)(3,nE,1,0,null,17),I()}if(s&2){let e=v();k("tabindex",e.tabindex)("aria-label",e.nextButtonAriaLabel),_(2),f("ngIf",!e.nextIconTemplate),_(),f("ngTemplateOutlet",e.nextIconTemplate)}}var rE=(()=>{class s{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(e){this._headerStyle=e,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(e){this._headerStyleClass=e,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(e,i,n,r){this.el=i,this.viewContainer=n,this.cd=r,this.tabView=e,this.id=Ye()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"righticon":this.rightIconTemplate=e.template;break;case"lefticon":this.leftIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||s)(j(Nt(()=>oE)),j(Ve),j(Cr),j(Ue))};static \u0275cmp=q({type:s,selectors:[["p-tabPanel"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",B],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",B],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[Me],ngContentSelectors:o0,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,n){i&1&&(bt(),T(0,SO,3,6,"div",0)),i&2&&f("ngIf",!n.closed)},dependencies:[He,qe],encapsulation:2})}return s})(),oE=(()=>{class s{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.tabs&&this.tabs.length&&this._activeIndex!=null&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new G;onClose=new G;activeIndexChange=new G;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(e,i,n,r){this.platformId=e,this.el=i,this.cd=n,this.renderer=r}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(e=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(e=>{switch(e.getType()){case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break}})}callResizeObserver(){Ot(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=M.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=M.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){Ot(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(this.activeIndex!=null&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(e,i){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onTabEndKey(e);break;case"PageUp":this.onTabHomeKey(e);break;case"Enter":case"Space":this.open(e,i);break;default:break}}onTabArrowLeftKey(e){let i=this.findPrevHeaderAction(e.target.parentElement),n=M.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,n):this.onTabEndKey(e),e.preventDefault()}onTabArrowRightKey(e){let i=this.findNextHeaderAction(e.target.parentElement),n=M.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,n):this.onTabHomeKey(e),e.preventDefault()}onTabHomeKey(e){let i=this.findFirstHeaderAction(),n=M.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,n),e.preventDefault()}onTabEndKey(e){let i=this.findLastHeaderAction(),n=M.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,n),e.preventDefault()}changeFocusedTab(e,i,n){if(i&&(M.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)){let r=this.tabs[n];this.open(e,r)}}findNextHeaderAction(e,i=!1){let n=i?e:e.nextElementSibling;return n?M.getAttribute(n,"data-p-disabled")||M.getAttribute(n,"data-pc-section")==="inkbar"?this.findNextHeaderAction(n):M.findSingle(n,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,i=!1){let n=i?e:e.previousElementSibling;return n?M.getAttribute(n,"data-p-disabled")||M.getAttribute(n,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(n):M.findSingle(n,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.navbar.nativeElement.firstElementChild;return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.navbar.nativeElement.lastElementChild,i=M.getAttribute(e,"data-pc-section")==="inkbar"?e.previousElementSibling:e;return this.findPrevHeaderAction(i,!0)}open(e,i){if(i.disabled){e&&e.preventDefault();return}if(!i.selected){let n=this.findSelectedTab();n&&(n.selected=!1),this.tabChanged=!0,i.selected=!0;let r=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(r),this.onChange.emit({originalEvent:e,index:r}),this.updateScrollBar(r)}e&&e.preventDefault()}close(e,i){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:e,index:this.findTabIndex(i)}))}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let i=0;i<this.tabs.length;i++){let n=this.tabs[i];if(!n.closed&&!e.disabled){n.selected=!0;break}}}e.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let i=-1;for(let n=0;n<this.tabs.length;n++)if(this.tabs[n]==e){i=n;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(Ot(this.platformId)&&this.navbar){let e=M.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!e)return;this.inkbar.nativeElement.style.width=M.getWidth(e)+"px",this.inkbar.nativeElement.style.left=M.getOffset(e).left-M.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){let i=this.navbar.nativeElement.children[e];i&&i.scrollIntoView({block:"nearest"})}updateButtonState(){let e=this.content.nativeElement,{scrollLeft:i,scrollWidth:n}=e,r=M.getWidth(e);this.backwardIsDisabled=i===0,this.forwardIsDisabled=Math.round(i)===n-r}refreshButtonState(){this.container=M.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=M.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.markForCheck())}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,i)=>i?e+M.getWidth(i):e,0)}navBackward(){let e=this.content.nativeElement,i=M.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft-i;e.scrollLeft=n<=0?0:n}navForward(){let e=this.content.nativeElement,i=M.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+i,r=e.scrollWidth-i;e.scrollLeft=n>=r?r:n}static \u0275fac=function(i){return new(i||s)(j(gt),j(Ve),j(Ue),j(pt))};static \u0275cmp=q({type:s,selectors:[["p-tabView"]],contentQueries:function(i,n,r){if(i&1&&(je(r,rE,4),je(r,Ge,4)),i&2){let o;ie(o=ne())&&(n.tabPanels=o),ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(IO,5),ye(DO,5),ye(OO,5),ye(EO,5),ye(kO,5),ye(MO,5)),i&2){let r;ie(r=ne())&&(n.content=r.first),ie(r=ne())&&(n.navbar=r.first),ie(r=ne())&&(n.prevBtn=r.first),ie(r=ne())&&(n.nextBtn=r.first),ie(r=ne())&&(n.inkbar=r.first),ie(r=ne())&&(n.elementToObserve=r.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",B],scrollable:[2,"scrollable","scrollable",B],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",B],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",B],tabindex:[2,"tabindex","tabindex",_e]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[Me],ngContentSelectors:o0,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(i,n){if(i&1){let r=J();bt(),S(0,"div",6)(1,"div",7,0),T(3,PO,4,4,"button",8),S(4,"div",9,1),W("scroll",function(a){return O(r),E(n.onScroll(a))}),S(6,"ul",10,2),T(8,eE,1,1,"ng-template",11),L(9,"li",12,3),I()(),T(11,sE,4,4,"button",13),I(),S(12,"div",14),ct(13),I()()}i&2&&(Y(n.styleClass),f("ngClass",he(11,AO,n.scrollable))("ngStyle",n.style),k("data-pc-name","tabview"),_(3),f("ngIf",n.scrollable&&!n.backwardIsDisabled&&n.autoHideButtons),_(),k("data-pc-section","navcontent"),_(2),k("data-pc-section","nav"),_(2),f("ngForOf",n.tabs),_(),k("data-pc-section","inkbar"),_(2),f("ngIf",n.scrollable&&!n.forwardIsDisabled&&n.buttonVisible))},dependencies:()=>[Le,ei,He,qe,Ne,Wl,Ht,ut,Hr,zr],styles:[`@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}
`],encapsulation:2,changeDetection:0})}return s})(),Ku=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Oe,ks,ni,ut,Hr,zr,Oe]})}return s})();var aE=["input"],lE=(s,t,e,i)=>({"p-checkbox p-component":!0,"p-checkbox-checked":s,"p-checkbox-disabled":t,"p-checkbox-focused":e,"p-variant-filled":i}),cE=(s,t,e)=>({"p-highlight":s,"p-disabled":t,"p-focus":e}),hE=(s,t,e)=>({"p-checkbox-label":!0,"p-checkbox-label-active":s,"p-disabled":t,"p-checkbox-label-focus":e});function uE(s,t){if(s&1&&L(0,"span",10),s&2){let e=v(3);f("ngClass",e.checkboxIcon),k("data-pc-section","icon")}}function dE(s,t){s&1&&L(0,"CheckIcon",11),s&2&&(f("styleClass","p-checkbox-icon"),k("data-pc-section","icon"))}function pE(s,t){if(s&1&&(ee(0),T(1,uE,1,2,"span",8)(2,dE,1,2,"CheckIcon",9),te()),s&2){let e=v(2);_(),f("ngIf",e.checkboxIcon),_(),f("ngIf",!e.checkboxIcon)}}function fE(s,t){}function mE(s,t){s&1&&T(0,fE,0,0,"ng-template")}function gE(s,t){if(s&1&&(S(0,"span",12),T(1,mE,1,0,null,13),I()),s&2){let e=v(2);k("data-pc-section","icon"),_(),f("ngTemplateOutlet",e.checkboxIconTemplate)}}function _E(s,t){if(s&1&&(ee(0),T(1,pE,3,2,"ng-container",5)(2,gE,2,2,"span",7),te()),s&2){let e=v();_(),f("ngIf",!e.checkboxIconTemplate),_(),f("ngIf",e.checkboxIconTemplate)}}function vE(s,t){if(s&1){let e=J();S(0,"label",14),W("click",function(n){O(e);let r=v(),o=at(3);return E(r.onClick(n,o,!0))}),fe(1),I()}if(s&2){let e=v();Y(e.labelStyleClass),f("ngClass",Ti(6,hE,e.checked(),e.disabled,e.focused)),k("for",e.inputId)("data-pc-section","label"),_(),qt(" ",e.label,"")}}var yE={provide:ii,useExisting:Nt(()=>bE),multi:!0},bE=(()=>{class s{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new G;onFocus=new G;onBlur=new G;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(e,i,n){this.cd=e,this.injector=i,this.config=n}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.checkboxIconTemplate=e.template;break}})}onClick(e,i,n){e.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(e),n&&i.focus())}updateModel(e){let i,n=this.injector.get(En,null,{optional:!0,self:!0}),r=n&&!this.formControl?n.value:this.model;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(this.checked()?i=r.filter(o=>!ae.equals(o,this.value)):i=r?[...r,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:ae.contains(this.value,this.model)}static \u0275fac=function(i){return new(i||s)(j(Ue),j($n),j(ht))};static \u0275cmp=q({type:s,selectors:[["p-checkbox"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ye(aE,5),i&2){let r;ie(r=ne())&&(n.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",B],binary:[2,"binary","binary",B],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",_e],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",B],required:[2,"required","required",B],autofocus:[2,"autofocus","autofocus",B],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Xt([yE]),Me],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(i,n){if(i&1){let r=J();S(0,"div",1)(1,"div",2)(2,"input",3,0),W("change",function(a){return O(r),E(n.handleChange(a))})("focus",function(a){return O(r),E(n.onInputFocus(a))})("blur",function(a){return O(r),E(n.onInputBlur(a))}),I()(),S(4,"div",4),W("click",function(a){O(r);let c=at(3);return E(n.onClick(a,c,!0))}),T(5,_E,3,2,"ng-container",5),I()(),T(6,vE,2,10,"label",6)}i&2&&(Y(n.styleClass),f("ngStyle",n.style)("ngClass",Xn(28,lE,n.checked(),n.disabled,n.focused,n.variant==="filled"||n.config.inputStyle()==="filled")),k("data-pc-name","checkbox")("data-pc-section","root"),_(),k("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),_(),f("value",n.value)("checked",n.checked())("disabled",n.disabled)("readonly",n.readonly)("autofocus",n.autofocus),k("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("required",n.required)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("data-pc-section","hiddenInput"),_(2),f("ngClass",Ti(33,cE,n.checked(),n.disabled,n.focused)),k("data-p-highlight",n.checked())("data-p-disabled",n.disabled)("data-p-focused",n.focused)("data-pc-section","input"),_(),f("ngIf",n.checked()),_(),f("ngIf",n.label))},dependencies:()=>[Le,He,qe,Ne,mi,oi],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0})}return s})(),Zu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Bi,oi,Oe]})}return s})();var a0=(()=>{class s{el;ngModel;cd;config;variant="outlined";filled;constructor(e,i,n,r){this.el=e,this.ngModel=i,this.cd=n,this.config=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||s)(j(Ve),j(Ru,8),j(Ue),j(ht))};static \u0275dir=Dt({type:s,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,n){i&1&&W("input",function(o){return n.onInput(o)}),i&2&&xi("p-filled",n.filled)("p-variant-filled",n.variant==="filled"||n.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return s})(),da=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se]})}return s})();var Qu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["AngleDownIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Ju=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["AngleUpIcon"]],standalone:!0,features:[Ce,ve],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0),L(1,"path",1),I()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var wE=["input"],xE=(s,t,e)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":s,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}),l0=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),c0=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function TE(s,t){if(s&1){let e=J();S(0,"TimesIcon",8),W("click",function(){O(e);let n=v(2);return E(n.clear())}),I()}s&2&&(f("ngClass","p-inputnumber-clear-icon"),k("data-pc-section","clearIcon"))}function SE(s,t){}function IE(s,t){s&1&&T(0,SE,0,0,"ng-template")}function DE(s,t){if(s&1){let e=J();S(0,"span",9),W("click",function(){O(e);let n=v(2);return E(n.clear())}),T(1,IE,1,0,null,10),I()}if(s&2){let e=v(2);k("data-pc-section","clearIcon"),_(),f("ngTemplateOutlet",e.clearIconTemplate)}}function OE(s,t){if(s&1&&(ee(0),T(1,TE,1,2,"TimesIcon",6)(2,DE,2,2,"span",7),te()),s&2){let e=v();_(),f("ngIf",!e.clearIconTemplate),_(),f("ngIf",e.clearIconTemplate)}}function EE(s,t){if(s&1&&L(0,"span",14),s&2){let e=v(2);f("ngClass",e.incrementButtonIcon),k("data-pc-section","incrementbuttonicon")}}function kE(s,t){s&1&&L(0,"AngleUpIcon"),s&2&&k("data-pc-section","incrementbuttonicon")}function ME(s,t){}function AE(s,t){s&1&&T(0,ME,0,0,"ng-template")}function FE(s,t){if(s&1&&(ee(0),T(1,kE,1,1,"AngleUpIcon",3)(2,AE,1,0,null,10),te()),s&2){let e=v(2);_(),f("ngIf",!e.incrementButtonIconTemplate),_(),f("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function VE(s,t){if(s&1&&L(0,"span",14),s&2){let e=v(2);f("ngClass",e.decrementButtonIcon),k("data-pc-section","decrementbuttonicon")}}function RE(s,t){s&1&&L(0,"AngleDownIcon"),s&2&&k("data-pc-section","decrementbuttonicon")}function LE(s,t){}function PE(s,t){s&1&&T(0,LE,0,0,"ng-template")}function NE(s,t){if(s&1&&(ee(0),T(1,RE,1,1,"AngleDownIcon",3)(2,PE,1,0,null,10),te()),s&2){let e=v(2);_(),f("ngIf",!e.decrementButtonIconTemplate),_(),f("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function jE(s,t){if(s&1){let e=J();S(0,"span",11)(1,"button",12),W("mousedown",function(n){O(e);let r=v();return E(r.onUpButtonMouseDown(n))})("mouseup",function(){O(e);let n=v();return E(n.onUpButtonMouseUp())})("mouseleave",function(){O(e);let n=v();return E(n.onUpButtonMouseLeave())})("keydown",function(n){O(e);let r=v();return E(r.onUpButtonKeyDown(n))})("keyup",function(){O(e);let n=v();return E(n.onUpButtonKeyUp())}),T(2,EE,1,2,"span",13)(3,FE,3,2,"ng-container",3),I(),S(4,"button",12),W("mousedown",function(n){O(e);let r=v();return E(r.onDownButtonMouseDown(n))})("mouseup",function(){O(e);let n=v();return E(n.onDownButtonMouseUp())})("mouseleave",function(){O(e);let n=v();return E(n.onDownButtonMouseLeave())})("keydown",function(n){O(e);let r=v();return E(r.onDownButtonKeyDown(n))})("keyup",function(){O(e);let n=v();return E(n.onDownButtonKeyUp())}),T(5,VE,1,2,"span",13)(6,NE,3,2,"ng-container",3),I()()}if(s&2){let e=v();k("data-pc-section","buttonGroup"),_(),Y(e.incrementButtonClass),f("ngClass",qi(17,l0))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section","incrementbutton"),_(),f("ngIf",e.incrementButtonIcon),_(),f("ngIf",!e.incrementButtonIcon),_(),Y(e.decrementButtonClass),f("ngClass",qi(18,c0))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section",e.decrementbutton),_(),f("ngIf",e.decrementButtonIcon),_(),f("ngIf",!e.decrementButtonIcon)}}function BE(s,t){if(s&1&&L(0,"span",14),s&2){let e=v(2);f("ngClass",e.incrementButtonIcon),k("data-pc-section","incrementbuttonicon")}}function UE(s,t){s&1&&L(0,"AngleUpIcon"),s&2&&k("data-pc-section","incrementbuttonicon")}function HE(s,t){}function zE(s,t){s&1&&T(0,HE,0,0,"ng-template")}function WE(s,t){if(s&1&&(ee(0),T(1,UE,1,1,"AngleUpIcon",3)(2,zE,1,0,null,10),te()),s&2){let e=v(2);_(),f("ngIf",!e.incrementButtonIconTemplate),_(),f("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function YE(s,t){if(s&1){let e=J();S(0,"button",12),W("mousedown",function(n){O(e);let r=v();return E(r.onUpButtonMouseDown(n))})("mouseup",function(){O(e);let n=v();return E(n.onUpButtonMouseUp())})("mouseleave",function(){O(e);let n=v();return E(n.onUpButtonMouseLeave())})("keydown",function(n){O(e);let r=v();return E(r.onUpButtonKeyDown(n))})("keyup",function(){O(e);let n=v();return E(n.onUpButtonKeyUp())}),T(1,BE,1,2,"span",13)(2,WE,3,2,"ng-container",3),I()}if(s&2){let e=v();Y(e.incrementButtonClass),f("ngClass",qi(8,l0))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section","incrementbutton"),_(),f("ngIf",e.incrementButtonIcon),_(),f("ngIf",!e.incrementButtonIcon)}}function GE(s,t){if(s&1&&L(0,"span",14),s&2){let e=v(2);f("ngClass",e.decrementButtonIcon),k("data-pc-section","decrementbuttonicon")}}function $E(s,t){s&1&&L(0,"AngleDownIcon"),s&2&&k("data-pc-section","decrementbuttonicon")}function qE(s,t){}function XE(s,t){s&1&&T(0,qE,0,0,"ng-template")}function KE(s,t){if(s&1&&(ee(0),T(1,$E,1,1,"AngleDownIcon",3)(2,XE,1,0,null,10),te()),s&2){let e=v(2);_(),f("ngIf",!e.decrementButtonIconTemplate),_(),f("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function ZE(s,t){if(s&1){let e=J();S(0,"button",12),W("mousedown",function(n){O(e);let r=v();return E(r.onDownButtonMouseDown(n))})("mouseup",function(){O(e);let n=v();return E(n.onDownButtonMouseUp())})("mouseleave",function(){O(e);let n=v();return E(n.onDownButtonMouseLeave())})("keydown",function(n){O(e);let r=v();return E(r.onDownButtonKeyDown(n))})("keyup",function(){O(e);let n=v();return E(n.onDownButtonKeyUp())}),T(1,GE,1,2,"span",13)(2,KE,3,2,"ng-container",3),I()}if(s&2){let e=v();Y(e.decrementButtonClass),f("ngClass",qi(8,c0))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section","decrementbutton"),_(),f("ngIf",e.decrementButtonIcon),_(),f("ngIf",!e.decrementButtonIcon)}}var QE={provide:ii,useExisting:Nt(()=>JE),multi:!0},JE=(()=>{class s{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}onInput=new G;onFocus=new G;onBlur=new G;onKeyDown=new G;onClear=new G;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(e,i,n,r,o){this.document=e,this.el=i,this.cd=n,this.injector=r,this.config=o}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(n=>!!e[n])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=e.template;break}})}ngOnInit(){this.ngControl=this.injector.get(En,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((n,r)=>[n,r]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=n=>i.get(n)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,tt(K({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let n=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(n=this.prefix+n),this.suffix&&e!=this.suffix&&(n=n+this.suffix),n}return e.toString()}return""}parseValue(e){let i=new RegExp(this._suffix,""),n=new RegExp(this._prefix,""),r=new RegExp(this._currency,""),o=e.replace(i,"").replace(n,"").trim().replace(/\s/g,"").replace(r,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(o){if(o==="-")return o;let a=+o;return isNaN(a)?null:a}return null}repeat(e,i,n){if(this.readonly)return;let r=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,n)},r),this.spin(e,n)}spin(e,i){let n=this.step*i,r=this.parseValue(this.input?.nativeElement.value)||0,o=this.validateValue(r+n);this.maxlength&&this.maxlength<this.formatValue(o).length||(this.updateInput(o,null,"spin",null),this.updateModel(e,o),this.handleOnInput(e,r,o))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let i=e.target.selectionStart,n=e.target.selectionEnd,r=e.target.value,o=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let a=i;a<=r.length;a++){let c=a===0?0:a-1;if(this.isNumeralChar(r.charAt(c))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=n;a>=0;a--)if(this.isNumeralChar(r.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":o=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,o);break;case"Backspace":{if(e.preventDefault(),i===n){if(i==1&&this.prefix||i==r.length&&this.suffix)break;let a=r.charAt(i-1),{decimalCharIndex:c,decimalCharIndexWithoutPrefix:u}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(a)){let d=this.getDecimalLength(r);if(this._group.test(a))this._group.lastIndex=0,o=r.slice(0,i-2)+r.slice(i-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,d?this.input?.nativeElement.setSelectionRange(i-1,i-1):o=r.slice(0,i-1)+r.slice(i);else if(c>0&&i>c){let m=this.isDecimalMode()&&(this.minFractionDigits||0)<d?"":"0";o=r.slice(0,i-1)+m+r.slice(i)}else u===1?(o=r.slice(0,i-1)+"0"+r.slice(i),o=this.parseValue(o)>0?o:""):o=r.slice(0,i-1)+r.slice(i)}else this.mode==="currency"&&a.search(this._currency)!=-1&&(o=r.slice(1));this.updateValue(e,o,null,"delete-single")}else o=this.deleteRange(r,i,n),this.updateValue(e,o,null,"delete-range");break}case"Delete":if(e.preventDefault(),i===n){if(i==0&&this.prefix||i==r.length-1&&this.suffix)break;let a=r.charAt(i),{decimalCharIndex:c,decimalCharIndexWithoutPrefix:u}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(a)){let d=this.getDecimalLength(r);if(this._group.test(a))this._group.lastIndex=0,o=r.slice(0,i)+r.slice(i+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,d?this.input?.nativeElement.setSelectionRange(i+1,i+1):o=r.slice(0,i)+r.slice(i+1);else if(c>0&&i>c){let m=this.isDecimalMode()&&(this.minFractionDigits||0)<d?"":"0";o=r.slice(0,i)+m+r.slice(i+1)}else u===1?(o=r.slice(0,i)+"0"+r.slice(i+1),o=this.parseValue(o)>0?o:""):o=r.slice(0,i)+r.slice(i+1)}this.updateValue(e,o,null,"delete-back-single")}else o=this.deleteRange(r,i,n),this.updateValue(e,o,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let i=e.which||e.keyCode,n=String.fromCharCode(i),r=this.isDecimalSign(n),o=this.isMinusSign(n);i!=13&&e.preventDefault(),!r&&e.code==="NumpadDecimal"&&(r=!0,n=this._decimalChar,i=n.charCodeAt(0));let a=this.parseValue(this.input.nativeElement.value+n),c=a!=null?a.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(e,n,{isDecimalSign:r,isMinusSign:o});return}this.maxlength&&c.length>this.maxlength||(48<=i&&i<=57||o||r)&&this.insert(e,n,{isDecimalSign:r,isMinusSign:o})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(i){this.maxlength&&(i=i.toString().substring(0,this.maxlength));let n=this.parseValue(i);n!=null&&this.insert(e,n.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;let r=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:r}}getCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;let n=e.search(this._minusSign);this._minusSign.lastIndex=0;let r=e.search(this._suffix);this._suffix.lastIndex=0;let o=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:n,suffixCharIndex:r,currencyCharIndex:o}}insert(e,i,n={isDecimalSign:!1,isMinusSign:!1}){let r=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&r!==-1)return;let o=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,c=this.input?.nativeElement.value.trim(),{decimalCharIndex:u,minusCharIndex:d,suffixCharIndex:m,currencyCharIndex:y}=this.getCharIndexes(c),b;if(n.isMinusSign)o===0&&(b=c,(d===-1||a!==0)&&(b=this.insertText(c,i,0,a)),this.updateValue(e,b,i,"insert"));else if(n.isDecimalSign)u>0&&o===u?this.updateValue(e,c,i,"insert"):u>o&&u<a?(b=this.insertText(c,i,o,a),this.updateValue(e,b,i,"insert")):u===-1&&this.maxFractionDigits&&(b=this.insertText(c,i,o,a),this.updateValue(e,b,i,"insert"));else{let C=this.numberFormat.resolvedOptions().maximumFractionDigits,x=o!==a?"range-insert":"insert";if(u>0&&o>u){if(o+i.length-(u+1)<=C){let D=y>=o?y-1:m>=o?m:c.length;b=c.slice(0,o)+i+c.slice(o+i.length,D)+c.slice(D),this.updateValue(e,b,i,x)}}else b=this.insertText(c,i,o,a),this.updateValue(e,b,i,x)}}insertText(e,i,n,r){if((i==="."?i:i.split(".")).length===2){let a=e.slice(n,r).search(this._decimal);return this._decimal.lastIndex=0,a>0?e.slice(0,n)+this.formatValue(i)+e.slice(r):e||this.formatValue(i)}else return r-n===e.length?this.formatValue(i):n===0?i+e.slice(r):r===e.length?e.slice(0,n)+i:e.slice(0,n)+i+e.slice(r)}deleteRange(e,i,n){let r;return n-i===e.length?r="":i===0?r=e.slice(n):n===e.length?r=e.slice(0,i):r=e.slice(0,i)+e.slice(n),r}initCursor(){let e=this.input?.nativeElement.selectionStart,i=this.input?.nativeElement.selectionEnd,n=this.input?.nativeElement.value,r=n.length,o=null,a=(this.prefixChar||"").length;n=n.replace(this._prefix,""),(e===i||e!==0||i<a)&&(e-=a);let c=n.charAt(e);if(this.isNumeralChar(c))return e+a;let u=e-1;for(;u>=0;)if(c=n.charAt(u),this.isNumeralChar(c)){o=u+a;break}else u--;if(o!==null)this.input?.nativeElement.setSelectionRange(o+1,o+1);else{for(u=e;u<r;)if(c=n.charAt(u),this.isNumeralChar(c)){o=u+a;break}else u++;o!==null&&this.input?.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==M.getSelection()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,n,r){let o=this.input?.nativeElement.value,a=null;i!=null&&(a=this.parseValue(i),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,n,r,i),this.handleOnInput(e,o,a))}handleOnInput(e,i,n){this.isValueChanged(i,n)&&(this.input.nativeElement.value=this.formatValue(n),this.input?.nativeElement.setAttribute("aria-valuenow",n),!this.isBlurUpdateOnMode&&this.updateModel(e,n),this.onInput.emit({originalEvent:e,value:n,formattedValue:i}))}isValueChanged(e,i){if(i===null&&e!==null)return!0;if(i!=null){let n=typeof e=="string"?this.parseValue(e):e;return i!==n}return!1}validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e}updateInput(e,i,n,r){i=i||"";let o=this.input?.nativeElement.value,a=this.formatValue(e),c=o.length;if(a!==r&&(a=this.concatValues(a,r)),c===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let d=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(d,d)}else{let u=this.input.nativeElement.selectionStart,d=this.input.nativeElement.selectionEnd;if(this.maxlength&&a.length>this.maxlength&&(a=a.slice(0,this.maxlength),u=Math.min(u,this.maxlength),d=Math.min(d,this.maxlength)),this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let m=a.length;if(n==="range-insert"){let y=this.parseValue((o||"").slice(0,u)),C=(y!==null?y.toString():"").split("").join(`(${this.groupChar})?`),x=new RegExp(C,"g");x.test(a);let D=i.split("").join(`(${this.groupChar})?`),R=new RegExp(D,"g");R.test(a.slice(x.lastIndex)),d=x.lastIndex+R.lastIndex,this.input.nativeElement.setSelectionRange(d,d)}else if(m===c)n==="insert"||n==="delete-back-single"?this.input.nativeElement.setSelectionRange(d+1,d+1):n==="delete-single"?this.input.nativeElement.setSelectionRange(d-1,d-1):(n==="delete-range"||n==="spin")&&this.input.nativeElement.setSelectionRange(d,d);else if(n==="delete-back-single"){let y=o.charAt(d-1),b=o.charAt(d),C=c-m,x=this._group.test(b);x&&C===1?d+=1:!x&&this.isNumeralChar(y)&&(d+=-1*C+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(d,d)}else if(o==="-"&&n==="insert"){this.input.nativeElement.setSelectionRange(0,0);let b=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(b,b)}else d=d+(m-c),this.input.nativeElement.setSelectionRange(d,d)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let n=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?n!==-1?e:e.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(n)+this.suffixChar:n!==-1?e.split(this._decimal)[0]+i.slice(n):e}return e}getDecimalLength(e){if(e){let i=e.split(this._decimal);if(i.length===2)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value)),n=i?.toString();this.input.nativeElement.value=this.formatValue(n),this.input.nativeElement.setAttribute("aria-valuenow",n),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,i){this.value!==i&&(this.value=i,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(i):this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(i){return new(i||s)(j(Re),j(Ve),j(Ue),j($n),j(ht))};static \u0275cmp=q({type:s,selectors:[["p-inputNumber"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ye(wE,5),i&2){let r;ie(r=ne())&&(n.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,n){i&2&&xi("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused)("p-inputnumber-clearable",n.showClear&&n.buttonLayout!="vertical")},inputs:{showButtons:[2,"showButtons","showButtons",B],format:[2,"format","format",B],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[2,"size","size",_e],maxlength:[2,"maxlength","maxlength",_e],tabindex:[2,"tabindex","tabindex",_e],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",B],name:"name",required:[2,"required","required",B],autocomplete:"autocomplete",min:[2,"min","min",_e],max:[2,"max","max",_e],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",B],step:[2,"step","step",_e],allowEmpty:[2,"allowEmpty","allowEmpty",B],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",B],variant:"variant",minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>_e(e,null)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>_e(e,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",B],autofocus:[2,"autofocus","autofocus",B],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[Xt([QE]),Me,Pi],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,n){if(i&1){let r=J();S(0,"span",1)(1,"input",2,0),W("input",function(a){return O(r),E(n.onUserInput(a))})("keydown",function(a){return O(r),E(n.onInputKeyDown(a))})("keypress",function(a){return O(r),E(n.onInputKeyPress(a))})("paste",function(a){return O(r),E(n.onPaste(a))})("click",function(){return O(r),E(n.onInputClick())})("focus",function(a){return O(r),E(n.onInputFocus(a))})("blur",function(a){return O(r),E(n.onInputBlur(a))}),I(),T(3,OE,3,2,"ng-container",3)(4,jE,7,19,"span",4)(5,YE,3,9,"button",5)(6,ZE,3,9,"button",5),I()}i&2&&(Y(n.styleClass),f("ngClass",Ti(39,xE,n.showButtons&&n.buttonLayout==="stacked",n.showButtons&&n.buttonLayout==="horizontal",n.showButtons&&n.buttonLayout==="vertical"))("ngStyle",n.style),k("data-pc-name","inputnumber")("data-pc-section","root"),_(),Y(n.inputStyleClass),xi("p-variant-filled",n.variant==="filled"||n.config.inputStyle()==="filled"),f("ngClass","p-inputnumber-input")("ngStyle",n.inputStyle)("value",n.formattedValue())("disabled",n.disabled)("readonly",n.readonly)("autofocus",n.autofocus),k("id",n.inputId)("variant",n.variant)("aria-valuemin",n.min)("aria-valuemax",n.max)("aria-valuenow",n.value)("placeholder",n.placeholder)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("title",n.title)("size",n.size)("name",n.name)("autocomplete",n.autocomplete)("maxlength",n.maxlength)("tabindex",n.tabindex)("aria-required",n.ariaRequired)("required",n.required)("min",n.min)("max",n.max)("data-pc-section","input"),_(2),f("ngIf",n.buttonLayout!="vertical"&&n.showClear&&n.value),_(),f("ngIf",n.showButtons&&n.buttonLayout==="stacked"),_(),f("ngIf",n.showButtons&&n.buttonLayout!=="stacked"),_(),f("ngIf",n.showButtons&&n.buttonLayout!=="stacked"))},dependencies:()=>[Le,He,qe,Ne,a0,rs,mi,ut,Ju,Qu],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return s})(),ed=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,da,Ki,Bi,ut,Ju,Qu,Oe]})}return s})();var ek=["*",[["p-header"]],[["p-footer"]]],tk=["*","p-header","p-footer"];function ik(s,t){s&1&&pe(0)}function nk(s,t){if(s&1&&(S(0,"div",8),ct(1,1),T(2,ik,1,0,"ng-container",6),I()),s&2){let e=v();_(2),f("ngTemplateOutlet",e.headerTemplate)}}function sk(s,t){s&1&&pe(0)}function rk(s,t){if(s&1&&(S(0,"div",9),fe(1),T(2,sk,1,0,"ng-container",6),I()),s&2){let e=v();_(),qt(" ",e.header," "),_(),f("ngTemplateOutlet",e.titleTemplate)}}function ok(s,t){s&1&&pe(0)}function ak(s,t){if(s&1&&(S(0,"div",10),fe(1),T(2,ok,1,0,"ng-container",6),I()),s&2){let e=v();_(),qt(" ",e.subheader," "),_(),f("ngTemplateOutlet",e.subtitleTemplate)}}function lk(s,t){s&1&&pe(0)}function ck(s,t){s&1&&pe(0)}function hk(s,t){if(s&1&&(S(0,"div",11),ct(1,2),T(2,ck,1,0,"ng-container",6),I()),s&2){let e=v();_(2),f("ngTemplateOutlet",e.footerTemplate)}}var x8=(()=>{class s{el;header;subheader;set style(e){ae.equals(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=Jt(null);constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(i){return new(i||s)(j(Ve))};static \u0275cmp=q({type:s,selectors:[["p-card"]],contentQueries:function(i,n,r){if(i&1&&(je(r,kg,5),je(r,Nl,5),je(r,Ge,4)),i&2){let o;ie(o=ne())&&(n.headerFacet=o.first),ie(o=ne())&&(n.footerFacet=o.first),ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:tk,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,n){i&1&&(bt(ek),S(0,"div",0),T(1,nk,3,1,"div",1),S(2,"div",2),T(3,rk,3,2,"div",3)(4,ak,3,2,"div",4),S(5,"div",5),ct(6),T(7,lk,1,0,"ng-container",6),I(),T(8,hk,3,1,"div",7),I()()),i&2&&(Y(n.styleClass),f("ngClass","p-card p-component")("ngStyle",n._style()),k("data-pc-name","card"),_(),f("ngIf",n.headerFacet||n.headerTemplate),_(2),f("ngIf",n.header||n.titleTemplate),_(),f("ngIf",n.subheader||n.subtitleTemplate),_(3),f("ngTemplateOutlet",n.contentTemplate),_(),f("ngIf",n.footerFacet||n.footerTemplate))},dependencies:[Le,He,qe,Ne],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return s})(),td=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Oe]})}return s})();var uk=["*"],D8=(()=>{class s{style;styleClass;static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["p-inputGroup"]],hostAttrs:[1,"p-element","p-inputgroup"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:uk,decls:2,vars:3,consts:[[1,"p-inputgroup",3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(bt(),S(0,"div",0),ct(1),I()),i&2&&(f("ngClass",n.styleClass)("ngStyle",n.style),k("data-pc-name","inputgroup"))},dependencies:[Le,Ne],encapsulation:2})}return s})(),id=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Oe]})}return s})();var dk=["*"],M8=(()=>{class s{style;styleClass;static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["p-inputGroupAddon"]],hostAttrs:[1,"p-element","p-inputgroup-addon"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:dk,decls:2,vars:3,consts:[[3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(bt(),S(0,"div",0),ct(1),I()),i&2&&(f("ngClass",n.styleClass)("ngStyle",n.style),k("data-pc-name","inputgroupaddon"))},dependencies:[Le,Ne],encapsulation:2})}return s})(),nd=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Oe]})}return s})();var sd=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["PlusIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var rd=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["UploadIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var Wr=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[Ce,ve],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1)(3,"path",2)(4,"path",3),I(),S(5,"defs")(6,"clipPath",4),L(7,"rect",5),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(5),f("id",n.pathId))},encapsulation:2})}return s})();var Yr=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["InfoCircleIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var Gr=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=q({type:s,selectors:[["TimesCircleIcon"]],standalone:!0,features:[Ce,ve],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),S(0,"svg",0)(1,"g"),L(2,"path",1),I(),S(3,"defs")(4,"clipPath",2),L(5,"rect",3),I()()()),i&2&&(Y(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var pk=(s,t)=>({showTransitionParams:s,hideTransitionParams:t}),fk=s=>({value:"visible",params:s});function mk(s,t){if(s&1&&L(0,"span"),s&2){let e=v().$implicit;Y("p-message-icon pi "+e.icon),k("data-pc-section","icon")}}function gk(s,t){s&1&&L(0,"CheckIcon"),s&2&&k("data-pc-section","icon")}function _k(s,t){s&1&&L(0,"InfoCircleIcon"),s&2&&k("data-pc-section","icon")}function vk(s,t){s&1&&L(0,"TimesCircleIcon"),s&2&&k("data-pc-section","icon")}function yk(s,t){s&1&&L(0,"ExclamationTriangleIcon"),s&2&&k("data-pc-section","icon")}function bk(s,t){if(s&1&&(S(0,"span",10),ee(1),T(2,gk,1,1,"CheckIcon",11)(3,_k,1,1,"InfoCircleIcon",11)(4,vk,1,1,"TimesCircleIcon",11)(5,yk,1,1,"ExclamationTriangleIcon",11),te(),I()),s&2){let e=v().$implicit;_(2),f("ngIf",e.severity==="success"),_(),f("ngIf",e.severity==="info"),_(),f("ngIf",e.severity==="error"),_(),f("ngIf",e.severity==="warn")}}function Ck(s,t){if(s&1&&L(0,"span",14),s&2){let e=v(2).$implicit;f("innerHTML",e.summary,Do),k("data-pc-section","summary")}}function wk(s,t){if(s&1&&L(0,"span",15),s&2){let e=v(2).$implicit;f("innerHTML",e.detail,Do),k("data-pc-section","detail")}}function xk(s,t){if(s&1&&(ee(0),T(1,Ck,1,2,"span",12)(2,wk,1,2,"span",13),te()),s&2){let e=v().$implicit;_(),f("ngIf",e.summary),_(),f("ngIf",e.detail)}}function Tk(s,t){if(s&1&&(S(0,"span",18),fe(1),I()),s&2){let e=v(2).$implicit;k("data-pc-section","summary"),_(),We(e.summary)}}function Sk(s,t){if(s&1&&(S(0,"span",19),fe(1),I()),s&2){let e=v(2).$implicit;k("data-pc-section","detail"),_(),We(e.detail)}}function Ik(s,t){if(s&1&&T(0,Tk,2,2,"span",16)(1,Sk,2,2,"span",17),s&2){let e=v().$implicit;f("ngIf",e.summary),_(),f("ngIf",e.detail)}}function Dk(s,t){if(s&1){let e=J();S(0,"button",20),W("click",function(){O(e);let n=v().index,r=v(2);return E(r.removeMessage(n))}),L(1,"TimesIcon",21),I()}if(s&2){let e=v(3);k("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),_(),f("styleClass","p-message-close-icon"),k("data-pc-section","closeicon")}}function Ok(s,t){if(s&1&&(S(0,"div",5)(1,"div",6),T(2,mk,1,3,"span",7)(3,bk,6,4,"span",8)(4,xk,3,2,"ng-container",3)(5,Ik,2,2,"ng-template",null,1,It)(7,Dk,2,4,"button",9),I()()),s&2){let e,i=t.$implicit,n=at(6),r=v(2);Y("p-message p-message-"+i.severity),f("@messageAnimation",he(13,fk,Pe(10,pk,r.showTransitionOptions,r.hideTransitionOptions))),_(),k("data-pc-section","wrapper")("id",i.id||null),_(),f("ngIf",i.icon),_(),f("ngIf",!i.icon),_(),f("ngIf",!r.escape)("ngIfElse",n),_(3),f("ngIf",r.closable&&((e=i.closable)!==null&&e!==void 0?e:!0))}}function Ek(s,t){if(s&1&&(ee(0),T(1,Ok,8,15,"div",4),te()),s&2){let e=v();_(),f("ngForOf",e.messages)}}function kk(s,t){s&1&&pe(0)}function Mk(s,t){if(s&1&&(S(0,"div",22)(1,"div",6),T(2,kk,1,0,"ng-container",23),I()()),s&2){let e=v();f("ngClass","p-message p-message-"+e.severity),_(2),f("ngTemplateOutlet",e.contentTemplate)}}var h0=(()=>{class s{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new G;onClose=new G;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,i,n,r){this.messageService=e,this.el=i,this.cd=n,this.config=r}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);let i=e.filter(n=>this.key===n.key);this.messages=this.messages?[...this.messages,...i]:[...i],this.startMessageLifes(i),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return e&&e.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){let i=this.messages[e];this.messages=this.messages?.filter((n,r)=>r!==e),i&&this.onClose.emit(i),this.valueChange.emit(this.messages)}get icon(){let e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(i=>i.life&&this.startMessageLife(i))}startMessageLife(e){let i=Df(e.life).subscribe(()=>{this.messages=this.messages?.filter(n=>n!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(n=>n!==i),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(i)}static \u0275fac=function(i){return new(i||s)(j(ts,8),j(Ve),j(Ue),j(ht))};static \u0275cmp=q({type:s,selectors:[["p-messages"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",B],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",B],key:"key",escape:[2,"escape","escape",B],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[Me],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(i,n){if(i&1&&(S(0,"div",2),T(1,Ek,2,1,"ng-container",3)(2,Mk,3,2,"ng-template",null,0,It),I()),i&2){let r=at(3);Y(n.styleClass),f("ngStyle",n.style),k("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),_(),f("ngIf",!n.contentTemplate)("ngIfElse",r)}},dependencies:()=>[Le,ei,He,qe,Ne,Ht,oi,Yr,Gr,Wr,ut],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[Si("messageAnimation",[Ft(":enter",[Ct({opacity:0,transform:"translateY(-25%)"}),Rt("{{showTransitionParams}}")]),Ft(":leave",[Rt("{{hideTransitionParams}}",Ct({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return s})(),od=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,ni,oi,Yr,Gr,Wr,ut,Oe,Oe]})}return s})();var Fk=(s,t)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":s,"p-progressbar-indeterminate":t}),Vk=(s,t)=>({width:s,display:"flex",background:t}),Rk=s=>({$implicit:s}),Lk=s=>({display:s}),Pk=s=>({background:s});function Nk(s,t){if(s&1&&(S(0,"div",7),fe(1),I()),s&2){let e=v(2);f("ngStyle",he(4,Lk,e.value!=null&&e.value!==0?"flex":"none")),k("data-pc-section","label"),_(),tl(" ",e.value,"",e.unit," ")}}function jk(s,t){s&1&&pe(0)}function Bk(s,t){if(s&1&&(S(0,"div",3)(1,"div",4),T(2,Nk,2,6,"div",5)(3,jk,1,0,"ng-container",6),I()()),s&2){let e=v();f("ngStyle",Pe(5,Vk,e.value+"%",e.color)),k("data-pc-section","value"),_(2),f("ngIf",e.showValue&&!e.contentTemplate),_(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",he(8,Rk,e.value))}}function Uk(s,t){if(s&1&&(S(0,"div",8),L(1,"div",3),I()),s&2){let e=v();k("data-pc-section","container"),_(),f("ngStyle",he(3,Pk,e.color)),k("data-pc-section","value")}}var u0=(()=>{class s{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template}})}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=q({type:s,selectors:[["p-progressBar"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",_e],showValue:[2,"showValue","showValue",B],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[Me],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(i,n){i&1&&(S(0,"div",0),T(1,Bk,4,10,"div",1)(2,Uk,2,5,"div",2),I()),i&2&&(Y(n.styleClass),f("ngStyle",n.style)("ngClass",Pe(11,Fk,n.mode==="determinate",n.mode==="indeterminate")),k("aria-valuemin",0)("aria-valuenow",n.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),_(),f("ngIf",n.mode==="determinate"),_(),f("ngIf",n.mode==="indeterminate"))},dependencies:[Le,He,qe,Ne],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return s})(),ad=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se]})}return s})();var zk=["advancedfileinput"],Wk=["basicfileinput"],Yk=["content"],Gk=(s,t,e,i,n)=>({$implicit:s,uploadedFiles:t,chooseCallback:e,clearCallback:i,uploadCallback:n}),$k=(s,t,e,i,n,r,o,a)=>({$implicit:s,uploadedFiles:t,chooseCallback:e,clearCallback:i,removeUploadedFileCallback:n,removeFileCallback:r,progress:o,messages:a}),qk=(s,t)=>({"p-focus":s,"p-disabled":t}),Xk=(s,t,e,i)=>({"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":s,"p-fileupload-choose-selected":t,"p-focus":e,"p-disabled":i});function Kk(s,t){if(s&1&&L(0,"span",21),s&2){let e=v(3);Y(e.chooseIcon),f("ngClass","p-button-icon p-button-icon-left"),k("aria-label",!0)("data-pc-section","chooseicon")}}function Zk(s,t){s&1&&L(0,"PlusIcon",24),s&2&&(f("styleClass","p-button-icon p-button-icon-left"),k("aria-label",!0)("data-pc-section","chooseicon"))}function Qk(s,t){}function Jk(s,t){s&1&&T(0,Qk,0,0,"ng-template")}function e3(s,t){if(s&1&&(S(0,"span",25),T(1,Jk,1,0,null,11),I()),s&2){let e=v(4);k("aria-label",!0)("data-pc-section","chooseicon"),_(),f("ngTemplateOutlet",e.chooseIconTemplate)}}function t3(s,t){if(s&1&&(ee(0),T(1,Zk,1,3,"PlusIcon",22)(2,e3,2,3,"span",23),te()),s&2){let e=v(3);_(),f("ngIf",!e.chooseIconTemplate),_(),f("ngIf",e.chooseIconTemplate)}}function i3(s,t){if(s&1&&L(0,"span",28),s&2){let e=v(4);f("ngClass",e.uploadIcon),k("aria-hidden",!0)}}function n3(s,t){s&1&&L(0,"UploadIcon",24),s&2&&f("styleClass","p-button-icon p-button-icon-left")}function s3(s,t){}function r3(s,t){s&1&&T(0,s3,0,0,"ng-template")}function o3(s,t){if(s&1&&(S(0,"span",25),T(1,r3,1,0,null,11),I()),s&2){let e=v(5);k("aria-hidden",!0),_(),f("ngTemplateOutlet",e.uploadIconTemplate)}}function a3(s,t){if(s&1&&(ee(0),T(1,n3,1,1,"UploadIcon",22)(2,o3,2,2,"span",23),te()),s&2){let e=v(4);_(),f("ngIf",!e.uploadIconTemplate),_(),f("ngIf",e.uploadIconTemplate)}}function l3(s,t){if(s&1){let e=J();S(0,"p-button",26),W("onClick",function(){O(e);let n=v(3);return E(n.upload())}),T(1,i3,1,2,"span",27)(2,a3,3,2,"ng-container",9),I()}if(s&2){let e=v(3);f("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.uploadStyleClass),_(),f("ngIf",e.uploadIcon),_(),f("ngIf",!e.uploadIcon)}}function c3(s,t){if(s&1&&L(0,"span",28),s&2){let e=v(4);f("ngClass",e.cancelIcon)}}function h3(s,t){s&1&&L(0,"TimesIcon",24),s&2&&(f("styleClass","p-button-icon p-button-icon-left"),k("aria-hidden",!0))}function u3(s,t){}function d3(s,t){s&1&&T(0,u3,0,0,"ng-template")}function p3(s,t){if(s&1&&(S(0,"span",25),T(1,d3,1,0,null,11),I()),s&2){let e=v(5);k("aria-hidden",!0),_(),f("ngTemplateOutlet",e.cancelIconTemplate)}}function f3(s,t){if(s&1&&(ee(0),T(1,h3,1,2,"TimesIcon",22)(2,p3,2,2,"span",23),te()),s&2){let e=v(4);_(),f("ngIf",!e.cancelIconTemplate),_(),f("ngIf",e.cancelIconTemplate)}}function m3(s,t){if(s&1){let e=J();S(0,"p-button",26),W("onClick",function(){O(e);let n=v(3);return E(n.clear())}),T(1,c3,1,1,"span",27)(2,f3,3,2,"ng-container",9),I()}if(s&2){let e=v(3);f("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cancelStyleClass),_(),f("ngIf",e.cancelIcon),_(),f("ngIf",!e.cancelIcon)}}function g3(s,t){if(s&1){let e=J();ee(0),S(1,"span",17),W("focus",function(){O(e);let n=v(2);return E(n.onFocus())})("blur",function(){O(e);let n=v(2);return E(n.onBlur())})("click",function(){O(e);let n=v(2);return E(n.choose())})("keydown.enter",function(){O(e);let n=v(2);return E(n.choose())}),S(2,"input",7,0),W("change",function(n){O(e);let r=v(2);return E(r.onFileSelect(n))}),I(),T(4,Kk,1,5,"span",18)(5,t3,3,2,"ng-container",9),S(6,"span",19),fe(7),I()(),T(8,l3,3,5,"p-button",20)(9,m3,3,5,"p-button",20),te()}if(s&2){let e=v(2);_(),Y(e.chooseStyleClass),f("ngClass",Pe(16,qk,e.focus,e.disabled||e.isChooseDisabled())),k("data-pc-section","choosebutton"),_(),f("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),k("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),_(2),f("ngIf",e.chooseIcon),_(),f("ngIf",!e.chooseIcon),_(),k("data-pc-section","choosebuttonlabel"),_(),We(e.chooseButtonLabel),_(),f("ngIf",!e.auto&&e.showUploadButton),_(),f("ngIf",!e.auto&&e.showCancelButton)}}function _3(s,t){s&1&&pe(0)}function v3(s,t){s&1&&pe(0)}function y3(s,t){if(s&1&&L(0,"p-progressBar",29),s&2){let e=v(2);f("value",e.progress)("showValue",!1)}}function b3(s,t){if(s&1){let e=J();S(0,"div")(1,"img",35),W("error",function(n){O(e);let r=v(5);return E(r.imageError(n))}),I()()}if(s&2){let e=v().$implicit,i=v(4);_(),f("src",e.objectURL,Oo)("width",i.previewWidth)}}function C3(s,t){s&1&&L(0,"TimesIcon")}function w3(s,t){}function x3(s,t){s&1&&T(0,w3,0,0,"ng-template")}function T3(s,t){if(s&1){let e=J();S(0,"div",32),T(1,b3,2,2,"div",9),S(2,"div",33),fe(3),I(),S(4,"div"),fe(5),I(),S(6,"div")(7,"button",34),W("click",function(n){let r=O(e).index,o=v(4);return E(o.remove(n,r))}),T(8,C3,1,0,"TimesIcon",9)(9,x3,1,0,null,11),I()()()}if(s&2){let e=t.$implicit,i=v(4);_(),f("ngIf",i.isImage(e)),_(2),We(e.name),_(2),We(i.formatSize(e.size)),_(2),Y(i.removeStyleClass),f("disabled",i.uploading),_(),f("ngIf",!i.cancelIconTemplate),_(),f("ngTemplateOutlet",i.cancelIconTemplate)}}function S3(s,t){if(s&1&&(S(0,"div"),T(1,T3,10,8,"div",31),I()),s&2){let e=v(3);_(),f("ngForOf",e.files)}}function I3(s,t){}function D3(s,t){if(s&1&&(S(0,"div"),T(1,I3,0,0,"ng-template",36),I()),s&2){let e=v(3);_(),f("ngForOf",e.files)("ngForTemplate",e.fileTemplate)}}function O3(s,t){if(s&1&&(S(0,"div",30),T(1,S3,2,1,"div",9)(2,D3,2,2,"div",9),I()),s&2){let e=v(2);_(),f("ngIf",!e.fileTemplate),_(),f("ngIf",e.fileTemplate)}}function E3(s,t){s&1&&pe(0)}function k3(s,t){s&1&&pe(0)}function M3(s,t){if(s&1&&(S(0,"div",37),T(1,k3,1,0,"ng-container",11),I()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.emptyTemplate)}}function A3(s,t){if(s&1){let e=J();S(0,"div",6)(1,"input",7,0),W("change",function(n){O(e);let r=v();return E(r.onFileSelect(n))}),I(),S(3,"div",8),T(4,g3,10,19,"ng-container",9)(5,_3,1,0,"ng-container",10)(6,v3,1,0,"ng-container",11),I(),S(7,"div",12,1),W("dragenter",function(n){O(e);let r=v();return E(r.onDragEnter(n))})("dragleave",function(n){O(e);let r=v();return E(r.onDragLeave(n))})("drop",function(n){O(e);let r=v();return E(r.onDrop(n))}),T(9,y3,1,2,"p-progressBar",13),L(10,"p-messages",14),T(11,O3,3,2,"div",15)(12,E3,1,0,"ng-container",10)(13,M3,2,1,"div",16),I()()}if(s&2){let e=v();Y(e.styleClass),f("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",e.style),k("data-pc-name","fileupload")("data-pc-section","root"),_(),qn("display","none"),f("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),k("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),_(2),k("data-pc-section","buttonbar"),_(),f("ngIf",!e.headerTemplate),_(),f("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",il(27,Gk,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.upload.bind(e))),_(),f("ngTemplateOutlet",e.toolbarTemplate),_(),k("data-pc-section","content"),_(2),f("ngIf",e.hasFiles()),_(),f("value",e.msgs)("enableService",!1),_(),f("ngIf",e.hasFiles()),_(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",em(33,$k,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.removeUploadedFile.bind(e),e.remove.bind(e),e.progress,e.msgs)),_(),f("ngIf",e.emptyTemplate&&!e.hasFiles()&&!e.hasUploadedFiles())}}function F3(s,t){if(s&1&&L(0,"span",28),s&2){let e=v(3);f("ngClass",e.uploadIcon)}}function V3(s,t){s&1&&L(0,"UploadIcon",24),s&2&&f("styleClass","p-button-icon p-button-icon-left")}function R3(s,t){}function L3(s,t){s&1&&T(0,R3,0,0,"ng-template")}function P3(s,t){if(s&1&&(S(0,"span",25),T(1,L3,1,0,null,11),I()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.uploadIconTemplate)}}function N3(s,t){if(s&1&&(ee(0),T(1,V3,1,1,"UploadIcon",22)(2,P3,2,1,"span",23),te()),s&2){let e=v(3);_(),f("ngIf",!e.uploadIconTemplate),_(),f("ngIf",e.uploadIconTemplate)}}function j3(s,t){if(s&1&&(ee(0),T(1,F3,1,1,"span",27)(2,N3,3,2,"ng-container",9),te()),s&2){let e=v(2);_(),f("ngIf",e.uploadIcon),_(),f("ngIf",!e.uploadIcon)}}function B3(s,t){if(s&1&&L(0,"span",44),s&2){let e=v(3);f("ngClass",e.chooseIcon)}}function U3(s,t){s&1&&L(0,"PlusIcon",24),s&2&&(f("styleClass","p-button-icon p-button-icon-left pi"),k("aria-hidden",!0)("data-pc-section","uploadicon"))}function H3(s,t){}function z3(s,t){s&1&&T(0,H3,0,0,"ng-template")}function W3(s,t){if(s&1&&(S(0,"span",46),T(1,z3,1,0,null,11),I()),s&2){let e=v(4);k("aria-hidden",!0)("data-pc-section","uploadicon"),_(),f("ngTemplateOutlet",e.chooseIconTemplate)}}function Y3(s,t){if(s&1&&(ee(0),T(1,U3,1,3,"PlusIcon",22)(2,W3,2,3,"span",45),te()),s&2){let e=v(3);_(),f("ngIf",!e.chooseIconTemplate),_(),f("ngIf",e.chooseIconTemplate)}}function G3(s,t){if(s&1&&T(0,B3,1,1,"span",43)(1,Y3,3,2,"ng-container",9),s&2){let e=v(2);f("ngIf",e.chooseIcon),_(),f("ngIf",!e.chooseIcon)}}function $3(s,t){if(s&1&&(S(0,"span",19),fe(1),I()),s&2){let e=v(2);k("data-pc-section","label"),_(),We(e.basicButtonLabel)}}function q3(s,t){if(s&1){let e=J();S(0,"input",47,3),W("change",function(n){O(e);let r=v(2);return E(r.onFileSelect(n))})("focus",function(){O(e);let n=v(2);return E(n.onFocus())})("blur",function(){O(e);let n=v(2);return E(n.onBlur())}),I()}if(s&2){let e=v(2);f("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled),k("aria-label",e.browseFilesLabel)("data-pc-section","input")}}function X3(s,t){if(s&1){let e=J();S(0,"div",38),L(1,"p-messages",14),S(2,"span",39),W("click",function(){O(e);let n=v();return E(n.onBasicUploaderClick())})("keydown",function(n){O(e);let r=v();return E(r.onBasicKeydown(n))}),T(3,j3,3,2,"ng-container",40)(4,G3,2,2,"ng-template",null,2,It)(6,$3,2,2,"span",41)(7,q3,2,5,"input",42),I()()}if(s&2){let e=at(5),i=v();k("data-pc-name","fileupload"),_(),f("value",i.msgs)("enableService",!1),_(),Y(i.styleClass),f("ngClass",Xn(12,Xk,!i.basicButtonLabel,i.hasFiles(),i.focus,i.disabled))("ngStyle",i.style),k("data-pc-section","choosebutton"),_(),f("ngIf",i.hasFiles()&&!i.auto)("ngIfElse",e),_(3),f("ngIf",i.basicButtonLabel),_(),f("ngIf",!i.hasFiles())}}var zL=(()=>{class s{document;platformId;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new G;onSend=new G;onUpload=new G;onError=new G;onClear=new G;onRemove=new G;onSelect=new G;onProgress=new G;uploadHandler=new G;onImageError=new G;onRemoveUploadedFile=new G;templates;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let i=0;i<e.length;i++){let n=e[i];this.validate(n)&&(this.isImage(n)&&(n.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[i]))),this._files.push(e[i]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];fileUploadSubcription;constructor(e,i,n,r,o,a,c,u,d){this.document=e,this.platformId=i,this.renderer=n,this.el=r,this.sanitizer=o,this.zone=a,this.http=c,this.cd=u,this.config=d}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"file":this.fileTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"toolbar":this.toolbarTemplate=e.template;break;case"chooseicon":this.chooseIconTemplate=e.template;break;case"uploadicon":this.uploadIconTemplate=e.template;break;case"cancelicon":this.cancelIconTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;default:this.fileTemplate=e.template;break}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){Ot(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let i=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let n=0;n<i.length;n++){let r=i[n];this.isFileSelected(r)||this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[n]))),this.files.push(i[n]))}this.onSelect.emit({originalEvent:e,files:i,currentFiles:this.files}),this.checkFileLimit(i),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let i of this.files)if(i.name+i.type+i.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(Ot(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){return this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",e.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):this.maxFileSize&&e.size>this.maxFileSize?(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",e.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),!1):!0}isFileTypeValid(e){let i=this.accept?.split(",").map(n=>n.trim());for(let n of i)if(this.isWildcard(n)?this.getTypeClass(e.type)===this.getTypeClass(n):e.type==n||this.getFileExtension(e).toLowerCase()===n.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let i=0;i<this.files.length;i++)e.append(this.name,this.files[i],this.files[i].name);this.cancelUploadRequest(),this.fileUploadSubcription=this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(i=>{switch(i.type){case Ni.Sent:this.onSend.emit({originalEvent:i,formData:e});break;case Ni.Response:this.uploading=!1,this.progress=0,i.status>=200&&i.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:i,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles.push(...this.files),this.clear();break;case Ni.UploadProgress:{i.loaded&&(this.progress=Math.round(i.loaded*100/i.total)),this.onProgress.emit({originalEvent:i,progress:this.progress});break}}this.cd.markForCheck()},i=>{this.uploading=!1,this.onError.emit({files:this.files,error:i})})}}clear(){this.files=[],this.uploadedFileCount=0,this.cancelUploadRequest(),this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(e,i){this.cancelUploadRequest(),this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[i]}),this.files.splice(i,1),this.checkFileLimit(this.files)}removeUploadedFile(e){let i=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:i,files:this.uploadedFiles})}cancelUploadRequest(){this.fileUploadSubcription&&(this.fileUploadSubcription.unsubscribe(),this.fileUploadSubcription=void 0)}isFileLimitExceeded(){let i=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=i&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<i}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(e){this.msgs??=[];let i=this.msgs.length>0&&this.fileLimit<e.length;(this.isFileLimitExceeded()||i)&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(M.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||M.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){M.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let i=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||i&&i.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let r=this.getTranslation(_t.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let o=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,o)).toFixed(3)} ${r[o]}`}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(_t.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(_t.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(_t.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(_t.ARIA)[_t.BROWSE_FILES]}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||s)(j(Re),j(gt),j(pt),j(Ve),j(Uh),j(nt),j(Ss),j(Ue),j(ht))};static \u0275cmp=q({type:s,selectors:[["p-fileUpload"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(zk,5),ye(Wk,5),ye(Yk,5)),i&2){let r;ie(r=ne())&&(n.advancedFileInput=r.first),ie(r=ne())&&(n.basicFileInput=r.first),ie(r=ne())&&(n.content=r.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",B],accept:"accept",disabled:[2,"disabled","disabled",B],auto:[2,"auto","auto",B],withCredentials:[2,"withCredentials","withCredentials",B],maxFileSize:[2,"maxFileSize","maxFileSize",_e],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",_e],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",B],showCancelButton:[2,"showCancelButton","showCancelButton",B],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",B],fileLimit:[2,"fileLimit","fileLimit",e=>_e(e,null)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[Me],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["chooseSection",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],["type","file",3,"change","multiple","accept","disabled"],[1,"p-fileupload-buttonbar"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],["class","p-fileupload-empty",4,"ngIf"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"focus","blur","click","keydown.enter","ngClass"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"onClick","label","disabled","styleClass"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"click","disabled"],[3,"error","src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload-empty"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"change","focus","blur","accept","multiple","disabled"]],template:function(i,n){i&1&&T(0,A3,14,42,"div",4)(1,X3,8,17,"div",5),i&2&&(f("ngIf",n.mode==="advanced"),_(),f("ngIf",n.mode==="basic"))},dependencies:()=>[Le,ei,He,qe,Ne,rs,Yu,u0,h0,Ht,sd,rd,ut],styles:[`@layer primeng{.p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}}
`],encapsulation:2,changeDetection:0})}return s})(),ld=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Oe,Ki,ad,od,ni,sd,rd,ut,Oe,Ki,ad,od]})}return s})();var hd=dC(d0()),pa=class{static generateDatePeriods1(t,e){let i=(0,hd.default)(t,"DD-MM-YYYY");return Array.from({length:e},(n,r)=>{let o=i.clone().add(r,"months"),a=i.date(),c=o.daysInMonth(),u=Math.min(a,c);return o.date(u),o.format("DD-MM-YYYY")})}static generateDatePeriods(t,e,i){let n=(0,hd.default)(t,"DD-MM-YYYY",!0);if(!n.isValid())throw new Error("Invalid start date format. Please use 'DD-MM-YYYY'.");let o={M:1,BIM:2,Q:3,H:6,A:12}[i];return Array.from({length:e},(a,c)=>{let u=n.clone().add(c*o,"months"),d=n.date(),m=u.daysInMonth(),y=Math.min(d,m);return u.date(y),u.format("DD-MM-YYYY")})}};var p0=(()=>{class s{units=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];tens=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];thousands=["","Thousand","Million","Billion"];convert(e){return e<0?"Minus "+this.numberToWords(Math.abs(e))+" Rials Only":this.numberToWords(e)+" Rials Only"}numberToWords(e){if(e===0)return"Zero";let i="";for(let n=0;n<this.thousands.length&&e!==0;n++){let r=e%1e3;r>0&&(i=this.convertHundreds(r)+(this.thousands[n]?" "+this.thousands[n]:"")+" "+i),e=Math.floor(e/1e3)}return i.trim()}convertHundreds(e){let i="";return e>=100&&(i+=this.units[Math.floor(e/100)]+" Hundred",e%=100,e>0&&(i+=" ")),e<20?i+=this.units[e]:(i+=this.tens[Math.floor(e/10)],e%10>0&&(i+=" "+this.units[e%10])),i.trim()}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var f0=["container"],Z3=s=>[s,"p-toast-message"],Q3=(s,t,e,i)=>({showTransformParams:s,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}),J3=s=>({value:"visible",params:s}),eM=(s,t)=>({$implicit:s,closeFn:t}),tM=s=>({$implicit:s});function iM(s,t){s&1&&pe(0)}function nM(s,t){if(s&1&&(ee(0),T(1,iM,1,0,"ng-container",4),te()),s&2){let e=v();_(),f("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",Pe(2,eM,e.message,e.onCloseIconClick))}}function sM(s,t){if(s&1&&L(0,"span"),s&2){let e=v(3);Y("p-toast-message-icon pi "+e.message.icon)}}function rM(s,t){s&1&&L(0,"CheckIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function oM(s,t){s&1&&L(0,"InfoCircleIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function aM(s,t){s&1&&L(0,"TimesCircleIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function lM(s,t){s&1&&L(0,"ExclamationTriangleIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function cM(s,t){if(s&1&&(S(0,"span",13),ee(1),T(2,rM,1,2,"CheckIcon",6)(3,oM,1,2,"InfoCircleIcon",6)(4,aM,1,2,"TimesCircleIcon",6)(5,lM,1,2,"ExclamationTriangleIcon",6),te(),I()),s&2){let e=v(3);k("aria-hidden",!0)("data-pc-section","icon"),_(2),f("ngIf",e.message.severity==="success"),_(),f("ngIf",e.message.severity==="info"),_(),f("ngIf",e.message.severity==="error"),_(),f("ngIf",e.message.severity==="warn")}}function hM(s,t){if(s&1&&(ee(0),T(1,sM,1,2,"span",8)(2,cM,6,6,"span",9),S(3,"div",10)(4,"div",11),fe(5),I(),S(6,"div",12),fe(7),I()(),te()),s&2){let e=v(2);_(),f("ngIf",e.message.icon),_(),f("ngIf",!e.message.icon),_(),k("data-pc-section","text"),_(),k("data-pc-section","summary"),_(),We(e.message.summary),_(),k("data-pc-section","detail"),_(),We(e.message.detail)}}function uM(s,t){s&1&&pe(0)}function dM(s,t){if(s&1&&L(0,"span"),s&2){let e=v(3);Y("pt-1 text-base p-toast-message-icon pi "+e.message.closeIcon)}}function pM(s,t){s&1&&L(0,"TimesIcon",16),s&2&&(f("styleClass","p-toast-icon-close-icon"),k("aria-hidden",!0)("data-pc-section","closeicon"))}function fM(s,t){if(s&1){let e=J();S(0,"button",14),W("click",function(n){O(e);let r=v(2);return E(r.onCloseIconClick(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.onCloseIconClick(n))}),T(1,dM,1,2,"span",8)(2,pM,1,3,"TimesIcon",15),I()}if(s&2){let e=v(2);k("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),_(),f("ngIf",e.message.closeIcon),_(),f("ngIf",!e.message.closeIcon)}}function mM(s,t){if(s&1&&(S(0,"div",5),T(1,hM,8,7,"ng-container",6)(2,uM,1,0,"ng-container",4)(3,fM,3,4,"button",7),I()),s&2){let e=v();f("ngClass",e.message==null?null:e.message.contentStyleClass),k("data-pc-section","content"),_(),f("ngIf",!e.template),_(),f("ngTemplateOutlet",e.template)("ngTemplateOutletContext",he(6,tM,e.message)),_(),f("ngIf",(e.message==null?null:e.message.closable)!==!1)}}function gM(s,t){if(s&1){let e=J();S(0,"p-toastItem",3),W("onClose",function(n){O(e);let r=v();return E(r.onMessageClose(n))})("@toastAnimation.start",function(n){O(e);let r=v();return E(r.onAnimationStart(n))})("@toastAnimation.done",function(n){O(e);let r=v();return E(r.onAnimationEnd(n))}),I()}if(s&2){let e=t.$implicit,i=t.index,n=v();f("message",e)("index",i)("life",n.life)("template",n.template)("headlessTemplate",n.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",n.showTransformOptions)("hideTransformOptions",n.hideTransformOptions)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}}var _M=(()=>{class s{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new G;containerViewChild;timeout;constructor(e,i){this.zone=e,this.config=i}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=e=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(i){return new(i||s)(j(nt),j(ht))};static \u0275cmp=q({type:s,selectors:[["p-toastItem"]],viewQuery:function(i,n){if(i&1&&ye(f0,5),i&2){let r;ie(r=ne())&&(n.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",_e],life:[2,"life","life",_e],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[Me],decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,n){if(i&1){let r=J();S(0,"div",2,0),W("mouseenter",function(){return O(r),E(n.onMouseEnter())})("mouseleave",function(){return O(r),E(n.onMouseLeave())}),T(2,nM,2,5,"ng-container",3)(3,mM,4,8,"ng-template",null,1,It),I()}if(i&2){let r=at(4);Y(n.message==null?null:n.message.styleClass),f("ngClass",he(9,Z3,"p-toast-message-"+(n.message==null?null:n.message.severity)))("@messageState",he(16,J3,Xn(11,Q3,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions))),k("id",n.message==null?null:n.message.id)("data-pc-name","toast")("data-pc-section","root"),_(2),f("ngIf",n.headlessTemplate)("ngIfElse",r)}},dependencies:()=>[Le,He,qe,Ht,oi,Yr,Gr,Wr,ut],encapsulation:2,data:{animation:[Si("messageState",[ul("visible",Ct({transform:"translateY(0)",opacity:1})),Ft("void => *",[Ct({transform:"{{showTransformParams}}",opacity:0}),Rt("{{showTransitionParams}}")]),Ft("* => void",[Rt("{{hideTransitionParams}}",Ct({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return s})(),m0=(()=>{class s{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(e){this._position=e,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new G;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(e,i,n,r,o){this.document=e,this.renderer=i,this.messageService=n,this.cd=r,this.config=o}styleElement;id=Ye();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(Array.isArray(e)){let i=e.filter(n=>this.canAdd(n));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return e?e.find(n=>n.summary===i.summary&&n.detail==i.detail&&n.severity===i.severity)!=null:!1}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"message":this.template=e.template;break;case"headless":this.headlessTemplate=e.template;break;default:this.template=e.template;break}})}onMessageClose(e){this.messages?.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){e.fromState==="void"&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&this.containerViewChild?.nativeElement.style.zIndex===""&&wt.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){e.toState==="void"&&this.autoZIndex&&ae.isEmpty(this.messages)&&wt.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let i in this.breakpoints){let n="";for(let r in this.breakpoints[i])n+=r+":"+this.breakpoints[i][r]+" !important;";e+=`
                    @media screen and (max-width: ${i}) {
                        .p-toast[${this.id}] {
                           ${n}
                        }
                    }
                `}this.renderer.setProperty(this.styleElement,"innerHTML",e)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&wt.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(i){return new(i||s)(j(Re),j(pt),j(ts),j(Ue),j(ht))};static \u0275cmp=q({type:s,selectors:[["p-toast"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ye(f0,5),i&2){let r;ie(r=ne())&&(n.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",B],baseZIndex:[2,"baseZIndex","baseZIndex",_e],life:[2,"life","life",_e],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",B],preventDuplicates:[2,"preventDuplicates","preventDuplicates",B],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[Me],decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(i,n){i&1&&(S(0,"div",1,0),T(2,gM,1,10,"p-toastItem",2),I()),i&2&&(Y(n.styleClass),f("ngClass","p-toast-"+n._position)("ngStyle",n.style),_(2),f("ngForOf",n.messages))},dependencies:[Le,ei,Ne,_M],styles:[`@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}
`],encapsulation:2,data:{animation:[Si("toastAnimation",[Ft(":enter, :leave",[pm("@*",dm())])])]},changeDetection:0})}return s})(),ud=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,ni,oi,Yr,Gr,Wr,ut,Oe]})}return s})();function V(s,t,e){return(t=function(i){var n=function(r,o){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var c=a.call(r,o||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}(i,"string");return typeof n=="symbol"?n:n+""}(t))in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function g0(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),e.push.apply(e,i)}return e}function F(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?g0(Object(e),!0).forEach(function(i){V(s,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):g0(Object(e)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(e,i))})}return s}function Tt(s,t){if(s==null)return{};var e,i,n=function(o,a){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(a.indexOf(u)>=0)continue;c[u]=o[u]}return c}(s,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(s,e)&&(n[e]=s[e])}return n}function gs(s,t){return t||(t=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(t)}}))}var tc=class{constructor(){V(this,"browserShadowBlurConstant",1),V(this,"DPI",96),V(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),V(this,"perfLimitSizeTotal",2097152),V(this,"maxCacheSideLimit",4096),V(this,"minCacheSideLimit",256),V(this,"disableStyleCopyPaste",!1),V(this,"enableGLFiltering",!0),V(this,"textureSize",4096),V(this,"forceGLPutImageData",!1),V(this,"cachesBoundsOfCurve",!1),V(this,"fontPaths",{}),V(this,"NUM_FRACTION_DIGITS",4)}},Je=new class extends tc{constructor(s){super(),this.configure(s)}configure(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,s)}addFonts(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=F(F({},this.fontPaths),s)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(s=>{delete this.fontPaths[s]})}clearFonts(){this.fontPaths={}}restoreDefaults(s){let t=new tc,e=s?.reduce((i,n)=>(i[n]=t[n],i),{})||t;this.configure(e)}},ds=function(s){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return console[s]("fabric",...e)},Wi=class extends Error{constructor(t,e){super("fabric: ".concat(t),e)}},ic=class extends Wi{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}},Td=class{},Sd=class extends Td{testPrecision(t,e){let i="precision ".concat(e,` float;
void main(){}`),n=t.createShader(t.FRAGMENT_SHADER);return!!n&&(t.shaderSource(n,i),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS))}queryWebGL(t){let e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(i=>this.testPrecision(e,i)),e.getExtension("WEBGL_lose_context").loseContext(),ds("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}},yM={},_0;var pn=()=>_0||(_0={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Sd,dispose(){},copyPasteData:yM}),lo=()=>pn().document,Ec=()=>pn().window,G0=()=>{var s;return Math.max((s=Je.devicePixelRatio)!==null&&s!==void 0?s:Ec().devicePixelRatio,1)},_a=new class{constructor(){V(this,"charWidthsCache",{}),V(this,"boundsOfCurveCache",{})}getFontCache(s){let{fontFamily:t,fontStyle:e,fontWeight:i}=s;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});let n=this.charWidthsCache[t],r="".concat(e.toLowerCase(),"_").concat((i+"").toLowerCase());return n[r]||(n[r]={}),n[r]}clearFontCache(s){(s=(s||"").toLowerCase())?this.charWidthsCache[s]&&delete this.charWidthsCache[s]:this.charWidthsCache={}}limitDimsByArea(s){let{perfLimitSizeTotal:t}=Je,e=Math.sqrt(t*s);return[Math.floor(e),Math.floor(t/e)]}},Id="6.6.1";function Zs(){}var ps=Math.PI/2,Ln=2*Math.PI,ip=Math.PI/180,ci=Object.freeze([1,0,0,1,0,0]),np=16,os=.4477152502,Fe="center",rt="left",gi="top",Dd="bottom",Vt="right",_i="none",sp=/\r?\n/,$0="moving",kc="scaling",q0="rotating",rp="rotate",X0="skewing",xa="resizing",K0="modifyPoly",bM="modifyPath",nc="changed",Mc="scale",hi="scaleX",Mi="scaleY",co="skewX",ho="skewY",jt="fill",vi="stroke",sc="modified",qr="json",dd="svg",oe=new class{constructor(){this[qr]=new Map,this[dd]=new Map}has(s){return this[qr].has(s)}getClass(s){let t=this[qr].get(s);if(!t)throw new Wi("No class registered for ".concat(s));return t}setClass(s,t){t?this[qr].set(t,s):(this[qr].set(s.type,s),this[qr].set(s.type.toLowerCase(),s))}getSVGClass(s){return this[dd].get(s)}setSVGClass(s,t){this[dd].set(t??s.type.toLowerCase(),s)}},rc=new class extends Array{remove(s){let t=this.indexOf(s);t>-1&&this.splice(t,1)}cancelAll(){let s=this.splice(0);return s.forEach(t=>t.abort()),s}cancelByCanvas(s){if(!s)return[];let t=this.filter(e=>{var i;return e.target===s||typeof e.target=="object"&&((i=e.target)===null||i===void 0?void 0:i.canvas)===s});return t.forEach(e=>e.abort()),t}cancelByTarget(s){if(!s)return[];let t=this.filter(e=>e.target===s);return t.forEach(e=>e.abort()),t}},Od=class{constructor(){V(this,"__eventListeners",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(i=>{let[n,r]=i;this.on(n,r)}),()=>this.off(t);if(e){let i=t;return this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(e),()=>this.off(i,e)}return()=>!1}once(t,e){if(typeof t=="object"){let i=[];return Object.entries(t).forEach(n=>{let[r,o]=n;i.push(this.once(r,o))}),()=>i.forEach(n=>n())}if(e){let i=this.on(t,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.call(this,...r),i()});return i}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){let i=this.__eventListeners[t],n=i.indexOf(e);n>-1&&i.splice(n,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(t===void 0)for(let i in this.__eventListeners)this._removeEventListener(i);else typeof t=="object"?Object.entries(t).forEach(i=>{let[n,r]=i;this._removeEventListener(n,r)}):this._removeEventListener(t,e)}fire(t,e){var i;if(!this.__eventListeners)return;let n=(i=this.__eventListeners[t])===null||i===void 0?void 0:i.concat();if(n)for(let r=0;r<n.length;r++)n[r].call(this,e||{})}},Ms=(s,t)=>{let e=s.indexOf(t);return e!==-1&&s.splice(e,1),s},tn=s=>{if(s===0)return 1;switch(Math.abs(s)/ps){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},nn=s=>{if(s===0)return 0;let t=s/ps,e=Math.sign(s);switch(t){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(s)},N=class s{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new s(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new s(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new s(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new s(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new s(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new s(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new s(this.x/t.x,this.y/t.y)}scalarDivide(t){return new s(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new s(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){let e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}midPointFrom(t){return this.lerp(t)}min(t){return new s(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new s(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){let e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i}clone(){return new s(this.x,this.y)}rotate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:op,i=nn(t),n=tn(t),r=this.subtract(e);return new s(r.x*n-r.y*i,r.x*i+r.y*n).add(e)}transform(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new s(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}},op=new N(0,0),Jl=s=>!!s&&Array.isArray(s._objects);function Z0(s){class t extends s{constructor(){super(...arguments),V(this,"_objects",[])}_onObjectAdded(i){}_onObjectRemoved(i){}_onStackOrderChanged(i){}add(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];let o=this._objects.push(...n);return n.forEach(a=>this._onObjectAdded(a)),o}insertAt(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this._objects.splice(i,0,...r),r.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){let i=this._objects,n=[];for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.forEach(c=>{let u=i.indexOf(c);u!==-1&&(i.splice(u,1),n.push(c),this._onObjectRemoved(c))}),n}forEachObject(i){this.getObjects().forEach((n,r,o)=>i(n,r,o))}getObjects(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return n.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...n))}item(i){return this._objects[i]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(i,n){return!!this._objects.includes(i)||!!n&&this._objects.some(r=>r instanceof t&&r.contains(i,!0))}complexity(){return this._objects.reduce((i,n)=>i+=n.complexity?n.complexity():0,0)}sendObjectToBack(i){return!(!i||i===this._objects[0])&&(Ms(this._objects,i),this._objects.unshift(i),this._onStackOrderChanged(i),!0)}bringObjectToFront(i){return!(!i||i===this._objects[this._objects.length-1])&&(Ms(this._objects,i),this._objects.push(i),this._onStackOrderChanged(i),!0)}sendObjectBackwards(i,n){if(!i)return!1;let r=this._objects.indexOf(i);if(r!==0){let o=this.findNewLowerIndex(i,r,n);return Ms(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}bringObjectForward(i,n){if(!i)return!1;let r=this._objects.indexOf(i);if(r!==this._objects.length-1){let o=this.findNewUpperIndex(i,r,n);return Ms(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}moveObjectTo(i,n){return i!==this._objects[n]&&(Ms(this._objects,i),this._objects.splice(n,0,i),this._onStackOrderChanged(i),!0)}findNewLowerIndex(i,n,r){let o;if(r){o=n;for(let a=n-1;a>=0;--a)if(i.isOverlapping(this._objects[a])){o=a;break}}else o=n-1;return o}findNewUpperIndex(i,n,r){let o;if(r){o=n;for(let a=n+1;a<this._objects.length;++a)if(i.isOverlapping(this._objects[a])){o=a;break}}else o=n+1;return o}collectObjects(i){let{left:n,top:r,width:o,height:a}=i,{includeIntersecting:c=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=[],d=new N(n,r),m=d.add(new N(o,a));for(let y=this._objects.length-1;y>=0;y--){let b=this._objects[y];b.selectable&&b.visible&&(c&&b.intersectsWithRect(d,m)||b.isContainedWithinRect(d,m)||c&&b.containsPoint(d)||c&&b.containsPoint(m))&&u.push(b)}return u}}return t}var oc=class extends Od{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let e in t)this.set(e,t[e])}_setObject(t){for(let e in t)this._set(e,t[e])}set(t,e){return typeof t=="object"?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){let e=this.get(t);return typeof e=="boolean"&&this.set(t,!e),this}get(t){return this[t]}};function va(s){return Ec().requestAnimationFrame(s)}function Q0(s){return Ec().cancelAnimationFrame(s)}var CM=0,fs=()=>CM++,Yi=()=>{let s=lo().createElement("canvas");if(!s||s.getContext===void 0)throw new Wi("Failed to create `canvas` element");return s},J0=()=>lo().createElement("img"),sn=s=>{let t=Yi();return t.width=s.width,t.height=s.height,t},ap=(s,t,e)=>s.toDataURL("image/".concat(t),e),lp=(s,t,e)=>new Promise((i,n)=>{s.toBlob(i,"image/".concat(t),e)}),Et=s=>s*ip,ms=s=>s/ip,e_=s=>s.every((t,e)=>t===ci[e]),si=(s,t,e)=>new N(s).transform(t,e),ki=s=>{let t=1/(s[0]*s[3]-s[1]*s[2]),e=[t*s[3],-t*s[1],-t*s[2],t*s[0],0,0],{x:i,y:n}=new N(s[4],s[5]).transform(e,!0);return e[4]=-i,e[5]=-n,e},kt=(s,t,e)=>[s[0]*t[0]+s[2]*t[1],s[1]*t[0]+s[3]*t[1],s[0]*t[2]+s[2]*t[3],s[1]*t[2]+s[3]*t[3],e?0:s[0]*t[4]+s[2]*t[5]+s[4],e?0:s[1]*t[4]+s[3]*t[5]+s[5]],Ac=(s,t)=>s.reduceRight((e,i)=>i&&e?kt(i,e,t):i||e,void 0)||ci.concat(),t_=s=>{let[t,e]=s;return Math.atan2(e,t)},so=s=>{let t=t_(s),e=Math.pow(s[0],2)+Math.pow(s[1],2),i=Math.sqrt(e),n=(s[0]*s[3]-s[2]*s[1])/i,r=Math.atan2(s[0]*s[2]+s[1]*s[3],e);return{angle:ms(t),scaleX:i,scaleY:n,skewX:ms(r),skewY:0,translateX:s[4]||0,translateY:s[5]||0}},uo=function(s){return[1,0,0,1,s,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function po(){let{angle:s=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:e=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=Et(s),n=tn(i),r=nn(i);return[n,r,-r,n,t?t-(n*t-r*e):0,e?e-(r*t+n*e):0]}var Fc=function(s){return[s,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,0,0]},i_=s=>Math.tan(Et(s)),cp=s=>[1,0,i_(s),1,0,0],hp=s=>[1,i_(s),0,1,0,0],ka=s=>{let{scaleX:t=1,scaleY:e=1,flipX:i=!1,flipY:n=!1,skewX:r=0,skewY:o=0}=s,a=Fc(i?-t:t,n?-e:e);return r&&(a=kt(a,cp(r),!0)),o&&(a=kt(a,hp(o),!0)),a},n_=s=>{let{translateX:t=0,translateY:e=0,angle:i=0}=s,n=uo(t,e);i&&(n=kt(n,po({angle:i})));let r=ka(s);return e_(r)||(n=kt(n,r)),n},ya=function(s){let{signal:t,crossOrigin:e=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,n){if(t&&t.aborted)return n(new ic("loadImage"));let r=J0(),o;t&&(o=function(c){r.src="",n(c)},t.addEventListener("abort",o,{once:!0}));let a=function(){r.onload=r.onerror=null,o&&t?.removeEventListener("abort",o),i(r)};s?(r.onload=a,r.onerror=function(){o&&t?.removeEventListener("abort",o),n(new Wi("Error loading ".concat(r.src)))},e&&(r.crossOrigin=e),r.src=s):a()})},ro=function(s){let{signal:t,reviver:e=Zs}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((i,n)=>{let r=[];t&&t.addEventListener("abort",n,{once:!0}),Promise.all(s.map(o=>oe.getClass(o.type).fromObject(o,{signal:t}).then(a=>(e(o,a),r.push(a),a)))).then(i).catch(o=>{r.forEach(a=>{a.dispose&&a.dispose()}),n(o)}).finally(()=>{t&&t.removeEventListener("abort",n)})})},Ma=function(s){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((e,i)=>{let n=[];t&&t.addEventListener("abort",i,{once:!0});let r=Object.values(s).map(a=>a&&a.type&&oe.has(a.type)?ro([a],{signal:t}).then(c=>{let[u]=c;return n.push(u),u}):a),o=Object.keys(s);Promise.all(r).then(a=>a.reduce((c,u,d)=>(c[o[d]]=u,c),{})).then(e).catch(a=>{n.forEach(c=>{c.dispose&&c.dispose()}),i(a)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},sr=function(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,e)=>(e in s&&(t[e]=s[e]),t),{})},up=(s,t)=>Object.keys(s).reduce((e,i)=>(t(s[i],i,s)&&(e[i]=s[i]),e),{}),v0={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},pd=(s,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+6*(t-s)*e:e<.5?t:e<2/3?s+(t-s)*(2/3-e)*6:s),y0=(s,t,e,i)=>{s/=255,t/=255,e/=255;let n=Math.max(s,t,e),r=Math.min(s,t,e),o,a,c=(n+r)/2;if(n===r)o=a=0;else{let u=n-r;switch(a=c>.5?u/(2-n-r):u/(n+r),n){case s:o=(t-e)/u+(t<e?6:0);break;case t:o=(e-s)/u+2;break;case e:o=(s-t)/u+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*c),i]},b0=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(s)/(s.endsWith("%")?100:1)},Gl=s=>Math.min(Math.round(s),255).toString(16).toUpperCase().padStart(2,"0"),C0=s=>{let[t,e,i,n=1]=s,r=Math.round(.3*t+.59*e+.11*i);return[r,r,r,n]},ui=class s{constructor(t){if(V(this,"isUnrecognised",!1),t)if(t instanceof s)this.setSource([...t._source]);else if(Array.isArray(t)){let[e,i,n,r=1]=t;this.setSource([e,i,n,r])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in v0&&(t=v0[t]),t==="transparent"?[255,255,255,0]:s.sourceFromHex(t)||s.sourceFromRgb(t)||s.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){let[t,e,i]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(i,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[t,e,i]=y0(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(i,"%)")}toHsla(){let[t,e,i,n]=y0(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(i,"%,").concat(n,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[t,e,i,n]=this.getSource();return"".concat(Gl(t)).concat(Gl(e)).concat(Gl(i)).concat(Gl(Math.round(255*n)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(C0(this.getSource())),this}toBlackWhite(t){let[e,,,i]=C0(this.getSource()),n=e<(t||127)?0:255;return this.setSource([n,n,n,i]),this}overlayWith(t){t instanceof s||(t=new s(t));let e=this.getSource(),i=t.getSource(),[n,r,o]=e.map((a,c)=>Math.round(.5*a+.5*i[c]));return this.setSource([n,r,o,e[3]]),this}static fromRgb(t){return s.fromRgba(t)}static fromRgba(t){return new s(s.sourceFromRgb(t))}static sourceFromRgb(t){let e=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(e){let[i,n,r]=e.slice(1,4).map(o=>{let a=parseFloat(o);return o.endsWith("%")?Math.round(2.55*a):a});return[i,n,r,b0(e[4])]}}static fromHsl(t){return s.fromHsla(t)}static fromHsla(t){return new s(s.sourceFromHsl(t))}static sourceFromHsl(t){let e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!e)return;let i=(s.parseAngletoDegrees(e[1])%360+360)%360/360,n=parseFloat(e[2])/100,r=parseFloat(e[3])/100,o,a,c;if(n===0)o=a=c=r;else{let u=r<=.5?r*(n+1):r+n-r*n,d=2*r-u;o=pd(d,u,i+1/3),a=pd(d,u,i),c=pd(d,u,i-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*c),b0(e[4])]}static fromHex(t){return new s(s.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let e=t.slice(t.indexOf("#")+1),i;i=e.length<=4?e.split("").map(c=>c+c):e.match(/.{2}/g);let[n,r,o,a=255]=i.map(c=>parseInt(c,16));return[n,r,o,a/255]}}static parseAngletoDegrees(t){let e=t.toLowerCase(),i=parseFloat(e);return e.includes("rad")?ms(i):e.includes("turn")?360*i:i}},xt=(s,t)=>parseFloat(Number(s).toFixed(t)),Qs=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:np,e=/\D{0,2}$/.exec(s),i=parseFloat(s),n=Je.DPI;switch(e?.[0]){case"mm":return i*n/25.4;case"cm":return i*n/2.54;case"in":return i*n;case"pt":return i*n/72;case"pc":return i*n/72*12;case"em":return i*t;default:return i}},s_=s=>{let[t,e]=s.trim().split(" "),[i,n]=(r=t)&&r!==_i?[r.slice(1,4),r.slice(5,8)]:r===_i?[r,r]:["Mid","Mid"];var r;return{meetOrSlice:e||"meet",alignX:i,alignY:n}},Ta=s=>"matrix("+s.map(t=>xt(t,Je.NUM_FRACTION_DIGITS)).join(" ")+")",Sa=function(s,t){let e,i,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)e="url(#SVGID_".concat(t.id,")");else{let r=new ui(t),o=r.getAlpha();e=r.toRgb(),o!==1&&(i=o.toString())}else e="none";return n?"".concat(s,": ").concat(e,"; ").concat(i?"".concat(s,"-opacity: ").concat(i,"; "):""):"".concat(s,'="').concat(e,'" ').concat(i?"".concat(s,'-opacity="').concat(i,'" '):"")},zi=s=>!!s&&s.toLive!==void 0,w0=s=>!!s&&typeof s.toObject=="function",x0=s=>!!s&&s.offsetX!==void 0&&"source"in s,As=s=>!!s&&"multiSelectionStacking"in s;function r_(s){let t=s&&Qi(s),e=0,i=0;if(!s||!t)return{left:e,top:i};let n=s,r=t.documentElement,o=t.body||{scrollLeft:0,scrollTop:0};for(;n&&(n.parentNode||n.host)&&(n=n.parentNode||n.host,n===t?(e=o.scrollLeft||r.scrollLeft||0,i=o.scrollTop||r.scrollTop||0):(e+=n.scrollLeft||0,i+=n.scrollTop||0),n.nodeType!==1||n.style.position!=="fixed"););return{left:e,top:i}}var Qi=s=>s.ownerDocument||null,o_=s=>{var t;return((t=s.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},a_=function(s,t,e){let{width:i,height:n}=e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;s.width=i,s.height=n,r>1&&(s.setAttribute("width",(i*r).toString()),s.setAttribute("height",(n*r).toString()),t.scale(r,r))},Ed=(s,t)=>{let{width:e,height:i}=t;e&&(s.style.width=typeof e=="number"?"".concat(e,"px"):e),i&&(s.style.height=typeof i=="number"?"".concat(i,"px"):i)};function T0(s){return s.onselectstart!==void 0&&(s.onselectstart=()=>!1),s.style.userSelect=_i,s}var ac=class{constructor(t){V(this,"_originalCanvasStyle",void 0),V(this,"lower",void 0);let e=this.createLowerCanvas(t);this.lower={el:e,ctx:e.getContext("2d")}}createLowerCanvas(t){let e=(i=t)&&i.getContext!==void 0?t:t&&lo().getElementById(t)||Yi();var i;if(e.hasAttribute("data-fabric"))throw new Wi("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=e.style.cssText,e.setAttribute("data-fabric","main"),e.classList.add("lower-canvas"),e}cleanupDOM(t){let{width:e,height:i}=t,{el:n}=this.lower;n.classList.remove("lower-canvas"),n.removeAttribute("data-fabric"),n.setAttribute("width","".concat(e)),n.setAttribute("height","".concat(i)),n.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){let{el:i,ctx:n}=this.lower;a_(i,n,t,e)}setCSSDimensions(t){Ed(this.lower.el,t)}calcOffset(){return function(t){var e;let i=t&&Qi(t),n={left:0,top:0};if(!i)return n;let r=((e=o_(t))===null||e===void 0?void 0:e.getComputedStyle(t,null))||{};n.left+=parseInt(r.borderLeftWidth,10)||0,n.top+=parseInt(r.borderTopWidth,10)||0,n.left+=parseInt(r.paddingLeft,10)||0,n.top+=parseInt(r.paddingTop,10)||0;let o={left:0,top:0},a=i.documentElement;t.getBoundingClientRect!==void 0&&(o=t.getBoundingClientRect());let c=r_(t);return{left:o.left+c.left-(a.clientLeft||0)+n.left,top:o.top+c.top-(a.clientTop||0)+n.top}}(this.lower.el)}dispose(){pn().dispose(this.lower.el),delete this.lower}},wM={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...ci]},Ia=class s extends Z0(oc){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return s.ownDefaults}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new ac(t)}add(){let t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=super.insertAt(t,...i);return i.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),r}remove(){let t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(ds("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?G0():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:i=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e){let n=F({width:this.width,height:this.height},t);this.elements.setDimensions(n,this.getRetinaScaling()),this.hasLostContext=!0,this.width=n.width,this.height=n.height}i||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){let i=t,n=[...this.viewportTransform],r=si(t,ki(n));n[0]=e,n[3]=e;let o=si(r,n);n[4]+=i.x-o.x,n[5]+=i.y-o.y,this.setViewportTransform(n)}setZoom(t){this.zoomToPoint(new N(0,0),t)}absolutePan(t){let e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new N(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=va(()=>this.renderAndReset()))}calcViewportBoundaries(){let t=this.width,e=this.height,i=ki(this.viewportTransform),n=si({x:0,y:0},i),r=si({x:t,y:e},i),o=n.min(r),a=n.max(r);return this.vptCoords={tl:o,tr:new N(a.x,o.y),bl:new N(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(Q0(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;let i=this.viewportTransform,n=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),n&&(n._set("canvas",this),n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,n)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){let i=this.viewportTransform;t.save(),t.transform(...i),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let i=0,n=e.length;i<n;++i)e[i]&&e[i].render(t)}_renderBackgroundOrOverlay(t,e){let i=this["".concat(e,"Color")],n=this["".concat(e,"Image")],r=this.viewportTransform,o=this["".concat(e,"Vpt")];if(!i&&!n)return;let a=zi(i);if(i){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=a?i.toLive(t):i,o&&t.transform(...r),a){t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);let c=i.gradientTransform||i.patternTransform;c&&t.transform(...c)}t.fill(),t.restore()}if(n){t.save();let{skipOffscreen:c}=this;this.skipOffscreen=o,o&&t.transform(...r),n.render(t),this.skipOffscreen=c,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new N(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new N(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new N(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new N(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new N(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return si(this.getCenterPoint(),ki(this.viewportTransform))}_centerObject(t,e){t.setXY(e,Fe,Fe),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,e){let i=this.clipPath,n=i&&!i.excludeFromExport?this._toObject(i,t,e):null;return F(F(F({version:Id},sr(this,e)),{},{objects:this._objects.filter(r=>!r.excludeFromExport).map(r=>this._toObject(r,t,e))},this.__serializeBgOverlay(t,e)),n?{clipPath:n}:null)}_toObject(t,e,i){let n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);let r=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=!!n),r}__serializeBgOverlay(t,e){let i={},n=this.backgroundImage,r=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return zi(o)?o.excludeFromExport||(i.background=o.toObject(e)):o&&(i.background=o),zi(a)?a.excludeFromExport||(i.overlay=a.toObject(e)):a&&(i.overlay=a),n&&!n.excludeFromExport&&(i.backgroundImage=this._toObject(n,t,e)),r&&!r.excludeFromExport&&(i.overlayImage=this._toObject(r,t,e)),i}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;let i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push(`</g>
`),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,e){let i=e.width||"".concat(this.width),n=e.height||"".concat(this.height),r=Je.NUM_FRACTION_DIGITS,o=e.viewBox,a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){let c=this.viewportTransform;a='viewBox="'.concat(xt(-c[4]/c[0],r)," ").concat(xt(-c[5]/c[3],r)," ").concat(xt(this.width/c[0],r)," ").concat(xt(this.height/c[3],r),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',n,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Id,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),`</defs>
`)}createSVGClipPathMarkup(t){let e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(fs()),'<clipPath id="'.concat(e.clipPathId,`" >
`).concat(e.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{let e=this["".concat(t,"Color")];if(zi(e)){let i=this["".concat(t,"Vpt")],n=this.viewportTransform,r={isType:()=>!1,width:this.width/(i?n[0]:1),height:this.height/(i?n[3]:1)};return e.toSVG(r,{additionalTransform:i?Ta(n):""})}}).join("")}createSVGFontFacesMarkup(){let t=[],e={},i=Je.fontPaths;this._objects.forEach(function r(o){t.push(o),Jl(o)&&o._objects.forEach(r)}),t.forEach(r=>{if(!(o=r)||typeof o._renderText!="function")return;var o;let{styles:a,fontFamily:c}=r;!e[c]&&i[c]&&(e[c]=!0,a&&Object.values(a).forEach(u=>{Object.values(u).forEach(d=>{let{fontFamily:m=""}=d;!e[m]&&i[m]&&(e[m]=!0)})}))});let n=Object.keys(e).map(r=>`		@font-face {
			font-family: '`.concat(r,`';
			src: url('`).concat(i[r],`');
		}
`)).join("");return n?`	<style type="text/css"><![CDATA[
`.concat(n,`]]></style>
`):""}_setSVGObjects(t,e){this.forEachObject(i=>{i.excludeFromExport||this._setSVGObject(t,i,e)})}_setSVGObject(t,e,i){t.push(e.toSVG(i))}_setSVGBgOverlayImage(t,e,i){let n=this[e];n&&!n.excludeFromExport&&n.toSVG&&t.push(n.toSVG(i))}_setSVGBgOverlayColor(t,e){let i=this["".concat(e,"Color")];if(i)if(zi(i)){let n=i.repeat||"",r=this.width,o=this.height,a=this["".concat(e,"Vpt")]?Ta(ki(this.viewportTransform)):"";t.push('<rect transform="'.concat(a," translate(").concat(r/2,",").concat(o/2,')" x="').concat(i.offsetX-r/2,'" y="').concat(i.offsetY-o/2,'" width="').concat(n!=="repeat-y"&&n!=="no-repeat"||!x0(i)?r:i.source.width,'" height="').concat(n!=="repeat-x"&&n!=="no-repeat"||!x0(i)?o:i.source.height,'" fill="url(#SVGID_').concat(i.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',`></rect>
`)}loadFromJSON(t,e){let{signal:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new Wi("`json` is undefined"));let n=typeof t=="string"?JSON.parse(t):t,{objects:r=[],backgroundImage:o,background:a,overlayImage:c,overlay:u,clipPath:d}=n,m=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([ro(r,{reviver:e,signal:i}),Ma({backgroundImage:o,backgroundColor:a,overlayImage:c,overlayColor:u,clipPath:d},{signal:i})]).then(y=>{let[b,C]=y;return this.clear(),this.add(...b),this.set(n),this.set(C),this.renderOnAddRemove=m,this})}clone(t){let e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){let t=sn(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:e="png",quality:i=1,multiplier:n=1,enableRetinaScaling:r=!1}=t,o=n*(r?this.getRetinaScaling():1);return ap(this.toCanvasElement(o,t),e,i)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:e="png",quality:i=1,multiplier:n=1,enableRetinaScaling:r=!1}=t,o=n*(r?this.getRetinaScaling():1);return lp(this.toCanvasElement(o,t),e,i)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:e,height:i,left:n,top:r,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(e||this.width)*t,c=(i||this.height)*t,u=this.getZoom(),d=this.width,m=this.height,y=this.skipControlsDrawing,b=u*t,C=this.viewportTransform,x=[b,0,0,b,(C[4]-(n||0))*t,(C[5]-(r||0))*t],D=this.enableRetinaScaling,R=sn({width:a,height:c}),U=o?this._objects.filter(P=>o(P)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=x,this.width=a,this.height=c,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(R.getContext("2d"),U),this.viewportTransform=C,this.width=d,this.height=m,this.calcViewportBoundaries(),this.enableRetinaScaling=D,this.skipControlsDrawing=y,R}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),rc.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{let i=()=>{this.destroy(),t(!0)};i.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=i:i()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};V(Ia,"ownDefaults",wM);var xM=["touchstart","touchmove","touchend"],l_=s=>{let t=r_(s.target),e=function(i){let n=i.changedTouches;return n&&n[0]?n[0]:i}(s);return new N(e.clientX+t.left,e.clientY+t.top)},lc=s=>xM.includes(s.type)||s.pointerType==="touch",kd=s=>{s.preventDefault(),s.stopPropagation()},dn=s=>{let t=0,e=0,i=0,n=0;for(let r=0,o=s.length;r<o;r++){let{x:a,y:c}=s[r];(a>i||!r)&&(i=a),(a<t||!r)&&(t=a),(c>n||!r)&&(n=c),(c<e||!r)&&(e=c)}return{left:t,top:e,width:i-t,height:n-e}},TM=["translateX","translateY","scaleX","scaleY"],c_=(s,t)=>oo(s,kt(t,s.calcOwnMatrix())),oo=(s,t)=>{let e=so(t),{translateX:i,translateY:n,scaleX:r,scaleY:o}=e,a=Tt(e,TM),c=new N(i,n);s.flipX=!1,s.flipY=!1,Object.assign(s,a),s.set({scaleX:r,scaleY:o}),s.setPositionByOrigin(c,Fe,Fe)},h_=s=>{s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},dp=s=>({scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}),Vc=(s,t,e)=>{let i=s/2,n=t/2,r=[new N(-i,-n),new N(i,-n),new N(-i,n),new N(i,n)].map(a=>a.transform(e)),o=dn(r);return new N(o.width,o.height)},Aa=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ci;return kt(ki(arguments.length>1&&arguments[1]!==void 0?arguments[1]:ci),s)},Rn=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ci,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ci;return s.transform(Aa(t,e))},u_=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ci,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ci;return s.transform(Aa(t,e),!0)},Md=(s,t,e)=>{let i=Aa(t,e);return oo(s,kt(i,s.calcOwnMatrix())),i},pp=(s,t)=>{var e;let{transform:{target:i}}=t;(e=i.canvas)===null||e===void 0||e.fire("object:".concat(s),F(F({},t),{},{target:i})),i.fire(s,t)},SM={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Lt=s=>typeof s=="string"?SM[s]:s-.5,cc="not-allowed";function d_(s){return Lt(s.originX)===Lt(Fe)&&Lt(s.originY)===Lt(Fe)}function S0(s){return .5-Lt(s)}var en=(s,t)=>s[t],fp=(s,t,e,i)=>({e:s,transform:t,pointer:new N(e,i)});function p_(s,t){let e=s.getTotalAngle()+ms(Math.atan2(t.y,t.x))+360;return Math.round(e%360/45)}function Rc(s,t,e,i,n){var r;let{target:o,corner:a}=s,c=o.controls[a],u=((r=o.canvas)===null||r===void 0?void 0:r.getZoom())||1,d=o.padding/u,m=function(y,b,C,x){let D=y.getRelativeCenterPoint(),R=C!==void 0&&x!==void 0?y.translateToGivenOrigin(D,Fe,Fe,C,x):new N(y.left,y.top);return(y.angle?b.rotate(-Et(y.angle),D):b).subtract(R)}(o,new N(i,n),t,e);return m.x>=d&&(m.x-=d),m.x<=-d&&(m.x+=d),m.y>=d&&(m.y-=d),m.y<=d&&(m.y+=d),m.x-=c.offsetX,m.y-=c.offsetY,m}var f_=(s,t,e,i)=>{let{target:n,offsetX:r,offsetY:o}=t,a=e-r,c=i-o,u=!en(n,"lockMovementX")&&n.left!==a,d=!en(n,"lockMovementY")&&n.top!==c;return u&&n.set(rt,a),d&&n.set(gi,c),(u||d)&&pp($0,fp(s,t,e,i)),u||d},hc=class{getSvgStyles(t){let e=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):_i,r=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=this.opacity!==void 0?this.opacity:"1",d=this.visible?"":" visibility: hidden;",m=t?"":this.getSvgFilter(),y=Sa(jt,this.fill);return[Sa(vi,this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",c,"; ",y,"fill-rule: ",e,"; ","opacity: ",u,";",m,d].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t?this.calcTransformMatrix():this.calcOwnMatrix(),n='transform="'.concat(Ta(i));return"".concat(n).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),r=t.indexOf("COMMON_PARTS");return t[r]=n,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:i,withShadow:n,additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e?"":'style="'.concat(this.getSvgStyles(),'" '),a=n?'style="'.concat(this.getSvgFilter(),'" '):"",c=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=c&&c.absolutePositioned,m=this.stroke,y=this.fill,b=this.shadow,C=[],x=t.indexOf("COMMON_PARTS"),D;c&&(c.clipPathId="CLIPPATH_".concat(fs()),D='<clipPath id="'.concat(c.clipPathId,`" >
`).concat(c.toClipPathSVG(i),`</clipPath>
`)),d&&C.push("<g ",a,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),d?"":a+this.getSvgCommons(),` >
`);let R=[o,u,e?"":this.addPaintOrder()," ",r?'transform="'.concat(r,'" '):""].join("");return t[x]=R,zi(y)&&C.push(y.toSVG(this)),zi(m)&&C.push(m.toSVG(this)),b&&C.push(b.toSVG(this)),c&&C.push(D),C.push(t.join("")),C.push(`</g>
`),d&&C.push(`</g>
`),i?i(C.join("")):C.join("")}addPaintOrder(){return this.paintFirst!==jt?' paint-order="'.concat(this.paintFirst,'" '):""}};function Lc(s){return new RegExp("^("+s.join("|")+")\\b","i")}var I0,Ji=String.raw(I0||(I0=gs(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));var IM=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Ji+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Ji+"))?\\s+(.*)"),DM={cx:rt,x:rt,r:"radius",cy:gi,y:gi,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},fd="font-size",md="clip-path",fP=Lc(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),mP=Lc(["symbol","image","marker","pattern","view","svg"]),D0=Lc(["symbol","g","a","svg","clipPath","defs"]),gP=new RegExp("^\\s*("+Ji+"+)\\s*,?\\s*("+Ji+"+)\\s*,?\\s*("+Ji+"+)\\s*,?\\s*("+Ji+"+)\\s*$"),OM=new N(1,0),m_=new N,mp=(s,t)=>s.rotate(t),uc=(s,t)=>new N(t).subtract(s),dc=s=>s.distanceFrom(m_),pc=(s,t)=>Math.atan2(io(s,t),__(s,t)),g_=s=>pc(OM,s),Pc=s=>s.eq(m_)?s:s.scalarDivide(dc(s)),gp=function(s){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Pc(new N(-s.y,s.x).scalarMultiply(t?1:-1))},io=(s,t)=>s.x*t.y-s.y*t.x,__=(s,t)=>s.x*t.x+s.y*t.y,Ad=(s,t,e)=>{if(s.eq(t)||s.eq(e))return!0;let i=io(t,e),n=io(t,s),r=io(e,s);return i>=0?n>=0&&r<=0:!(n<=0&&r>=0)},O0="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",E0=new RegExp("(?:\\s|^)"+O0+O0+"("+Ji+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)"),Js=class s{constructor(t){let e=typeof t=="string"?s.parseShadow(t):t;Object.assign(this,s.ownDefaults,e),this.id=fs()}static parseShadow(t){let e=t.trim(),[,i=0,n=0,r=0]=(E0.exec(e)||[]).map(o=>parseFloat(o)||0);return{color:(e.replace(E0,"")||"rgb(0,0,0)").trim(),offsetX:i,offsetY:n,blur:r}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){let e=mp(new N(this.offsetX,this.offsetY),Et(-t.angle)),i=new ui(this.color),n=40,r=40;return t.width&&t.height&&(n=100*xt((Math.abs(e.x)+this.blur)/t.width,Je.NUM_FRACTION_DIGITS)+20,r=100*xt((Math.abs(e.y)+this.blur)/t.height,Je.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(r,'%" height="').concat(100+2*r,'%" x="-').concat(n,'%" width="').concat(100+2*n,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(xt(this.blur?this.blur/2:0,Je.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(xt(e.x,Je.NUM_FRACTION_DIGITS),'" dy="').concat(xt(e.y,Je.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(i.toRgb(),'" flood-opacity="').concat(i.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=s.ownDefaults;return this.includeDefaultValues?t:up(t,(i,n)=>i!==e[n])}static fromObject(t){return Yt(this,null,function*(){return new this(t)})}};V(Js,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),V(Js,"type","shadow"),oe.setClass(Js,"shadow");var tr=(s,t,e)=>Math.max(s,Math.min(t,e)),EM=[gi,rt,hi,Mi,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",co,ho],Pn=[jt,vi,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],kM={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:rt,originY:gi,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:jt,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},gd=(s,t,e,i)=>(s<Math.abs(t)?(s=t,i=e/4):i=t===0&&s===0?e/Ln*Math.asin(1):e/Ln*Math.asin(t/s),{a:s,c:t,p:e,s:i}),k0=(s,t,e,i,n)=>s*Math.pow(2,10*(i-=1))*Math.sin((i*n-t)*Ln/e),v_=(s,t,e,i)=>-e*Math.cos(s/i*ps)+e+t,Fd=(s,t,e,i)=>(s/=i)<1/2.75?e*(7.5625*s*s)+t:s<2/2.75?e*(7.5625*(s-=1.5/2.75)*s+.75)+t:s<2.5/2.75?e*(7.5625*(s-=2.25/2.75)*s+.9375)+t:e*(7.5625*(s-=2.625/2.75)*s+.984375)+t,M0=(s,t,e,i)=>e-Fd(i-s,0,e,i)+t,MM=Object.freeze({__proto__:null,defaultEasing:v_,easeInBack:function(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*(s/=i)*s*((n+1)*s-n)+t},easeInBounce:M0,easeInCirc:(s,t,e,i)=>-e*(Math.sqrt(1-(s/=i)*s)-1)+t,easeInCubic:(s,t,e,i)=>e*(s/i)**3+t,easeInElastic:(s,t,e,i)=>{let n=e,r=0;if(s===0)return t;if((s/=i)===1)return t+e;r||(r=.3*i);let{a:o,s:a,p:c}=gd(n,e,r,1.70158);return-k0(o,a,c,s,i)+t},easeInExpo:(s,t,e,i)=>s===0?t:e*2**(10*(s/i-1))+t,easeInOutBack:function(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(s/=i/2)<1?e/2*(s*s*((1+(n*=1.525))*s-n))+t:e/2*((s-=2)*s*((1+(n*=1.525))*s+n)+2)+t},easeInOutBounce:(s,t,e,i)=>s<i/2?.5*M0(2*s,0,e,i)+t:.5*Fd(2*s-i,0,e,i)+.5*e+t,easeInOutCirc:(s,t,e,i)=>(s/=i/2)<1?-e/2*(Math.sqrt(1-s**2)-1)+t:e/2*(Math.sqrt(1-(s-=2)*s)+1)+t,easeInOutCubic:(s,t,e,i)=>(s/=i/2)<1?e/2*s**3+t:e/2*((s-2)**3+2)+t,easeInOutElastic:(s,t,e,i)=>{let n=e,r=0;if(s===0)return t;if((s/=i/2)===2)return t+e;r||(r=i*(.3*1.5));let{a:o,s:a,p:c,c:u}=gd(n,e,r,1.70158);return s<1?-.5*k0(o,a,c,s,i)+t:o*Math.pow(2,-10*(s-=1))*Math.sin((s*i-a)*Ln/c)*.5+u+t},easeInOutExpo:(s,t,e,i)=>s===0?t:s===i?t+e:(s/=i/2)<1?e/2*2**(10*(s-1))+t:e/2*-(2**(-10*--s)+2)+t,easeInOutQuad:(s,t,e,i)=>(s/=i/2)<1?e/2*s**2+t:-e/2*(--s*(s-2)-1)+t,easeInOutQuart:(s,t,e,i)=>(s/=i/2)<1?e/2*s**4+t:-e/2*((s-=2)*s**3-2)+t,easeInOutQuint:(s,t,e,i)=>(s/=i/2)<1?e/2*s**5+t:e/2*((s-2)**5+2)+t,easeInOutSine:(s,t,e,i)=>-e/2*(Math.cos(Math.PI*s/i)-1)+t,easeInQuad:(s,t,e,i)=>e*(s/=i)*s+t,easeInQuart:(s,t,e,i)=>e*(s/=i)*s**3+t,easeInQuint:(s,t,e,i)=>e*(s/i)**5+t,easeInSine:(s,t,e,i)=>-e*Math.cos(s/i*ps)+e+t,easeOutBack:function(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*((s=s/i-1)*s*((n+1)*s+n)+1)+t},easeOutBounce:Fd,easeOutCirc:(s,t,e,i)=>e*Math.sqrt(1-(s=s/i-1)*s)+t,easeOutCubic:(s,t,e,i)=>e*((s/i-1)**3+1)+t,easeOutElastic:(s,t,e,i)=>{let n=e,r=0;if(s===0)return t;if((s/=i)===1)return t+e;r||(r=.3*i);let{a:o,s:a,p:c,c:u}=gd(n,e,r,1.70158);return o*2**(-10*s)*Math.sin((s*i-a)*Ln/c)+u+t},easeOutExpo:(s,t,e,i)=>s===i?t+e:e*-(2**(-10*s/i)+1)+t,easeOutQuad:(s,t,e,i)=>-e*(s/=i)*(s-2)+t,easeOutQuart:(s,t,e,i)=>-e*((s=s/i-1)*s**3-1)+t,easeOutQuint:(s,t,e,i)=>e*((s/i-1)**5+1)+t,easeOutSine:(s,t,e,i)=>e*Math.sin(s/i*ps)+t}),AM=()=>!1,Da=class{constructor(t){let{startValue:e,byValue:i,duration:n=500,delay:r=0,easing:o=v_,onStart:a=Zs,onChange:c=Zs,onComplete:u=Zs,abort:d=AM,target:m}=t;V(this,"_state","pending"),V(this,"durationProgress",0),V(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=n,this.delay=r,this.easing=o,this._onStart=a,this._onChange=c,this._onComplete=u,this._abort=d,this.target=m,this.startValue=e,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let t=e=>{this._state==="pending"&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>va(t),this.delay):va(t)}tick(t){let e=(t||+new Date)-this.startTime,i=Math.min(e,this.duration);this.durationProgress=i/this.duration;let{value:n,valueProgress:r}=this.calculate(i);this.value=Object.freeze(n),this.valueProgress=r,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),va(this.tick)))}register(){rc.push(this)}unregister(){rc.remove(this)}abort(){this._state="aborted",this.unregister()}},FM=["startValue","endValue"],Vd=class extends Da{constructor(t){let{startValue:e=0,endValue:i=100}=t;super(F(F({},Tt(t,FM)),{},{startValue:e,byValue:i-e}))}calculate(t){let e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}},VM=["startValue","endValue"],Rd=class extends Da{constructor(t){let{startValue:e=[0],endValue:i=[100]}=t;super(F(F({},Tt(t,VM)),{},{startValue:e,byValue:i.map((n,r)=>n-e[r])}))}calculate(t){let e=this.startValue.map((i,n)=>this.easing(t,i,this.byValue[n],this.duration,n));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}},RM=["startValue","endValue","easing","onChange","onComplete","abort"],LM=(s,t,e,i)=>t+e*(1-Math.cos(s/i*ps)),_d=s=>s&&((t,e,i)=>s(new ui(t).toRgba(),e,i)),Ld=class extends Da{constructor(t){let{startValue:e,endValue:i,easing:n=LM,onChange:r,onComplete:o,abort:a}=t,c=Tt(t,RM),u=new ui(e).getSource(),d=new ui(i).getSource();super(F(F({},c),{},{startValue:u,byValue:d.map((m,y)=>m-u[y]),easing:n,onChange:_d(r),onComplete:_d(o),abort:_d(a)}))}calculate(t){let[e,i,n,r]=this.startValue.map((a,c)=>this.easing(t,a,this.byValue[c],this.duration,c)),o=[...[e,i,n].map(Math.round),tr(0,r,1)];return{value:o,valueProgress:o.map((a,c)=>this.byValue[c]!==0?Math.abs((a-this.startValue[c])/this.byValue[c]):0).find(a=>a!==0)||0}}};function _p(s){let t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(s)?new Rd(s):new Vd(s);return t.start(),t}function y_(s){let t=new Ld(s);return t.start(),t}var er=class s{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(e=>e.eq(t))}append(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.points=this.points.concat(e.filter(n=>!this.includes(n))),this}static isPointContained(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.eq(i))return t.eq(e);if(e.x===i.x)return t.x===e.x&&(n||t.y>=Math.min(e.y,i.y)&&t.y<=Math.max(e.y,i.y));if(e.y===i.y)return t.y===e.y&&(n||t.x>=Math.min(e.x,i.x)&&t.x<=Math.max(e.x,i.x));{let r=uc(e,i),o=uc(e,t).divide(r);return n?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(t,e){let i=new N(t).setX(Math.min(t.x-1,...e.map(r=>r.x))),n=0;for(let r=0;r<e.length;r++){let o=this.intersectSegmentSegment(e[r],e[(r+1)%e.length],t,i);if(o.includes(t))return!0;n+=+(o.status==="Intersection")}return n%2==1}static intersectLineLine(t,e,i,n){let r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],a=e.x-t.x,c=e.y-t.y,u=n.x-i.x,d=n.y-i.y,m=t.x-i.x,y=t.y-i.y,b=u*y-d*m,C=a*y-c*m,x=d*a-u*c;if(x!==0){let D=b/x,R=C/x;return(r||0<=D&&D<=1)&&(o||0<=R&&R<=1)?new s("Intersection").append(new N(t.x+D*a,t.y+D*c)):new s}if(b===0||C===0){let D=r||o||s.isPointContained(t,i,n)||s.isPointContained(e,i,n)||s.isPointContained(i,t,e)||s.isPointContained(n,t,e);return new s(D?"Coincident":void 0)}return new s("Parallel")}static intersectSegmentLine(t,e,i,n){return s.intersectLineLine(t,e,i,n,!1,!0)}static intersectSegmentSegment(t,e,i,n){return s.intersectLineLine(t,e,i,n,!1,!1)}static intersectLinePolygon(t,e,i){let n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],r=new s,o=i.length;for(let a,c,u,d=0;d<o;d++){if(a=i[d],c=i[(d+1)%o],u=s.intersectLineLine(t,e,a,c,n,!1),u.status==="Coincident")return u;r.append(...u.points)}return r.points.length>0&&(r.status="Intersection"),r}static intersectSegmentPolygon(t,e,i){return s.intersectLinePolygon(t,e,i,!1)}static intersectPolygonPolygon(t,e){let i=new s,n=t.length,r=[];for(let o=0;o<n;o++){let a=t[o],c=t[(o+1)%n],u=s.intersectSegmentPolygon(a,c,e);u.status==="Coincident"?(r.push(u),i.append(a,c)):i.append(...u.points)}return r.length>0&&r.length===t.length?new s("Coincident"):(i.points.length>0&&(i.status="Intersection"),i)}static intersectPolygonRectangle(t,e,i){let n=e.min(i),r=e.max(i),o=new N(r.x,n.y),a=new N(n.x,r.y);return s.intersectPolygonPolygon(t,[n,o,r,a])}},Pd=class extends oc{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){let t=this.getRelativeXY();return this.group?si(t,this.group.calcTransformMatrix()):t}setXY(t,e,i){this.group&&(t=si(t,ki(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,i)}getRelativeXY(){return new N(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,e,i)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:t,tr:e,br:i,bl:n}=this.aCoords||(this.aCoords=this.calcACoords()),r=[t,e,i,n];if(this.group){let o=this.group.calcTransformMatrix();return r.map(a=>si(a,o))}return r}intersectsWithRect(t,e){return er.intersectPolygonRectangle(this.getCoords(),t,e).status==="Intersection"}intersectsWithObject(t){let e=er.intersectPolygonPolygon(this.getCoords(),t.getCoords());return e.status==="Intersection"||e.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(e=>t.containsPoint(e))}isContainedWithinRect(t,e){let{left:i,top:n,width:r,height:o}=this.getBoundingRect();return i>=t.x&&i+r<=e.x&&n>=t.y&&n+o<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return er.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some(i=>i.x<=e.x&&i.x>=t.x&&i.y<=e.y&&i.y>=t.y)||!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:t,br:e}=this.canvas.vptCoords;return this.intersectsWithRect(t,e)?!0:this.getCoords().every(i=>(i.x>=e.x||i.x<=t.x)&&(i.y>=e.y||i.y<=t.y))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return dn(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(hi,t),this._set(Mi,t),this.setCoords()}scaleToWidth(t){let e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){let e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?ms(t_(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||ci.concat()}calcACoords(){let t=po({angle:this.angle}),{x:e,y:i}=this.getRelativeCenterPoint(),n=uo(e,i),r=kt(n,t),o=this._getTransformedDimensions(),a=o.x/2,c=o.y/2;return{tl:si({x:-a,y:-c},r),tr:si({x:a,y:-c},r),bl:si({x:-a,y:c},r),br:si({x:a,y:c},r)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Lt(this.originX),Lt(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;let i=this.transformMatrixKey(t),n=this.matrixCache;return n&&n.key.every((r,o)=>r===i[o])?n.value:(this.group&&(e=kt(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:i,value:e},e)}calcOwnMatrix(){let t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;let i=this.getRelativeCenterPoint(),n={angle:this.angle,translateX:i.x,translateY:i.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},r=n_(n);return this.ownMatrixCache={key:t,value:r},r}_getNonTransformedDimensions(){return new N(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=F({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),i=e.strokeWidth,n=i,r=0;this.strokeUniform&&(n=0,r=i);let o=e.width+n,a=e.height+n,c;return c=e.skewX===0&&e.skewY===0?new N(o*e.scaleX,a*e.scaleY):Vc(o,a,ka(e)),c.scalarAdd(r)}translateToGivenOrigin(t,e,i,n,r){let o=t.x,a=t.y,c=Lt(n)-Lt(e),u=Lt(r)-Lt(i);if(c||u){let d=this._getTransformedDimensions();o+=c*d.x,a+=u*d.y}return new N(o,a)}translateToCenterPoint(t,e,i){if(e===Fe&&i===Fe)return t;let n=this.translateToGivenOrigin(t,e,i,Fe,Fe);return this.angle?n.rotate(Et(this.angle),t):n}translateToOriginPoint(t,e,i){let n=this.translateToGivenOrigin(t,Fe,Fe,e,i);return this.angle?n.rotate(Et(this.angle),t):n}getCenterPoint(){let t=this.getRelativeCenterPoint();return this.group?si(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new N(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,i){let n=this.translateToCenterPoint(t,e,i),r=this.translateToOriginPoint(n,this.originX,this.originY);this.set({left:r.x,top:r.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),rt,gi)}},PM=["type"],NM=["extraParam"],kn=class ec extends Pd{static getDefaults(){return ec.ownDefaults}get type(){let t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){ds("warn","Setting type has no effect",t)}constructor(t){super(),V(this,"_cacheContext",null),Object.assign(this,ec.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=Yi(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){let e=t.width,i=t.height,n=Je.maxCacheSideLimit,r=Je.minCacheSideLimit;if(e<=n&&i<=n&&e*i<=Je.perfLimitSizeTotal)return e<r&&(t.width=r),i<r&&(t.height=r),t;let o=e/i,[a,c]=_a.limitDimsByArea(o),u=tr(r,a,n),d=tr(r,c,n);return e>u&&(t.zoomX/=e/u,t.width=u,t.capped=!0),i>d&&(t.zoomY/=i/d,t.height=d,t.capped=!0),t}_getCacheCanvasDimensions(){let t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),i=e.x*t.x/this.scaleX,n=e.y*t.y/this.scaleY;return{width:Math.ceil(i+2),height:Math.ceil(n+2),zoomX:t.x,zoomY:t.y,x:i,y:n}}_updateCacheCanvas(){let t=this._cacheCanvas,e=this._cacheContext,{width:i,height:n,zoomX:r,zoomY:o,x:a,y:c}=this._limitCacheSize(this._getCacheCanvasDimensions()),u=i!==t.width||n!==t.height,d=this.zoomX!==r||this.zoomY!==o;if(!t||!e)return!1;if(u||d){i!==t.width||n!==t.height?(t.width=i,t.height=n):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height));let m=a/2,y=c/2;return this.cacheTranslationX=Math.round(t.width/2-m)+m,this.cacheTranslationY=Math.round(t.height/2-y)+y,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(r,o),this.zoomX=r,this.zoomY=o,!0}return!1}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){let e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,i=this.calcTransformMatrix(!e);t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}getObjectScaling(){if(!this.group)return new N(Math.abs(this.scaleX),Math.abs(this.scaleY));let t=so(this.calcTransformMatrix());return new N(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){let t=this.getObjectScaling();if(this.canvas){let e=this.canvas.getZoom(),i=this.getCanvasRetinaScaling();return t.scalarMultiply(e*i)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,e){t!==hi&&t!==Mi||(e=this._constrainScale(e)),t===hi&&e<0?(this.flipX=!this.flipX,e*=-1):t==="scaleY"&&e<0?(this.flipY=!this.flipY,e*=-1):t!=="shadow"||!e||e instanceof Js||(e=new Js(e));let i=this[t]!==e;return this[t]=e,i&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||i&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){let{zoomX:e,zoomY:i,cacheTranslationX:n,cacheTranslationY:r}=this,{width:o,height:a}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:e,zoomY:i,cacheTranslationX:n,cacheTranslationY:r,width:o,height:a,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===vi&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,e,i){t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",t.setTransform(1,0,0,1,0,0),t.drawImage(i,0,0),t.restore()}drawObject(t,e,i){let n=this.fill,r=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,i),this.fill=n,this.stroke=r}createClipPathLayer(t,e){let i=sn(e),n=i.getContext("2d");if(n.translate(e.cacheTranslationX,e.cacheTranslationY),n.scale(e.zoomX,e.zoomY),t._cacheCanvas=i,e.parentClipPaths.forEach(r=>{r.transform(n)}),e.parentClipPaths.push(t),t.absolutePositioned){let r=ki(this.calcTransformMatrix());n.transform(r[0],r[1],r[2],r[3],r[4],r[5])}return t.transform(n),t.drawObject(n,!0,e),i}_drawClipPath(t,e,i){if(!e)return;e._transformDone=!0;let n=this.createClipPathLayer(e,i);this.drawClipPathOnCache(t,e,n)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let e=this._cacheCanvas,i=this._cacheContext;return!(!e||!i||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&i&&!t&&(i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),i.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;let e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){let i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,zi(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:i}=e;i&&(zi(i)?(t.fillStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.fillStyle=i)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&e.length!==0&&t.setLineDash(e)}_setShadow(t){if(!this.shadow)return;let e=this.shadow,i=this.canvas,n=this.getCanvasRetinaScaling(),[r,,,o]=i?.viewportTransform||ci,a=r*n,c=o*n,u=e.nonScaling?new N(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*Je.browserShadowBlurConstant*(a+c)*(u.x+u.y)/4,t.shadowOffsetX=e.offsetX*a*u.x,t.shadowOffsetY=e.offsetY*c*u.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!zi(e))return{offsetX:0,offsetY:0};let i=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return e.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,n,r):t.transform(1,0,0,1,n,r),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:n,offsetY:r}}_renderPaintInOrder(t){this.paintFirst===vi?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){let e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var i;let n=this._limitCacheSize(this._getCacheCanvasDimensions()),r=this.getCanvasRetinaScaling(),o=n.x/this.scaleX/r,a=n.y/this.scaleY/r,c=sn({width:Math.ceil(o),height:Math.ceil(a)}),u=c.getContext("2d");u&&(u.beginPath(),u.moveTo(0,0),u.lineTo(o,0),u.lineTo(o,a),u.lineTo(0,a),u.closePath(),u.translate(o/2,a/2),u.scale(n.zoomX/this.scaleX/r,n.zoomY/this.scaleY/r),this._applyPatternGradientTransform(u,e),u.fillStyle=e.toLive(t),u.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(r*this.scaleX/n.zoomX,r*this.scaleY/n.zoomY),t.strokeStyle=(i=u.createPattern(c,"no-repeat"))!==null&&i!==void 0?i:"")}_findCenterFromElement(){return new N(this.left+this.width/2,this.top+this.height/2)}clone(t){let e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){let e=this.toCanvasElement(t);return new(oe.getClass("image"))(e)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=dp(this),i=this.group,n=this.shadow,r=Math.abs,o=t.enableRetinaScaling?G0():1,a=(t.multiplier||1)*o,c=t.canvasProvider||(U=>new Ia(U,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&h_(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&Md(this,this.getViewportTransform()),this.setCoords();let u=Yi(),d=this.getBoundingRect(),m=this.shadow,y=new N;if(m){let U=m.blur,P=m.nonScaling?new N(1,1):this.getObjectScaling();y.x=2*Math.round(r(m.offsetX)+U)*r(P.x),y.y=2*Math.round(r(m.offsetY)+U)*r(P.y)}let b=d.width+y.x,C=d.height+y.y;u.width=Math.ceil(b),u.height=Math.ceil(C);let x=c(u);t.format==="jpeg"&&(x.backgroundColor="#fff"),this.setPositionByOrigin(new N(x.width/2,x.height/2),Fe,Fe);let D=this.canvas;x._objects=[this],this.set("canvas",x),this.setCoords();let R=x.toCanvasElement(a||1,t);return this.set("canvas",D),this.shadow=n,i&&(this.group=i),this.set(e),this.setCoords(),x._objects=[],x.destroy(),R}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ap(this.toCanvasElement(t),t.format||"png",t.quality||1)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return lp(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){let{centeredRotation:e,originX:i,originY:n}=this;if(e){let{x:r,y:o}=this.getRelativeCenterPoint();this.originX=Fe,this.originY=Fe,this.left=r,this.top=o}if(this.set("angle",t),e){let{x:r,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),i,n);this.left=r,this.top=o,this.originX=i,this.originY=n}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){rc.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&pn().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce((i,n)=>{let[r,o]=n;return i[r]=this._animate(r,o,e),i},{})}_animate(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.split("."),r=this.constructor.colorProperties.includes(n[n.length-1]),{abort:o,startValue:a,onChange:c,onComplete:u}=i,d=F(F({},i),{},{target:this,startValue:a??n.reduce((m,y)=>m[y],this),endValue:e,abort:o?.bind(this),onChange:(m,y,b)=>{n.reduce((C,x,D)=>(D===n.length-1&&(C[x]=m),C[x]),this),c&&c(m,y,b)},onComplete:(m,y,b)=>{this.setCoords(),u&&u(m,y,b)}});return r?y_(d):_p(d)}isDescendantOf(t){let{parent:e,group:i}=this;return e===t||i===t||!!e&&e.isDescendantOf(t)||!!i&&i!==e&&i.isDescendantOf(t)}getAncestors(){let t=[],e=this;do e=e.parent,e&&t.push(e);while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let e=this.getAncestors(),i=t.getAncestors();if(e.length===0&&i.length>0&&this===i[i.length-1])return{fork:[],otherFork:[t,...i.slice(0,i.length-1)],common:[this]};for(let n,r=0;r<e.length;r++){if(n=e[r],n===t)return{fork:[this,...e.slice(0,r)],otherFork:[],common:e.slice(r)};for(let o=0;o<i.length;o++){if(this===i[o])return{fork:[],otherFork:[t,...i.slice(0,o)],common:[this,...e]};if(n===i[o])return{fork:[this,...e.slice(0,r)],otherFork:[t,...i.slice(0,o)],common:e.slice(r)}}}return{fork:[this,...e],otherFork:[t,...i],common:[]}}hasCommonAncestors(t){let e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;let e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;let i=e.common[0]||this.canvas;if(!i)return;let n=e.fork.pop(),r=e.otherFork.pop(),o=i._objects.indexOf(n),a=i._objects.indexOf(r);return o>-1&&o>a}toObject(){let t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(ec.customProperties,this.constructor.customProperties||[]),e,i=Je.NUM_FRACTION_DIGITS,{clipPath:n,fill:r,stroke:o,shadow:a,strokeDashArray:c,left:u,top:d,originX:m,originY:y,width:b,height:C,strokeWidth:x,strokeLineCap:D,strokeDashOffset:R,strokeLineJoin:U,strokeUniform:P,strokeMiterLimit:z,scaleX:$,scaleY:Z,angle:ge,flipX:Q,flipY:Ee,opacity:Xe,visible:it,backgroundColor:St,fillRule:Ke,paintFirst:dt,globalCompositeOperation:Wt,skewX:Kt,skewY:yi}=this;n&&!n.excludeFromExport&&(e=n.toObject(t.concat("inverted","absolutePositioned")));let Ze=pi=>xt(pi,i),di=F(F({},sr(this,t)),{},{type:this.constructor.type,version:Id,originX:m,originY:y,left:Ze(u),top:Ze(d),width:Ze(b),height:Ze(C),fill:w0(r)?r.toObject():r,stroke:w0(o)?o.toObject():o,strokeWidth:Ze(x),strokeDashArray:c&&c.concat(),strokeLineCap:D,strokeDashOffset:R,strokeLineJoin:U,strokeUniform:P,strokeMiterLimit:Ze(z),scaleX:Ze($),scaleY:Ze(Z),angle:Ze(ge),flipX:Q,flipY:Ee,opacity:Ze(Xe),shadow:a&&a.toObject(),visible:it,backgroundColor:St,fillRule:Ke,paintFirst:dt,globalCompositeOperation:Wt,skewX:Ze(Kt),skewY:Ze(yi)},e?{clipPath:e}:null);return this.includeDefaultValues?di:this._removeDefaultValues(di)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){let e=this.constructor.getDefaults(),i=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return up(t,(n,r)=>{if(r===rt||r===gi||r==="type")return!0;let o=i[r];return n!==o&&!(Array.isArray(n)&&Array.isArray(o)&&n.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=Tt(t,PM),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:n}=i,r=Tt(i,NM);return Ma(e,r).then(o=>n?(delete o[n],new this(e[n],o)):new this(o))}static fromObject(t,e){return this._fromObject(t,e)}};V(kn,"stateProperties",EM),V(kn,"cacheProperties",Pn),V(kn,"ownDefaults",kM),V(kn,"type","FabricObject"),V(kn,"colorProperties",[jt,vi,"backgroundColor"]),V(kn,"customProperties",[]),oe.setClass(kn),oe.setClass(kn,"object");var _s=(s,t,e)=>(i,n,r,o)=>{let a=t(i,n,r,o);return a&&pp(s,F(F({},fp(i,n,r,o)),e)),a};function rr(s){return(t,e,i,n)=>{let{target:r,originX:o,originY:a}=e,c=r.getRelativeCenterPoint(),u=r.translateToOriginPoint(c,o,a),d=s(t,e,i,n);return r.setPositionByOrigin(u,e.originX,e.originY),d}}var Nd=_s(xa,rr((s,t,e,i)=>{let n=Rc(t,t.originX,t.originY,e,i);if(Lt(t.originX)===Lt(Fe)||Lt(t.originX)===Lt(Vt)&&n.x<0||Lt(t.originX)===Lt(rt)&&n.x>0){let{target:r}=t,o=r.strokeWidth/(r.strokeUniform?r.scaleX:1),a=d_(t)?2:1,c=r.width,u=Math.abs(n.x*a/r.scaleX)-o;return r.set("width",Math.max(u,1)),c!==r.width}return!1}));function b_(s,t,e,i,n){i=i||{};let r=this.sizeX||i.cornerSize||n.cornerSize,o=this.sizeY||i.cornerSize||n.cornerSize,a=i.transparentCorners!==void 0?i.transparentCorners:n.transparentCorners,c=a?vi:jt,u=!a&&(i.cornerStrokeColor||n.cornerStrokeColor),d,m=t,y=e;s.save(),s.fillStyle=i.cornerColor||n.cornerColor||"",s.strokeStyle=i.cornerStrokeColor||n.cornerStrokeColor||"",r>o?(d=r,s.scale(1,o/r),y=e*r/o):o>r?(d=o,s.scale(r/o,1),m=t*o/r):d=r,s.beginPath(),s.arc(m,y,d/2,0,Ln,!1),s[c](),u&&s.stroke(),s.restore()}function C_(s,t,e,i,n){i=i||{};let r=this.sizeX||i.cornerSize||n.cornerSize,o=this.sizeY||i.cornerSize||n.cornerSize,a=i.transparentCorners!==void 0?i.transparentCorners:n.transparentCorners,c=a?vi:jt,u=!a&&(i.cornerStrokeColor||n.cornerStrokeColor),d=r/2,m=o/2;s.save(),s.fillStyle=i.cornerColor||n.cornerColor||"",s.strokeStyle=i.cornerStrokeColor||n.cornerStrokeColor||"",s.translate(t,e);let y=n.getTotalAngle();s.rotate(Et(y)),s["".concat(c,"Rect")](-d,-m,r,o),u&&s.strokeRect(-d,-m,r,o),s.restore()}var ai=class{constructor(t){V(this,"visible",!0),V(this,"actionName",Mc),V(this,"angle",0),V(this,"x",0),V(this,"y",0),V(this,"offsetX",0),V(this,"offsetY",0),V(this,"sizeX",0),V(this,"sizeY",0),V(this,"touchSizeX",0),V(this,"touchSizeY",0),V(this,"cursorStyle","crosshair"),V(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,i,n){var r;let{tl:o,tr:a,br:c,bl:u}=n;return((r=e.canvas)===null||r===void 0?void 0:r.getActiveObject())===e&&e.isControlVisible(t)&&er.isPointInPolygon(i,[o,a,c,u])}getActionHandler(t,e,i){return this.actionHandler}getMouseDownHandler(t,e,i){return this.mouseDownHandler}getMouseUpHandler(t,e,i){return this.mouseUpHandler}cursorStyleHandler(t,e,i){return e.cursorStyle}getActionName(t,e,i){return e.actionName}getVisibility(t,e){var i,n;return(i=(n=t._controlsVisibility)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:this.visible}setVisibility(t,e,i){this.visible=t}positionHandler(t,e,i,n){return new N(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,i,n,r,o){let a=Ac([uo(i,n),po({angle:t}),Fc((r?this.touchSizeX:this.sizeX)||e,(r?this.touchSizeY:this.sizeY)||e)]);return{tl:new N(-.5,-.5).transform(a),tr:new N(.5,-.5).transform(a),br:new N(.5,.5).transform(a),bl:new N(-.5,.5).transform(a)}}render(t,e,i,n,r){((n=n||{}).cornerStyle||r.cornerStyle)==="circle"?b_.call(this,t,e,i,n,r):C_.call(this,t,e,i,n,r)}},w_=(s,t,e)=>e.lockRotation?cc:t.cursorStyle,x_=_s(q0,rr((s,t,e,i)=>{let{target:n,ex:r,ey:o,theta:a,originX:c,originY:u}=t,d=n.translateToOriginPoint(n.getRelativeCenterPoint(),c,u);if(en(n,"lockRotation"))return!1;let m=Math.atan2(o-d.y,r-d.x),y=Math.atan2(i-d.y,e-d.x),b=ms(y-m+a);if(n.snapAngle&&n.snapAngle>0){let x=n.snapAngle,D=n.snapThreshold||x,R=Math.ceil(b/x)*x,U=Math.floor(b/x)*x;Math.abs(b-U)<D?b=U:Math.abs(b-R)<D&&(b=R)}b<0&&(b=360+b),b%=360;let C=n.angle!==b;return n.angle=b,C}));function T_(s,t){let e=t.canvas,i=s[e.uniScaleKey];return e.uniformScaling&&!i||!e.uniformScaling&&i}function S_(s,t,e){let i=en(s,"lockScalingX"),n=en(s,"lockScalingY");if(i&&n||!t&&(i||n)&&e||i&&t==="x"||n&&t==="y")return!0;let{width:r,height:o,strokeWidth:a}=s;return r===0&&a===0&&t!=="y"||o===0&&a===0&&t!=="x"}var jM=["e","se","s","sw","w","nw","n","ne","e"],Kr=(s,t,e)=>{let i=T_(s,e);if(S_(e,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",i))return cc;let n=p_(e,t);return"".concat(jM[n],"-resize")};function vp(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},r=t.target,o=n.by,a=T_(s,r),c,u,d,m,y,b;if(S_(r,o,a))return!1;if(t.gestureScale)u=t.scaleX*t.gestureScale,d=t.scaleY*t.gestureScale;else{if(c=Rc(t,t.originX,t.originY,e,i),y=o!=="y"?Math.sign(c.x||t.signX||1):1,b=o!=="x"?Math.sign(c.y||t.signY||1):1,t.signX||(t.signX=y),t.signY||(t.signY=b),en(r,"lockScalingFlip")&&(t.signX!==y||t.signY!==b))return!1;if(m=r._getTransformedDimensions(),a&&!o){let D=Math.abs(c.x)+Math.abs(c.y),{original:R}=t,U=D/(Math.abs(m.x*R.scaleX/r.scaleX)+Math.abs(m.y*R.scaleY/r.scaleY));u=R.scaleX*U,d=R.scaleY*U}else u=Math.abs(c.x*r.scaleX/m.x),d=Math.abs(c.y*r.scaleY/m.y);d_(t)&&(u*=2,d*=2),t.signX!==y&&o!=="y"&&(t.originX=S0(t.originX),u*=-1,t.signX=y),t.signY!==b&&o!=="x"&&(t.originY=S0(t.originY),d*=-1,t.signY=b)}let C=r.scaleX,x=r.scaleY;return o?(o==="x"&&r.set(hi,u),o==="y"&&r.set(Mi,d)):(!en(r,"lockScalingX")&&r.set(hi,u),!en(r,"lockScalingY")&&r.set(Mi,d)),C!==r.scaleX||x!==r.scaleY}var ma=_s(kc,rr((s,t,e,i)=>vp(s,t,e,i))),I_=_s(kc,rr((s,t,e,i)=>vp(s,t,e,i,{by:"x"}))),D_=_s(kc,rr((s,t,e,i)=>vp(s,t,e,i,{by:"y"}))),BM=["target","ex","ey","skewingSide"],vd={x:{counterAxis:"y",scale:hi,skew:co,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Mi,skew:ho,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},UM=["ns","nesw","ew","nwse"],O_=(s,t,e)=>{if(t.x!==0&&en(e,"lockSkewingY")||t.y!==0&&en(e,"lockSkewingX"))return cc;let i=p_(e,t)%4;return"".concat(UM[i],"-resize")};function E_(s,t,e,i,n){let{target:r}=e,{counterAxis:o,origin:a,lockSkewing:c,skew:u,flip:d}=vd[s];if(en(r,c))return!1;let{origin:m,flip:y}=vd[o],b=Lt(e[m])*(r[y]?-1:1),C=-Math.sign(b)*(r[d]?-1:1),x=.5*-((r[u]===0&&Rc(e,Fe,Fe,i,n)[s]>0||r[u]>0?1:-1)*C)+.5;return _s(X0,rr((R,U,P,z)=>function($,Z,ge){let{target:Q,ex:Ee,ey:Xe,skewingSide:it}=Z,St=Tt(Z,BM),{skew:Ke}=vd[$],dt=ge.subtract(new N(Ee,Xe)).divide(new N(Q.scaleX,Q.scaleY))[$],Wt=Q[Ke],Kt=St[Ke],yi=Math.tan(Et(Kt)),Ze=$==="y"?Q._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:Q._getTransformedDimensions({scaleX:1,scaleY:1}).y,di=2*dt*it/Math.max(Ze,1)+yi,pi=ms(Math.atan(di));Q.set(Ke,pi);let jn=Wt!==Q[Ke];if(jn&&$==="y"){let{skewX:rn,scaleX:ce}=Q,on=Q._getTransformedDimensions({skewY:Wt}),ar=Q._getTransformedDimensions(),Ai=rn!==0?on.x/ar.x:1;Ai!==1&&Q.set(hi,Ai*ce)}return jn}(s,U,new N(P,z))))(t,F(F({},e),{},{[a]:x,skewingSide:C}),i,n)}var k_=(s,t,e,i)=>E_("x",s,t,e,i),M_=(s,t,e,i)=>E_("y",s,t,e,i);function Nc(s,t){return s[t.canvas.altActionKey]}var ga=(s,t,e)=>{let i=Nc(s,e);return t.x===0?i?co:Mi:t.y===0?i?ho:hi:""},Rs=(s,t,e)=>Nc(s,e)?O_(0,t,e):Kr(s,t,e),jd=(s,t,e,i)=>Nc(s,t.target)?M_(s,t,e,i):I_(s,t,e,i),Bd=(s,t,e,i)=>Nc(s,t.target)?k_(s,t,e,i):D_(s,t,e,i),yp=()=>({ml:new ai({x:-.5,y:0,cursorStyleHandler:Rs,actionHandler:jd,getActionName:ga}),mr:new ai({x:.5,y:0,cursorStyleHandler:Rs,actionHandler:jd,getActionName:ga}),mb:new ai({x:0,y:.5,cursorStyleHandler:Rs,actionHandler:Bd,getActionName:ga}),mt:new ai({x:0,y:-.5,cursorStyleHandler:Rs,actionHandler:Bd,getActionName:ga}),tl:new ai({x:-.5,y:-.5,cursorStyleHandler:Kr,actionHandler:ma}),tr:new ai({x:.5,y:-.5,cursorStyleHandler:Kr,actionHandler:ma}),bl:new ai({x:-.5,y:.5,cursorStyleHandler:Kr,actionHandler:ma}),br:new ai({x:.5,y:.5,cursorStyleHandler:Kr,actionHandler:ma}),mtr:new ai({x:0,y:-.5,actionHandler:x_,cursorStyleHandler:w_,offsetY:-40,withConnection:!0,actionName:rp})}),A_=()=>({mr:new ai({x:.5,y:0,actionHandler:Nd,cursorStyleHandler:Rs,actionName:xa}),ml:new ai({x:-.5,y:0,actionHandler:Nd,cursorStyleHandler:Rs,actionName:xa})}),F_=()=>F(F({},yp()),A_()),fc=class s extends kn{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),s.ownDefaults),this.setOptions(t)}static createControls(){return{controls:yp()}}_updateCacheCanvas(){let t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){let e=t._currentTransform,i=e.target,n=e.action;if(this===i&&n&&n.startsWith(Mc))return!1}return super._updateCacheCanvas()}getActiveControl(){let t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let i=Object.entries(this.oCoords);for(let n=i.length-1;n>=0;n--){let[r,o]=i[n],a=this.controls[r];if(a.shouldActivate(r,this,t,e?o.touchCorner:o.corner))return this.__corner=r,{key:r,control:a,coord:this.oCoords[r]}}}calcOCoords(){let t=this.getViewportTransform(),e=this.getCenterPoint(),i=uo(e.x,e.y),n=po({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),r=kt(i,n),o=kt(t,r),a=kt(o,[1/t[0],0,0,1/t[3],0,0]),c=this.group?so(this.calcTransformMatrix()):void 0;c&&(c.scaleX=Math.abs(c.scaleX),c.scaleY=Math.abs(c.scaleY));let u=this._calculateCurrentDimensions(c),d={};return this.forEachControl((m,y)=>{let b=m.positionHandler(u,a,this,m);d[y]=Object.assign(b,this._calcCornerCoords(m,b))}),d}_calcCornerCoords(t,e){let i=this.getTotalAngle();return{corner:t.calcCornerCoords(i,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(i,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(let e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();let e=this.getRelativeCenterPoint(),i=this._calculateCurrentDimensions(),n=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/n[0],1/n[3]),t.rotate(Et(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=F({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},i);t.save(),t.strokeStyle=n.borderColor,this._setLineDash(t,n.borderDashArray),this.strokeBorders(t,e),n.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:i,hasControls:n}=this,r=F({hasBorders:i,hasControls:n},e),o=this.getViewportTransform(),a=r.hasBorders,c=r.hasControls,u=kt(o,this.calcTransformMatrix()),d=so(u);t.save(),t.translate(d.translateX,d.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(d.angle-=180),t.rotate(Et(this.group?d.angle:this.angle)),a&&this.drawBorders(t,d,e),c&&this.drawControls(t,e),t.restore()}drawBorders(t,e,i){let n;if(i&&i.forActiveSelection||this.group){let r=Vc(this.width,this.height,ka(e)),o=this.isStrokeAccountedForInDimensions()?op:(this.strokeUniform?new N().scalarAdd(this.canvas?this.canvas.getZoom():1):new N(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);n=r.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else n=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,n,i)}drawControlsConnectingLines(t,e){let i=!1;t.beginPath(),this.forEachControl((n,r)=>{n.withConnection&&n.getVisibility(this,r)&&(i=!0,t.moveTo(n.x*e.x,n.y*e.y),t.lineTo(n.x*e.x+n.offsetX,n.y*e.y+n.offsetY))}),i&&t.stroke()}drawControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();let i=this.getCanvasRetinaScaling(),{cornerStrokeColor:n,cornerDashArray:r,cornerColor:o}=this,a=F({cornerStrokeColor:n,cornerDashArray:r,cornerColor:o},e);t.setTransform(i,0,0,i,0,0),t.strokeStyle=t.fillStyle=a.cornerColor,this.transparentCorners||(t.strokeStyle=a.cornerStrokeColor),this._setLineDash(t,a.cornerDashArray),this.forEachControl((c,u)=>{if(c.getVisibility(this,u)){let d=this.oCoords[u];c.render(t,d.x,d.y,a,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(e=>{let[i,n]=e;return this.setControlVisible(i,n)})}clearContextTop(t){if(!this.canvas)return;let e=this.canvas.contextTop;if(!e)return;let i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e);let n=this.width+4,r=this.height+4;return e.clearRect(-n/2,-r/2,n,r),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}};function V_(s,t){return t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(s.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)||Object.create(null))})}),s}V(fc,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});var zt=class extends fc{};V_(zt,[hc]),oe.setClass(zt),oe.setClass(zt,"object");var R_=(s,t,e,i)=>{let n=2*(i=Math.round(i))+1,{data:r}=s.getImageData(t-i,e-i,n,n);for(let o=3;o<r.length;o+=4)if(r[o]>0)return!1;return!0},mc=class{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new N(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new N(1/this.options.scaleX,1/this.options.scaleY):new N(1,1)}createSideVector(t,e){let i=uc(t,e);return this.options.strokeUniform?i.multiply(this.scale):i}projectOrthogonally(t,e,i){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,i)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){let e=new N(t);return e.y+=e.x*Math.tan(Et(this.options.skewY)),e.x+=e.y*Math.tan(Et(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}},HM=new N,gc=class s extends mc{static getOrthogonalRotationFactor(t,e){let i=e?pc(t,e):g_(t);return Math.abs(i)<ps?-1:1}constructor(t,e,i,n){super(n),V(this,"AB",void 0),V(this,"AC",void 0),V(this,"alpha",void 0),V(this,"bisector",void 0),this.A=new N(t),this.B=new N(e),this.C=new N(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=pc(this.AB,this.AC),this.bisector=Pc(mp(this.AB.eq(HM)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,n=this.createSideVector(t,e),r=gp(n),o=s.getOrthogonalRotationFactor(r,this.bisector);return this.scaleUnitVector(r,i*o)}projectBevel(){let t=[];return(this.alpha%Ln==0?[this.B]:[this.B,this.C]).forEach(e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))}),t}projectMiter(){let t=[],e=Math.abs(this.alpha),i=1/Math.sin(e/2),n=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*i),r=this.options.strokeUniform?dc(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return dc(n)/this.strokeProjectionMagnitude<=r&&t.push(this.applySkew(this.A.add(n))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){let i=[],n=new N(s.getOrthogonalRotationFactor(this.bisector),s.getOrthogonalRotationFactor(new N(this.bisector.y,this.bisector.x)));return[new N(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n),new N(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n)].forEach(r=>{Ad(r,t,e)&&i.push(this.A.add(r))}),i}projectRoundWithSkew(t,e){let i=[],{skewX:n,skewY:r,scaleX:o,scaleY:a,strokeUniform:c}=this.options,u=new N(Math.tan(Et(n)),Math.tan(Et(r))),d=this.strokeProjectionMagnitude,m=c?d/a/Math.sqrt(1/a**2+1/o**2*u.y**2):d/Math.sqrt(1+u.y**2),y=new N(Math.sqrt(Math.max(d**2-m**2,0)),m),b=c?d/Math.sqrt(1+u.x**2*(1/a)**2/(1/o+1/o*u.x*u.y)**2):d/Math.sqrt(1+u.x**2/(1+u.x*u.y)**2),C=new N(b,Math.sqrt(Math.max(d**2-b**2,0)));return[C,C.scalarMultiply(-1),y,y.scalarMultiply(-1)].map(x=>this.applySkew(c?x.multiply(this.strokeUniformScalar):x)).forEach(x=>{Ad(x,t,e)&&i.push(this.applySkew(this.A).add(x))}),i}projectRound(){let t=[];t.push(...this.projectBevel());let e=this.alpha%Ln==0,i=this.applySkew(this.A),n=t[e?0:2].subtract(i),r=t[e?1:0].subtract(i),o=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=io(n,o)>0,c=a?n:r,u=a?r:n;return this.isSkewed()?t.push(...this.projectRoundWithSkew(c,u)):t.push(...this.projectRoundNoSkew(c,u)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}},_c=class extends mc{constructor(t,e,i){super(i),this.A=new N(t),this.T=new N(e)}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,n=this.createSideVector(t,e);return this.scaleUnitVector(gp(n),i)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let t=[];if(!this.isSkewed()&&this.A.eq(this.T)){let e=new N(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new gc(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){let t=[];if(this.A.eq(this.T)){let e=new N(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{let e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),i=this.scaleUnitVector(Pc(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),n=this.A.add(i);t.push(n.add(e),n.subtract(e))}return t.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}},L_=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=[];if(s.length===0)return i;let n=s.reduce((r,o)=>(r[r.length-1].eq(o)||r.push(new N(o)),r),[new N(s[0])]);if(n.length===1)e=!0;else if(!e){let r=n[0],o=((a,c)=>{for(let u=a.length-1;u>=0;u--)if(c(a[u],u,a))return u;return-1})(n,a=>!a.eq(r));n.splice(o+1)}return n.forEach((r,o,a)=>{let c,u;o===0?(u=a[1],c=e?r:a[a.length-1]):o===a.length-1?(c=a[o-1],u=e?r:a[0]):(c=a[o-1],u=a[o+1]),e&&a.length===1?i.push(...new _c(r,r,t).project()):!e||o!==0&&o!==a.length-1?i.push(...new gc(r,c,u,t).project()):i.push(...new _c(r,o===0?u:c,t).project())}),i},bp=s=>{let t={};return Object.keys(s).forEach(e=>{t[e]={},Object.keys(s[e]).forEach(i=>{t[e][i]=F({},s[e][i])})}),t},P_=s=>s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),jc=s=>{let t=[];for(let e,i=0;i<s.length;i++)(e=zM(s,i))!==!1&&t.push(e);return t},zM=(s,t)=>{let e=s.charCodeAt(t);if(isNaN(e))return"";if(e<55296||e>57343)return s.charAt(t);if(55296<=e&&e<=56319){if(s.length<=t+1)throw"High surrogate without following low surrogate";let n=s.charCodeAt(t+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return s.charAt(t)+s.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";let i=s.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1},WM=Object.freeze({__proto__:null,capitalize:function(s){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(s.charAt(0).toUpperCase()).concat(t?s.slice(1):s.slice(1).toLowerCase())},escapeXml:P_,graphemeSplit:jc}),Bc=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.fill!==t.fill||s.stroke!==t.stroke||s.strokeWidth!==t.strokeWidth||s.fontSize!==t.fontSize||s.fontFamily!==t.fontFamily||s.fontWeight!==t.fontWeight||s.fontStyle!==t.fontStyle||s.textBackgroundColor!==t.textBackgroundColor||s.deltaY!==t.deltaY||e&&(s.overline!==t.overline||s.underline!==t.underline||s.linethrough!==t.linethrough)},N_=(s,t)=>{let e=t.split(`
`),i=[],n=-1,r={};s=bp(s);for(let o=0;o<e.length;o++){let a=jc(e[o]);if(s[o])for(let c=0;c<a.length;c++){n++;let u=s[o][c];u&&Object.keys(u).length>0&&(Bc(r,u,!0)?i.push({start:n,end:n+1,style:u}):i[i.length-1].end++),r=u||{}}else n+=a.length,r={}}return i},j_=(s,t)=>{if(!Array.isArray(s))return bp(s);let e=t.split(sp),i={},n=-1,r=0;for(let o=0;o<e.length;o++){let a=jc(e[o]);for(let c=0;c<a.length;c++)n++,s[r]&&s[r].start<=n&&n<s[r].end&&(i[o]=i[o]||{},i[o][c]=F({},s[r].style),n===s[r].end-1&&r++)}return i},vs=["display","transform",jt,"fill-opacity","fill-rule","opacity",vi,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function A0(s,t){let e=s.nodeName,i=s.getAttribute("class"),n=s.getAttribute("id"),r="(?![a-zA-Z\\-]+)",o;if(o=new RegExp("^"+e,"i"),t=t.replace(o,""),n&&t.length&&(o=new RegExp("#"+n+r,"i"),t=t.replace(o,"")),i&&t.length){let a=i.split(" ");for(let c=a.length;c--;)o=new RegExp("\\."+a[c]+r,"i"),t=t.replace(o,"")}return t.length===0}function YM(s,t){let e=!0,i=A0(s,t.pop());return i&&t.length&&(e=function(n,r){let o,a=!0;for(;n.parentElement&&n.parentElement.nodeType===1&&r.length;)a&&(o=r.pop()),a=A0(n=n.parentElement,o);return r.length===0}(s,t)),i&&e&&t.length===0}var GM=s=>{var t;return(t=DM[s])!==null&&t!==void 0?t:s},$M=new RegExp("(".concat(Ji,")"),"gi"),qM=s=>s.replace($M," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),F0,V0,R0,L0,P0,N0,j0,li="(".concat(Ji,")"),XM=String.raw(F0||(F0=gs(["(skewX)(",")"],["(skewX)\\(","\\)"])),li),KM=String.raw(V0||(V0=gs(["(skewY)(",")"],["(skewY)\\(","\\)"])),li),ZM=String.raw(R0||(R0=gs(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),li,li,li),QM=String.raw(L0||(L0=gs(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),li,li),JM=String.raw(P0||(P0=gs(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),li,li),e4=String.raw(N0||(N0=gs(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),li,li,li,li,li,li),Cp="(?:".concat(e4,"|").concat(JM,"|").concat(ZM,"|").concat(QM,"|").concat(XM,"|").concat(KM,")"),t4="(?:".concat(Cp,"*)"),i4=String.raw(j0||(j0=gs(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),t4),n4=new RegExp(i4),s4=new RegExp(Cp),r4=new RegExp(Cp,"g");function Ud(s){let t=[];if(!(s=qM(s).replace(/\s*([()])\s*/gi,"$1"))||s&&!n4.test(s))return[...ci];for(let e of s.matchAll(r4)){let i=s4.exec(e[0]);if(!i)continue;let n=ci,r=i.filter(C=>!!C),[,o,...a]=r,[c,u,d,m,y,b]=a.map(C=>parseFloat(C));switch(o){case"translate":n=uo(c,u);break;case rp:n=po({angle:c},{x:u,y:d});break;case Mc:n=Fc(c,u);break;case co:n=cp(c);break;case ho:n=hp(c);break;case"matrix":n=[c,u,d,m,y,b]}t.push(n)}return Ac(t)}function o4(s,t,e,i){let n=Array.isArray(t),r,o=t;if(s!==jt&&s!==vi||t!==_i){if(s==="strokeUniform")return t==="non-scaling-stroke";if(s==="strokeDashArray")o=t===_i?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(s==="transformMatrix")o=e&&e.transformMatrix?kt(e.transformMatrix,Ud(t)):Ud(t);else if(s==="visible")o=t!==_i&&t!=="hidden",e&&e.visible===!1&&(o=!1);else if(s==="opacity")o=parseFloat(t),e&&e.opacity!==void 0&&(o*=e.opacity);else if(s==="textAnchor")o=t==="start"?rt:t==="end"?Vt:Fe;else if(s==="charSpacing")r=Qs(t,i)/i*1e3;else if(s==="paintFirst"){let a=t.indexOf(jt),c=t.indexOf(vi);o=jt,(a>-1&&c>-1&&c<a||a===-1&&c>-1)&&(o=vi)}else{if(s==="href"||s==="xlink:href"||s==="font"||s==="id")return t;if(s==="imageSmoothing")return t==="optimizeQuality";r=n?t.map(Qs):Qs(t,i)}}else o="";return!n&&isNaN(r)?o:r}function a4(s,t){let e=s.match(IM);if(!e)return;let i=e[1],n=e[3],r=e[4],o=e[5],a=e[6];i&&(t.fontStyle=i),n&&(t.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),r&&(t.fontSize=Qs(r)),a&&(t.fontFamily=a),o&&(t.lineHeight=o==="normal"?1:o)}function l4(s,t){s.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;let[i,n]=e.split(":");t[i.trim().toLowerCase()]=n.trim()})}function c4(s){let t={},e=s.getAttribute("style");return e&&(typeof e=="string"?l4(e,t):function(i,n){Object.entries(i).forEach(r=>{let[o,a]=r;a!==void 0&&(n[o.toLowerCase()]=a)})}(e,t)),t}var h4={stroke:"strokeOpacity",fill:"fillOpacity"};function Nn(s,t,e){if(!s)return{};let i,n={},r=np;s.parentNode&&D0.test(s.parentNode.nodeName)&&(n=Nn(s.parentElement,t,e),n.fontSize&&(i=r=Qs(n.fontSize)));let o=F(F(F({},t.reduce((u,d)=>{let m=s.getAttribute(d);return m&&(u[d]=m),u},{})),function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m={};for(let y in d)YM(u,y.split(" "))&&(m=F(F({},m),d[y]));return m}(s,e)),c4(s));o[md]&&s.setAttribute(md,o[md]),o[fd]&&(i=Qs(o[fd],r),o[fd]="".concat(i));let a={};for(let u in o){let d=GM(u),m=o4(d,o[u],n,i);a[d]=m}a&&a.font&&a4(a.font,a);let c=F(F({},n),a);return D0.test(s.nodeName)?c:function(u){let d=zt.getDefaults();return Object.entries(h4).forEach(m=>{let[y,b]=m;if(u[b]===void 0||u[y]==="")return;if(u[y]===void 0){if(!d[y])return;u[y]=d[y]}if(u[y].indexOf("url(")===0)return;let C=new ui(u[y]);u[y]=C.setAlpha(xt(C.getAlpha()*u[b],2)).toRgba()}),u}(c)}var u4=["left","top","width","height","visible"],B_=["rx","ry"],Mn=class s extends zt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){let{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){let{width:e,height:i}=this,n=-e/2,r=-i/2,o=this.rx?Math.min(this.rx,e/2):0,a=this.ry?Math.min(this.ry,i/2):0,c=o!==0||a!==0;t.beginPath(),t.moveTo(n+o,r),t.lineTo(n+e-o,r),c&&t.bezierCurveTo(n+e-os*o,r,n+e,r+os*a,n+e,r+a),t.lineTo(n+e,r+i-a),c&&t.bezierCurveTo(n+e,r+i-os*a,n+e-os*o,r+i,n+e-o,r+i),t.lineTo(n+o,r+i),c&&t.bezierCurveTo(n+os*o,r+i,n,r+i-os*a,n,r+i-a),t.lineTo(n,r+a),c&&t.bezierCurveTo(n,r+os*a,n+os*o,r,n+o,r),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...B_,...t])}_toSVG(){let{width:t,height:e,rx:i,ry:n}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(i,'" ry="').concat(n,'" width="').concat(t,'" height="').concat(e,`" />
`)]}static fromElement(t,e,i){return Yt(this,null,function*(){let n=Nn(t,this.ATTRIBUTE_NAMES,i),{left:r=0,top:o=0,width:a=0,height:c=0,visible:u=!0}=n,d=Tt(n,u4);return new this(F(F(F({},e),d),{},{left:r,top:o,width:a,height:c,visible:!!(u&&a&&c)}))})}};V(Mn,"type","Rect"),V(Mn,"cacheProperties",[...Pn,...B_]),V(Mn,"ownDefaults",{rx:0,ry:0}),V(Mn,"ATTRIBUTE_NAMES",[...vs,"x","y","rx","ry","width","height"]),oe.setClass(Mn),oe.setSVGClass(Mn);var An="initialization",vc="added",wp="removed",yc="imperative",U_=(s,t)=>{let{strokeUniform:e,strokeWidth:i,width:n,height:r,group:o}=t,a=o&&o!==s?Aa(o.calcTransformMatrix(),s.calcTransformMatrix()):null,c=a?t.getRelativeCenterPoint().transform(a):t.getRelativeCenterPoint(),u=!t.isStrokeAccountedForInDimensions(),d=e&&u?u_(new N(i,i),void 0,s.calcTransformMatrix()):op,m=!e&&u?i:0,y=Vc(n+m,r+m,Ac([a,t.calcOwnMatrix()],!0)).add(d).scalarDivide(2);return[c.subtract(y),c.add(y)]},ao=class{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:i,strategy:n}=t;return e===An||e===yc||!!i&&n!==i}shouldLayoutClipPath(t){let{type:e,target:{clipPath:i}}=t;return e!==An&&i&&!i.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){let{type:i,target:n}=e;if(i===yc&&e.overrides)return e.overrides;if(t.length===0)return;let{left:r,top:o,width:a,height:c}=dn(t.map(m=>U_(n,m)).reduce((m,y)=>m.concat(y),[])),u=new N(a,c),d=new N(r,o).add(u.scalarDivide(2));if(i===An){let m=this.getInitialSize(e,{size:u,center:d});return{center:d,relativeCorrection:new N(0,0),size:m}}return{center:d.transform(n.calcOwnMatrix()),size:u}}};V(ao,"type","strategy");var Oa=class extends ao{shouldPerformLayout(t){return!0}};V(Oa,"type","fit-content"),oe.setClass(Oa);var d4=["strategy"],p4=["target","strategy","bubbles","prevStrategy"],H_="layoutManager",ir=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Oa;V(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){let e=F(F({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);let i=this.getLayoutResult(e);i&&this.commitLayout(e,i),this.onAfterLayout(e,i),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){let{target:i}=e;return[sc,$0,xa,q0,kc,X0,nc,K0,bM].map(n=>t.on(n,r=>this.performLayout(n===sc?{type:"object_modified",trigger:n,e:r,target:i}:{type:"object_modifying",trigger:n,e:r,target:i})))}subscribe(t,e){this.unsubscribe(t,e);let i=this.attachHandlers(t,e);this._subscriptions.set(t,i)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(i=>i()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(e=>this.unsubscribe(e,t))}subscribeTargets(t){t.targets.forEach(e=>this.subscribe(e,t))}onBeforeLayout(t){let{target:e,type:i}=t,{canvas:n}=e;if(i===An||i===vc?this.subscribeTargets(t):i===wp&&this.unsubscribeTargets(t),e.fire("layout:before",{context:t}),n&&n.fire("object:layout:before",{target:e,context:t}),i===yc&&t.deep){let r=Tt(t,d4);e.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(F(F({},r),{},{bubbles:!1,target:o})))}}getLayoutResult(t){let{target:e,strategy:i,type:n}=t,r=i.calcLayoutResult(t,e.getObjects());if(!r)return;let o=n===An?new N:e.getRelativeCenterPoint(),{center:a,correction:c=new N,relativeCorrection:u=new N}=r,d=o.subtract(a).add(c).transform(n===An?ci:ki(e.calcOwnMatrix()),!0).add(u);return{result:r,prevCenter:o,nextCenter:a,offset:d}}commitLayout(t,e){let{target:i}=t,{result:{size:n},nextCenter:r}=e;var o,a;i.set({width:n.x,height:n.y}),this.layoutObjects(t,e),t.type===An?i.set({left:(o=t.x)!==null&&o!==void 0?o:r.x+n.x*Lt(i.originX),top:(a=t.y)!==null&&a!==void 0?a:r.y+n.y*Lt(i.originY)}):(i.setPositionByOrigin(r,Fe,Fe),i.setCoords(),i.set("dirty",!0))}layoutObjects(t,e){let{target:i}=t;i.forEachObject(n=>{n.group===i&&this.layoutObject(t,e,n)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,i.clipPath)}layoutObject(t,e,i){let{offset:n}=e;i.set({left:i.left+n.x,top:i.top+n.y})}onAfterLayout(t,e){let{target:i,strategy:n,bubbles:r,prevStrategy:o}=t,a=Tt(t,p4),{canvas:c}=i;i.fire("layout:after",{context:t,result:e}),c&&c.fire("object:layout:after",{context:t,result:e,target:i});let u=i.parent;r&&u!=null&&u.layoutManager&&((a.path||(a.path=[])).push(i),u.layoutManager.performLayout(F(F({},a),{},{target:u}))),i.set("dirty",!0)}dispose(){let{_subscriptions:t}=this;t.forEach(e=>e.forEach(i=>i())),t.clear()}toObject(){return{type:H_,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}};oe.setClass(ir,H_);var f4=["type","objects","layoutManager"],Hd=class extends ir{performLayout(){}},us=class s extends Z0(zt){static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),V(this,"_activeObjects",[]),V(this,"__objectSelectionTracker",void 0),V(this,"__objectSelectionDisposer",void 0),Object.assign(this,s.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var i;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(n=>{this.enterGroup(n,!1)}),this.layoutManager=(i=e.layoutManager)!==null&&i!==void 0?i:new ir,this.layoutManager.performLayout({type:An,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(ds("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(ds("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((e,i,n)=>this.canEnterGroup(e)&&n.indexOf(e)===i)}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let n=this._filterObjectsBeforeEnteringGroup(e),r=super.add(...n);return this._onAfterObjectsChange(vc,n),r}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=this._filterObjectsBeforeEnteringGroup(i),o=super.insertAt(t,...r);return this._onAfterObjectsChange(vc,r),o}remove(){let t=super.remove(...arguments);return this._onAfterObjectsChange(wp,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,e){let i=this[t];return super._set(t,e),t==="canvas"&&i!==e&&(this._objects||[]).forEach(n=>{n._set(t,e)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:i}=e,n=this._activeObjects;if(t)n.push(i),this._set("dirty",!0);else if(n.length>0){let r=n.indexOf(i);r>-1&&(n.splice(r,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&oo(t,kt(ki(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);let i=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();i&&(i===t||t.isDescendantOf(i))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(oo(t,kt(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);let i=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;i>-1&&this._activeObjects.splice(i,1)}shouldCache(){let t=zt.prototype.shouldCache.call(this);if(t){for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,e,i){this._renderBackground(t);for(let r=0;r<this._objects.length;r++){var n;let o=this._objects[r];(n=this.canvas)!==null&&n!==void 0&&n.preserveObjectStacking&&o.group!==this?(t.save(),t.transform(...ki(this.calcTransformMatrix())),o.render(t),t.restore()):o.group===this&&o.render(t)}this._drawClipPath(t,this.clipPath,i)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(F({target:this,type:yc},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){let i=this.includeDefaultValues;return this._objects.filter(function(n){return!n.excludeFromExport}).map(function(n){let r=n.includeDefaultValues;n.includeDefaultValues=i;let o=n[t||"toObject"](e);return n.includeDefaultValues=r,o})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.layoutManager.toObject();return F(F(F({},super.toObject(["subTargetCheck","interactive",...t])),e.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";let e=Mn.prototype._toSVG.call(this),i=e.indexOf("COMMON_PARTS");e[i]='for="group" ';let n=e.join("");return t?t(n):n}_toSVG(t){let e=["<g ","COMMON_PARTS",` >
`],i=this._createSVGBgRect(t);i&&e.push("		",i);for(let n=0;n<this._objects.length;n++)e.push("		",this._objects[n].toSVG(t));return e.push(`</g>
`),e}getSvgStyles(){let t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(t){let e=[],i=this._createSVGBgRect(t);i&&e.push("	",i);for(let n=0;n<this._objects.length;n++)e.push("	",this._objects[n].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:i,objects:n=[],layoutManager:r}=t,o=Tt(t,f4);return Promise.all([ro(n,e),Ma(o,e)]).then(a=>{let[c,u]=a,d=new this(c,F(F(F({},o),u),{},{layoutManager:new Hd}));if(r){let m=oe.getClass(r.type),y=oe.getClass(r.strategy);d.layoutManager=new m(new y)}else d.layoutManager=new ir;return d.layoutManager.subscribeTargets({type:An,target:d,targets:d.getObjects()}),d.setCoords(),d})}};V(us,"type","Group"),V(us,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),oe.setClass(us);var z_=(s,t)=>Math.min(t.width/s.width,t.height/s.height),W_=(s,t)=>Math.max(t.width/s.width,t.height/s.height),zd="\\s*,?\\s*",fa="".concat(zd,"(").concat(Ji,")"),m4="".concat(fa).concat(fa).concat(fa).concat(zd,"([01])").concat(zd,"([01])").concat(fa).concat(fa),g4={m:"l",M:"L"},_4=(s,t,e,i,n,r,o,a,c,u,d)=>{let m=tn(s),y=nn(s),b=tn(t),C=nn(t),x=e*n*b-i*r*C+o,D=i*n*b+e*r*C+a;return["C",u+c*(-e*n*y-i*r*m),d+c*(-i*n*y+e*r*m),x+c*(e*n*C+i*r*b),D+c*(i*n*C-e*r*b),x,D]},B0=(s,t,e,i)=>{let n=Math.atan2(t,s),r=Math.atan2(i,e);return r>=n?r-n:2*Math.PI-(n-r)};function Wd(s,t,e,i,n,r,o,a){let c;if(Je.cachesBoundsOfCurve&&(c=[...arguments].join(),_a.boundsOfCurveCache[c]))return _a.boundsOfCurveCache[c];let u=Math.sqrt,d=Math.abs,m=[],y=[[0,0],[0,0]],b=6*s-12*e+6*n,C=-3*s+9*e-9*n+3*o,x=3*e-3*s;for(let z=0;z<2;++z){if(z>0&&(b=6*t-12*i+6*r,C=-3*t+9*i-9*r+3*a,x=3*i-3*t),d(C)<1e-12){if(d(b)<1e-12)continue;let Ee=-x/b;0<Ee&&Ee<1&&m.push(Ee);continue}let $=b*b-4*x*C;if($<0)continue;let Z=u($),ge=(-b+Z)/(2*C);0<ge&&ge<1&&m.push(ge);let Q=(-b-Z)/(2*C);0<Q&&Q<1&&m.push(Q)}let D=m.length,R=D,U=G_(s,t,e,i,n,r,o,a);for(;D--;){let{x:z,y:$}=U(m[D]);y[0][D]=z,y[1][D]=$}y[0][R]=s,y[1][R]=t,y[0][R+1]=o,y[1][R+1]=a;let P=[new N(Math.min(...y[0]),Math.min(...y[1])),new N(Math.max(...y[0]),Math.max(...y[1]))];return Je.cachesBoundsOfCurve&&(_a.boundsOfCurveCache[c]=P),P}var v4=(s,t,e)=>{let[i,n,r,o,a,c,u,d]=e,m=((y,b,C,x,D,R,U)=>{if(C===0||x===0)return[];let P=0,z=0,$=0,Z=Math.PI,ge=U*ip,Q=nn(ge),Ee=tn(ge),Xe=.5*(-Ee*y-Q*b),it=.5*(-Ee*b+Q*y),St=C**2,Ke=x**2,dt=it**2,Wt=Xe**2,Kt=St*Ke-St*dt-Ke*Wt,yi=Math.abs(C),Ze=Math.abs(x);if(Kt<0){let an=Math.sqrt(1-Kt/(St*Ke));yi*=an,Ze*=an}else $=(D===R?-1:1)*Math.sqrt(Kt/(St*dt+Ke*Wt));let di=$*yi*it/Ze,pi=-$*Ze*Xe/yi,jn=Ee*di-Q*pi+.5*y,rn=Q*di+Ee*pi+.5*b,ce=B0(1,0,(Xe-di)/yi,(it-pi)/Ze),on=B0((Xe-di)/yi,(it-pi)/Ze,(-Xe-di)/yi,(-it-pi)/Ze);R===0&&on>0?on-=2*Z:R===1&&on<0&&(on+=2*Z);let ar=Math.ceil(Math.abs(on/Z*2)),Ai=[],Bn=on/ar,zc=8/3*Math.sin(Bn/4)*Math.sin(Bn/4)/Math.sin(Bn/2),fo=ce+Bn;for(let an=0;an<ar;an++)Ai[an]=_4(ce,fo,Ee,Q,yi,Ze,jn,rn,zc,P,z),P=Ai[an][5],z=Ai[an][6],ce=fo,fo+=Bn;return Ai})(u-s,d-t,n,r,a,c,o);for(let y=0,b=m.length;y<b;y++)m[y][1]+=s,m[y][2]+=t,m[y][3]+=s,m[y][4]+=t,m[y][5]+=s,m[y][6]+=t;return m},Y_=s=>{let t=0,e=0,i=0,n=0,r=[],o,a=0,c=0;for(let u of s){let d=[...u],m;switch(d[0]){case"l":d[1]+=t,d[2]+=e;case"L":t=d[1],e=d[2],m=["L",t,e];break;case"h":d[1]+=t;case"H":t=d[1],m=["L",t,e];break;case"v":d[1]+=e;case"V":e=d[1],m=["L",t,e];break;case"m":d[1]+=t,d[2]+=e;case"M":t=d[1],e=d[2],i=d[1],n=d[2],m=["M",t,e];break;case"c":d[1]+=t,d[2]+=e,d[3]+=t,d[4]+=e,d[5]+=t,d[6]+=e;case"C":a=d[3],c=d[4],t=d[5],e=d[6],m=["C",d[1],d[2],a,c,t,e];break;case"s":d[1]+=t,d[2]+=e,d[3]+=t,d[4]+=e;case"S":o==="C"?(a=2*t-a,c=2*e-c):(a=t,c=e),t=d[3],e=d[4],m=["C",a,c,d[1],d[2],t,e],a=m[3],c=m[4];break;case"q":d[1]+=t,d[2]+=e,d[3]+=t,d[4]+=e;case"Q":a=d[1],c=d[2],t=d[3],e=d[4],m=["Q",a,c,t,e];break;case"t":d[1]+=t,d[2]+=e;case"T":o==="Q"?(a=2*t-a,c=2*e-c):(a=t,c=e),t=d[1],e=d[2],m=["Q",a,c,t,e];break;case"a":d[6]+=t,d[7]+=e;case"A":v4(t,e,d).forEach(y=>r.push(y)),t=d[6],e=d[7];break;case"z":case"Z":t=i,e=n,m=["Z"]}m?(r.push(m),o=m[0]):o=""}return r},bc=(s,t,e,i)=>Math.sqrt((e-s)**2+(i-t)**2),G_=(s,t,e,i,n,r,o,a)=>c=>{let u=c**3,d=(b=>3*b**2*(1-b))(c),m=(b=>3*b*(1-b)**2)(c),y=(b=>(1-b)**3)(c);return new N(o*u+n*d+e*m+s*y,a*u+r*d+i*m+t*y)},$_=s=>s**2,q_=s=>2*s*(1-s),X_=s=>(1-s)**2,y4=(s,t,e,i,n,r,o,a)=>c=>{let u=$_(c),d=q_(c),m=X_(c),y=3*(m*(e-s)+d*(n-e)+u*(o-n)),b=3*(m*(i-t)+d*(r-i)+u*(a-r));return Math.atan2(b,y)},b4=(s,t,e,i,n,r)=>o=>{let a=$_(o),c=q_(o),u=X_(o);return new N(n*a+e*c+s*u,r*a+i*c+t*u)},C4=(s,t,e,i,n,r)=>o=>{let a=1-o,c=2*(a*(e-s)+o*(n-e)),u=2*(a*(i-t)+o*(r-i));return Math.atan2(u,c)},U0=(s,t,e)=>{let i=new N(t,e),n=0;for(let r=1;r<=100;r+=1){let o=s(r/100);n+=bc(i.x,i.y,o.x,o.y),i=o}return n},w4=(s,t)=>{let e,i=0,n=0,r={x:s.x,y:s.y},o=F({},r),a=.01,c=0,u=s.iterator,d=s.angleFinder;for(;n<t&&a>1e-4;)o=u(i),c=i,e=bc(r.x,r.y,o.x,o.y),e+n>t?(i-=a,a/=2):(r=o,i+=a,n+=e);return F(F({},o),{},{angle:d(c)})},xp=s=>{let t,e,i=0,n=0,r=0,o=0,a=0,c=[];for(let u of s){let d={x:n,y:r,command:u[0],length:0};switch(u[0]){case"M":e=d,e.x=o=n=u[1],e.y=a=r=u[2];break;case"L":e=d,e.length=bc(n,r,u[1],u[2]),n=u[1],r=u[2];break;case"C":t=G_(n,r,u[1],u[2],u[3],u[4],u[5],u[6]),e=d,e.iterator=t,e.angleFinder=y4(n,r,u[1],u[2],u[3],u[4],u[5],u[6]),e.length=U0(t,n,r),n=u[5],r=u[6];break;case"Q":t=b4(n,r,u[1],u[2],u[3],u[4]),e=d,e.iterator=t,e.angleFinder=C4(n,r,u[1],u[2],u[3],u[4]),e.length=U0(t,n,r),n=u[3],r=u[4];break;case"Z":e=d,e.destX=o,e.destY=a,e.length=bc(n,r,o,a),n=o,r=a}i+=e.length,c.push(e)}return c.push({length:i,x:n,y:r}),c},K_=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xp(s),i=0;for(;t-e[i].length>0&&i<e.length-2;)t-=e[i].length,i++;let n=e[i],r=t/n.length,o=s[i];switch(n.command){case"M":return{x:n.x,y:n.y,angle:0};case"Z":return F(F({},new N(n.x,n.y).lerp(new N(n.destX,n.destY),r)),{},{angle:Math.atan2(n.destY-n.y,n.destX-n.x)});case"L":return F(F({},new N(n.x,n.y).lerp(new N(o[1],o[2]),r)),{},{angle:Math.atan2(o[2]-n.y,o[1]-n.x)});case"C":case"Q":return w4(n,t)}},x4=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),H0=new RegExp(m4,"g"),T4=new RegExp(Ji,"gi"),S4={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Z_=s=>{var t;let e=[],i=(t=s.match(x4))!==null&&t!==void 0?t:[];for(let n of i){let r=n[0];if(r==="z"||r==="Z"){e.push([r]);continue}let o=S4[r.toLowerCase()],a=[];if(r==="a"||r==="A"){H0.lastIndex=0;for(let c=null;c=H0.exec(n);)a.push(...c.slice(1))}else a=n.match(T4)||[];for(let c=0;c<a.length;c+=o){let u=new Array(o),d=g4[r];u[0]=c>0&&d?d:r;for(let m=0;m<o;m++)u[m+1]=parseFloat(a[c+m]);e.push(u)}}return e},I4=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=new N(s[0]),i=new N(s[1]),n=1,r=0,o=[],a=s.length,c=a>2,u;for(c&&(n=s[2].x<i.x?-1:s[2].x===i.x?0:1,r=s[2].y<i.y?-1:s[2].y===i.y?0:1),o.push(["M",e.x-n*t,e.y-r*t]),u=1;u<a;u++){if(!e.eq(i)){let d=e.midPointFrom(i);o.push(["Q",e.x,e.y,d.x,d.y])}e=s[u],u+1<s.length&&(i=s[u+1])}return c&&(n=e.x>s[u-2].x?1:e.x===s[u-2].x?0:-1,r=e.y>s[u-2].y?1:e.y===s[u-2].y?0:-1),o.push(["L",e.x+n*t,e.y+r*t]),o},Q_=(s,t)=>s.map(e=>e.map((i,n)=>n===0||t===void 0?i:xt(i,t)).join(" ")).join(" ");function Cc(s,t){let e=s.style;e&&t&&(typeof t=="string"?e.cssText+=";"+t:Object.entries(t).forEach(i=>{let[n,r]=i;return e.setProperty(n,r)}))}var D4=(s,t)=>Math.floor(Math.random()*(t-s+1))+s;function O4(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.onComplete||Zs,i=new(Ec()).XMLHttpRequest,n=t.signal,r=function(){i.abort()},o=function(){n&&n.removeEventListener("abort",r),i.onerror=i.ontimeout=Zs};if(n&&n.aborted)throw new ic("request");return n&&n.addEventListener("abort",r,{once:!0}),i.onreadystatechange=function(){i.readyState===4&&(o(),e(i),i.onreadystatechange=Zs)},i.onerror=i.ontimeout=o,i.open("get",s,!0),i.send(),i}var E4=(s,t)=>{let e=s._findCenterFromElement();s.transformMatrix&&((i=>{if(i.transformMatrix){let{scaleX:n,scaleY:r,angle:o,skewX:a}=so(i.transformMatrix);i.flipX=!1,i.flipY=!1,i.set(hi,n),i.set(Mi,r),i.angle=o,i.skewX=a,i.skewY=0}})(s),e=e.transform(s.transformMatrix)),delete s.transformMatrix,t&&(s.scaleX*=t.scaleX,s.scaleY*=t.scaleY,s.cropX=t.cropX,s.cropY=t.cropY,e.x+=t.offsetLeft,e.y+=t.offsetTop,s.width=t.width,s.height=t.height),s.setPositionByOrigin(e,Fe,Fe)},_P=Object.freeze({__proto__:null,addTransformToObject:c_,animate:_p,animateColor:y_,applyTransformToObject:oo,calcAngleBetweenVectors:pc,calcDimensionsMatrix:ka,calcPlaneChangeMatrix:Aa,calcVectorRotation:g_,cancelAnimFrame:Q0,capValue:tr,composeMatrix:n_,copyCanvasElement:s=>{var t;let e=sn(s);return(t=e.getContext("2d"))===null||t===void 0||t.drawImage(s,0,0),e},cos:tn,createCanvasElement:Yi,createImage:J0,createRotateMatrix:po,createScaleMatrix:Fc,createSkewXMatrix:cp,createSkewYMatrix:hp,createTranslateMatrix:uo,createVector:uc,crossProduct:io,degreesToRadians:Et,dotProduct:__,ease:MM,enlivenObjectEnlivables:Ma,enlivenObjects:ro,findScaleToCover:W_,findScaleToFit:z_,getBoundsOfCurve:Wd,getOrthonormalVector:gp,getPathSegmentsInfo:xp,getPointOnPath:K_,getPointer:l_,getRandomInt:D4,getRegularPolygonPath:(s,t)=>{let e=2*Math.PI/s,i=-ps;s%2==0&&(i+=e/2);let n=new Array(s+1);for(let r=0;r<s;r++){let o=r*e+i,{x:a,y:c}=new N(tn(o),nn(o)).scalarMultiply(t);n[r]=[r===0?"M":"L",a,c]}return n[s]=["Z"],n},getSmoothPathFromPoints:I4,getSvgAttributes:s=>{let t=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:Pc,groupSVGElements:(s,t)=>s&&s.length===1?s[0]:new us(s,t),hasStyleChanged:Bc,invertTransform:ki,isBetweenVectors:Ad,isIdentityMatrix:e_,isTouchEvent:lc,isTransparent:R_,joinPath:Q_,loadImage:ya,magnitude:dc,makeBoundingBoxFromPoints:dn,makePathSimpler:Y_,matrixToSVG:Ta,mergeClipPaths:(s,t)=>{var e;let i=s,n=t;i.inverted&&!n.inverted&&(i=t,n=s),Md(n,(e=n.group)===null||e===void 0?void 0:e.calcTransformMatrix(),i.calcTransformMatrix());let r=i.inverted&&n.inverted;return r&&(i.inverted=n.inverted=!1),new us([i],{clipPath:n,inverted:r})},multiplyTransformMatrices:kt,multiplyTransformMatrixArray:Ac,parsePath:Z_,parsePreserveAspectRatioAttribute:s_,parseUnit:Qs,pick:sr,projectStrokeOnPoints:L_,qrDecompose:so,radiansToDegrees:ms,removeFromArray:Ms,removeTransformFromObject:(s,t)=>{let e=ki(t),i=kt(e,s.calcOwnMatrix());oo(s,i)},removeTransformMatrixForSvgParsing:E4,request:O4,requestAnimFrame:va,resetObjectTransform:h_,rotatePoint:(s,t,e)=>s.rotate(e,t),rotateVector:mp,saveObjectTransform:dp,sendObjectToPlane:Md,sendPointToPlane:Rn,sendVectorToPlane:u_,setStyle:Cc,sin:nn,sizeAfterTransform:Vc,string:WM,stylesFromArray:j_,stylesToArray:N_,toBlob:lp,toDataURL:ap,toFixed:xt,transformPath:(s,t,e)=>(e&&(t=kt(t,[1,0,0,1,-e.x,-e.y])),s.map(i=>{let n=[...i];for(let r=1;r<i.length-1;r+=2){let{x:o,y:a}=si({x:i[r],y:i[r+1]},t);n[r]=o,n[r+1]=a}return n})),transformPoint:si}),Yd=class extends ac{constructor(t){let{allowTouchScrolling:e=!1,containerClass:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),V(this,"upper",void 0),V(this,"container",void 0);let{el:n}=this.lower,r=this.createUpperCanvas();this.upper={el:r,ctx:r.getContext("2d")},this.applyCanvasStyle(n,{allowTouchScrolling:e}),this.applyCanvasStyle(r,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}});let o=this.createContainerElement();o.classList.add(i),n.parentNode&&n.parentNode.replaceChild(o,n),o.append(n,r),this.container=o}createUpperCanvas(){let{el:t}=this.lower,e=Yi();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){let t=lo().createElement("div");return t.setAttribute("data-fabric","wrapper"),Cc(t,{position:"relative"}),T0(t),t}applyCanvasStyle(t,e){let{styles:i,allowTouchScrolling:n}=e;Cc(t,F(F({},i),{},{"touch-action":n?"manipulation":_i})),T0(t)}setDimensions(t,e){super.setDimensions(t,e);let{el:i,ctx:n}=this.upper;a_(i,n,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),Ed(this.upper.el,t),Ed(this.container,t)}cleanupDOM(t){let e=this.container,{el:i}=this.lower,{el:n}=this.upper;super.cleanupDOM(t),e.removeChild(n),e.removeChild(i),e.parentNode&&e.parentNode.replaceChild(i,e)}dispose(){super.dispose(),pn().dispose(this.upper.el),delete this.upper,delete this.container}},wc=class s extends Ia{constructor(){super(...arguments),V(this,"targets",[]),V(this,"_hoveredTargets",[]),V(this,"_objectsToRender",void 0),V(this,"_currentTransform",null),V(this,"_groupSelector",null),V(this,"contextTopDirty",!1)}static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new Yd(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(e=>!e.group&&e!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){let t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;let e=this.getRetinaScaling(),i=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=i,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,i){let n=this.targetFindTolerance,r=this.pixelFindContext;this.clearContext(r),r.save(),r.translate(-e+n,-i+n),r.transform(...this.viewportTransform);let o=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(r),t.selectionBackgroundColor=o,r.restore();let a=Math.round(n*this.getRetinaScaling());return R_(r,a,a,a)}_isSelectionKeyPressed(t){let e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find(i=>!!i&&t[i]===!0):t[e])}_shouldClearSelection(t,e){let i=this.getActiveObjects(),n=this._activeObject;return!!(!e||e&&n&&i.length>1&&i.indexOf(e)===-1&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e)}_shouldCenterTransform(t,e,i){if(!t)return;let n;return e===Mc||e===hi||e===Mi||e===xa?n=this.centeredScaling||t.centeredScaling:e===rp&&(n=this.centeredRotation||t.centeredRotation),n?!i:i}_getOriginFromCorner(t,e){let i={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?i.x=Vt:["mr","tr","br"].includes(e)&&(i.x=rt),["tl","mt","tr"].includes(e)?i.y=Dd:["bl","mb","br"].includes(e)&&(i.y=gi)),i}_setupCurrentTransform(t,e,i){var n;let r=e.group?Rn(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:o="",control:a}=e.getActiveControl()||{},c=i&&a?(n=a.getActionHandler(t,e,a))===null||n===void 0?void 0:n.bind(a):f_,u=((b,C,x,D)=>{if(!C||!b)return"drag";let R=D.controls[C];return R.getActionName(x,R,D)})(i,o,t,e),d=t[this.centeredKey],m=this._shouldCenterTransform(e,u,d)?{x:Fe,y:Fe}:this._getOriginFromCorner(e,o),y={target:e,action:u,actionHandler:c,actionPerformed:!1,corner:o,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:r.x-e.left,offsetY:r.y-e.top,originX:m.x,originY:m.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:Et(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:d,original:F(F({},dp(e)),{},{originX:m.x,originY:m.y})};this._currentTransform=y,this.fire("before:transform",{e:t,transform:y})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){let{x:e,y:i,deltaX:n,deltaY:r}=this._groupSelector,o=new N(e,i).transform(this.viewportTransform),a=new N(e+n,i+r).transform(this.viewportTransform),c=this.selectionLineWidth/2,u=Math.min(o.x,a.x),d=Math.min(o.y,a.y),m=Math.max(o.x,a.x),y=Math.max(o.y,a.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(u,d,m-u,y-d)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,u+=c,d+=c,m-=c,y-=c,zt.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(u,d,m-u,y-d))}findTarget(t){if(this.skipTargetFind)return;let e=this.getViewportPoint(t),i=this._activeObject,n=this.getActiveObjects();if(this.targets=[],i&&n.length>=1){if(i.findControl(e,lc(t))||n.length>1&&this.searchPossibleTargets([i],e))return i;if(i===this.searchPossibleTargets([i],e)){if(this.preserveObjectStacking){let r=this.targets;this.targets=[];let o=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&o&&o!==i?(this.targets=r,i):o}return i}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let i=t.getCoords(),n=this.getZoom(),r=t.padding/n;if(r){let[o,a,c,u]=i,d=Math.atan2(a.y-o.y,a.x-o.x),m=tn(d)*r,y=nn(d)*r,b=m+y,C=m-y;i=[new N(o.x-C,o.y-b),new N(a.x+b,a.y-C),new N(c.x+C,c.y+b),new N(u.x-b,u.y+C)]}return er.isPointInPolygon(e,i)}_checkTarget(t,e){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,Rn(e,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,e.x,e.y)))}_searchPossibleTargets(t,e){let i=t.length;for(;i--;){let n=t[i];if(this._checkTarget(n,e)){if(Jl(n)&&n.subTargetCheck){let r=this._searchPossibleTargets(n._objects,e);r&&this.targets.push(r)}return n}}}searchPossibleTargets(t,e){let i=this._searchPossibleTargets(t,e);if(i&&Jl(i)&&i.interactive&&this.targets[0]){let n=this.targets;for(let r=n.length-1;r>0;r--){let o=n[r];if(!Jl(o)||!o.interactive)return o}return n[0]}return i}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.upperCanvasEl,n=i.getBoundingClientRect(),r=l_(t),o=n.width||0,a=n.height||0;o&&a||(gi in n&&Dd in n&&(a=Math.abs(n.top-n.bottom)),Vt in n&&rt in n&&(o=Math.abs(n.right-n.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,e||(r=Rn(r,void 0,this.viewportTransform));let c=this.getRetinaScaling();c!==1&&(r.x/=c,r.y/=c);let u=o===0||a===0?new N(1,1):new N(i.width/o,i.height/a);return r.multiply(u)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Yi(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let t=this._activeObject;return As(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let i=!1,n=!1,r=this.getActiveObjects(),o=[],a=[];t.forEach(c=>{r.includes(c)||(i=!0,c.fire("deselected",{e,target:c}),a.push(c))}),r.forEach(c=>{t.includes(c)||(i=!0,c.fire("selected",{e,target:c}),o.push(c))}),t.length>0&&r.length>0?(n=!0,i&&this.fire("selection:updated",{e,selected:o,deselected:a})):r.length>0?(n=!0,this.fire("selection:created",{e,selected:o})):t.length>0&&(n=!0,this.fire("selection:cleared",{e,deselected:a})),n&&(this._objectsToRender=void 0)}setActiveObject(t,e){let i=this.getActiveObjects(),n=this._setActiveObject(t,e);return this._fireSelectionEvents(i,e),n}_setActiveObject(t,e){let i=this._activeObject;return i!==t&&!(!this._discardActiveObject(e,t)&&this._activeObject)&&!t.onSelect({e})&&(this._activeObject=t,As(t)&&i!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,e){let i=this._activeObject;return!!i&&!i.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===i&&this.endCurrentTransform(t),As(i)&&i===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){let e=this.getActiveObjects(),i=this.getActiveObject();e.length&&this.fire("before:selection:cleared",{e:t,deselected:[i]});let n=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),n}endCurrentTransform(t){let e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){let e=this._currentTransform,i=e.target,n={e:t,target:i,transform:e,action:e.action};i._scaling&&(i._scaling=!1),i.setCoords(),e.actionPerformed&&(this.fire("object:modified",n),i.fire(sc,n))}setViewportTransform(t){super.setViewportTransform(t);let e=this._activeObject;e&&e.setCoords()}destroy(){let t=this._activeObject;As(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){let e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,i){let n=this._realizeGroupTransformOnObject(t),r=super._toObject(t,e,i);return t.set(n),r}_realizeGroupTransformOnObject(t){let{group:e}=t;if(e&&As(e)&&this._activeObject===e){let i=sr(t,["angle","flipX","flipY",rt,hi,Mi,co,ho,gi]);return c_(t,e.calcOwnMatrix()),i}return{}}_setSVGObject(t,e,i){let n=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,i),e.set(n)}};V(wc,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});var Gd=class{constructor(t){V(this,"targets",[]),V(this,"__disposer",void 0);let e=()=>{let{hiddenTextarea:n}=t.getActiveObject()||{};n&&n.focus()},i=t.upperCanvasEl;i.addEventListener("click",e),this.__disposer=()=>i.removeEventListener("click",e)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),Ms(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;!((e=this.target)===null||e===void 0)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}},k4=["target","oldTarget","fireCanvas","e"],Oi={passive:!1},Xr=(s,t)=>{let e=s.getViewportPoint(t),i=s.getScenePoint(t);return{viewportPoint:e,scenePoint:i,pointer:e,absolutePointer:i}},as=function(s){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return s.addEventListener(...e)},Ui=function(s){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return s.removeEventListener(...e)},M4={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}},nr=class extends wc{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),V(this,"_isClick",void 0),V(this,"textEditingManager",new Gd(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(as,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){let i=this.upperCanvasEl,n=this._getEventPrefix();t(o_(i),"resize",this._onResize),t(i,n+"down",this._onMouseDown),t(i,"".concat(n,"move"),this._onMouseMove,Oi),t(i,"".concat(n,"out"),this._onMouseOut),t(i,"".concat(n,"enter"),this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragstart",this._onDragStart),t(i,"dragend",this._onDragEnd),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,Oi)}removeListeners(){this.addOrRemove(Ui,"remove");let t=this._getEventPrefix(),e=Qi(this.upperCanvasEl);Ui(e,"".concat(t,"up"),this._onMouseUp),Ui(e,"touchend",this._onTouchEnd,Oi),Ui(e,"".concat(t,"move"),this._onMouseMove,Oi),Ui(e,"touchmove",this._onMouseMove,Oi),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){let e=this._hoveredTarget,i=F({e:t},Xr(this,t));this.fire("mouse:out",F(F({},i),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",F({},i)),this._hoveredTargets.forEach(n=>{this.fire("mouse:out",F(F({},i),{},{target:n})),n&&n.fire("mouseout",F({},i))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",F({e:t},Xr(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;let e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;let i={e:t,target:e};return this.fire("dragstart",i),e.fire("dragstart",i),void as(this.upperCanvasEl,"drag",this._onDragProgress)}kd(t)}_renderDragEffects(t,e,i){let n=!1,r=this._dropTarget;r&&r!==e&&r!==i&&(r.clearContextTop(),n=!0),e?.clearContextTop(),i!==e&&i?.clearContextTop();let o=this.contextTop;o.save(),o.transform(...this.viewportTransform),e&&(o.save(),e.transform(o),e.renderDragSourceEffect(t),o.restore(),n=!0),i&&(o.save(),i.transform(o),i.renderDropTargetEffect(t),o.restore(),n=!0),o.restore(),n&&(this.contextTopDirty=!0)}_onDragEnd(t){let e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==_i,i=e?this._activeObject:void 0,n={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:i};Ui(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",n),this._dragSource&&this._dragSource.fire("dragend",n),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){let e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",e),this._dragSource&&this._dragSource.fire("drag",e)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){let e="dragover",{target:i,targets:n}=this.findDragTargets(t),r=this._dragSource,o={e:t,target:i,subTargets:n,dragSource:r,canDrop:!1,dropTarget:void 0},a;this.fire(e,o),this._fireEnterLeaveEvents(i,o),i&&(i.canDrop(t)&&(a=i),i.fire(e,o));for(let c=0;c<n.length;c++){let u=n[c];u.canDrop(t)&&(a=u),u.fire(e,o)}this._renderDragEffects(t,r,a),this._dropTarget=a}_onDragEnter(t){let{target:e,targets:i}=this.findDragTargets(t),n={e:t,target:e,subTargets:i,dragSource:this._dragSource};this.fire("dragenter",n),this._fireEnterLeaveEvents(e,n)}_onDragLeave(t){let e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){let{target:e,targets:i}=this.findDragTargets(t),n=this._basicEventHandler("drop:before",F({e:t,target:e,subTargets:i,dragSource:this._dragSource},Xr(this,t)));n.didDrop=!1,n.dropTarget=void 0,this._basicEventHandler("drop",n),this.fire("drop:after",n)}_onContextMenu(t){let e=this.findTarget(t),i=this.targets||[],n=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:i});return this.stopContextMenu&&kd(t),this._basicEventHandler("contextmenu",n),!1}_onDoubleClick(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData()}getPointerId(t){let e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){let e=!this.allowTouchScrolling,i=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||i&&this._target===i)&&(e=!0),e&&t.preventDefault(),this._resetTransformEventData();let n=this.upperCanvasEl,r=this._getEventPrefix(),o=Qi(n);as(o,"touchend",this._onTouchEnd,Oi),e&&as(o,"touchmove",this._onMouseMove,Oi),Ui(n,"".concat(r,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();let e=this.upperCanvasEl,i=this._getEventPrefix();Ui(e,"".concat(i,"move"),this._onMouseMove,Oi);let n=Qi(e);as(n,"".concat(i,"up"),this._onMouseUp),as(n,"".concat(i,"move"),this._onMouseMove,Oi)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;let e=this._getEventPrefix(),i=Qi(this.upperCanvasEl);Ui(i,"touchend",this._onTouchEnd,Oi),Ui(i,"touchmove",this._onMouseMove,Oi),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{as(this.upperCanvasEl,"".concat(e,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();let e=this.upperCanvasEl,i=this._getEventPrefix();if(this._isMainEvent(t)){let n=Qi(this.upperCanvasEl);Ui(n,"".concat(i,"up"),this._onMouseUp),Ui(n,"".concat(i,"move"),this._onMouseMove,Oi),as(e,"".concat(i,"move"),this._onMouseMove,Oi)}}_onMouseMove(t){let e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){let e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");let i=this._currentTransform,n=this._isClick,r=this._target,{button:o}=t;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let a,c,u=!1;if(i&&(this._finalizeCurrentTransform(t),u=i.actionPerformed),!n){let d=r===this._activeObject;this.handleSelection(t),u||(u=this._shouldRender(r)||!d&&r===this._activeObject)}if(r){let d=r.findControl(this.getViewportPoint(t),lc(t)),{key:m,control:y}=d||{};if(c=m,r.selectable&&r!==this._activeObject&&r.activeOn==="up")this.setActiveObject(r,t),u=!0;else if(y){let b=y.getMouseUpHandler(t,r,y);b&&(a=this.getScenePoint(t),b.call(y,t,i,a.x,a.y))}r.isMoving=!1}if(i&&(i.target!==r||i.corner!==c)){let d=i.target&&i.target.controls[i.corner],m=d&&d.getMouseUpHandler(t,i.target,d);a=a||this.getScenePoint(t),m&&m.call(d,t,i,a.x,a.y)}this._setCursorFromEvent(t,r),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,r&&(r.__corner=void 0),u?this.requestRenderAll():n||(e=this._activeObject)!==null&&e!==void 0&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){let{target:i,subTargets:n=[]}=e;this.fire(t,e),i&&i.fire(t,e);for(let r=0;r<n.length;r++)n[r]!==i&&n[r].fire(t,e);return e}_handleEvent(t,e){let i=this._target,n=this.targets||[],r=F(F({e:t,target:i,subTargets:n},Xr(this,t)),{},{transform:this._currentTransform},e==="up:before"||e==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(e),r),i&&i.fire("mouse".concat(e),r);for(let o=0;o<n.length;o++)n[o]!==i&&n[o].fire("mouse".concat(e),r)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());let e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){let e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){let e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let e=this._target,{button:i}=t;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(t,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let n=this._shouldRender(e),r=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,r=!0,n=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){let o=this.getScenePoint(t);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(e){let o=e===this._activeObject;e.selectable&&e.activeOn==="down"&&this.setActiveObject(e,t);let a=e.findControl(this.getViewportPoint(t),lc(t));if(e===this._activeObject&&(a||!r)){this._setupCurrentTransform(t,e,o);let c=a?a.control:void 0,u=this.getScenePoint(t),d=c&&c.getMouseDownHandler(t,e,c);d&&d.call(c,t,this._currentTransform,u.x,u.y)}}n&&(this._objectsToRender=void 0),this._handleEvent(t,"down"),n&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=Rn(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;let e=this._groupSelector;if(e){let i=this.getScenePoint(t);e.deltaX=i.x-e.x,e.deltaY=i.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{let i=this.findTarget(t);this._setCursorFromEvent(t,i),this._fireOverOutEvents(t,i)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,e){let i=this._hoveredTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:e,oldTarget:i,fireCanvas:!0});for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("mouse",{e:t,target:r[a],oldTarget:n[a]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){let i=this._draggedoverTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents("drag",F(F({},e),{},{target:t,oldTarget:i,fireCanvas:!0}));for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("drag",F(F({},e),{},{target:r[a],oldTarget:n[a]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:i,oldTarget:n,fireCanvas:r,e:o}=e,a=Tt(e,k4),{targetIn:c,targetOut:u,canvasIn:d,canvasOut:m}=M4[t],y=n!==i;if(n&&y){let b=F(F({},a),{},{e:o,target:n,nextTarget:i},Xr(this,o));r&&this.fire(m,b),n.fire(u,b)}if(i&&y){let b=F(F({},a),{},{e:o,target:i,previousTarget:n},Xr(this,o));r&&this.fire(d,b),i.fire(c,b)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){let e=this.getScenePoint(t),i=this._currentTransform,n=i.target,r=n.group?Rn(e,void 0,n.group.calcTransformMatrix()):e;i.shiftKey=t.shiftKey,i.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,i,r),i.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,i){let{action:n,actionHandler:r,target:o}=e,a=!!r&&r(t,e,i.x,i.y);a&&o.setCoords(),n==="drag"&&a&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let i=e.hoverCursor||this.hoverCursor,n=As(this._activeObject)?this._activeObject:null,r=(!n||e.group!==n)&&e.findControl(this.getViewportPoint(t));if(r){let o=r.control;this.setCursor(o.cursorStyleHandler(t,o,e))}else e.subTargetCheck&&this.targets.concat().reverse().map(o=>{i=o.hoverCursor||i}),this.setCursor(i)}handleMultiSelection(t,e){let i=this._activeObject,n=As(i);if(i&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(i!==e||n)&&(n||!e.isDescendantOf(i)&&!i.isDescendantOf(e))&&!e.onSelect({e:t})&&!i.getActiveControl()){if(n){let r=i.getObjects();if(e===i){let o=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(r,o)||this.searchPossibleTargets(this._objects,o))||!e.selectable)return!1}e.group===i?(i.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],i.size()===1&&this._setActiveObject(i.item(0),t)):(i.multiSelectAdd(e),this._hoveredTarget=i,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(r,t)}else{i.isEditing&&i.exitEditing();let r=new(oe.getClass("ActiveSelection"))([],{canvas:this});r.multiSelectAdd(i,e),this._hoveredTarget=r,this._setActiveObject(r,t),this._fireSelectionEvents([i],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;let{x:e,y:i,deltaX:n,deltaY:r}=this._groupSelector,o=new N(e,i),a=o.add(new N(n,r)),c=o.min(a),u=o.max(a).subtract(c),d=this.collectObjects({left:c.x,top:c.y,width:u.x,height:u.y},{includeIntersecting:!this.selectionFullyContained}),m=o.eq(a)?d[0]?[d[0]]:[]:d.length>1?d.filter(y=>!y.onSelect({e:t})).reverse():d;if(m.length===1)this.setActiveObject(m[0],t);else if(m.length>1){let y=oe.getClass("ActiveSelection");this.setActiveObject(new y(m,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}},J_={x1:0,y1:0,x2:0,y2:0},A4=F(F({},J_),{},{r1:0,r2:0}),Zr=(s,t)=>isNaN(s)&&typeof t=="number"?t:s,F4=/^(\d+\.\d+)%|(\d+)%$/;function ev(s){return s&&F4.test(s)}function tv(s,t){let e=typeof s=="number"?s:typeof s=="string"?parseFloat(s)/(ev(s)?100:1):NaN;return tr(0,Zr(e,t),1)}var V4=/\s*;\s*/,R4=/\s*:\s*/;function L4(s,t){let e,i,n=s.getAttribute("style");if(n){let o=n.split(V4);o[o.length-1]===""&&o.pop();for(let a=o.length;a--;){let[c,u]=o[a].split(R4).map(d=>d.trim());c==="stop-color"?e=u:c==="stop-opacity"&&(i=u)}}let r=new ui(e||s.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:tv(s.getAttribute("offset"),0),color:r.toRgb(),opacity:Zr(parseFloat(i||s.getAttribute("stop-opacity")||""),1)*r.getAlpha()*t}}function P4(s,t){let e=[],i=s.getElementsByTagName("stop"),n=tv(t,1);for(let r=i.length;r--;)e.push(L4(i[r],n));return e}function iv(s){return s.nodeName==="linearGradient"||s.nodeName==="LINEARGRADIENT"?"linear":"radial"}function nv(s){return s.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Zi(s,t){return s.getAttribute(t)}function N4(s,t){return function(e,i){let n,{width:r,height:o,gradientUnits:a}=i;return Object.keys(e).reduce((c,u)=>{let d=e[u];return d==="Infinity"?n=1:d==="-Infinity"?n=0:(n=typeof d=="string"?parseFloat(d):d,typeof d=="string"&&ev(d)&&(n*=.01,a==="pixels"&&(u!=="x1"&&u!=="x2"&&u!=="r2"||(n*=r),u!=="y1"&&u!=="y2"||(n*=o)))),c[u]=n,c},{})}(iv(s)==="linear"?function(e){return{x1:Zi(e,"x1")||0,y1:Zi(e,"y1")||0,x2:Zi(e,"x2")||"100%",y2:Zi(e,"y2")||0}}(s):function(e){return{x1:Zi(e,"fx")||Zi(e,"cx")||"50%",y1:Zi(e,"fy")||Zi(e,"cy")||"50%",r1:0,x2:Zi(e,"cx")||"50%",y2:Zi(e,"cy")||"50%",r2:Zi(e,"r")||"50%"}}(s),F(F({},t),{},{gradientUnits:nv(s)}))}var Qr=class{constructor(t){let{type:e="linear",gradientUnits:i="pixels",coords:n={},colorStops:r=[],offsetX:o=0,offsetY:a=0,gradientTransform:c,id:u}=t||{};Object.assign(this,{type:e,gradientUnits:i,coords:F(F({},e==="radial"?A4:J_),n),colorStops:r,offsetX:o,offsetY:a,gradientTransform:c,id:u?"".concat(u,"_").concat(fs()):fs()})}addColorStop(t){for(let e in t){let i=new ui(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this}toObject(t){return F(F({},sr(this,t)),{},{type:this.type,coords:F({},this.coords),colorStops:this.colorStops.map(e=>F({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[],n=this.gradientTransform?this.gradientTransform.concat():ci.concat(),r=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(m=>F({},m)).sort((m,y)=>m.offset-y.offset),a=-this.offsetX,c=-this.offsetY;var u;r==="objectBoundingBox"?(a/=t.width,c/=t.height):(a+=t.width/2,c+=t.height/2),(u=t)&&typeof u._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=t.pathOffset.x,c-=t.pathOffset.y),n[4]-=a,n[5]-=c;let d=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(r,'"'),'gradientTransform="'.concat(e?e+" ":"").concat(Ta(n),'"'),""].join(" ");if(this.type==="linear"){let{x1:m,y1:y,x2:b,y2:C}=this.coords;i.push("<linearGradient ",d,' x1="',m,'" y1="',y,'" x2="',b,'" y2="',C,`">
`)}else if(this.type==="radial"){let{x1:m,y1:y,x2:b,y2:C,r1:x,r2:D}=this.coords,R=x>D;i.push("<radialGradient ",d,' cx="',R?m:b,'" cy="',R?y:C,'" r="',R?x:D,'" fx="',R?b:m,'" fy="',R?C:y,`">
`),R&&(o.reverse(),o.forEach(P=>{P.offset=1-P.offset}));let U=Math.min(x,D);if(U>0){let P=U/Math.max(x,D);o.forEach(z=>{z.offset+=P*(1-z.offset)})}}return o.forEach(m=>{let{color:y,offset:b,opacity:C}=m;i.push("<stop ",'offset="',100*b+"%",'" style="stop-color:',y,C!==void 0?";stop-opacity: "+C:";",`"/>
`)}),i.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),i.join("")}toLive(t){let{x1:e,y1:i,x2:n,y2:r,r1:o,r2:a}=this.coords,c=this.type==="linear"?t.createLinearGradient(e,i,n,r):t.createRadialGradient(e,i,o,n,r,a);return this.colorStops.forEach(u=>{let{color:d,opacity:m,offset:y}=u;c.addColorStop(y,m!==void 0?new ui(d).setAlpha(m).toRgba():d)}),c}static fromObject(t){return Yt(this,null,function*(){let{colorStops:e,gradientTransform:i}=t;return new this(F(F({},t),{},{colorStops:e?e.map(n=>F({},n)):void 0,gradientTransform:i?[...i]:void 0}))})}static fromElement(t,e,i){let n=nv(t),r=e._findCenterFromElement();return new this(F({id:t.getAttribute("id")||void 0,type:iv(t),coords:N4(t,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:P4(t,i.opacity),gradientUnits:n,gradientTransform:Ud(t.getAttribute("gradientTransform")||"")},n==="pixels"?{offsetX:e.width/2-r.x,offsetY:e.height/2-r.y}:{offsetX:0,offsetY:0}))}};V(Qr,"type","Gradient"),oe.setClass(Qr,"gradient"),oe.setClass(Qr,"linear"),oe.setClass(Qr,"radial");var j4=["type","source","patternTransform"],ba=class{get type(){return"pattern"}set type(t){ds("warn","Setting type has no effect",t)}constructor(t){V(this,"repeat","repeat"),V(this,"offsetX",0),V(this,"offsetY",0),V(this,"crossOrigin",""),this.id=fs(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:e,crossOrigin:i}=this;return F(F({},sr(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:i,offsetX:xt(this.offsetX,Je.NUM_FRACTION_DIGITS),offsetY:xt(this.offsetY,Je.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:i}=t,{source:n,repeat:r,id:o}=this,a=Zr(this.offsetX/e,0),c=Zr(this.offsetY/i,0),u=r==="repeat-y"||r==="no-repeat"?1+Math.abs(a||0):Zr(n.width/e,0),d=r==="repeat-x"||r==="no-repeat"?1+Math.abs(c||0):Zr(n.height/i,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(c,'" width="').concat(u,'" height="').concat(d,'">'),'<image x="0" y="0" width="'.concat(n.width,'" height="').concat(n.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static fromObject(t,e){return Yt(this,null,function*(){let{type:i,source:n,patternTransform:r}=t,o=Tt(t,j4),a=yield ya(n,F(F({},e),{},{crossOrigin:o.crossOrigin}));return new this(F(F({},o),{},{patternTransform:r&&r.slice(0),source:a}))})}};V(ba,"type","Pattern"),oe.setClass(ba),oe.setClass(ba,"pattern");var B4=["path","left","top"],U4=["d"],Fs=class s extends zt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:i,left:n,top:r}=e,o=Tt(e,B4);super(),Object.assign(this,s.ownDefaults),this.setOptions(o),this._setPath(t||[],!0),typeof n=="number"&&this.set(rt,n),typeof r=="number"&&this.set(gi,r)}_setPath(t,e){this.path=Y_(Array.isArray(t)?t:Z_(t)),this.setBoundingBox(e)}_findCenterFromElement(){let t=this._calcBoundsFromPath();return new N(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){let e=-this.pathOffset.x,i=-this.pathOffset.y;t.beginPath();for(let n of this.path)switch(n[0]){case"L":t.lineTo(n[1]+e,n[2]+i);break;case"M":t.moveTo(n[1]+e,n[2]+i);break;case"C":t.bezierCurveTo(n[1]+e,n[2]+i,n[3]+e,n[4]+i,n[5]+e,n[6]+i);break;case"Q":t.quadraticCurveTo(n[1]+e,n[2]+i,n[3]+e,n[4]+i);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(t)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){let t=Q_(this.path,Je.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let t=Je.NUM_FRACTION_DIGITS;return" translate(".concat(xt(-this.pathOffset.x,t),", ").concat(xt(-this.pathOffset.y,t),")")}toClipPathSVG(t){let e=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){let e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){let{width:e,height:i,pathOffset:n}=this._calcDimensions();this.set({width:e,height:i,pathOffset:n}),t&&this.setPositionByOrigin(n,Fe,Fe)}_calcBoundsFromPath(){let t=[],e=0,i=0,n=0,r=0;for(let o of this.path)switch(o[0]){case"L":n=o[1],r=o[2],t.push({x:e,y:i},{x:n,y:r});break;case"M":n=o[1],r=o[2],e=n,i=r;break;case"C":t.push(...Wd(n,r,o[1],o[2],o[3],o[4],o[5],o[6])),n=o[5],r=o[6];break;case"Q":t.push(...Wd(n,r,o[1],o[2],o[1],o[2],o[3],o[4])),n=o[3],r=o[4];break;case"Z":n=e,r=i}return dn(t)}_calcDimensions(){let t=this._calcBoundsFromPath();return F(F({},t),{},{pathOffset:new N(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static fromElement(t,e,i){return Yt(this,null,function*(){let n=Nn(t,this.ATTRIBUTE_NAMES,i),{d:r}=n;return new this(r,F(F(F({},Tt(n,U4)),e),{},{left:void 0,top:void 0}))})}};V(Fs,"type","Path"),V(Fs,"cacheProperties",[...Pn,"path","fillRule"]),V(Fs,"ATTRIBUTE_NAMES",[...vs,"d"]),oe.setClass(Fs),oe.setSVGClass(Fs);var H4=["left","top","radius"],sv=["radius","startAngle","endAngle","counterClockwise"],ls=class s extends zt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),t==="radius"&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,Et(this.startAngle),Et(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(hi)}getRadiusY(){return this.get("radius")*this.get(Mi)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...sv,...t])}_toSVG(){let t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:e}=this,i=Et(this.startAngle),n=Et(this.endAngle),r=tn(i)*e,o=nn(i)*e,a=tn(n)*e,c=nn(n)*e,u=t>180?1:0,d=this.counterClockwise?0:1;return['<path d="M '.concat(r," ").concat(o," A ").concat(e," ").concat(e," 0 ").concat(u," ").concat(d," ").concat(a," ").concat(c,'" '),"COMMON_PARTS",` />
`]}}static fromElement(t,e,i){return Yt(this,null,function*(){let n=Nn(t,this.ATTRIBUTE_NAMES,i),{left:r=0,top:o=0,radius:a=0}=n;return new this(F(F({},Tt(n,H4)),{},{radius:a,left:r-a,top:o-a}))})}static fromObject(t){return super._fromObject(t)}};V(ls,"type","Circle"),V(ls,"cacheProperties",[...Pn,...sv]),V(ls,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),V(ls,"ATTRIBUTE_NAMES",["cx","cy","r",...vs]),oe.setClass(ls),oe.setSVGClass(ls);var z4=["x1","y1","x2","y2"],W4=["x1","y1","x2","y2"],$d=["x1","x2","y1","y2"],Vs=class s extends zt{constructor(){let[t,e,i,n]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,s.ownDefaults),this.setOptions(r),this.x1=t,this.x2=i,this.y1=e,this.y2=n,this._setWidthHeight();let{left:o,top:a}=r;typeof o=="number"&&this.set(rt,o),typeof a=="number"&&this.set(gi,a)}_setWidthHeight(){let{x1:t,y1:e,x2:i,y2:n}=this;this.width=Math.abs(i-t),this.height=Math.abs(n-e);let{left:r,top:o,width:a,height:c}=dn([{x:t,y:e},{x:i,y:n}]),u=new N(r+a/2,o+c/2);this.setPositionByOrigin(u,Fe,Fe)}_set(t,e){return super._set(t,e),$d.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();let e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;let i=t.strokeStyle;var n;zi(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(n=this.stroke)!==null&&n!==void 0?n:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i}_findCenterFromElement(){return new N((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){let t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){let{x1:t,x2:e,y1:i,y2:n,width:r,height:o}=this,a=t<=e?-1:1,c=i<=n?-1:1;return{x1:a*r/2,x2:a*-r/2,y1:c*o/2,y2:c*-o/2}}_toSVG(){let{x1:t,x2:e,y1:i,y2:n}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(i,'" x2="').concat(e,'" y2="').concat(n,`" />
`)]}static fromElement(t,e,i){return Yt(this,null,function*(){let n=Nn(t,this.ATTRIBUTE_NAMES,i),{x1:r=0,y1:o=0,x2:a=0,y2:c=0}=n;return new this([r,o,a,c],Tt(n,z4))})}static fromObject(t){let{x1:e,y1:i,x2:n,y2:r}=t,o=Tt(t,W4);return this._fromObject(F(F({},o),{},{points:[e,i,n,r]}),{extraParam:"points"})}};V(Vs,"type","Line"),V(Vs,"cacheProperties",[...Pn,...$d]),V(Vs,"ATTRIBUTE_NAMES",vs.concat($d)),oe.setClass(Vs),oe.setSVGClass(Vs);var Jr=class s extends zt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t)}_render(t){let e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){let t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}};V(Jr,"type","Triangle"),V(Jr,"ownDefaults",{width:100,height:100}),oe.setClass(Jr),oe.setSVGClass(Jr);var rv=["rx","ry"],cs=class s extends zt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(hi)}getRy(){return this.get("ry")*this.get(Mi)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...rv,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,Ln,!1),t.restore(),this._renderPaintInOrder(t)}static fromElement(t,e,i){return Yt(this,null,function*(){let n=Nn(t,this.ATTRIBUTE_NAMES,i);return n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,new this(n)})}};function Y4(s){if(!s)return[];let t=s.replace(/,/g," ").trim().split(/\s+/),e=[];for(let i=0;i<t.length;i+=2)e.push({x:parseFloat(t[i]),y:parseFloat(t[i+1])});return e}V(cs,"type","Ellipse"),V(cs,"cacheProperties",[...Pn,...rv]),V(cs,"ownDefaults",{rx:0,ry:0}),V(cs,"ATTRIBUTE_NAMES",[...vs,"cx","cy","rx","ry"]),oe.setClass(cs),oe.setSVGClass(cs);var G4=["left","top"],ov={exactBoundingBox:!1},hn=class s extends zt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),V(this,"strokeDiff",void 0),Object.assign(this,s.ownDefaults),this.setOptions(e),this.points=t;let{left:i,top:n}=e;this.initialized=!0,this.setBoundingBox(!0),typeof i=="number"&&this.set(rt,i),typeof n=="number"&&this.set(gi,n)}isOpen(){return!0}_projectStrokeOnPoints(t){return L_(this.points,t,this.isOpen())}_calcDimensions(t){t=F({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});let e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(u=>u.projectedPoint):this.points;if(e.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new N,strokeOffset:new N,strokeDiff:new N};let i=dn(e),n=ka(F(F({},t),{},{scaleX:1,scaleY:1})),r=dn(this.points.map(u=>si(u,n,!0))),o=new N(this.scaleX,this.scaleY),a=i.left+i.width/2,c=i.top+i.height/2;return this.exactBoundingBox&&(a-=c*Math.tan(Et(this.skewX)),c-=a*Math.tan(Et(this.skewY))),F(F({},i),{},{pathOffset:new N(a,c),strokeOffset:new N(r.left,r.top).subtract(new N(i.left,i.top)).multiply(o),strokeDiff:new N(i.width,i.height).subtract(new N(r.width,r.height)).multiply(o)})}_findCenterFromElement(){let t=dn(this.points);return new N(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){let{left:e,top:i,width:n,height:r,pathOffset:o,strokeOffset:a,strokeDiff:c}=this._calcDimensions();this.set({width:n,height:r,pathOffset:o,strokeOffset:a,strokeDiff:c}),t&&this.setPositionByOrigin(new N(e+n/2,i+r/2),Fe,Fe)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new N(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(t).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var e,i;let{width:a,height:c}=this._calcDimensions(t);o=new N((e=t.width)!==null&&e!==void 0?e:a,(i=t.height)!==null&&i!==void 0?i:c)}else{var n,r;o=new N((n=t.width)!==null&&n!==void 0?n:this.width,(r=t.height)!==null&&r!==void 0?r:this.height)}return o.multiply(new N(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){let i=this.initialized&&this[t]!==e,n=super._set(t,e);return this.exactBoundingBox&&i&&((t===hi||t===Mi)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),n}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(t)),{},{points:this.points.map(e=>{let{x:i,y:n}=e;return{x:i,y:n}})})}_toSVG(){let t=[],e=this.pathOffset.x,i=this.pathOffset.y,n=Je.NUM_FRACTION_DIGITS;for(let r=0,o=this.points.length;r<o;r++)t.push(xt(this.points[r].x-e,n),",",xt(this.points[r].y-i,n)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){let e=this.points.length,i=this.pathOffset.x,n=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-n);for(let r=0;r<e;r++){let o=this.points[r];t.lineTo(o.x-i,o.y-n)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static fromElement(t,e,i){return Yt(this,null,function*(){return new this(Y4(t.getAttribute("points")),F(F({},Tt(Nn(t,this.ATTRIBUTE_NAMES,i),G4)),e))})}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}};V(hn,"ownDefaults",ov),V(hn,"type","Polyline"),V(hn,"layoutProperties",[co,ho,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),V(hn,"cacheProperties",[...Pn,"points"]),V(hn,"ATTRIBUTE_NAMES",[...vs]),oe.setClass(hn),oe.setSVGClass(hn);var eo=class extends hn{isOpen(){return!1}};V(eo,"ownDefaults",ov),V(eo,"type","Polygon"),oe.setClass(eo),oe.setSVGClass(eo);var av=["fontSize","fontWeight","fontFamily","fontStyle"],lv=["underline","overline","linethrough"],cv=[...av,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],hv=[...cv,...lv,"textBackgroundColor","direction"],$4=[...av,...lv,vi,"strokeWidth",jt,"deltaY","textBackgroundColor"],q4={_reNewline:sp,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:rt,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:rt,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},un="justify",xc="justify-left",Ca="justify-right",wa="justify-center",Tc=class extends zt{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;let e=t===void 0?this.styles:{line:this.styles[t]};for(let i in e)for(let n in e[i])for(let r in e[i][n])return!1;return!0}styleHas(t,e){if(!this.styles||e!==void 0&&!this.styles[e])return!1;let i=e===void 0?this.styles:{0:this.styles[e]};for(let n in i)for(let r in i[n])if(i[n][r][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;let e=this.styles,i,n,r=0,o=!0,a=0;for(let c in e){i=0;for(let u in e[c]){let d=e[c][u]||{};r++,d[t]!==void 0?(n?d[t]!==n&&(o=!1):n=d[t],d[t]===this[t]&&delete d[t]):o=!1,Object.keys(d).length!==0?i++:delete e[c][u]}i===0&&delete e[c]}for(let c=0;c<this._textLines.length;c++)a+=this._textLines[c].length;o&&r===a&&(this[t]=n,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;let e=this.styles,i,n,r;for(n in e){for(r in i=e[n],i)delete i[r][t],Object.keys(i[r]).length===0&&delete i[r];Object.keys(i).length===0&&delete e[n]}}_extendStyles(t,e){let{lineIndex:i,charIndex:n}=this.get2DCursorLocation(t);this._getLineStyle(i)||this._setLineStyle(i);let r=up(F(F({},this._getStyleDeclaration(i,n)),e),o=>o!==void 0);this._setStyleDeclaration(i,n,r)}getSelectionStyles(t,e,i){let n=[];for(let r=t;r<(e||t);r++)n.push(this.getStyleAtPosition(r,i));return n}getStyleAtPosition(t,e){let{lineIndex:i,charIndex:n}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(i,n):this._getStyleDeclaration(i,n)}setSelectionStyles(t,e,i){for(let n=e;n<(i||e);n++)this._extendStyles(n,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var i;let n=this.styles&&this.styles[t];return n&&(i=n[e])!==null&&i!==void 0?i:{}}getCompleteStyleDeclaration(t,e){return F(F({},sr(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,i){this.styles[t][e]=i}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}};V(Tc,"_styleProperties",$4);var X4=/  +/g,K4=/"/g;function yd(s,t,e,i,n){return"		".concat(function(r,o){let{left:a,top:c,width:u,height:d}=o,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Je.NUM_FRACTION_DIGITS,y=Sa(jt,r,!1),[b,C,x,D]=[a,c,u,d].map(R=>xt(R,m));return"<rect ".concat(y,' x="').concat(b,'" y="').concat(C,'" width="').concat(x,'" height="').concat(D,'"></rect>')}(s,{left:t,top:e,width:i,height:n}),`
`)}var Z4=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],bd,Hi=class s extends Tc{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t,e){super(),V(this,"__charBounds",[]),Object.assign(this,s.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let t=this.path;t&&(t.segmentsInfo=xp(t.path))}_splitText(){let t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(un)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,i,n,r,o,a;for(let c=0,u=this._textLines.length;c<u;c++)if((this.textAlign===un||c!==u-1&&!this.isEndOfWrapping(c))&&(n=0,r=this._textLines[c],e=this.getLineWidth(c),e<this.width&&(a=this.textLines[c].match(this._reSpacesAndTabs)))){i=a.length,t=(this.width-e)/i;for(let d=0;d<=r.length;d++)o=this.__charBounds[c][d],this._reSpaceAndTab.test(r[d])?(o.width+=t,o.kernedWidth+=t,o.left+=n,n+=t):o.left+=n}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){let i=e?this._unwrappedTextLines:this._textLines,n;for(n=0;n<i.length;n++){if(t<=i[n].length)return{lineIndex:n,charIndex:t};t-=i[n].length+this.missingNewlineOffset(n,e)}return{lineIndex:n-1,charIndex:i[n-1].length<t?i[n-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){let e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===vi?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,i){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Fe:t.textBaseline="middle";break;case"ascender":t.textBaseline=gi;break;case"descender":t.textBaseline=Dd}t.font=this._getFontDeclaration(e,i)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,i=this._textLines.length;e<i;e++){let n=this.getLineWidth(e);n>t&&(t=n)}return t}_renderTextLine(t,e,i,n,r,o){this._renderChars(t,e,i,n,r,o)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let e=t.fillStyle,i=this._getLeftOffset(),n=this._getTopOffset();for(let r=0,o=this._textLines.length;r<o;r++){let a=this.getHeightOfLine(r);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",r)){n+=a;continue}let c=this._textLines[r].length,u=this._getLineLeftOffset(r),d,m,y=0,b=0,C=this.getValueOfPropertyAt(r,0,"textBackgroundColor");for(let x=0;x<c;x++){let D=this.__charBounds[r][x];m=this.getValueOfPropertyAt(r,x,"textBackgroundColor"),this.path?(t.save(),t.translate(D.renderLeft,D.renderTop),t.rotate(D.angle),t.fillStyle=m,m&&t.fillRect(-D.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),D.width,a/this.lineHeight),t.restore()):m!==C?(d=i+u+b,this.direction==="rtl"&&(d=this.width-d-y),t.fillStyle=C,C&&t.fillRect(d,n,y,a/this.lineHeight),b=D.left,y=D.width,C=m):y+=D.kernedWidth}m&&!this.path&&(d=i+u+b,this.direction==="rtl"&&(d=this.width-d-y),t.fillStyle=m,t.fillRect(d,n,y,a/this.lineHeight)),n+=a}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,i,n){let r=_a.getFontCache(e),o=this._getFontDeclaration(e),a=i+t,c=i&&o===this._getFontDeclaration(n),u=e.fontSize/this.CACHE_FONT_SIZE,d,m,y,b;if(i&&r[i]!==void 0&&(y=r[i]),r[t]!==void 0&&(b=d=r[t]),c&&r[a]!==void 0&&(m=r[a],b=m-y),d===void 0||y===void 0||m===void 0){let C=function(){return bd||(bd=sn({width:0,height:0}).getContext("2d")),bd}();this._setTextStyles(C,e,!0),d===void 0&&(b=d=C.measureText(t).width,r[t]=d),y===void 0&&c&&i&&(y=C.measureText(i).width,r[i]=y),c&&m===void 0&&(m=C.measureText(a).width,r[a]=m,b=m-y)}return{width:d*u,kernedWidth:b*u}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){let e=this._measureLine(t);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,i,n=0,r=this.pathSide===Vt,o=this.path,a=this._textLines[t],c=a.length,u=new Array(c);this.__charBounds[t]=u;for(let d=0;d<c;d++){let m=a[d];i=this._getGraphemeBox(m,t,d,e),u[d]=i,n+=i.kernedWidth,e=m}if(u[c]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let d=0,m=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case rt:d=r?m-n:0;break;case Fe:d=(m-n)/2;break;case Vt:d=r?0:m-n}d+=this.pathStartOffset*(r?-1:1);for(let y=r?c-1:0;r?y>=0:y<c;r?y--:y++)i=u[y],d>m?d%=m:d<0&&(d+=m),this._setGraphemeOnPath(d,i),d+=i.kernedWidth}return{width:n,numOfSpaces:0}}_setGraphemeOnPath(t,e){let i=t+e.kernedWidth/2,n=this.path,r=K_(n.path,i,n.segmentsInfo);e.renderLeft=r.x-n.pathOffset.x,e.renderTop=r.y-n.pathOffset.y,e.angle=r.angle+(this.pathSide===Vt?Math.PI:0)}_getGraphemeBox(t,e,i,n,r){let o=this.getCompleteStyleDeclaration(e,i),a=n?this.getCompleteStyleDeclaration(e,i-1):{},c=this._measureChar(t,o,n,a),u,d=c.kernedWidth,m=c.width;this.charSpacing!==0&&(u=this._getWidthOfCharSpacing(),m+=u,d+=u);let y={width:m,left:0,height:o.fontSize,kernedWidth:d,deltaY:o.deltaY};if(i>0&&!r){let b=this.__charBounds[e][i-1];y.left=b.left+b.width+c.kernedWidth-c.width}return y}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let e=this.getHeightOfChar(t,0);for(let i=1,n=this._textLines[t].length;i<n;i++)e=Math.max(this.getHeightOfChar(t,i),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,e=0;for(let i=0,n=this._textLines.length;i<n;i++)t=this.getHeightOfLine(i),e+=i===n-1?t/this.lineHeight:t;return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let i=0,n=this._getLeftOffset(),r=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++){let c=this.getHeightOfLine(o),u=c/this.lineHeight,d=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],n+d,r+i+u,o),i+=c}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(jt))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,e,i,n,r,o){let a=this.getHeightOfLine(o),c=this.textAlign.includes(un),u=this.path,d=!c&&this.charSpacing===0&&this.isEmptyStyles(o)&&!u,m=this.direction==="ltr",y=this.direction==="ltr"?1:-1,b=e.direction,C,x,D,R,U,P="",z=0;if(e.save(),b!==this.direction&&(e.canvas.setAttribute("dir",m?"ltr":"rtl"),e.direction=m?"ltr":"rtl",e.textAlign=m?rt:Vt),r-=a*this._fontSizeFraction/this.lineHeight,d)return this._renderChar(t,e,o,0,i.join(""),n,r),void e.restore();for(let $=0,Z=i.length-1;$<=Z;$++)R=$===Z||this.charSpacing||u,P+=i[$],D=this.__charBounds[o][$],z===0?(n+=y*(D.kernedWidth-D.width),z+=D.width):z+=D.kernedWidth,c&&!R&&this._reSpaceAndTab.test(i[$])&&(R=!0),R||(C=C||this.getCompleteStyleDeclaration(o,$),x=this.getCompleteStyleDeclaration(o,$+1),R=Bc(C,x,!1)),R&&(u?(e.save(),e.translate(D.renderLeft,D.renderTop),e.rotate(D.angle),this._renderChar(t,e,o,$,P,-z/2,0),e.restore()):(U=n,this._renderChar(t,e,o,$,P,U,r)),P="",C=x,n+=y*z,z=0);e.restore()}_applyPatternGradientTransformText(t){let e=this.width+this.strokeWidth,i=this.height+this.strokeWidth,n=sn({width:e,height:i}),r=n.getContext("2d");return n.width=e,n.height=i,r.beginPath(),r.moveTo(0,0),r.lineTo(e,0),r.lineTo(e,i),r.lineTo(0,i),r.closePath(),r.translate(e/2,i/2),r.fillStyle=t.toLive(r),this._applyPatternGradientTransform(r,t),r.fill(),r.createPattern(n,"no-repeat")}handleFiller(t,e,i){let n,r;return zi(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?(n=-this.width/2,r=-this.height/2,t.translate(n,r),t[e]=this._applyPatternGradientTransformText(i),{offsetX:n,offsetY:r}):(t[e]=i.toLive(t),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:i,strokeWidth:n}=e;return t.lineWidth=n,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",i)}_setFillStyles(t,e){let{fill:i}=e;return this.handleFiller(t,"fillStyle",i)}_renderChar(t,e,i,n,r,o,a){let c=this._getStyleDeclaration(i,n),u=this.getCompleteStyleDeclaration(i,n),d=t==="fillText"&&u.fill,m=t==="strokeText"&&u.stroke&&u.strokeWidth;if(m||d){if(e.save(),e.font=this._getFontDeclaration(u),c.textBackgroundColor&&this._removeShadow(e),c.deltaY&&(a+=c.deltaY),d){let y=this._setFillStyles(e,u);e.fillText(r,o-y.offsetX,a-y.offsetY)}if(m){let y=this._setStrokeStyles(e,u);e.strokeText(r,o-y.offsetX,a-y.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,i){let n=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),a={fontSize:r*i.size,deltaY:o+r*i.baseline};this.setSelectionStyles(a,t,e)}_getLineLeftOffset(t){let e=this.getLineWidth(t),i=this.width-e,n=this.textAlign,r=this.direction,o=this.isEndOfWrapping(t),a=0;return n===un||n===wa&&!o||n===Ca&&!o||n===xc&&!o?0:(n===Fe&&(a=i/2),n===Vt&&(a=i),n===wa&&(a=i/2),n===Ca&&(a=i),r==="rtl"&&(n===Vt||n===un||n===Ca?a=0:n===rt||n===xc?a=-i:n!==Fe&&n!==wa||(a=-i/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];let{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,i){var n;return(n=this._getStyleDeclaration(t,e)[i])!==null&&n!==void 0?n:this[i]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let i=this._getTopOffset(),n=this._getLeftOffset(),r=this.path,o=this._getWidthOfCharSpacing(),a=this.offsets[e];for(let c=0,u=this._textLines.length;c<u;c++){let d=this.getHeightOfLine(c);if(!this[e]&&!this.styleHas(e,c)){i+=d;continue}let m=this._textLines[c],y=d/this.lineHeight,b=this._getLineLeftOffset(c),C,x,D=0,R=0,U=this.getValueOfPropertyAt(c,0,e),P=this.getValueOfPropertyAt(c,0,jt),z=i+y*(1-this._fontSizeFraction),$=this.getHeightOfChar(c,0),Z=this.getValueOfPropertyAt(c,0,"deltaY");for(let Q=0,Ee=m.length;Q<Ee;Q++){let Xe=this.__charBounds[c][Q];C=this.getValueOfPropertyAt(c,Q,e),x=this.getValueOfPropertyAt(c,Q,jt);let it=this.getHeightOfChar(c,Q),St=this.getValueOfPropertyAt(c,Q,"deltaY");if(r&&C&&x)t.save(),t.fillStyle=P,t.translate(Xe.renderLeft,Xe.renderTop),t.rotate(Xe.angle),t.fillRect(-Xe.kernedWidth/2,a*it+St,Xe.kernedWidth,this.fontSize/15),t.restore();else if((C!==U||x!==P||it!==$||St!==Z)&&R>0){let Ke=n+b+D;this.direction==="rtl"&&(Ke=this.width-Ke-R),U&&P&&(t.fillStyle=P,t.fillRect(Ke,z+a*$+Z,R,this.fontSize/15)),D=Xe.left,R=Xe.width,U=C,P=x,$=it,Z=St}else R+=Xe.kernedWidth}let ge=n+b+D;this.direction==="rtl"&&(ge=this.width-ge-R),t.fillStyle=x,C&&x&&t.fillRect(ge,z+a*$+Z,R-o,this.fontSize/15),i+=d}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:i=this.fontWeight,fontSize:n=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=t.includes("'")||t.includes('"')||t.includes(",")||s.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,i,"".concat(r?this.CACHE_FONT_SIZE:n,"px"),o].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return jc(t)}_splitTextIntoLines(t){let e=t.split(this._reNewline),i=new Array(e.length),n=[`
`],r=[];for(let o=0;o<e.length;o++)i[o]=this.graphemeSplit(e[o]),r=r.concat(i[o],n);return r.pop(),{_unwrappedLines:i,lines:e,graphemeText:r,graphemeLines:i}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject([...hv,...t])),{},{styles:N_(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){let{textLayoutProperties:i}=this.constructor;super.set(t,e);let n=!1,r=!1;if(typeof t=="object")for(let o in t)o==="path"&&this.setPathInfo(),n=n||i.includes(o),r=r||o==="path";else n=i.includes(t),r=t==="path";return r&&this.setPathInfo(),n&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static fromElement(t,e,i){return Yt(this,null,function*(){let n=Nn(t,s.ATTRIBUTE_NAMES,i),r=F(F({},e),n),{textAnchor:o=rt,textDecoration:a="",dx:c=0,dy:u=0,top:d=0,left:m=0,fontSize:y=np,strokeWidth:b=1}=r,C=Tt(r,Z4),x=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),F({left:m+c,top:d+u,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:y},C)),D=x.getScaledHeight()/x.height,R=((x.height+x.strokeWidth)*x.lineHeight-x.height)*D,U=x.getScaledHeight()+R,P=0;return o===Fe&&(P=x.getScaledWidth()/2),o===Vt&&(P=x.getScaledWidth()),x.set({left:x.left-P,top:x.top-(U-x.fontSize*(.07+x._fontSizeFraction))/x.lineHeight,strokeWidth:b}),x})}static fromObject(t){return this._fromObject(F(F({},t),{},{styles:j_(t.styles||{},t.text)}),{extraParam:"text"})}};V(Hi,"textLayoutProperties",cv),V(Hi,"cacheProperties",[...Pn,...hv]),V(Hi,"ownDefaults",q4),V(Hi,"type","Text"),V(Hi,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),V(Hi,"ATTRIBUTE_NAMES",vs.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),V_(Hi,[class extends hc{_toSVG(){let s=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(s.textTop,s.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(s){return this._createBaseSVGMarkup(this._toSVG(),{reviver:s,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(s){let{textBgRects:t,textSpans:e}=s,i=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(K4,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",i?'text-decoration="'.concat(i,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),`</text>
`]}_getSVGTextAndBg(s,t){let e=[],i=[],n,r=s;this.backgroundColor&&i.push(...yd(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,a=this._textLines.length;o<a;o++)n=this._getLineLeftOffset(o),this.direction==="rtl"&&(n+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(i,o,t+n,r),this._setSVGTextLineText(e,o,t+n,r),r+=this.getHeightOfLine(o);return{textSpans:e,textBgRects:i}}_createTextCharSpan(s,t,e,i){let n=this.getSvgSpanStyles(t,s!==s.trim()||!!s.match(X4)),r=n?'style="'.concat(n,'"'):"",o=t.deltaY,a=o?' dy="'.concat(xt(o,Je.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(xt(e,Je.NUM_FRACTION_DIGITS),'" y="').concat(xt(i,Je.NUM_FRACTION_DIGITS),'" ').concat(a).concat(r,">").concat(P_(s),"</tspan>")}_setSVGTextLineText(s,t,e,i){let n=this.getHeightOfLine(t),r=this.textAlign.includes(un),o=this._textLines[t],a,c,u,d,m,y="",b=0;i+=n*(1-this._fontSizeFraction)/this.lineHeight;for(let C=0,x=o.length-1;C<=x;C++)m=C===x||this.charSpacing,y+=o[C],u=this.__charBounds[t][C],b===0?(e+=u.kernedWidth-u.width,b+=u.width):b+=u.kernedWidth,r&&!m&&this._reSpaceAndTab.test(o[C])&&(m=!0),m||(a=a||this.getCompleteStyleDeclaration(t,C),c=this.getCompleteStyleDeclaration(t,C+1),m=Bc(a,c,!0)),m&&(d=this._getStyleDeclaration(t,C),s.push(this._createTextCharSpan(y,d,e,i)),y="",a=c,this.direction==="rtl"?e-=b:e+=b,b=0)}_setSVGTextLineBg(s,t,e,i){let n=this._textLines[t],r=this.getHeightOfLine(t)/this.lineHeight,o,a=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let d=0;d<n.length;d++){let{left:m,width:y,kernedWidth:b}=this.__charBounds[t][d];o=this.getValueOfPropertyAt(t,d,"textBackgroundColor"),o!==u?(u&&s.push(...yd(u,e+c,i,a,r)),c=m,a=y,u=o):a+=b}o&&s.push(...yd(u,e+c,i,a,r))}_getSVGLineTopOffset(s){let t,e=0;for(t=0;t<s;t++)e+=this.getHeightOfLine(t);let i=this.getHeightOfLine(t);return{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(s){return"".concat(super.getSvgStyles(s)," white-space: pre;")}getSvgSpanStyles(s,t){let{fontFamily:e,strokeWidth:i,stroke:n,fill:r,fontSize:o,fontStyle:a,fontWeight:c,deltaY:u}=s,d=this.getSvgTextDecoration(s);return[n?Sa(vi,n):"",i?"stroke-width: ".concat(i,"; "):"",e?"font-family: ".concat(e.includes("'")||e.includes('"')?e:"'".concat(e,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",a?"font-style: ".concat(a,"; "):"",c?"font-weight: ".concat(c,"; "):"",d&&"text-decoration: ".concat(d,"; "),r?Sa(jt,r):"",u?"baseline-shift: ".concat(-u,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(s){return["overline","underline","line-through"].filter(t=>s[t.replace("-","")]).join(" ")}}]),oe.setClass(Hi),oe.setSVGClass(Hi);var qd=class{constructor(t){V(this,"target",void 0),V(this,"__mouseDownInPlace",!1),V(this,"__dragStartFired",!1),V(this,"__isDraggingOver",!1),V(this,"__dragStartSelection",void 0),V(this,"__dragImageDisposer",void 0),V(this,"_dispose",void 0),this.target=t;let e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(i=>i()),this._dispose=void 0}}isPointerOverSelection(t){let e=this.target,i=e.getSelectionStartFromPointer(t);return e.isEditing&&i>=e.selectionStart&&i<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){let e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var i;let{selectionStart:n,selectionEnd:r}=e,o=this.target,a=o.canvas,c=new N(o.flipX?-1:1,o.flipY?-1:1),u=o._getCursorBoundaries(n),d=new N(u.left+u.leftOffset,u.top+u.topOffset).multiply(c).transform(o.calcTransformMatrix()),m=a.getScenePoint(t).subtract(d),y=o.getCanvasRetinaScaling(),b=o.getBoundingRect(),C=d.subtract(new N(b.left,b.top)),x=a.viewportTransform,D=C.add(m).transform(x,!0),R=o.backgroundColor,U=bp(o.styles);o.backgroundColor="";let P={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(P,0,n),o.setSelectionStyles(P,r,o.text.length),o.dirty=!0;let z=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=R,o.styles=U,o.dirty=!0,Cc(z,{position:"fixed",left:"".concat(-z.width,"px"),border:_i,width:"".concat(z.width/y,"px"),height:"".concat(z.height/y,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{z.remove()},Qi(t.target||this.target.hiddenTextarea).body.appendChild(z),(i=t.dataTransfer)===null||i===void 0||i.setDragImage(z,D.x,D.y)}onDragStart(t){this.__dragStartFired=!0;let e=this.target,i=this.isActive();if(i&&t.dataTransfer){let n=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},r=e._text.slice(n.selectionStart,n.selectionEnd).join(""),o=F({text:e.text,value:r},n);t.dataTransfer.setData("text/plain",r),t.dataTransfer.setData("application/fabric",JSON.stringify({value:r,styles:e.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,o)}return e.abortCursorAnimation(),i}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let e=this.target.getSelectionStartFromPointer(t),i=this.__dragStartSelection;return e<i.selectionStart||e>i.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e}=t,i=this.targetCanDrop(e);!this.__isDraggingOver&&i&&(this.__isDraggingOver=!0)}dragOverHandler(t){let{e}=t,i=this.targetCanDrop(e);!this.__isDraggingOver&&i?this.__isDraggingOver=!0:this.__isDraggingOver&&!i&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;let{e:i}=t,n=i.defaultPrevented;this.__isDraggingOver=!1,i.preventDefault();let r=(e=i.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain");if(r&&!n){let o=this.target,a=o.canvas,c=o.getSelectionStartFromPointer(i),{styles:u}=i.dataTransfer.types.includes("application/fabric")?JSON.parse(i.dataTransfer.getData("application/fabric")):{},d=r[Math.max(0,r.length-1)],m=0;if(this.__dragStartSelection){let y=this.__dragStartSelection.selectionStart,b=this.__dragStartSelection.selectionEnd;c>y&&c<=b?c=y:c>b&&(c-=b-y),o.removeChars(y,b),delete this.__dragStartSelection}o._reNewline.test(d)&&(o._reNewline.test(o._text[c])||c===o._text.length)&&(r=r.trimEnd()),t.didDrop=!0,t.dropTarget=o,o.insertChars(r,u,c),a.setActiveObject(o),o.enterEditing(i),o.selectionStart=Math.min(c+m,o._text.length),o.selectionEnd=Math.min(o.selectionStart+r.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(nc,{index:c+m,action:"drop"}),a.fire("text:changed",{target:o}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(t){let{e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var i;let n=this.target,r=this.target.canvas,{selectionStart:o,selectionEnd:a}=this.__dragStartSelection,c=((i=e.dataTransfer)===null||i===void 0?void 0:i.dropEffect)||_i;c===_i?(n.selectionStart=o,n.selectionEnd=a,n._updateTextarea(),n.hiddenTextarea.focus()):(n.clearContextTop(),c==="move"&&(n.removeChars(o,a),n.selectionStart=n.selectionEnd=o,n.hiddenTextarea&&(n.hiddenTextarea.value=n.text),n._updateTextarea(),n.fire(nc,{index:o,action:"dragend"}),r.fire("text:changed",{target:n}),r.requestRenderAll()),n.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}},z0=/[ \n\.,;!\?\-]/,Xd=class extends Hi{constructor(){super(...arguments),V(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:i,delay:n,onComplete:r}=t;return _p({startValue:this._currentCursorOpacity,endValue:e,duration:i,delay:n,onComplete:r,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(e=>{e&&!e.isDone()&&(t=!0,e.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findWordBoundaryRight(t){let e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}findLineBoundaryLeft(t){let e=0,i=t-1;for(;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findLineBoundaryRight(t){let e=0,i=t;for(;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}searchWordBoundary(t,e){let i=this._text,n=t>0&&this._reSpace.test(i[t])&&(e===-1||!sp.test(i[t-1]))?t-1:t,r=i[n];for(;n>0&&n<i.length&&!z0.test(r);)n+=e,r=i[n];return e===-1&&z0.test(r)&&n++,n}selectWord(t){t=t||this.selectionStart;let e=this.searchWordBoundary(t,-1),i=Math.max(e,this.searchWordBoundary(t,1));this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){t=t||this.selectionStart;let e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;let e=this.hiddenTextarea;Qi(e).activeElement!==e&&e.focus();let i=this.getSelectionStartFromPointer(t),n=this.selectionStart,r=this.selectionEnd;(i===this.__selectionStartOnMouseDown&&n!==r||n!==i&&r!==i)&&(i>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=i):(this.selectionStart=i,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,i){let n=i.slice(0,t),r=this.graphemeSplit(n).length;if(t===e)return{selectionStart:r,selectionEnd:r};let o=i.slice(t,e);return{selectionStart:r,selectionEnd:r+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(t,e,i){let n=i.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+i.slice(t,e).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),n=i.lineIndex,r=i.charIndex,o=this.getValueOfPropertyAt(n,r,"fontSize")*this.lineHeight,a=e.leftOffset,c=this.getCanvasRetinaScaling(),u=this.canvas.upperCanvasEl,d=u.width/c,m=u.height/c,y=d-o,b=m-o,C=new N(e.left+a,e.top+e.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new N(u.clientWidth/d,u.clientHeight/m));return C.x<0&&(C.x=0),C.x>y&&(C.x=y),C.y<0&&(C.y=0),C.y>b&&(C.y=b),C.x+=this.canvas._offset.left,C.y+=this.canvas._offset.top,{left:"".concat(C.x,"px"),top:"".concat(C.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){let t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),t&&this.fire(sc),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){let{lineIndex:i,charIndex:n}=this.get2DCursorLocation(t,!0),{lineIndex:r,charIndex:o}=this.get2DCursorLocation(e,!0);if(i!==r){if(this.styles[i])for(let a=n;a<this._unwrappedTextLines[i].length;a++)delete this.styles[i][a];if(this.styles[r])for(let a=o;a<this._unwrappedTextLines[r].length;a++){let c=this.styles[r][a];c&&(this.styles[i]||(this.styles[i]={}),this.styles[i][n+a-o]=c)}for(let a=i+1;a<=r;a++)delete this.styles[a];this.shiftLineStyles(r,i-r)}else if(this.styles[i]){let a=this.styles[i],c=o-n;for(let u=n;u<o;u++)delete a[u];for(let u in this.styles[i]){let d=parseInt(u,10);d>=o&&(a[d-c]=a[u],delete a[u])}}}shiftLineStyles(t,e){let i=Object.assign({},this.styles);for(let n in this.styles){let r=parseInt(n,10);r>t&&(this.styles[r+e]=i[r],i[r-e]||delete this.styles[r])}}insertNewlineStyleObject(t,e,i,n){let r={},o=this._unwrappedTextLines[t].length,a=o===e,c=!1;i||(i=1),this.shiftLineStyles(t,i);let u=this.styles[t]?this.styles[t][e===0?e:e-1]:void 0;for(let m in this.styles[t]){let y=parseInt(m,10);y>=e&&(c=!0,r[y-e]=this.styles[t][m],a&&e===0||delete this.styles[t][m])}let d=!1;for(c&&!a&&(this.styles[t+i]=r,d=!0),(d||o>e)&&i--;i>0;)n&&n[i-1]?this.styles[t+i]={0:F({},n[i-1])}:u?this.styles[t+i]={0:F({},u)}:delete this.styles[t+i],i--;this._forceClearCache=!0}insertCharStyleObject(t,e,i,n){this.styles||(this.styles={});let r=this.styles[t],o=r?F({},r):{};i||(i=1);for(let c in o){let u=parseInt(c,10);u>=e&&(r[u+i]=o[u],o[u-i]||delete r[u])}if(this._forceClearCache=!0,n){for(;i--;)Object.keys(n[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=F({},n[i]));return}if(!r)return;let a=r[e?e-1:1];for(;a&&i--;)this.styles[t][e+i]=F({},a)}insertNewStyleBlock(t,e,i){let n=this.get2DCursorLocation(e,!0),r=[0],o,a=0;for(let c=0;c<t.length;c++)t[c]===`
`?(a++,r[a]=0):r[a]++;for(r[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,r[0],i),i=i&&i.slice(r[0]+1)),a&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+r[0],a),o=1;o<a;o++)r[o]>0?this.insertCharStyleObject(n.lineIndex+o,0,r[o],i):i&&this.styles[n.lineIndex+o]&&i[0]&&(this.styles[n.lineIndex+o][0]=i[0]),i=i&&i.slice(r[o]+1);r[o]>0&&this.insertCharStyleObject(n.lineIndex+o,0,r[o],i)}removeChars(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i;n>i&&this.removeStyleFromTo(i,n);let r=this.graphemeSplit(t);this.insertNewStyleBlock(r,i,e),this._text=[...this._text.slice(0,i),...r,...this._text.slice(n)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,i){i<=t?(e===t?this._selectionDirection=rt:this._selectionDirection===Vt&&(this._selectionDirection=rt,this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?this._selectionDirection===Vt?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection=Vt:this._selectionDirection===rt&&(this._selectionDirection=Vt,this.selectionStart=e),this.selectionEnd=i)}},Kd=class extends Xd{initHiddenTextarea(){let t=this.canvas&&Qi(this.canvas.getElement())||lo(),e=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[a,c]=o;return e.setAttribute(a,c)});let{top:i,left:n,fontSize:r}=this._calcTextareaPosition();e.style.cssText="position: absolute; top: ".concat(i,"; left: ").concat(n,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(r,";"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[a,c]=o;return e.addEventListener(a,this[c].bind(this))}),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;let e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){let e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;let i=()=>{this.updateFromTextArea(),this.fire(nc),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void i();let n=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,r=this._text.length,o=n.length,a=this.selectionStart,c=this.selectionEnd,u=a!==c,d,m,y,b,C=o-r,x=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),D=a>x.selectionStart;u?(m=this._text.slice(a,c),C+=c-a):o<r&&(m=D?this._text.slice(c+C,c):this._text.slice(a,a-C));let R=n.slice(x.selectionEnd-C,x.selectionEnd);if(m&&m.length&&(R.length&&(d=this.getSelectionStyles(a,a+1,!1),d=R.map(()=>d[0])),u?(y=a,b=c):D?(y=c-m.length,b=c):(y=c,b=c+m.length),this.removeStyleFromTo(y,b)),R.length){let{copyPasteData:U}=pn();e&&R.join("")===U.copiedText&&!Je.disableStyleCopyPaste&&(d=U.copiedTextStyle),this.insertNewStyleBlock(R,a,d)}i()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t,{selectionStart:i,selectionEnd:n}=e;this.compositionStart=i,this.compositionEnd=n,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:t}=pn();t.copiedText=this.getSelectedText(),Je.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let i,n=this._getLineLeftOffset(t);return e>0&&(i=this.__charBounds[t][e-1],n+=i.left+i.width),n}getDownCursorOffset(t,e){let i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-i;let o=n.charIndex,a=this._getWidthBeforeCursor(r,o),c=this._getIndexOnLine(r+1,a);return this._textLines[r].slice(o).length+c+1+this.missingNewlineOffset(r)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){let i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===0||t.metaKey||t.keyCode===33)return-i;let o=n.charIndex,a=this._getWidthBeforeCursor(r,o),c=this._getIndexOnLine(r-1,a),u=this._textLines[r].slice(0,o),d=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+c-u.length+(1-d)}_getIndexOnLine(t,e){let i=this._textLines[t],n,r,o=this._getLineLeftOffset(t),a=0;for(let c=0,u=i.length;c<u;c++)if(n=this.__charBounds[t][c].width,o+=n,o>e){r=!0;let d=o-n,m=o,y=Math.abs(d-e);a=Math.abs(m-e)<y?c:c-1;break}return r||(a=i.length-1),a}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){let i=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===Vt);if(e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),i!==0){let n=this.text.length;this.selectionStart=tr(0,this.selectionStart,n),this.selectionEnd=tr(0,this.selectionEnd,n),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){let e=this._selectionDirection===rt?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,e,i){let n;if(t.altKey)n=this["findWordBoundary".concat(i)](this[e]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[e]+=i==="Left"?-1:1,!0;n=this["findLineBoundary".concat(i)](this[e])}return n!==void 0&&this[e]!==n&&(this[e]=n,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=rt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===Vt&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=rt,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){let i="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===rt&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Vt,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=Vt,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}},Cd=s=>!!s.button,Zd=class extends Kd{constructor(){super(...arguments),V(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new qd(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}onMouseDown(t){if(!this.canvas)return;this.__newClickTime=+new Date;let e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),kd(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y}doubleClickHandler(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))}tripleClickHandler(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))}_mouseDownHandler(t){let{e}=t;this.canvas&&this.editable&&!Cd(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(t){let{e}=t;this.canvas&&this.editable&&!Cd(e)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(t){let{e,transform:i}=t,n=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);let r=this.canvas._activeObject;if(r&&r!==this)return}!this.editable||this.group&&!this.group.interactive||i&&i.actionPerformed||Cd(e)||n||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(t){let e=this.getSelectionStartFromPointer(t),i=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){let e=this.canvas.getScenePoint(t).transform(ki(this.calcTransformMatrix())).add(new N(-this._getLeftOffset(),-this._getTopOffset())),i=0,n=0,r=0;for(let u=0;u<this._textLines.length&&i<=e.y;u++)i+=this.getHeightOfLine(u),r=u,u>0&&(n+=this._textLines[u-1].length+this.missingNewlineOffset(u-1));let o=Math.abs(this._getLineLeftOffset(r)),a=this._textLines[r].length,c=this.__charBounds[r];for(let u=0;u<a;u++){let d=o+c[u].kernedWidth;if(e.x<=d){Math.abs(e.x-d)<=Math.abs(e.x-o)&&n++;break}o=d,n++}return Math.min(this.flipX?a-n:n,this._text.length)}},$l="moveCursorUp",ql="moveCursorDown",Xl="moveCursorLeft",Kl="moveCursorRight",Zl="exitEditing",Q4=F({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Zl,27:Zl,33:$l,34:ql,35:Kl,36:Xl,37:Xl,38:$l,39:Kl,40:ql},keysMapRtl:{9:Zl,27:Zl,33:$l,34:ql,35:Xl,36:Kl,37:Kl,38:$l,39:Xl,40:ql},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1}),hs=class s extends Zd{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}get type(){let t=super.type;return t==="itext"?"i-text":t}constructor(t,e){super(t,F(F({},s.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(t==="canvas"&&(this.canvas instanceof nr&&this.canvas.textEditingManager.remove(this),e instanceof nr&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,i=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,i)}setSelectionStyles(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,i)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){let e=this.isEditing;this.isEditing=!1;let i=super.toCanvasElement(t);return this.isEditing=e,i}renderCursorOrSelection(){if(!this.isEditing)return;let t=this.clearContextTop(!0);if(!t)return;let e=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(t,e):this.renderCursor(t,e),this.canvas.contextTopDirty=!0,t.restore()}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0,i=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t,e);return{left:i,top:n,leftOffset:r.left,topOffset:r.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,i=0,{charIndex:n,lineIndex:r}=this.get2DCursorLocation(t);for(let u=0;u<r;u++)e+=this.getHeightOfLine(u);let o=this._getLineLeftOffset(r),a=this.__charBounds[r][n];a&&(i=a.left),this.charSpacing!==0&&n===this._textLines[r].length&&(i-=this._getWidthOfCharSpacing());let c={top:e,left:o+(i>0?i:0)};return this.direction==="rtl"&&(this.textAlign===Vt||this.textAlign===un||this.textAlign===Ca?c.left*=-1:this.textAlign===rt||this.textAlign===xc?c.left=o-(i>0?i:0):this.textAlign!==Fe&&this.textAlign!==wa||(c.left=o-(i>0?i:0))),c}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),n=i.lineIndex,r=i.charIndex>0?i.charIndex-1:0,o=this.getValueOfPropertyAt(n,r,"fontSize"),a=this.getObjectScaling().x*this.canvas.getZoom(),c=this.cursorWidth/a,u=this.getValueOfPropertyAt(n,r,"deltaY"),d=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(n,r,"fill"),opacity:this._currentCursorOpacity,left:e.left+e.leftOffset-c/2,top:d+e.top+u,width:c,height:o}}_renderCursor(t,e,i){let{color:n,opacity:r,left:o,top:a,width:c,height:u}=this.getCursorRenderingData(i,e);t.fillStyle=n,t.globalAlpha=r,t.fillRect(o,a,c,u)}renderSelection(t,e){let i={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,i,e)}renderDragSourceEffect(){let t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){let e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,i){let n=e.selectionStart,r=e.selectionEnd,o=this.textAlign.includes(un),a=this.get2DCursorLocation(n),c=this.get2DCursorLocation(r),u=a.lineIndex,d=c.lineIndex,m=a.charIndex<0?0:a.charIndex,y=c.charIndex<0?0:c.charIndex;for(let b=u;b<=d;b++){let C=this._getLineLeftOffset(b)||0,x=this.getHeightOfLine(b),D=0,R=0,U=0;if(b===u&&(R=this.__charBounds[u][m].left),b>=u&&b<d)U=o&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===d)if(y===0)U=this.__charBounds[d][y].left;else{let ge=this._getWidthOfCharSpacing();U=this.__charBounds[d][y-1].left+this.__charBounds[d][y-1].width-ge}D=x,(this.lineHeight<1||b===d&&this.lineHeight>1)&&(x/=this.lineHeight);let P=i.left+C+R,z=x,$=0,Z=U-R;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",z=1,$=x):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Vt||this.textAlign===un||this.textAlign===Ca?P=this.width-P-Z:this.textAlign===rt||this.textAlign===xc?P=i.left+C-U:this.textAlign!==Fe&&this.textAlign!==wa||(P=i.left+C-U)),t.fillRect(P,i.top+i.topOffset+$,Z,z),i.topOffset+=D}}getCurrentCharFontSize(){let t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){let t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,jt)}_getCurrentCharIndex(){let t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}};V(hs,"ownDefaults",Q4),V(hs,"type","IText"),oe.setClass(hs),oe.setClass(hs,"i-text");var Fn=class s extends hs{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t,e){super(t,F(F({},s.ownDefaults),e))}static createControls(){return{controls:F_()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(un)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,i=0,n=0,r={};for(let o=0;o<t.graphemeLines.length;o++)t.graphemeText[n]===`
`&&o>0?(i=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&o>0&&(i++,n++),r[o]={line:e,offset:i},n+=t.graphemeLines[o].length,i+=t.graphemeLines[o].length;return r}styleHas(t,e){if(this._styleMap&&!this.isWrapping){let i=this._styleMap[e];i&&(e=i.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,i=0,n=t+1,r=!1,o=this._styleMap[t],a=this._styleMap[t+1];o&&(t=o.line,i=o.offset),a&&(n=a.line,r=n===t,e=a.offset);let c=t===void 0?this.styles:{line:this.styles[t]};for(let u in c)for(let d in c[u]){let m=parseInt(d,10);if(m>=i&&(!r||m<e))for(let y in c[u][d])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){let i=this._styleMap[t];if(!i)return{};t=i.line,e=i.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,i){let n=this._styleMap[t];super._setStyleDeclaration(n.line,n.offset+e,i)}_deleteStyleDeclaration(t,e){let i=this._styleMap[t];super._deleteStyleDeclaration(i.line,i.offset+e)}_getLineStyle(t){let e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){let e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;let i=this.getGraphemeDataForRender(t),n=[];for(let r=0;r<i.wordsData.length;r++)n.push(...this._wrapLine(r,e,i));return this.isWrapping=!1,n}getGraphemeDataForRender(t){let e=this.splitByGrapheme,i=e?"":" ",n=0;return{wordsData:t.map((r,o)=>{let a=0,c=e?this.graphemeSplit(r):this.wordSplit(r);return c.length===0?[{word:[],width:0}]:c.map(u=>{let d=e?[u]:this.graphemeSplit(u),m=this._measureWord(d,o,a);return n=Math.max(m,n),a+=d.length+i.length,{word:d,width:m}})}),largestWordWidth:n}}_measureWord(t,e){let i,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=0;for(let o=0,a=t.length;o<a;o++)r+=this._getGraphemeBox(t[o],e,o+n,i,!0).kernedWidth,i=t[o];return r}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,i){let{largestWordWidth:n,wordsData:r}=i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=this._getWidthOfCharSpacing(),c=this.splitByGrapheme,u=[],d=c?"":" ",m=0,y=[],b=0,C=0,x=!0;e-=o;let D=Math.max(e,n,this.dynamicMinWidth),R=r[t],U;for(b=0,U=0;U<R.length;U++){let{word:P,width:z}=R[U];b+=P.length,m+=C+z-a,m>D&&!x?(u.push(y),y=[],m=z,x=!0):m+=a,x||c||y.push(d),y=y.concat(P),C=c?0:this._measureWord([d],t,b),b++,x=!1}return U&&u.push(y),n+o>this.dynamicMinWidth&&(this.dynamicMinWidth=n-a+o),u}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){let e=super._splitTextIntoLines(t),i=this._wrapText(e.lines,this.width),n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=i[r].join("");return e.lines=n,e.graphemeLines=i,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let t=new Map;for(let e in this._styleMap){let i=parseInt(e,10);if(this._textLines[i]){let n=this._styleMap[e].line;t.set("".concat(n),!0)}}for(let e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}};V(Fn,"type","Textbox"),V(Fn,"textLayoutProperties",[...hs.textLayoutProperties,"width"]),V(Fn,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),oe.setClass(Fn);var Sc=class extends ao{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){let{target:i}=t,{clipPath:n,group:r}=i;if(!n||!this.shouldPerformLayout(t))return;let{width:o,height:a}=dn(U_(i,n)),c=new N(o,a);if(n.absolutePositioned)return{center:Rn(n.getRelativeCenterPoint(),void 0,r?r.calcTransformMatrix():void 0),size:c};{let u=n.getRelativeCenterPoint().transform(i.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){let{center:d=new N,correction:m=new N}=this.calcBoundingBox(e,t)||{};return{center:d.add(u),correction:m.subtract(u),size:c}}return{center:i.getRelativeCenterPoint().add(u),size:c}}}};V(Sc,"type","clip-path"),oe.setClass(Sc);var Ic=class extends ao{getInitialSize(t,e){let{target:i}=t,{size:n}=e;return new N(i.width||n.x,i.height||n.y)}};V(Ic,"type","fixed"),oe.setClass(Ic);var Qd=class extends ir{subscribeTargets(t){let e=t.target;t.targets.reduce((i,n)=>(n.parent&&i.add(n.parent),i),new Set).forEach(i=>{i.layoutManager.subscribeTargets({target:i,targets:[e]})})}unsubscribeTargets(t){let e=t.target,i=e.getObjects();t.targets.reduce((n,r)=>(r.parent&&n.add(r.parent),n),new Set).forEach(n=>{!i.some(r=>r.parent===n)&&n.layoutManager.unsubscribeTargets({target:n,targets:[e]})})}},to=class s extends us{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,s.ownDefaults),this.setOptions(e);let{left:i,top:n,layoutManager:r}=e;this.groupInit(t,{left:i,top:n,layoutManager:r??new Qd})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.multiSelectionStacking==="selection-order"?this.add(...e):e.forEach(n=>{let r=this._objects.findIndex(a=>a.isInFrontOf(n)),o=r===-1?this.size():r;this.insertAt(o,n)})}canEnterGroup(t){return this.getObjects().some(e=>e.isDescendantOf(t)||t.isDescendantOf(e))?(ds("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);let i=new Set;e.forEach(n=>{let{parent:r}=n;r&&i.add(r)}),t===wp?i.forEach(n=>{n._onAfterObjectsChange(vc,e)}):i.forEach(n=>{n._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let n=F(F({hasControls:!1},i),{},{forActiveSelection:!0});for(let r=0;r<this._objects.length;r++)this._objects[r]._renderControls(t,n);super._renderControls(t,e),t.restore()}};V(to,"type","ActiveSelection"),V(to,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),oe.setClass(to),oe.setClass(to,"activeSelection");var Jd=class{constructor(){V(this,"resources",{})}applyFilters(t,e,i,n,r){let o=r.getContext("2d");if(!o)return;o.drawImage(e,0,0,i,n);let a={sourceWidth:i,sourceHeight:n,imageData:o.getImageData(0,0,i,n),originalEl:e,originalImageData:o.getImageData(0,0,i,n),canvasEl:r,ctx:o,filterBackend:this};t.forEach(u=>{u.applyTo(a)});let{imageData:c}=a;return c.width===i&&c.height===n||(r.width=c.width,r.height=c.height),o.putImageData(c,0,0),a}},Dc=class{constructor(){let{tileSize:t=Je.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};V(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),V(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){let i=sn({width:t,height:e}),n=i.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});n&&(n.clearColor(0,0,0,0),this.canvas=i,this.gl=n)}applyFilters(t,e,i,n,r,o){let a=this.gl,c=r.getContext("2d");if(!a||!c)return;let u;o&&(u=this.getCachedTexture(o,e));let d={originalWidth:e.width||e.naturalWidth||0,originalHeight:e.height||e.naturalHeight||0,sourceWidth:i,sourceHeight:n,destinationWidth:i,destinationHeight:n,context:a,sourceTexture:this.createTexture(a,i,n,u?void 0:e),targetTexture:this.createTexture(a,i,n),originalTexture:u||this.createTexture(a,i,n,u?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},m=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,m),t.forEach(y=>{y&&y.applyTo(d)}),function(y){let b=y.targetCanvas,C=b.width,x=b.height,D=y.destinationWidth,R=y.destinationHeight;C===D&&x===R||(b.width=D,b.height=R)}(d),this.copyGLTo2D(a,d),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(d.sourceTexture),a.deleteTexture(d.targetTexture),a.deleteFramebuffer(m),c.setTransform(1,0,0,1,0,0),d}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,i,n,r){let{NEAREST:o,TEXTURE_2D:a,RGBA:c,UNSIGNED_BYTE:u,CLAMP_TO_EDGE:d,TEXTURE_MAG_FILTER:m,TEXTURE_MIN_FILTER:y,TEXTURE_WRAP_S:b,TEXTURE_WRAP_T:C}=t,x=t.createTexture();return t.bindTexture(a,x),t.texParameteri(a,m,r||o),t.texParameteri(a,y,r||o),t.texParameteri(a,b,d),t.texParameteri(a,C,d),n?t.texImage2D(a,0,c,c,u,n):t.texImage2D(a,0,c,e,i,0,c,u,null),x}getCachedTexture(t,e,i){let{textureCache:n}=this;if(n[t])return n[t];{let r=this.createTexture(this.gl,e.width,e.height,e,i);return r&&(n[t]=r),r}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){let i=t.canvas,n=e.targetCanvas,r=n.getContext("2d");if(!r)return;r.translate(0,n.height),r.scale(1,-1);let o=i.height-n.height;r.drawImage(i,0,o,n.width,n.height,0,0,n.width,n.height)}copyGLTo2DPutImageData(t,e){let i=e.targetCanvas.getContext("2d"),n=e.destinationWidth,r=e.destinationHeight,o=n*r*4;if(!i)return;let a=new Uint8Array(this.imageBuffer,0,o),c=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,a);let u=new ImageData(c,n,r);i.putImageData(u,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let t=this.gl,e={renderer:"",vendor:""};if(!t)return e;let i=t.getExtension("WEBGL_debug_renderer_info");if(i){let n=t.getParameter(i.UNMASKED_RENDERER_WEBGL),r=t.getParameter(i.UNMASKED_VENDOR_WEBGL);n&&(e.renderer=n.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}},wd;function J4(){let{WebGLProbe:s}=pn();return s.queryWebGL(Yi()),Je.enableGLFiltering&&s.isSupported(Je.textureSize)?new Dc({tileSize:Je.textureSize}):new Jd}function xd(){return!wd&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(wd=J4()),wd}var e5=["filters","resizeFilter","src","crossOrigin","type"],uv=["cropX","cropY"],Ei=class s extends zt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t,e){super(),V(this,"_lastScaleX",1),V(this,"_lastScaleY",1),V(this,"_filterScalingX",1),V(this,"_filterScalingY",1),this.filters=[],Object.assign(this,s.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(fs()),this.setElement(typeof t=="string"?(this.canvas&&Qi(this.canvas.getElement())||lo()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){var e;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(i),(e=t.classList)===null||e===void 0||e.add(s.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){let e=xd(!1);e instanceof Dc&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{let e=this[t];e&&pn().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;let e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];return this.filters.forEach(i=>{i&&e.push(i.toObject())}),F(F({},super.toObject([...uv,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let t=[],e=this._element,i=-this.width/2,n=-this.height/2,r=[],o=[],a="",c="";if(!e)return[];if(this.hasCrop()){let u=fs();r.push('<clipPath id="imageCrop_'+u+`">
`,'	<rect x="'+i+'" y="'+n+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(c=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(i-this.cropX,'" y="').concat(n-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(c).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){let u=this.fill;this.fill=null,o=['	<rect x="'.concat(i,'" y="').concat(n,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=u}return r=this.paintFirst!==jt?r.concat(o,t):r.concat(t,o),r}getSrc(t){let e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src")||"":e.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ya(t,{crossOrigin:e,signal:i}).then(n=>{e!==void 0&&this.set({crossOrigin:e}),this.setElement(n)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),n=i.x,r=i.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||n>e&&r>e)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=r);let a=sn(o),{width:c,height:u}=o;this._element=a,this._lastScaleX=t.scaleX=n,this._lastScaleY=t.scaleY=r,xd().applyFilters([t],o,c,u,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(r=>r&&!r.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let e=this._originalElement,i=e.naturalWidth||e.width,n=e.naturalHeight||e.height;if(this._element===this._originalElement){let r=sn({width:i,height:n});this._element=r,this._filteredEl=r}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,n),this._lastScaleX=1,this._lastScaleY=1);xd().applyFilters(t,this._originalElement,i,n,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){let e=this._element;if(!e)return;let i=this._filterScalingX,n=this._filterScalingY,r=this.width,o=this.height,a=Math.max(this.cropX,0),c=Math.max(this.cropY,0),u=e.naturalWidth||e.width,d=e.naturalHeight||e.height,m=a*i,y=c*n,b=Math.min(r*i,u-m),C=Math.min(o*n,d-y),x=-r/2,D=-o/2,R=Math.min(r,u/i-a),U=Math.min(o,d/n-c);e&&t.drawImage(e,m,y,b,C,x,D,R,U)}_needsResize(){let t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.getOriginalSize();this.width=t||i.width,this.height=e||i.height}parsePreserveAspectRatioAttribute(){let t=s_(this.preserveAspectRatio||""),e=this.width,i=this.height,n={width:e,height:i},r,o=this._element.width,a=this._element.height,c=1,u=1,d=0,m=0,y=0,b=0;return!t||t.alignX===_i&&t.alignY===_i?(c=e/o,u=i/a):(t.meetOrSlice==="meet"&&(c=u=z_(this._element,n),r=(e-o*c)/2,t.alignX==="Min"&&(d=-r),t.alignX==="Max"&&(d=r),r=(i-a*u)/2,t.alignY==="Min"&&(m=-r),t.alignY==="Max"&&(m=r)),t.meetOrSlice==="slice"&&(c=u=W_(this._element,n),r=o-e/c,t.alignX==="Mid"&&(y=r/2),t.alignX==="Max"&&(y=r),r=a-i/u,t.alignY==="Mid"&&(b=r/2),t.alignY==="Max"&&(b=r),o=e/c,a=i/u)),{width:o,height:a,scaleX:c,scaleY:u,offsetLeft:d,offsetTop:m,cropX:y,cropY:b}}static fromObject(t,e){let{filters:i,resizeFilter:n,src:r,crossOrigin:o,type:a}=t,c=Tt(t,e5);return Promise.all([ya(r,F(F({},e),{},{crossOrigin:o})),i&&ro(i,e),n&&ro([n],e),Ma(c,e)]).then(u=>{let[d,m=[],[y]=[],b={}]=u;return new this(d,F(F({},c),{},{src:r,filters:m,resizeFilter:y},b))})}static fromURL(t){let{crossOrigin:e=null,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return ya(t,{crossOrigin:e,signal:i}).then(r=>new this(r,n))}static fromElement(e){return Yt(this,arguments,function*(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=Nn(t,this.ATTRIBUTE_NAMES,n);return this.fromURL(r["xlink:href"],i,r).catch(o=>(ds("log","Unable to parse Image",o),null))})}};V(Ei,"type","Image"),V(Ei,"cacheProperties",[...Pn,...uv]),V(Ei,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),V(Ei,"CSS_CANVAS","canvas-img"),V(Ei,"ATTRIBUTE_NAMES",[...vs,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),oe.setClass(Ei),oe.setSVGClass(Ei);var vP=Lc(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var dv=K0,W0=s=>function(t,e,i){let{points:n,pathOffset:r}=i;return new N(n[s]).subtract(r).transform(kt(i.getViewportTransform(),i.calcTransformMatrix()))},pv=(s,t,e,i)=>{let{target:n,pointIndex:r}=t,o=n,a=Rn(new N(e,i),void 0,o.calcOwnMatrix());return o.points[r]=a.add(o.pathOffset),o.setDimensions(),!0},fv=(s,t)=>function(e,i,n,r){let o=i.target,a=new N(o.points[(s>0?s:o.points.length)-1]),c=a.subtract(o.pathOffset).transform(o.calcOwnMatrix()),u=t(e,F(F({},i),{},{pointIndex:s}),n,r),d=a.subtract(o.pathOffset).transform(o.calcOwnMatrix()).subtract(c);return o.left-=d.x,o.top-=d.y,u},Y0=s=>_s(dv,fv(s,pv)),ep=(s,t,e)=>{let{path:i,pathOffset:n}=s,r=i[t];return new N(r[e]-n.x,r[e+1]-n.y).transform(kt(s.getViewportTransform(),s.calcTransformMatrix()))};function t5(s,t,e){let{commandIndex:i,pointIndex:n}=this;return ep(e,i,n)}function i5(s,t,e,i){let{target:n}=t,{commandIndex:r,pointIndex:o}=this,a=((c,u,d,m,y)=>{let{path:b,pathOffset:C}=c,x=b[(m>0?m:b.length)-1],D=new N(x[y],x[y+1]),R=D.subtract(C).transform(c.calcOwnMatrix()),U=Rn(new N(u,d),void 0,c.calcOwnMatrix());b[m][y]=U.x+C.x,b[m][y+1]=U.y+C.y,c.setDimensions();let P=D.subtract(c.pathOffset).transform(c.calcOwnMatrix()).subtract(R);return c.left-=P.x,c.top-=P.y,c.set("dirty",!0),!0})(n,e,i,r,o);return pp(this.actionName,F(F({},fp(s,t,e,i)),{},{commandIndex:r,pointIndex:o})),a}var Oc=class extends ai{constructor(t){super(t)}render(t,e,i,n,r){let o=F(F({},n),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(t,e,i,o,r)}},tp=class extends Oc{constructor(t){super(t)}render(t,e,i,n,r){let{path:o}=r,{commandIndex:a,pointIndex:c,connectToCommandIndex:u,connectToPointIndex:d}=this;t.save(),t.strokeStyle=this.controlStroke,this.connectionDashArray&&t.setLineDash(this.connectionDashArray);let[m]=o[a],y=ep(r,u,d);if(m==="Q"){let b=ep(r,a,c+2);t.moveTo(b.x,b.y),t.lineTo(e,i)}else t.moveTo(e,i);t.lineTo(y.x,y.y),t.stroke(),t.restore(),super.render(t,e,i,n,r)}},Ql=(s,t,e,i,n,r)=>new(e?tp:Oc)(F(F({commandIndex:s,pointIndex:t,actionName:"modifyPath",positionHandler:t5,actionHandler:i5,connectToCommandIndex:n,connectToPointIndex:r},i),e?i.controlPointStyle:i.pointStyle)),yP=Object.freeze({__proto__:null,changeWidth:Nd,createObjectDefaultControls:yp,createPathControls:function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={},i="M";return s.path.forEach((n,r)=>{let o=n[0];switch(o!=="Z"&&(e["c_".concat(r,"_").concat(o)]=Ql(r,n.length-2,!1,t)),o){case"C":e["c_".concat(r,"_C_CP_1")]=Ql(r,1,!0,t,r-1,(a=>a==="C"?5:a==="Q"?3:1)(i)),e["c_".concat(r,"_C_CP_2")]=Ql(r,3,!0,t,r,5);break;case"Q":e["c_".concat(r,"_Q_CP_1")]=Ql(r,1,!0,t,r,3)}i=o}),e},createPolyActionHandler:Y0,createPolyControls:function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={};for(let i=0;i<(typeof s=="number"?s:s.points.length);i++)e["p".concat(i)]=new ai(F({actionName:dv,positionHandler:W0(i),actionHandler:Y0(i)},t));return e},createPolyPositionHandler:W0,createResizeControls:A_,createTextboxDefaultControls:F_,dragHandler:f_,factoryPolyActionHandler:fv,getLocalPoint:Rc,polyActionHandler:pv,renderCircleControl:b_,renderSquareControl:C_,rotationStyleHandler:w_,rotationWithSnapping:x_,scaleCursorStyleHandler:Kr,scaleOrSkewActionName:ga,scaleSkewCursorStyleHandler:Rs,scalingEqually:ma,scalingX:I_,scalingXOrSkewingY:jd,scalingY:D_,scalingYOrSkewingX:Bd,skewCursorStyleHandler:O_,skewHandlerX:k_,skewHandlerY:M_,wrapWithFireEvent:_s,wrapWithFixedAnchor:rr}),Uc=s=>s.webgl!==void 0;var Tp="precision highp float",n5=`
    `.concat(Tp,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),s5=["type"],r5=["type"],o5=new RegExp(Tp,"g"),Mt=class{get type(){return this.constructor.type}constructor(){let t=Tt(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s5);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return n5}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:n="highp"}}=pn();n!=="highp"&&(e=e.replace(o5,Tp.replace("highp",n)));let r=t.createShader(t.VERTEX_SHADER),o=t.createShader(t.FRAGMENT_SHADER),a=t.createProgram();if(!r||!o||!a)throw new Wi("Vertex, fragment shader or program creation error");if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Wi("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(r)));if(t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Wi("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(o)));if(t.attachShader(a,r),t.attachShader(a,o),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Wi('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(a)));let c=this.getUniformLocations(t,a)||{};return c.uStepW=t.getUniformLocation(a,"uStepW"),c.uStepH=t.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(t,a),uniformLocations:c}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(t,e){let i=this.constructor.uniformLocations,n={};for(let r=0;r<i.length;r++)n[i[r]]=t.getUniformLocation(e,i[r]);return n}sendAttributeData(t,e,i){let n=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)}_setupFrameBuffer(t){let e=t.context;if(t.passes>1){let i=t.destinationWidth,n=t.destinationHeight;t.sourceWidth===i&&t.sourceHeight===n||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,i,n)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;let e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){Uc(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){let e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){let e=t.context,i=this.retrieveShader(t);t.pass===0&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){let{sourceWidth:e,sourceHeight:i}=t,n=sn({width:e,height:i});t.helpLayer=n}}toObject(){let t=Object.keys(this.constructor.defaults||{});return F({type:this.type},t.reduce((e,i)=>(e[i]=this[i],e),{}))}toJSON(){return this.toObject()}static fromObject(t,e){return Yt(this,null,function*(){return new this(Tt(t,r5))})}};V(Mt,"type","BaseFilter"),V(Mt,"uniformLocations",[]);var a5={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `},Ls=class extends Mt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(a5[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:e}}=t,i=new ui(this.color).getSource(),n=this.alpha,r=i[0]*n,o=i[1]*n,a=i[2]*n,c=1-n;for(let u=0;u<e.length;u+=4){let d=e[u],m=e[u+1],y=e[u+2],b,C,x;switch(this.mode){case"multiply":b=d*r/255,C=m*o/255,x=y*a/255;break;case"screen":b=255-(255-d)*(255-r)/255,C=255-(255-m)*(255-o)/255,x=255-(255-y)*(255-a)/255;break;case"add":b=d+r,C=m+o,x=y+a;break;case"difference":b=Math.abs(d-r),C=Math.abs(m-o),x=Math.abs(y-a);break;case"subtract":b=d-r,C=m-o,x=y-a;break;case"darken":b=Math.min(d,r),C=Math.min(m,o),x=Math.min(y,a);break;case"lighten":b=Math.max(d,r),C=Math.max(m,o),x=Math.max(y,a);break;case"overlay":b=r<128?2*d*r/255:255-2*(255-d)*(255-r)/255,C=o<128?2*m*o/255:255-2*(255-m)*(255-o)/255,x=a<128?2*y*a/255:255-2*(255-y)*(255-a)/255;break;case"exclusion":b=r+d-2*r*d/255,C=o+m-2*o*m/255,x=a+y-2*a*y/255;break;case"tint":b=r+d*c,C=o+m*c,x=a+y*c}e[u]=b,e[u+1]=C,e[u+2]=x}}sendUniformData(t,e){let i=new ui(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(e.uColor,i)}};V(Ls,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),V(Ls,"type","BlendColor"),V(Ls,"uniformLocations",["uColor"]),oe.setClass(Ls);var l5={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},c5=["type","image"],Ps=class extends Mt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return l5[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){let e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){let t=this.image,{width:e,height:i}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]}applyTo2d(t){let{imageData:{data:e,width:i,height:n},filterBackend:{resources:r}}=t,o=this.image;r.blendImage||(r.blendImage=Yi());let a=r.blendImage,c=a.getContext("2d");a.width!==i||a.height!==n?(a.width=i,a.height=n):c.clearRect(0,0,i,n),c.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),c.drawImage(o.getElement(),0,0,i,n);let u=c.getImageData(0,0,i,n).data;for(let d=0;d<e.length;d+=4){let m=e[d],y=e[d+1],b=e[d+2],C=e[d+3],x=u[d],D=u[d+1],R=u[d+2],U=u[d+3];switch(this.mode){case"multiply":e[d]=m*x/255,e[d+1]=y*D/255,e[d+2]=b*R/255,e[d+3]=C*U/255;break;case"mask":e[d+3]=U}}}sendUniformData(t,e){let i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)}toObject(){return F(F({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static fromObject(t,e){return Yt(this,null,function*(){let{type:i,image:n}=t,r=Tt(t,c5);return Ei.fromObject(n,e).then(o=>new this(F(F({},r),{},{image:o})))})}};V(Ps,"type","BlendImage"),V(Ps,"defaults",{mode:"multiply",alpha:1}),V(Ps,"uniformLocations",["uTransformMatrix","uImage"]),oe.setClass(Ps);var Ns=class extends Mt{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(t){Uc(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){let{ctx:e,imageData:i,filterBackend:{resources:n}}=t,{width:r,height:o}=i;n.blurLayer1||(n.blurLayer1=Yi(),n.blurLayer2=Yi());let a=n.blurLayer1,c=n.blurLayer2;a.width===r&&a.height===o||(c.width=a.width=r,c.height=a.height=o);let u=a.getContext("2d"),d=c.getContext("2d"),m=15,y=.06*this.blur*.5,b,C,x,D;for(u.putImageData(i,0,0),d.clearRect(0,0,r,o),D=-15;D<=m;D++)b=(Math.random()-.5)/4,C=D/m,x=y*C*r+b,d.globalAlpha=1-Math.abs(C),d.drawImage(a,x,b),u.drawImage(c,0,0),d.globalAlpha=1,d.clearRect(0,0,c.width,c.height);for(D=-15;D<=m;D++)b=(Math.random()-.5)/4,C=D/m,x=y*C*o+b,d.globalAlpha=1-Math.abs(C),d.drawImage(a,b,x),u.drawImage(c,0,0),d.globalAlpha=1,d.clearRect(0,0,c.width,c.height);e.drawImage(a,0,0);let R=e.getImageData(0,0,a.width,a.height);return u.globalAlpha=1,u.clearRect(0,0,a.width,a.height),R}sendUniformData(t,e){let i=this.chooseRightDelta();t.uniform2fv(e.uDelta,i)}isNeutralState(){return this.blur===0}chooseRightDelta(){let t=1,e=[0,0];this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio);let i=t*this.blur*.12;return this.horizontal?e[0]=i:e[1]=i,e}};V(Ns,"type","Blur"),V(Ns,"defaults",{blur:0}),V(Ns,"uniformLocations",["uDelta"]),oe.setClass(Ns);var js=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=Math.round(255*this.brightness);for(let n=0;n<e.length;n+=4)e[n]+=i,e[n+1]+=i,e[n+2]+=i}isNeutralState(){return this.brightness===0}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}};V(js,"type","Brightness"),V(js,"defaults",{brightness:0}),V(js,"uniformLocations",["uBrightness"]),oe.setClass(js);var mv={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0},Vn=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){let e=t.imageData.data,i=this.matrix,n=this.colorsOnly;for(let r=0;r<e.length;r+=4){let o=e[r],a=e[r+1],c=e[r+2];if(e[r]=o*i[0]+a*i[1]+c*i[2]+255*i[4],e[r+1]=o*i[5]+a*i[6]+c*i[7]+255*i[9],e[r+2]=o*i[10]+a*i[11]+c*i[12]+255*i[14],!n){let u=e[r+3];e[r]+=u*i[3],e[r+1]+=u*i[8],e[r+2]+=u*i[13],e[r+3]=o*i[15]+a*i[16]+c*i[17]+u*i[18]+255*i[19]}}}sendUniformData(t,e){let i=this.matrix,n=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],r=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,r)}toObject(){return F(F({},super.toObject()),{},{matrix:[...this.matrix]})}};function or(s,t){var e;let i=(V(e=class extends Vn{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",s),V(e,"defaults",{colorsOnly:!1,matrix:t}),e);return oe.setClass(i,s),i}V(Vn,"type","ColorMatrix"),V(Vn,"defaults",mv),V(Vn,"uniformLocations",["uColorMatrix","uConstants"]),oe.setClass(Vn);var h5=or("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),u5=or("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),d5=or("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),p5=or("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),f5=or("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),m5=or("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),g5=or("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]),Ea=class extends Mt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){Uc(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(e=>{e.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(i=>oe.getClass(i.type).fromObject(i,e))).then(i=>new this({subFilters:i}))}};V(Ea,"type","Composed"),oe.setClass(Ea);var Bs=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:e}}=t,i=Math.floor(255*this.contrast),n=259*(i+255)/(255*(259-i));for(let r=0;r<e.length;r+=4)e[r]=n*(e[r]-128)+128,e[r+1]=n*(e[r+1]-128)+128,e[r+2]=n*(e[r+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}};V(Bs,"type","Contrast"),V(Bs,"defaults",{contrast:0}),V(Bs,"uniformLocations",["uContrast"]),oe.setClass(Bs);var _5={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `},Us=class extends Mt{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return _5[this.getCacheKey()]}applyTo2d(t){let e=t.imageData,i=e.data,n=this.matrix,r=Math.round(Math.sqrt(n.length)),o=Math.floor(r/2),a=e.width,c=e.height,u=t.ctx.createImageData(a,c),d=u.data,m=this.opaque?1:0,y,b,C,x,D,R,U,P,z,$,Z,ge,Q;for(Z=0;Z<c;Z++)for($=0;$<a;$++){for(D=4*(Z*a+$),y=0,b=0,C=0,x=0,Q=0;Q<r;Q++)for(ge=0;ge<r;ge++)U=Z+Q-o,R=$+ge-o,U<0||U>=c||R<0||R>=a||(P=4*(U*a+R),z=n[Q*r+ge],y+=i[P]*z,b+=i[P+1]*z,C+=i[P+2]*z,m||(x+=i[P+3]*z));d[D]=y,d[D+1]=b,d[D+2]=C,d[D+3]=m?i[D+3]:x}t.imageData=u}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return F(F({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}};V(Us,"type","Convolute"),V(Us,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),V(Us,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),oe.setClass(Us);var gv="Gamma",Hs=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t,i=this.gamma,n=1/i[0],r=1/i[1],o=1/i[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let a=this.rgbValues;for(let c=0;c<256;c++)a.r[c]=255*Math.pow(c/255,n),a.g[c]=255*Math.pow(c/255,r),a.b[c]=255*Math.pow(c/255,o);for(let c=0;c<e.length;c+=4)e[c]=a.r[e[c]],e[c+1]=a.g[e[c+1]],e[c+2]=a.b[e[c+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){let{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:gv,gamma:this.gamma.concat()}}};V(Hs,"type",gv),V(Hs,"defaults",{gamma:[1,1,1]}),V(Hs,"uniformLocations",["uGamma"]),oe.setClass(Hs);var v5={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `},zs=class extends Mt{applyTo2d(t){let{imageData:{data:e}}=t;for(let i,n=0;n<e.length;n+=4){let r=e[n],o=e[n+1],a=e[n+2];switch(this.mode){case"average":i=(r+o+a)/3;break;case"lightness":i=(Math.min(r,o,a)+Math.max(r,o,a))/2;break;case"luminosity":i=.21*r+.72*o+.07*a}e[n+2]=e[n+1]=e[n]=i}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return v5[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}};V(zs,"type","Grayscale"),V(zs,"defaults",{mode:"average"}),V(zs,"uniformLocations",["uMode"]),oe.setClass(zs);var y5=F(F({},mv),{},{rotation:0}),no=class extends Vn{calculateMatrix(){let t=this.rotation*Math.PI,e=tn(t),i=nn(t),n=1/3,r=Math.sqrt(n)*i,o=1-e;this.matrix=[e+o/3,n*o-r,n*o+r,0,0,n*o+r,e+n*o,n*o-r,0,0,n*o-r,n*o+r,e+n*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}};V(no,"type","HueRotation"),V(no,"defaults",y5),oe.setClass(no);var Ws=class extends Mt{applyTo2d(t){let{imageData:{data:e}}=t;for(let i=0;i<e.length;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2],this.alpha&&(e[i+3]=255-e[i+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}};V(Ws,"type","Invert"),V(Ws,"defaults",{alpha:!1,invert:!0}),V(Ws,"uniformLocations",["uInvert","uAlpha"]),oe.setClass(Ws);var Ys=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=this.noise;for(let n=0;n<e.length;n+=4){let r=(.5-Math.random())*i;e[n]+=r,e[n+1]+=r,e[n+2]+=r}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return this.noise===0}};V(Ys,"type","Noise"),V(Ys,"defaults",{noise:0}),V(Ys,"uniformLocations",["uNoise","uSeed"]),oe.setClass(Ys);var Gs=class extends Mt{applyTo2d(t){let{imageData:{data:e,width:i,height:n}}=t;for(let r=0;r<n;r+=this.blocksize)for(let o=0;o<i;o+=this.blocksize){let a=4*r*i+4*o,c=e[a],u=e[a+1],d=e[a+2],m=e[a+3];for(let y=r;y<Math.min(r+this.blocksize,n);y++)for(let b=o;b<Math.min(o+this.blocksize,i);b++){let C=4*y*i+4*b;e[C]=c,e[C+1]=u,e[C+2]=d,e[C+3]=m}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}};V(Gs,"type","Pixelate"),V(Gs,"defaults",{blocksize:4}),V(Gs,"uniformLocations",["uBlocksize"]),oe.setClass(Gs);var $s=class extends Mt{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:e}}=t,i=255*this.distance,n=new ui(this.color).getSource(),r=[n[0]-i,n[1]-i,n[2]-i],o=[n[0]+i,n[1]+i,n[2]+i];for(let a=0;a<e.length;a+=4){let c=e[a],u=e[a+1],d=e[a+2];c>r[0]&&u>r[1]&&d>r[2]&&c<o[0]&&u<o[1]&&d<o[2]&&(e[a+3]=0)}}sendUniformData(t,e){let i=new ui(this.color).getSource(),n=this.distance,r=[0+i[0]/255-n,0+i[1]/255-n,0+i[2]/255-n,1],o=[i[0]/255+n,i[1]/255+n,i[2]/255+n,1];t.uniform4fv(e.uLow,r),t.uniform4fv(e.uHigh,o)}};V($s,"type","RemoveColor"),V($s,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),V($s,"uniformLocations",["uLow","uHigh"]),oe.setClass($s);var qs=class extends Mt{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){let t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){let t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){let t=this.getFilterWindow();return this.generateShader(t)}getTaps(){let t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),n=new Array(i);for(let r=1;r<=i;r++)n[r-1]=t(r*e);return n}generateShader(t){let e=new Array(t);for(let i=1;i<=t;i++)e[i-1]="".concat(i,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((i,n)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(i,") * uTaps[").concat(n,"] + texture2D(uTexture, vTexCoord - ").concat(i,") * uTaps[").concat(n,`];
              sum += 2.0 * uTaps[`).concat(n,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){Uc(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<11920929e-14&&e>-11920929e-14)return 1;let i=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(i)/i}}applyTo2d(t){let e=t.imageData,i=this.scaleX,n=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/n;let r=e.width,o=e.height,a=Math.round(r*i),c=Math.round(o*n),u;u=this.resizeType==="sliceHack"?this.sliceByTwo(t,r,o,a,c):this.resizeType==="hermite"?this.hermiteFastResize(t,r,o,a,c):this.resizeType==="bilinear"?this.bilinearFiltering(t,r,o,a,c):this.resizeType==="lanczos"?this.lanczosResize(t,r,o,a,c):new ImageData(a,c),t.imageData=u}sliceByTwo(t,e,i,n,r){let o=t.imageData,a=.5,c=!1,u=!1,d=e*a,m=i*a,y=t.filterBackend.resources,b=0,C=0,x=e,D=0;y.sliceByTwo||(y.sliceByTwo=Yi());let R=y.sliceByTwo;(R.width<1.5*e||R.height<i)&&(R.width=1.5*e,R.height=i);let U=R.getContext("2d");for(U.clearRect(0,0,1.5*e,i),U.putImageData(o,0,0),n=Math.floor(n),r=Math.floor(r);!c||!u;)e=d,i=m,n<Math.floor(d*a)?d=Math.floor(d*a):(d=n,c=!0),r<Math.floor(m*a)?m=Math.floor(m*a):(m=r,u=!0),U.drawImage(R,b,C,e,i,x,D,d,m),b=x,C=D,D+=m;return U.getImageData(b,C,n,r)}lanczosResize(t,e,i,n,r){let o=t.imageData.data,a=t.ctx.createImageData(n,r),c=a.data,u=this.lanczosCreate(this.lanczosLobes),d=this.rcpScaleX,m=this.rcpScaleY,y=2/this.rcpScaleX,b=2/this.rcpScaleY,C=Math.ceil(d*this.lanczosLobes/2),x=Math.ceil(m*this.lanczosLobes/2),D={},R={x:0,y:0},U={x:0,y:0};return function P(z){let $,Z,ge,Q,Ee,Xe,it,St,Ke,dt,Wt;for(R.x=(z+.5)*d,U.x=Math.floor(R.x),$=0;$<r;$++){for(R.y=($+.5)*m,U.y=Math.floor(R.y),Ee=0,Xe=0,it=0,St=0,Ke=0,Z=U.x-C;Z<=U.x+C;Z++)if(!(Z<0||Z>=e)){dt=Math.floor(1e3*Math.abs(Z-R.x)),D[dt]||(D[dt]={});for(let Kt=U.y-x;Kt<=U.y+x;Kt++)Kt<0||Kt>=i||(Wt=Math.floor(1e3*Math.abs(Kt-R.y)),D[dt][Wt]||(D[dt][Wt]=u(Math.sqrt(Math.pow(dt*y,2)+Math.pow(Wt*b,2))/1e3)),ge=D[dt][Wt],ge>0&&(Q=4*(Kt*e+Z),Ee+=ge,Xe+=ge*o[Q],it+=ge*o[Q+1],St+=ge*o[Q+2],Ke+=ge*o[Q+3]))}Q=4*($*n+z),c[Q]=Xe/Ee,c[Q+1]=it/Ee,c[Q+2]=St/Ee,c[Q+3]=Ke/Ee}return++z<n?P(z):a}(0)}bilinearFiltering(t,e,i,n,r){let o,a,c,u,d,m,y,b,C,x,D,R,U,P=0,z=this.rcpScaleX,$=this.rcpScaleY,Z=4*(e-1),ge=t.imageData.data,Q=t.ctx.createImageData(n,r),Ee=Q.data;for(y=0;y<r;y++)for(b=0;b<n;b++)for(d=Math.floor(z*b),m=Math.floor($*y),C=z*b-d,x=$*y-m,U=4*(m*e+d),D=0;D<4;D++)o=ge[U+D],a=ge[U+4+D],c=ge[U+Z+D],u=ge[U+Z+4+D],R=o*(1-C)*(1-x)+a*C*(1-x)+c*x*(1-C)+u*C*x,Ee[P++]=R;return Q}hermiteFastResize(t,e,i,n,r){let o=this.rcpScaleX,a=this.rcpScaleY,c=Math.ceil(o/2),u=Math.ceil(a/2),d=t.imageData.data,m=t.ctx.createImageData(n,r),y=m.data;for(let b=0;b<r;b++)for(let C=0;C<n;C++){let x=4*(C+b*n),D=0,R=0,U=0,P=0,z=0,$=0,Z=0,ge=(b+.5)*a;for(let Q=Math.floor(b*a);Q<(b+1)*a;Q++){let Ee=Math.abs(ge-(Q+.5))/u,Xe=(C+.5)*o,it=Ee*Ee;for(let St=Math.floor(C*o);St<(C+1)*o;St++){let Ke=Math.abs(Xe-(St+.5))/c,dt=Math.sqrt(it+Ke*Ke);dt>1&&dt<-1||(D=2*dt*dt*dt-3*dt*dt+1,D>0&&(Ke=4*(St+Q*e),Z+=D*d[Ke+3],U+=D,d[Ke+3]<255&&(D=D*d[Ke+3]/250),P+=D*d[Ke],z+=D*d[Ke+1],$+=D*d[Ke+2],R+=D))}}y[x]=P/R,y[x+1]=z/R,y[x+2]=$/R,y[x+3]=Z/U}return m}};V(qs,"type","Resize"),V(qs,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),V(qs,"uniformLocations",["uDelta","uTaps"]),oe.setClass(qs);var Xs=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=-this.saturation;for(let n=0;n<e.length;n+=4){let r=e[n],o=e[n+1],a=e[n+2],c=Math.max(r,o,a);e[n]+=c!==r?(c-r)*i:0,e[n+1]+=c!==o?(c-o)*i:0,e[n+2]+=c!==a?(c-a)*i:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}};V(Xs,"type","Saturation"),V(Xs,"defaults",{saturation:0}),V(Xs,"uniformLocations",["uSaturation"]),oe.setClass(Xs);var Ks=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=-this.vibrance;for(let n=0;n<e.length;n+=4){let r=e[n],o=e[n+1],a=e[n+2],c=Math.max(r,o,a),u=(r+o+a)/3,d=2*Math.abs(c-u)/255*i;e[n]+=c!==r?(c-r)*d:0,e[n+1]+=c!==o?(c-o)*d:0,e[n+2]+=c!==a?(c-a)*d:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}};V(Ks,"type","Vibrance"),V(Ks,"defaults",{vibrance:0}),V(Ks,"uniformLocations",["uVibrance"]),oe.setClass(Ks);var bP=Object.freeze({__proto__:null,BaseFilter:Mt,BlackWhite:g5,BlendColor:Ls,BlendImage:Ps,Blur:Ns,Brightness:js,Brownie:h5,ColorMatrix:Vn,Composed:Ea,Contrast:Bs,Convolute:Us,Gamma:Hs,Grayscale:zs,HueRotation:no,Invert:Ws,Kodachrome:d5,Noise:Ys,Pixelate:Gs,Polaroid:f5,RemoveColor:$s,Resize:qs,Saturation:Xs,Sepia:m5,Technicolor:p5,Vibrance:Ks,Vintage:u5});var VP=(()=>{class s{amountToWordsService;messageService;confirmationService;canvas;canvasBack;textboxBackgroundColor="#f3fbfd";textboxBorderColor="#059bb4";currentTextboxBackgroundColor="#f3fbfd";objectSelected=new G;constructor(e,i,n){this.amountToWordsService=e,this.messageService=i,this.confirmationService=n}ngOnInit(){this.initializeCanvas(),this.addInitialTexts(),this.enableDragAndDrop()}resizeAndLoadCanvas(e){if(e){this.canvas.setDimensions({width:e.canvasWidth,height:e.canvasHeight}),this.canvasBack.setDimensions({width:e.canvasWidth,height:e.canvasHeight});let i=JSON.parse(e.chequeConfigFront),n=JSON.parse(e.chequeConfigBack);this.canvas.loadFromJSON(i).then(()=>{this.canvas.renderAll(),console.log("Canvas Front has been successfully loaded from JSON")}),this.canvasBack.loadFromJSON(n).then(()=>{this.canvasBack.getObjects("Textbox").length==1&&this.addTextBack("",this.canvasBack.getWidth()/2-100,this.canvasBack.getHeight()/2-50,200),this.canvasBack.renderAll(),console.log("Canvas Back has been successfully loaded from JSON")})}}initializeCanvas(){this.canvas=new nr("canvas",{backgroundColor:"#f3f4f6"}),this.canvas.renderAll.bind(this.canvas),this.canvasBack=new nr("canvasBack",{backgroundColor:"transparent"}),this.canvasBack.renderAll.bind(this.canvasBack)}loadBackgroundImage(e,i,n){this.canvas.setDimensions({width:e,height:i}),this.canvasBack.setDimensions({width:e,height:i}),this.canvas.renderAll(),this.canvasBack.renderAll(),Ei.fromURL(n,{crossOrigin:"anonymous"}).then(r=>{let o=r.width,a=r.height;r.set({left:0,top:0,scaleX:e/o,scaleY:i/a}),this.canvas.backgroundImage=r,this.canvas.renderAll(),this.canvasBack.renderAll()})}resizeBackgroundImage(e,i){this.canvas.setDimensions({width:e,height:i}),this.canvasBack.setDimensions({width:e,height:i}),this.canvas.renderAll(),this.canvasBack.renderAll();let n=this.canvas.backgroundImage;if(n){let r=n.width,o=n.height;n.set({left:0,top:0,scaleX:e/r,scaleY:i/o}),this.canvas.backgroundImage=n}this.canvas.renderAll(),this.canvasBack.renderAll()}addInitialTexts(){this.addText("Date",30,20,80),this.addText("National Finance Company",30,50,180),this.addText("Amount in line1",30,90,130),this.addText("Amount in line2",30,130,130),this.addText("Rials",30,170,50),this.addText("Baiza",30,210,50),this.addText("A/C PAYEE",30,250,80),this.addTextBack("",this.canvasBack.getWidth()/2-100,this.canvasBack.getHeight()/2-50,200),this.addTextBack("",this.canvasBack.getWidth()/2-100,this.canvasBack.getHeight()/2,200)}enableDragAndDrop(){this.canvas.on("object:moving",e=>{e.target.set({left:e.target.left,top:e.target.top})}),this.canvas.on("selection:created",()=>{this.objectSelected.emit(this.canvas.getActiveObject())}),this.canvasBack.on("selection:created",()=>{this.objectSelected.emit(this.canvasBack.getActiveObject())}),this.canvas.on("selection:updated",()=>{this.objectSelected.emit(this.canvas.getActiveObject())}),this.canvasBack.on("selection:updated",()=>{this.objectSelected.emit(this.canvasBack.getActiveObject())}),this.canvas.on("selection:cleared",()=>{this.objectSelected.emit(this.canvas.getActiveObject())}),this.canvasBack.on("selection:cleared",()=>{this.objectSelected.emit(this.canvasBack.getActiveObject())})}addText(e,i,n,r){let o=new Fn(e,{left:i,top:n,fill:"black",fontSize:14,editable:!1,hasControls:!0,hasBorders:!0,borderColor:this.textboxBorderColor,selectable:!0,lockRotation:!0,fontFamily:'"Inter var", sans-serif',width:r,padding:2,backgroundColor:this.textboxBackgroundColor,splitByGrapheme:!1,lineHeight:1,textAlign:"left"});this.canvas.add(o),o.on("modified",()=>{o.setCoords(),this.canvas.renderAll()}),o.on("moving",()=>{o.setCoords(),this.canvas.renderAll()})}addTextBack(e,i,n,r){let o=new Fn(e,{left:i,top:n,fill:"black",fontSize:20,editable:!1,hasControls:!0,hasBorders:!0,borderColor:this.textboxBorderColor,selectable:!0,lockRotation:!0,fontFamily:'"Inter var", sans-serif',width:r,padding:2,backgroundColor:this.textboxBackgroundColor,splitByGrapheme:!1,lineHeight:1,textAlign:"left"});this.canvasBack.add(o),o.on("modified",()=>{o.setCoords(),this.canvasBack.renderAll()}),o.on("moving",()=>{o.setCoords(),this.canvasBack.renderAll()})}toggleBackgroundColor(e){let i=this.canvas.getObjects(),n=this.canvasBack.getObjects();e?(i.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor",this.textboxBackgroundColor)}),n.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor",this.textboxBackgroundColor)})):(i.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor","transparent")}),n.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor","transparent")})),this.canvas.renderAll(),this.canvasBack.renderAll()}printCanvas(e,i,n,r,o,a,c,u,d){let m=0;r?m=i[0]?.periods||0:m=i.reduce((z,$)=>z+($?$.periods:0),0);let y=pa.generateDatePeriods(e,m,a),b=this.canvas.backgroundImage,C=this.canvas.backgroundColor,x=this.canvas.getObjects(),D=this.canvasBack.getObjects();x.forEach((z,$)=>{z.type==="textbox"&&(z.top=z.top+d,z.set("backgroundColor","transparent"),$===0&&(this.currentTextboxBackgroundColor=z.backgroundColor))}),D.forEach(z=>{z.type==="textbox"&&z.set("backgroundColor","transparent")}),this.canvas.backgroundImage=void 0,this.canvas.backgroundColor="transparent",this.canvasBack.backgroundImage=void 0,this.canvasBack.backgroundColor="transparent";let R=[];this.updateTextBack(u,1),this.updateTextBack(n+"",0);let U=this.canvasBack.toDataURL({format:"png",quality:1,multiplier:3}),P=0;i.forEach(z=>{let $=P+z.periods-1;for(let Z=P;Z<=$;Z++){let ge=y[Z];Z===P&&z.periods>1?(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(z.periodAmount),2,3),this.updateText(z.periodAmount+"/",4),this.updateText("---",5)):Z===$&&(z.periods>1?(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(z.periodLastAmount?z.periodLastAmount:z.periodAmount),2,3),this.updateText((z.periodLastAmount?z.periodLastAmount:z.periodAmount)+"/",4)):(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(z.periodAmount),2,3),this.updateText(z.periodAmount+"/",4)),this.updateText("---",5)),this.updateText(ge,0),this.canvas.renderAll();let Q=this.canvas.toDataURL({format:"png",quality:1,multiplier:3});ge.trim()!==""&&R.push(Q)}P+=z.periods}),this.canvas.backgroundImage=b,this.canvas.backgroundColor=C||"transparent",x.forEach(z=>{z.type==="textbox"&&(z.top=z.top-d,z.set("backgroundColor",this.currentTextboxBackgroundColor))}),D.forEach(z=>{z.type==="textbox"&&z.set("backgroundColor",this.currentTextboxBackgroundColor)}),this.canvas.renderAll(),this.canvasBack.renderAll(),this.printCheques([R[0]],U,o,c,!0,R)}printCheques(e,i,n,r,o,a){let c=window.open("","_blank");if(c){let u=e.map((d,m)=>{let y=n==="both"||n==="front"?`<div class="page" style="${m<e.length-1?"page-break-after: always;":""}">
               <img src="${d}" style="width:${this.canvas.width}; height: ${this.canvas.height};" />
             </div>`:"",b=n==="both"||n==="back"?`<div class="page" style="${m<e.length-1?"page-break-after: always;":""}">
               <img src="${i}" style="width:${this.canvasBack.width}; height: ${this.canvasBack.height};" />
             </div>`:"";return y+b}).join("");c.document.write(`
    <html>
    <head>
      <title>Print</title>
      <style>
        @page {
          size: A4 portrait;
          margin: 0; 
        }

        body {
          margin: 0;
          padding: 0;
          background-color: white;
        }

        .page {
          position: relative;
          width: 210mm;  
          height: 297mm; 
          display: flex;
          justify-content: flex-start;
          align-items: flex-start; 
          overflow: hidden; 
        }

        @media print {
          img {
            margin: 0;
            display: block;
            transform: translateX(-50%) rotate(90deg);
            position: absolute;
            top: ${r}%; 
            left: 50%;                
          }
        }

      </style>
    </head>
    <body>
      ${u}
    </body>
    </html>
  `),c.document.close(),c.onload=()=>{c.onafterprint=()=>{o&&a.length>1&&setTimeout(()=>{this.confirmationService.confirm({message:"Are you sure you want to print the rest of the cheques?",header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-success ml-2",rejectButtonStyleClass:"p-button-warning",accept:()=>{this.printCheques(a.slice(1),i,n,r,!1,[])},reject:()=>{this.messageService.add({severity:"info",summary:"Cancelled",detail:"Remaining cheques have been cancelled."})}})},600),c.close()},setTimeout(()=>{c.print()},200)}}else console.error("Failed to open print window. Please check your browser settings.")}printSettingsCanvas(e,i,n){let r=this.canvas.backgroundImage,o=this.canvas.getObjects(),a=this.canvasBack.getObjects();o.forEach((C,x)=>{x==0&&(this.currentTextboxBackgroundColor=C.backgroundColor),C.type==="textbox"&&(n&&C.set("backgroundColor","transparent"),C.top=C.top+i)}),a.forEach(C=>{C.type==="textbox"&&n&&C.set("backgroundColor","transparent")}),n&&(this.canvas.backgroundImage=void 0,this.canvas.backgroundColor="transparent");let c=this.canvas.toDataURL({format:"png",quality:1,multiplier:3}),u=this.canvasBack.toDataURL({format:"png",quality:1,multiplier:3});o.forEach(C=>{C.type==="textbox"&&(C.top=C.top-i,C.set("backgroundColor",this.currentTextboxBackgroundColor))}),a.forEach(C=>{C.type==="textbox"&&C.set("backgroundColor",this.currentTextboxBackgroundColor)}),n&&(this.canvas.backgroundImage=r);let d=`<div class="page" >
    <img src="${c}" style="width:${this.canvas.width}; height: ${this.canvas.height};" />
  </div>`,m=`<div class="page" >
            <img src="${u}" style="width:${this.canvasBack.width}; height: ${this.canvasBack.height};" />
          </div>`,y=d+m,b=window.open("","_blank");b?(b.document.write(`
        <html>
        <head>
          <title>Print</title>
          <style>
            @page {
              size: A4 portrait;
              margin: 0; 
            }

            body {
              margin: 0;
              padding: 0;
              background-color: white;
            }

            .page {
              position: relative;
              width: 210mm;  
              height: 297mm; 
              display: flex;
              justify-content: flex-start;
              align-items: flex-start; 
              overflow: hidden; 
            }

            @media print {
              img {
                margin: 0;
                display: block;
                transform: translateX(-50%) rotate(90deg);
                position: absolute;
                top: ${e}%; 
                left: 50%;                
              }
            }
          </style>
        </head>
        <body>
          ${y}
        </body>
        </html>
      `),b.document.close(),b.onload=()=>{setTimeout(()=>{b.print(),b.close()},500)}):console.error("Failed to open print window. Please check your browser settings.")}printPreviewCanvas(e,i,n,r,o,a,c){let u=0;r?u=i[0]?.periods||0:u=i.reduce((P,z)=>P+(z?z.periods:0),0);let d=pa.generateDatePeriods(e,u,a),m=this.canvas.backgroundImage,y=this.canvas.backgroundColor,b=this.canvas.getObjects(),C=this.canvasBack.getObjects();b.forEach((P,z)=>{P.type==="textbox"&&(P.set("backgroundColor","transparent"),z==0&&(this.currentTextboxBackgroundColor=P.backgroundColor))}),C.forEach(P=>{P.type==="textbox"&&P.set("backgroundColor","transparent")}),this.canvas.backgroundImage=void 0,this.canvas.backgroundColor="transparent",this.canvasBack.backgroundImage=void 0,this.canvasBack.backgroundColor="transparent";let x=[];this.updateTextBack(c,1),this.updateTextBack(n+"",0);let D=this.canvasBack.toDataURL({format:"png",quality:1,multiplier:3}),R=0;i.forEach(P=>{let z=R+P.periods-1;for(let $=R;$<=z;$++){let Z=d[$];$===R&&P.periods>1?(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(P.periodAmount),2,3),this.updateText(P.periodAmount+"/",4),this.updateText("---",5)):$===z&&(P.periods>1?(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(P.periodLastAmount?P.periodLastAmount:P.periodAmount),2,3),this.updateText((P.periodLastAmount?P.periodLastAmount:P.periodAmount)+"/",4)):(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(P.periodAmount),2,3),this.updateText(P.periodAmount+"/",4)),this.updateText("---",5)),this.updateText(Z,0),this.canvas.renderAll();let ge=this.canvas.toDataURL({format:"png",quality:1,multiplier:3});Z.trim()!==""&&x.push(ge)}R+=P.periods}),this.canvas.backgroundImage=m,this.canvas.backgroundColor=y||"transparent",b.forEach(P=>{P.type==="textbox"&&P.set("backgroundColor",this.currentTextboxBackgroundColor)}),C.forEach(P=>{P.type==="textbox"&&P.set("backgroundColor",this.currentTextboxBackgroundColor)}),this.canvas.renderAll(),this.canvasBack.renderAll();let U=window.open("","_blank");if(U){let P=x.map((z,$)=>{let Z=o==="both"||o==="back"?`<div class="page">
                   <img src="${D}" style="width:${this.canvasBack.width}; height: ${this.canvasBack.height};"/>
                 </div>`:"";return(o==="both"||o==="front"?`<div class="page" style="${$<x.length-1?"page-break-after: always;":""}">
                   <img src="${z}" style="width:${this.canvas.width}; height: ${this.canvas.height};"/>
                 </div>`:"")+Z}).join("");U.document.write(`
        <html>
        <head>
          <title>Print</title>
          <style>
            @page {
              size: A4 portrait;
              margin: 0;
            }
            body {
              margin: 0;
              background-color: white;
            }
            .page {
              position: relative;
              width: 100%;
              height: 100%;
              overflow: hidden; /* Prevent overflow */
            }
          
          </style>
        </head>
        <body>
          ${P}
        </body>
        </html>
      `),U.document.close(),U.onload=()=>{}}else console.error("Failed to open print window. Please check your browser settings.")}moveText(e){let i=this.canvas.getActiveObject(),n=!1;if(i||(i=this.canvasBack.getActiveObject(),n=!0),i){switch(e){case"left":i.set({left:i.left-1});break;case"right":i.set({left:i.left+1});break;case"up":i.set({top:i.top-1});break;case"down":i.set({top:i.top+1});break}i.setCoords(),n?this.canvasBack.renderAll():this.canvas.renderAll()}}disposeCanvas(){this.canvas.dispose(),this.canvasBack.dispose();let e=document.getElementById("canvas");e&&e.remove();let i=document.getElementById("canvasBack");i&&i.remove()}resetCanvas(){this.canvas&&(this.canvas.clear(),this.canvasBack.clear(),this.canvas.backgroundColor="#f3f4f6",this.canvas.setDimensions({width:722,height:341}),this.canvasBack.setDimensions({width:722,height:341}),this.addInitialTexts(),this.enableDragAndDrop(),this.canvas.renderAll(),this.canvasBack.renderAll())}setBackgroundImage(){let e=prompt("Enter the URL of the background image:");e&&Ei.fromURL(e,{crossOrigin:"anonymous"}).then(i=>{let n=this.canvas.width/i.width,r=this.canvas.height/i.height,o=Math.min(n,r);i.scale(o),i.set({left:(this.canvas.width-i.width*o)/2,top:(this.canvas.height-i.height*o)/2}),this.canvas.backgroundImage=i,this.canvas.renderAll()})}exportJSON(){let e=this.canvas.toJSON();return JSON.stringify(e,null,2)}exportBackJSON(){let e=this.canvasBack.toJSON();return JSON.stringify(e,null,2)}findTextObject(e){return this.canvas.getObjects("Textbox")[e]}updateText(e,i){this.canvas.getObjects("Textbox")[i].set({text:e}),this.canvas.renderAll()}splitTextBetweenTwoObjects(e,i,n){let o=this.findTextObject(i)?.width||100;o=o!=130?o-130:o;let a=this.canvas.getContext(),c=e.split(" "),u="",d=c.length;for(let m=0;m<c.length;m++){let y=u+c[m]+" ";if(a.measureText(y).width>o){d=m;break}u=y}if(this.updateText(u.trim(),i),d>0&&d<c.length){let m=c.slice(d).join(" ").trim();this.updateText(m,n)}else this.updateText("",n)}increaseTextboxWidth(){let e=this.canvas.getActiveObject(),i=!1;e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"?(e.width+=5,e.set({textAlign:"left"}),e.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()):console.log("No textbox selected")}decreaseTextboxWidth(){let e=this.canvas.getActiveObject(),i=!1;e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"?e.width>5&&(e.width-=5,e.set({textAlign:"left"}),e.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()):console.log("No textbox selected")}increaseFontSize(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("fontSize",n.fontSize+1),n.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()}else console.log("No textbox selected")}decreaseFontSize(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e,r=n.fontSize-1;n.set("fontSize",r>0?r:1),n.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()}}toggleBold(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("fontWeight",n.fontWeight==="bold"?"normal":"bold"),i?this.canvasBack.renderAll():this.canvas.renderAll()}}toggleItalic(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("fontStyle",n.fontStyle==="italic"?"normal":"italic"),i?this.canvasBack.renderAll():this.canvas.renderAll()}}toggleUnderline(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("underline",!n.underline),i?this.canvasBack.renderAll():this.canvas.renderAll()}}hideShowTextbox(e,i){let n=this.canvas.getObjects()[e];n&&n.type==="textbox"&&(n.set("visible",i),this.canvas.renderAll())}updateTextBack(e,i){this.canvasBack.getObjects("Textbox")[i].set({text:e}),this.canvasBack.renderAll()}static \u0275fac=function(i){return new(i||s)(j(p0),j(ts),j(Lr))};static \u0275cmp=q({type:s,selectors:[["app-image-manipulation"]],outputs:{objectSelected:"objectSelected"},decls:7,vars:0,consts:[[1,"col","p-0"],["id","canvas","width","722","height","341",1,"border-1","border-round"],[1,"font-bold","my-2"],[1,"col","p-0","mt-2"],["id","canvasBack","width","722","height","341",1,"border-1","border-round"]],template:function(i,n){i&1&&(L(0,"p-toast"),S(1,"div",0),L(2,"canvas",1),I(),S(3,"div",2),fe(4,"Cheque Back"),I(),S(5,"div",3),L(6,"canvas",4),I())},dependencies:[m0]})}return s})();var Hc={production:!0,apiUrl:"http://10.10.46.203:9001/cheque",featureFlag:!0,logging:{level:"error"}};var _v=(()=>{class s{http;baseUrl=Hc.apiUrl+"/api/cheques";constructor(e){this.http=e}createCheque(e){return this.http.post(`${this.baseUrl}/v1/save`,e)}getCheque(e){return this.http.get(`${this.baseUrl}/v1/${e}`)}getBanks(){return this.http.get(`${this.baseUrl}/v1/banks`)}updateCheque(e,i){return this.http.put(`${this.baseUrl}/v1/${e}`,i)}deleteCheque(e){return this.http.delete(`${this.baseUrl}/v1/${e}`)}static \u0275fac=function(i){return new(i||s)(ke(Ss))};static \u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var C5=["content"],w5=[[["p-footer"]]],x5=["p-footer"],T5=s=>({"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":s}),S5=(s,t)=>({transform:s,transition:t}),I5=s=>({value:"visible",params:s}),vv=s=>({$implicit:s}),D5=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function O5(s,t){s&1&&pe(0)}function E5(s,t){if(s&1&&(ee(0),T(1,O5,1,0,"ng-container",7),te()),s&2){let e=v(3);_(),f("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",he(2,vv,e.confirmation))}}function k5(s,t){s&1&&pe(0)}function M5(s,t){if(s&1&&(S(0,"div",14),T(1,k5,1,0,"ng-container",15),I()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.headerTemplate)}}function A5(s,t){if(s&1&&(S(0,"span",19),fe(1),I()),s&2){let e=v(5);f("id",e.ariaLabelledBy),_(),We(e.option("header"))}}function F5(s,t){if(s&1){let e=J();S(0,"button",20),W("click",function(n){O(e);let r=v(5);return E(r.close(n))})("keydown.enter",function(n){O(e);let r=v(5);return E(r.close(n))}),L(1,"TimesIcon"),I()}if(s&2){let e=v(5);f("ngClass",qi(2,D5)),k("aria-label",e.closeAriaLabel)}}function V5(s,t){if(s&1&&(S(0,"div",14),T(1,A5,2,2,"span",16),S(2,"div",17),T(3,F5,2,3,"button",18),I()()),s&2){let e=v(4);_(),f("ngIf",e.option("header")),_(2),f("ngIf",e.closable)}}function R5(s,t){if(s&1&&L(0,"i",3),s&2){let e=v(4);Y(e.option("icon")),f("ngClass","p-confirm-dialog-icon")}}function L5(s,t){}function P5(s,t){s&1&&T(0,L5,0,0,"ng-template")}function N5(s,t){if(s&1&&(ee(0),T(1,P5,1,0,null,15),te()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.iconTemplate)}}function j5(s,t){if(s&1&&L(0,"span",21),s&2){let e=v(4);f("innerHTML",e.option("message"),Do)}}function B5(s,t){}function U5(s,t){s&1&&T(0,B5,0,0,"ng-template")}function H5(s,t){if(s&1&&(ee(0),T(1,U5,1,0,null,7),te()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.messageTemplate)("ngTemplateOutletContext",he(2,vv,e.confirmation))}}function z5(s,t){s&1&&pe(0)}function W5(s,t){if(s&1&&(S(0,"div",22),ct(1),T(2,z5,1,0,"ng-container",15),I()),s&2){let e=v(4);_(2),f("ngTemplateOutlet",e.footerTemplate)}}function Y5(s,t){if(s&1&&L(0,"i"),s&2){let e=v(7);Y(e.option("rejectIcon"))}}function G5(s,t){s&1&&L(0,"TimesIcon",28),s&2&&f("styleClass","p-button-icon-left")}function $5(s,t){if(s&1&&(ee(0),T(1,Y5,1,2,"i",26)(2,G5,1,1,"TimesIcon",27),te()),s&2){let e=v(6);_(),f("ngIf",e.option("rejectIcon")),_(),f("ngIf",!e.option("rejectIcon"))}}function q5(s,t){}function X5(s,t){s&1&&T(0,q5,0,0,"ng-template")}function K5(s,t){if(s&1&&(S(0,"span",29),T(1,X5,1,0,null,15),I()),s&2){let e=v(6);_(),f("ngTemplateOutlet",e.rejectIconTemplate)}}function Z5(s,t){if(s&1){let e=J();S(0,"button",24),W("click",function(){O(e);let n=v(5);return E(n.reject())}),T(1,$5,3,2,"ng-container",11)(2,K5,2,1,"span",25),I()}if(s&2){let e=v(5);Y(e.option("rejectButtonStyleClass")),f("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),k("aria-label",e.rejectAriaLabel),_(),f("ngIf",!e.rejectIconTemplate),_(),f("ngIf",e.rejectIconTemplate)}}function Q5(s,t){if(s&1&&L(0,"i"),s&2){let e=v(7);Y(e.option("acceptIcon"))}}function J5(s,t){s&1&&L(0,"CheckIcon",28),s&2&&f("styleClass","p-button-icon-left")}function eA(s,t){if(s&1&&(ee(0),T(1,Q5,1,2,"i",26)(2,J5,1,1,"CheckIcon",27),te()),s&2){let e=v(6);_(),f("ngIf",e.option("acceptIcon")),_(),f("ngIf",!e.option("acceptIcon"))}}function tA(s,t){}function iA(s,t){s&1&&T(0,tA,0,0,"ng-template")}function nA(s,t){if(s&1&&(S(0,"span",29),T(1,iA,1,0,null,15),I()),s&2){let e=v(6);_(),f("ngTemplateOutlet",e.acceptIconTemplate)}}function sA(s,t){if(s&1){let e=J();S(0,"button",24),W("click",function(){O(e);let n=v(5);return E(n.accept())}),T(1,eA,3,2,"ng-container",11)(2,nA,2,1,"span",25),I()}if(s&2){let e=v(5);Y(e.option("acceptButtonStyleClass")),f("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),k("aria-label",e.acceptAriaLabel),_(),f("ngIf",!e.acceptIconTemplate),_(),f("ngIf",e.acceptIconTemplate)}}function rA(s,t){if(s&1&&(S(0,"div",22),T(1,Z5,3,7,"button",23)(2,sA,3,7,"button",23),I()),s&2){let e=v(4);_(),f("ngIf",e.option("rejectVisible")),_(),f("ngIf",e.option("acceptVisible"))}}function oA(s,t){if(s&1&&(T(0,M5,2,1,"div",8)(1,V5,4,2,"div",8),S(2,"div",9,1),T(4,R5,1,3,"i",10)(5,N5,2,1,"ng-container",11)(6,j5,1,1,"span",12)(7,H5,2,4,"ng-container",11),I(),T(8,W5,3,1,"div",13)(9,rA,3,2,"div",13)),s&2){let e=v(3);f("ngIf",e.headerTemplate),_(),f("ngIf",!e.headerTemplate),_(3),f("ngIf",!e.iconTemplate&&e.option("icon")),_(),f("ngIf",e.iconTemplate),_(),f("ngIf",!e.messageTemplate),_(),f("ngIf",e.messageTemplate),_(),f("ngIf",e.footer||e.footerTemplate),_(),f("ngIf",!e.footer&&!e.footerTemplate)}}function aA(s,t){if(s&1){let e=J();S(0,"div",5),W("@animation.start",function(n){O(e);let r=v(2);return E(r.onAnimationStart(n))})("@animation.done",function(n){O(e);let r=v(2);return E(r.onAnimationEnd(n))}),T(1,E5,2,4,"ng-container",6)(2,oA,10,8,"ng-template",null,0,It),I()}if(s&2){let e=at(3),i=v(2);Y(i.styleClass),f("ngClass",he(9,T5,i.rtl))("ngStyle",i.style)("@animation",he(14,I5,Pe(11,S5,i.transformOptions,i.transitionOptions))),k("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),_(),f("ngIf",i.headlessTemplate)("ngIfElse",e)}}function lA(s,t){if(s&1&&(S(0,"div",3),T(1,aA,4,16,"div",4),I()),s&2){let e=v();Y(e.maskStyleClass),f("ngClass",e.getMaskClass()),_(),f("ngIf",e.visible)}}var cA=xr([Ct({transform:"{{transform}}",opacity:0}),Rt("{{transition}}",Ct({transform:"none",opacity:1}))]),hA=xr([Rt("{{transition}}",Ct({transform:"{{transform}}",opacity:0}))]),rN=(()=>{class s{el;renderer;confirmationService;zone;cd;config;document;header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo;key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onHide=new G;footer;contentViewChild;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"message":this.messageTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"rejecticon":this.rejectIconTemplate=e.template;break;case"accepticon":this.acceptIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break}})}headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;confirmation;_visible;_style;maskVisible;documentEscapeListener;container;wrapper;contentContainer;subscription;maskClickListener;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=Ye();ariaLabelledBy=this.getAriaLabelledBy();confirmationOptions;translationSubscription;constructor(e,i,n,r,o,a,c){this.el=e,this.renderer=i,this.confirmationService=n,this.zone=r,this.cd=o,this.config=a,this.document=c,this.subscription=this.confirmationService.requireConfirmation$.subscribe(u=>{if(!u){this.hide();return}u.key===this.key&&(this.confirmation=u,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:this.confirmation.rejectVisible==null?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:this.confirmation.acceptVisible==null?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:this.confirmation.blockScroll===!1||this.confirmation.blockScroll===!0?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:this.confirmation.closeOnEscape===!1||this.confirmation.closeOnEscape===!0?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:this.confirmation.dismissableMask===!1||this.confirmation.dismissableMask===!0?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new G,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new G,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return this.header!==null?Ye()+"_header":null}option(e){let i=this.confirmationOptions||this;if(i.hasOwnProperty(e))return i[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.contentContainer=M.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();let i=this.getElementToFocus();i&&i.focus();break}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return M.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return M.findSingle(this.container,".p-confirm-dialog-reject");case"close":return M.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return M.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):M.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&M.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&M.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`
                    @media screen and (max-width: ${i}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[i]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e}}close(e){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(Es.CANCEL),this.hide(Es.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(wt.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){let i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(n=>n===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){if(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{if(i.which==27&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===wt.get(this.container)&&this.visible&&this.close(i),i.which===9&&this.focusTrap){i.preventDefault();let n=M.getFocusableElements(this.container);if(n&&n.length>0)if(!n[0].ownerDocument.activeElement)n[0].focus();else{let r=n.indexOf(n[0].ownerDocument.activeElement);i.shiftKey?r==-1||r===0?n[n.length-1].focus():n[r-1].focus():r==-1||r===n.length-1?n[0].focus():n[r+1].focus()}}})}}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&wt.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Es.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Es.REJECT),this.hide(Es.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(_t.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(_t.REJECT)}static \u0275fac=function(i){return new(i||s)(j(Ve),j(pt),j(Lr),j(nt),j(Ue),j(ht),j(Re))};static \u0275cmp=q({type:s,selectors:[["p-confirmDialog"]],contentQueries:function(i,n,r){if(i&1&&(je(r,Nl,5),je(r,Ge,4)),i&2){let o;ie(o=ne())&&(n.footer=o.first),ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ye(C5,5),i&2){let r;ie(r=ne())&&(n.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",B],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",B],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",B],dismissableMask:[2,"dismissableMask","dismissableMask",B],blockScroll:[2,"blockScroll","blockScroll",B],rtl:[2,"rtl","rtl",B],closable:[2,"closable","closable",B],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",B],baseZIndex:[2,"baseZIndex","baseZIndex",_e],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",B],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},features:[Me],ngContentSelectors:x5,decls:1,vars:1,consts:[["notHeadless",""],["content",""],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],["class","p-confirm-dialog-message",3,"innerHTML",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"click","keydown.enter","ngClass"],[1,"p-confirm-dialog-message",3,"innerHTML"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"click","label","ngClass"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(i,n){i&1&&(bt(w5),T(0,lA,2,4,"div",2)),i&2&&f("ngIf",n.maskVisible)},dependencies:()=>[Le,He,qe,Ne,rs,Ht,ut,oi],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[Si("animation",[Ft("void => visible",[Tr(cA)]),Ft("visible => void",[Tr(hA)])])]},changeDetection:0})}return s})(),Sp=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Ki,ni,ut,oi,Ki,Oe]})}return s})();var uA=["container"],dA=(s,t,e)=>({"p-highlight":s,"p-disabled":t,"p-button-icon-only":e}),pA=(s,t)=>({$implicit:s,index:t});function fA(s,t){if(s&1&&L(0,"span",8),s&2){let e=v(2).$implicit;Y(e.icon),f("ngClass","p-button-icon p-button-icon-left"),k("data-pc-section","icon")}}function mA(s,t){if(s&1&&(ee(0),T(1,fA,1,4,"span",6),S(2,"span",7),fe(3),I(),te()),s&2){let e=v().$implicit,i=v();_(),f("ngIf",e.icon),_(),k("data-pc-section","label"),_(),We(i.getOptionLabel(e))}}function gA(s,t){s&1&&pe(0)}function _A(s,t){if(s&1&&T(0,gA,1,0,"ng-container",9),s&2){let e=v(),i=e.$implicit,n=e.index,r=v();f("ngTemplateOutlet",r.selectButtonTemplate)("ngTemplateOutletContext",Pe(2,pA,i,n))}}function vA(s,t){if(s&1){let e=J();S(0,"div",4),W("click",function(n){let r=O(e),o=r.$implicit,a=r.index,c=v();return E(c.onOptionSelect(n,o,a))})("keydown",function(n){let r=O(e),o=r.$implicit,a=r.index,c=v();return E(c.onKeyDown(n,o,a))})("focus",function(n){let r=O(e).index,o=v();return E(o.onFocus(n,r))})("blur",function(){O(e);let n=v();return E(n.onBlur())}),T(1,mA,4,3,"ng-container",5)(2,_A,1,5,"ng-template",null,1,It),I()}if(s&2){let e=t.$implicit,i=t.index,n=at(3),r=v();Y(e.styleClass),f("role",r.multiple?"checkbox":"radio")("ngClass",Ti(14,dA,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e)))("autofocus",r.autofocus),k("tabindex",i===r.focusedIndex&&!r.disabled?"0":"-1")("aria-label",e.label)("aria-checked",r.isSelected(e))("aria-disabled",r.optionDisabled)("title",e.title)("aria-labelledby",r.getOptionLabel(e))("data-pc-section","button"),_(),f("ngIf",!r.itemTemplate)("ngIfElse",n)}}var yA={provide:ii,useExisting:Nt(()=>bA),multi:!0},bA=(()=>{class s{cd;options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;disabled;dataKey;autofocus;onOptionClick=new G;onChange=new G;container;itemTemplate;get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;constructor(e){this.cd=e}getOptionLabel(e){return this.optionLabel?ae.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?ae.resolveFieldData(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?ae.resolveFieldData(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionSelect(e,i,n){if(this.disabled||this.isOptionDisabled(i))return;let r=this.isSelected(i);if(r&&this.unselectable)return;let o=this.getOptionValue(i),a;if(this.multiple)r?a=this.value.filter(c=>!ae.equals(c,o,this.equalityKey)):a=this.value?[...this.value,o]:[o];else{if(r&&!this.allowEmpty)return;a=r?null:o}this.focusedIndex=n,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:i,index:n})}onKeyDown(e,i,n){switch(e.code){case"Space":{this.onOptionSelect(e,i,n),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(e,"next"),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(e,"prev"),e.preventDefault();break}default:break}}changeTabIndexes(e,i){let n,r;for(let o=0;o<=this.container.nativeElement.children.length-1;o++)this.container.nativeElement.children[o].getAttribute("tabindex")==="0"&&(n={elem:this.container.nativeElement.children[o],index:o});i==="prev"?n.index===0?r=this.container.nativeElement.children.length-1:r=n.index-1:n.index===this.container.nativeElement.children.length-1?r=0:r=n.index+1,this.focusedIndex=r,this.container.nativeElement.children[r].focus()}onFocus(e,i){this.focusedIndex=i}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!ae.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,n=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let r of this.value)if(ae.equals(r,n,this.dataKey)){i=!0;break}}}else i=ae.equals(this.getOptionValue(e),this.value,this.equalityKey);return i}static \u0275fac=function(i){return new(i||s)(j(Ue))};static \u0275cmp=q({type:s,selectors:[["p-selectButton"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,5),i&2){let o;ie(o=ne())&&(n.itemTemplate=o.first)}},viewQuery:function(i,n){if(i&1&&ye(uA,5),i&2){let r;ie(r=ne())&&(n.container=r.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",B],tabindex:[2,"tabindex","tabindex",_e],multiple:[2,"multiple","multiple",B],allowEmpty:[2,"allowEmpty","allowEmpty",B],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",B],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",B]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Xt([yA]),Me],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(S(0,"div",2,0),T(2,vA,4,18,"div",3),I()),i&2&&(Y(n.styleClass),f("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",n.style),k("aria-labelledby",n.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),_(2),f("ngForOf",n.options))},dependencies:[Le,ei,He,qe,Ne,Ht,mi],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0})}return s})(),Ip=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,ni,Oe,Bi,Oe]})}return s})();var yv=(()=>{class s{http;baseUrl=Hc.apiUrl+"/api/contracts";constructor(e){this.http=e}getAgreement(e){return this.http.get(`${this.baseUrl}/v1/view/${e}`)}static \u0275fac=function(i){return new(i||s)(ke(Ss))};static \u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var CA=["sliderHandle"],wA=["sliderHandleStart"],xA=["sliderHandleEnd"],TA=(s,t,e,i)=>({"p-slider p-component":!0,"p-disabled":s,"p-slider-horizontal":t,"p-slider-vertical":e,"p-slider-animate":i}),SA=(s,t)=>({left:s,width:t}),IA=(s,t)=>({bottom:s,height:t}),DA=s=>({height:s}),OA=s=>({width:s}),Dp=(s,t)=>({left:s,bottom:t}),bv=s=>({"p-slider-handle-active":s});function EA(s,t){if(s&1&&L(0,"span",8),s&2){let e=v();f("ngStyle",Pe(2,SA,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),k("data-pc-section","range")}}function kA(s,t){if(s&1&&L(0,"span",8),s&2){let e=v();f("ngStyle",Pe(2,IA,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),k("data-pc-section","range")}}function MA(s,t){if(s&1&&L(0,"span",8),s&2){let e=v();f("ngStyle",he(2,DA,e.handleValue+"%")),k("data-pc-section","range")}}function AA(s,t){if(s&1&&L(0,"span",8),s&2){let e=v();f("ngStyle",he(2,OA,e.handleValue+"%")),k("data-pc-section","range")}}function FA(s,t){if(s&1){let e=J();S(0,"span",9,0),W("touchstart",function(n){O(e);let r=v();return E(r.onDragStart(n))})("touchmove",function(n){O(e);let r=v();return E(r.onDrag(n))})("touchend",function(n){O(e);let r=v();return E(r.onDragEnd(n))})("mousedown",function(n){O(e);let r=v();return E(r.onMouseDown(n))})("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n))}),I()}if(s&2){let e=v();qn("transition",e.dragging?"none":null),f("ngStyle",Pe(12,Dp,e.orientation=="horizontal"?e.handleValue+"%":null,e.orientation=="vertical"?e.handleValue+"%":null))("autofocus",e.autofocus),k("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","handle")}}function VA(s,t){if(s&1){let e=J();S(0,"span",10,1),W("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n,0))})("mousedown",function(n){O(e);let r=v();return E(r.onMouseDown(n,0))})("touchstart",function(n){O(e);let r=v();return E(r.onDragStart(n,0))})("touchmove",function(n){O(e);let r=v();return E(r.onDrag(n,0))})("touchend",function(n){O(e);let r=v();return E(r.onDragEnd(n))}),I()}if(s&2){let e=v();qn("transition",e.dragging?"none":null),f("ngStyle",Pe(13,Dp,e.rangeStartLeft,e.rangeStartBottom))("ngClass",he(16,bv,e.handleIndex==0))("autofocus",e.autofocus),k("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","startHandler")}}function RA(s,t){if(s&1){let e=J();S(0,"span",11,2),W("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n,1))})("mousedown",function(n){O(e);let r=v();return E(r.onMouseDown(n,1))})("touchstart",function(n){O(e);let r=v();return E(r.onDragStart(n,1))})("touchmove",function(n){O(e);let r=v();return E(r.onDrag(n,1))})("touchend",function(n){O(e);let r=v();return E(r.onDragEnd(n))}),I()}if(s&2){let e=v();qn("transition",e.dragging?"none":null),f("ngStyle",Pe(12,Dp,e.rangeEndLeft,e.rangeEndBottom))("ngClass",he(15,bv,e.handleIndex==1)),k("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","endHandler")}}var LA={provide:ii,useExisting:Nt(()=>PA),multi:!0},PA=(()=>{class s{document;platformId;el;renderer;ngZone;cd;animate;disabled;min=0;max=100;orientation="horizontal";step;range;style;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;autofocus;onChange=new G;onSlideEnd=new G;sliderHandle;sliderHandleStart;sliderHandleEnd;value;values;handleValue;handleValues=[];diff;offset;bottom;onModelChange=()=>{};onModelTouched=()=>{};dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;constructor(e,i,n,r,o,a){this.document=e,this.platformId=i,this.el=n,this.renderer=r,this.ngZone=o,this.cd=a}onMouseDown(e,i){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&M.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onDragStart(e,i){if(!this.disabled){var n=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[i]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.orientation==="horizontal"?(this.startx=parseInt(n.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(n.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&M.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onDrag(e){if(!this.disabled){var i=e.changedTouches[0],n=0;this.orientation==="horizontal"?n=Math.floor((parseInt(i.clientX,10)-this.startx)*100/this.barWidth)+this.startHandleValue:n=Math.floor((this.starty-parseInt(i.clientY,10))*100/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,n),e.preventDefault()}}onDragEnd(e){this.disabled||(this.dragging=!1,this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value}),this.animate&&M.addClass(this.el.nativeElement.children[0],"p-slider-animate"))}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e),this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(e,i){switch(this.handleIndex=i,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,i),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,i),e.preventDefault();break;case"PageDown":this.decrementValue(e,i,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,i,!0),e.preventDefault();break;case"Home":this.updateValue(this.min,e),e.preventDefault();break;case"End":this.updateValue(this.max,e),e.preventDefault();break;case"Tab":this.onDragEnd(e);break;default:break}}decrementValue(e,i,n=!1){let r;this.range?this.step?r=this.values[i]-this.step:r=this.values[i]-1:this.step?r=this.value-this.step:!this.step&&n?r=this.value-10:r=this.value-1,this.updateValue(r,e),e.preventDefault()}incrementValue(e,i,n=!1){let r;this.range?this.step?r=this.values[i]+this.step:r=this.values[i]+1:this.step?r=this.value+this.step:!this.step&&n?r=this.value+10:r=this.value+1,this.updateValue(r,e),e.preventDefault()}handleChange(e){let i=this.calculateHandleValue(e);this.setValueFromHandle(e,i)}bindDragListeners(){Ot(this.platformId)&&this.ngZone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",i=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(i)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",i=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.range?this.onSlideEnd.emit({originalEvent:i,values:this.values}):this.onSlideEnd.emit({originalEvent:i,value:this.value}),this.animate&&M.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(e,i){let n=this.getValueFromHandle(i);this.range?this.step?this.handleStepChange(n,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=i,this.updateValue(n,e)):this.step?this.handleStepChange(n,this.value):(this.handleValue=i,this.updateValue(n,e)),this.cd.markForCheck()}handleStepChange(e,i){let n=e-i,r=i,o=this.step;n<0?r=i+Math.ceil(e/o-i/o)*o:n>0&&(r=i+Math.floor(e/o-i/o)*o),this.updateValue(r),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return this.orientation==="vertical"}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+M.getWindowScrollLeft(),this.initY=e.top+M.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return this.orientation==="horizontal"?(e.pageX-this.initX)*100/this.barWidth:(this.initY+this.barHeight-e.pageY)*100/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=(this.values[0]<this.min?0:this.values[0]-this.min)*100/(this.max-this.min),this.handleValues[1]=(this.values[1]>this.max?100:this.values[1]-this.min)*100/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=(this.value-this.min)*100/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,i){if(this.range){let n=e;this.handleIndex==0?(n<this.min?(n=this.min,this.handleValues[0]=0):n>this.values[1]&&n>this.max&&(n=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(n>this.max?(n=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):n<this.min?(n=this.min,this.handleValues[1]=0):n<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(n);let r=[this.minVal,this.maxVal];this.onModelChange(r),this.onChange.emit({event:i,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:i,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(e){return(this.max-this.min)*(e/100)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let i=this.getDecimalsCount(this.step);return i>0?+parseFloat(e.toString()).toFixed(i):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}static \u0275fac=function(i){return new(i||s)(j(Re),j(gt),j(Ve),j(pt),j(nt),j(Ue))};static \u0275cmp=q({type:s,selectors:[["p-slider"]],viewQuery:function(i,n){if(i&1&&(ye(CA,5),ye(wA,5),ye(xA,5)),i&2){let r;ie(r=ne())&&(n.sliderHandle=r.first),ie(r=ne())&&(n.sliderHandleStart=r.first),ie(r=ne())&&(n.sliderHandleEnd=r.first)}},hostAttrs:[1,"p-element"],inputs:{animate:[2,"animate","animate",B],disabled:[2,"disabled","disabled",B],min:[2,"min","min",_e],max:[2,"max","max",_e],orientation:"orientation",step:[2,"step","step",_e],range:[2,"range","range",B],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",_e],autofocus:[2,"autofocus","autofocus",B]},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[Xt([LA]),Me],decls:8,vars:18,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"click","ngStyle","ngClass"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","autofocus","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","ngClass","autofocus","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle","role","slider",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle","autofocus"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass","autofocus"],["role","slider",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass"]],template:function(i,n){i&1&&(S(0,"div",3),W("click",function(o){return n.onBarClick(o)}),T(1,EA,1,5,"span",4)(2,kA,1,5,"span",4)(3,MA,1,4,"span",4)(4,AA,1,4,"span",4)(5,FA,2,15,"span",5)(6,VA,2,18,"span",6)(7,RA,2,17,"span",7),I()),i&2&&(Y(n.styleClass),f("ngStyle",n.style)("ngClass",Xn(13,TA,n.disabled,n.orientation=="horizontal",n.orientation=="vertical",n.animate)),k("data-pc-name","slider")("data-pc-section","root"),_(),f("ngIf",n.range&&n.orientation=="horizontal"),_(),f("ngIf",n.range&&n.orientation=="vertical"),_(),f("ngIf",!n.range&&n.orientation=="vertical"),_(),f("ngIf",!n.range&&n.orientation=="horizontal"),_(),f("ngIf",!n.range),_(),f("ngIf",n.range),_(),f("ngIf",n.range))},dependencies:[Le,He,Ne,mi],styles:[`@layer primeng{.p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}}
`],encapsulation:2,changeDetection:0})}return s})(),Op=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Se,Bi]})}return s})();var hj=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({providers:[Tm(),_v,ts,Lr,yv],imports:[Se,Eu,Wu,Lu,Xu,Ku,Zu,ed,td,Op,da,id,nd,ld,ud,Sp,Ip,ks,Eu,Wu,Lu,Xu,Ku,Zu,ed,td,Op,da,id,nd,ld,Se,ud,Sp,Ip,ks]})}return s})();export{Sm as a,yF as b,Aw as c,Jn as d,BF as e,UF as f,Lr as g,ts as h,ht as i,Ge as j,e9 as k,Ug as l,v9 as m,Ru as n,Wl as o,gI as p,Yu as q,wO as r,rE as s,oE as t,bE as u,a0 as v,JE as w,x8 as x,D8 as y,M8 as z,zL as A,d0 as B,pa as C,p0 as D,m0 as E,VP as F,Hc as G,_v as H,rN as I,bA as J,yv as K,hj as L};
