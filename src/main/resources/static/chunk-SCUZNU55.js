import{$ as Af,$a as S,$b as xn,A as Sf,Aa as _r,Ab as Qa,Ac as Ti,B as Tf,Ba as Lf,Bb as qf,Bc as Lt,C as wn,Ca as Pf,Cb as Xf,D as pr,Da as Nf,Db as Kf,Dc as Ct,E as Wn,Ea as jf,Eb as Kt,Ec as ll,F as _h,Fa as Bf,Fb as _e,Fc as Ft,G as fr,Ga as Uf,Gb as qi,Gc as br,H as If,Ha as Hf,Hb as he,Hc as hm,I as mr,Ia as Cs,Ib as Pe,Ic as Cr,J as Yn,Ja as So,Jb as Si,Jc as um,K as vh,Ka as To,Kb as qn,L as Df,La as Ka,Lb as Ja,M as Of,Ma as Io,Mb as Zf,N as Ef,Na as _,Nb as Qf,O as wi,Oa as U,Ob as Jf,P as kf,Pa as zf,Pb as It,Q as qt,Qa as Za,Qb as el,R as yt,Rb as tl,S as Bt,Sa as Wf,Sb as Th,T as Se,Ta as pt,Tb as il,U as ue,Ua as vr,Ub as nl,V as Mf,Vb as sl,W as ot,Wa as ei,X as yh,Xa as Ce,Xb as Ue,Y as ke,Ya as Me,Yb as em,Z as le,Za as Yf,Zb as B,_ as bh,_a as Sh,_b as ge,a as K,aa as wo,ab as Gf,ac as ws,b as tt,ba as $,bb as k,bc as tm,c as vf,ca as de,cb as f,cc as im,da as Dt,db as $n,dc as yr,e as lC,ea as xo,eb as xi,ec as nm,f as cC,fa as Ff,fb as $f,fc as sm,g as Gt,ga as bs,gb as W,gc as Re,h as yf,ha as Pi,hb as T,hc as rm,i as bf,ia as Ni,ib as I,ic as Ih,j as dh,ja as O,jb as P,jc as om,k as ph,ka as E,kb as ee,kc as am,l as fh,la as Ie,lb as te,lc as Do,m as Jt,ma as be,mb as pe,mc as rl,n as Li,na as Gn,nb as Z,nc as Le,o as zn,oa as Xa,ob as z,oc as ti,p as $t,pa as G,pb as v,pc as He,q as we,qa as nt,qb as bt,qc as Ne,r as Co,ra as Ch,rb as ct,rc as qe,s as Cf,sa as Ve,sb as je,sc as Te,t as wf,ta as Vf,tb as ye,tc as lm,u as Je,ua as wh,ub as ie,uc as Ot,v as qa,va as Rf,vb as ne,vc as ol,w as Ci,wa as gt,wb as at,wc as cm,x as mh,xb as fe,xc as al,y as xf,ya as xh,yb as We,z as gh,za as gr,zb as Xt}from"./chunk-S75CAB2Z.js";var h0=lC((ld,Wr)=>{"use strict";(function(s,t){typeof ld=="object"&&typeof Wr<"u"?Wr.exports=t():typeof define=="function"&&define.amd?define(t):s.moment=t()})(ld,function(){"use strict";var s;function t(){return s.apply(null,arguments)}function e(l){s=l}function i(l){return l instanceof Array||Object.prototype.toString.call(l)==="[object Array]"}function n(l){return l!=null&&Object.prototype.toString.call(l)==="[object Object]"}function r(l,h){return Object.prototype.hasOwnProperty.call(l,h)}function o(l){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(l).length===0;var h;for(h in l)if(r(l,h))return!1;return!0}function a(l){return l===void 0}function c(l){return typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]"}function u(l){return l instanceof Date||Object.prototype.toString.call(l)==="[object Date]"}function d(l,h){var p=[],m,C=l.length;for(m=0;m<C;++m)p.push(h(l[m],m));return p}function g(l,h){for(var p in h)r(h,p)&&(l[p]=h[p]);return r(h,"toString")&&(l.toString=h.toString),r(h,"valueOf")&&(l.valueOf=h.valueOf),l}function y(l,h,p,m){return qp(l,h,p,m,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(l){return l._pf==null&&(l._pf=b()),l._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(l){var h=Object(this),p=h.length>>>0,m;for(m=0;m<p;m++)if(m in h&&l.call(this,h[m],m,h))return!0;return!1};function D(l){var h=null,p=!1,m=l._d&&!isNaN(l._d.getTime());if(m&&(h=w(l),p=x.call(h.parsedDateParts,function(C){return C!=null}),m=h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&p),l._strict&&(m=m&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(l))l._isValid=m;else return m;return l._isValid}function R(l){var h=y(NaN);return l!=null?g(w(h),l):w(h).userInvalidated=!0,h}var L=t.momentProperties=[],N=!1;function Y(l,h){var p,m,C,A=L.length;if(a(h._isAMomentObject)||(l._isAMomentObject=h._isAMomentObject),a(h._i)||(l._i=h._i),a(h._f)||(l._f=h._f),a(h._l)||(l._l=h._l),a(h._strict)||(l._strict=h._strict),a(h._tzm)||(l._tzm=h._tzm),a(h._isUTC)||(l._isUTC=h._isUTC),a(h._offset)||(l._offset=h._offset),a(h._pf)||(l._pf=w(h)),a(h._locale)||(l._locale=h._locale),A>0)for(p=0;p<A;p++)m=L[p],C=h[m],a(C)||(l[m]=C);return l}function q(l){Y(this,l),this._d=new Date(l._d!=null?l._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),N===!1&&(N=!0,t.updateOffset(this),N=!1)}function Q(l){return l instanceof q||l!=null&&l._isAMomentObject!=null}function ve(l){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+l)}function J(l,h){var p=!0;return g(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,l),p){var m=[],C,A,H,se=arguments.length;for(A=0;A<se;A++){if(C="",typeof arguments[A]=="object"){C+=`
[`+A+"] ";for(H in arguments[0])r(arguments[0],H)&&(C+=H+": "+arguments[0][H]+", ");C=C.slice(0,-2)}else C=arguments[A];m.push(C)}ve(l+`
Arguments: `+Array.prototype.slice.call(m).join("")+`
`+new Error().stack),p=!1}return h.apply(this,arguments)},h)}var Ee={};function Ke(l,h){t.deprecationHandler!=null&&t.deprecationHandler(l,h),Ee[l]||(ve(h),Ee[l]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function it(l){return typeof Function<"u"&&l instanceof Function||Object.prototype.toString.call(l)==="[object Function]"}function Tt(l){var h,p;for(p in l)r(l,p)&&(h=l[p],it(h)?this[p]=h:this["_"+p]=h);this._config=l,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ze(l,h){var p=g({},l),m;for(m in h)r(h,m)&&(n(l[m])&&n(h[m])?(p[m]={},g(p[m],l[m]),g(p[m],h[m])):h[m]!=null?p[m]=h[m]:delete p[m]);for(m in l)r(l,m)&&!r(h,m)&&n(l[m])&&(p[m]=g({},p[m]));return p}function dt(l){l!=null&&this.set(l)}var Yt;Object.keys?Yt=Object.keys:Yt=function(l){var h,p=[];for(h in l)r(l,h)&&p.push(h);return p};var Zt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function yi(l,h,p){var m=this._calendar[l]||this._calendar.sameElse;return it(m)?m.call(h,p):m}function Qe(l,h,p){var m=""+Math.abs(l),C=h-m.length,A=l>=0;return(A?p?"+":"":"-")+Math.pow(10,Math.max(0,C)).toString().substr(1)+m}var pi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,fi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Nn={},sn={};function ce(l,h,p,m){var C=m;typeof m=="string"&&(C=function(){return this[m]()}),l&&(sn[l]=C),h&&(sn[h[0]]=function(){return Qe(C.apply(this,arguments),h[1],h[2])}),p&&(sn[p]=function(){return this.localeData().ordinal(C.apply(this,arguments),l)})}function rn(l){return l.match(/\[[\s\S]/)?l.replace(/^\[|\]$/g,""):l.replace(/\\/g,"")}function sr(l){var h=l.match(pi),p,m;for(p=0,m=h.length;p<m;p++)sn[h[p]]?h[p]=sn[h[p]]:h[p]=rn(h[p]);return function(C){var A="",H;for(H=0;H<m;H++)A+=it(h[H])?h[H].call(C,l):h[H];return A}}function Fi(l,h){return l.isValid()?(h=jn(h,l.localeData()),Nn[h]=Nn[h]||sr(h),Nn[h](l)):l.localeData().invalidDate()}function jn(l,h){var p=5;function m(C){return h.longDateFormat(C)||C}for(fi.lastIndex=0;p>=0&&fi.test(l);)l=l.replace(fi,m),fi.lastIndex=0,p-=1;return l}var Hc={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ho(l){var h=this._longDateFormat[l],p=this._longDateFormat[l.toUpperCase()];return h||!p?h:(this._longDateFormat[l]=p.match(pi).map(function(m){return m==="MMMM"||m==="MM"||m==="DD"||m==="dddd"?m.slice(1):m}).join(""),this._longDateFormat[l])}var on="Invalid date";function vv(){return this._invalidDate}var yv="%d",bv=/\d{1,2}/;function Cv(l){return this._ordinal.replace("%d",l)}var wv={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function xv(l,h,p,m){var C=this._relativeTime[p];return it(C)?C(l,h,p,m):C.replace(/%d/i,l)}function Sv(l,h){var p=this._relativeTime[l>0?"future":"past"];return it(p)?p(h):p.replace(/%s/i,h)}var Dp={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Vi(l){return typeof l=="string"?Dp[l]||Dp[l.toLowerCase()]:void 0}function zc(l){var h={},p,m;for(m in l)r(l,m)&&(p=Vi(m),p&&(h[p]=l[m]));return h}var Tv={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Iv(l){var h=[],p;for(p in l)r(l,p)&&h.push({unit:p,priority:Tv[p]});return h.sort(function(m,C){return m.priority-C.priority}),h}var Op=/\d/,bi=/\d\d/,Ep=/\d{3}/,Wc=/\d{4}/,ka=/[+-]?\d{6}/,ft=/\d\d?/,kp=/\d\d\d\d?/,Mp=/\d\d\d\d\d\d?/,Ma=/\d{1,3}/,Yc=/\d{1,4}/,Aa=/[+-]?\d{1,6}/,rr=/\d+/,Fa=/[+-]?\d+/,Dv=/Z|[+-]\d\d:?\d\d/gi,Va=/Z|[+-]\d\d(?::?\d\d)?/gi,Ov=/[+-]?\d+(\.\d{1,3})?/,uo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,or=/^[1-9]\d?/,Gc=/^([1-9]\d|\d)/,Ra;Ra={};function re(l,h,p){Ra[l]=it(h)?h:function(m,C){return m&&p?p:h}}function Ev(l,h){return r(Ra,l)?Ra[l](h._strict,h._locale):new RegExp(kv(l))}function kv(l){return pn(l.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,p,m,C,A){return p||m||C||A}))}function pn(l){return l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ri(l){return l<0?Math.ceil(l)||0:Math.floor(l)}function Be(l){var h=+l,p=0;return h!==0&&isFinite(h)&&(p=Ri(h)),p}var $c={};function lt(l,h){var p,m=h,C;for(typeof l=="string"&&(l=[l]),c(h)&&(m=function(A,H){H[h]=Be(A)}),C=l.length,p=0;p<C;p++)$c[l[p]]=m}function po(l,h){lt(l,function(p,m,C,A){C._w=C._w||{},h(p,C._w,C,A)})}function Mv(l,h,p){h!=null&&r($c,l)&&$c[l](h,p._a,p,l)}function La(l){return l%4===0&&l%100!==0||l%400===0}var Qt=0,fn=1,an=2,jt=3,Gi=4,mn=5,_s=6,Av=7,Fv=8;ce("Y",0,0,function(){var l=this.year();return l<=9999?Qe(l,4):"+"+l}),ce(0,["YY",2],0,function(){return this.year()%100}),ce(0,["YYYY",4],0,"year"),ce(0,["YYYYY",5],0,"year"),ce(0,["YYYYYY",6,!0],0,"year"),re("Y",Fa),re("YY",ft,bi),re("YYYY",Yc,Wc),re("YYYYY",Aa,ka),re("YYYYYY",Aa,ka),lt(["YYYYY","YYYYYY"],Qt),lt("YYYY",function(l,h){h[Qt]=l.length===2?t.parseTwoDigitYear(l):Be(l)}),lt("YY",function(l,h){h[Qt]=t.parseTwoDigitYear(l)}),lt("Y",function(l,h){h[Qt]=parseInt(l,10)});function fo(l){return La(l)?366:365}t.parseTwoDigitYear=function(l){return Be(l)+(Be(l)>68?1900:2e3)};var Ap=ar("FullYear",!0);function Vv(){return La(this.year())}function ar(l,h){return function(p){return p!=null?(Fp(this,l,p),t.updateOffset(this,h),this):mo(this,l)}}function mo(l,h){if(!l.isValid())return NaN;var p=l._d,m=l._isUTC;switch(h){case"Milliseconds":return m?p.getUTCMilliseconds():p.getMilliseconds();case"Seconds":return m?p.getUTCSeconds():p.getSeconds();case"Minutes":return m?p.getUTCMinutes():p.getMinutes();case"Hours":return m?p.getUTCHours():p.getHours();case"Date":return m?p.getUTCDate():p.getDate();case"Day":return m?p.getUTCDay():p.getDay();case"Month":return m?p.getUTCMonth():p.getMonth();case"FullYear":return m?p.getUTCFullYear():p.getFullYear();default:return NaN}}function Fp(l,h,p){var m,C,A,H,se;if(!(!l.isValid()||isNaN(p))){switch(m=l._d,C=l._isUTC,h){case"Milliseconds":return void(C?m.setUTCMilliseconds(p):m.setMilliseconds(p));case"Seconds":return void(C?m.setUTCSeconds(p):m.setSeconds(p));case"Minutes":return void(C?m.setUTCMinutes(p):m.setMinutes(p));case"Hours":return void(C?m.setUTCHours(p):m.setHours(p));case"Date":return void(C?m.setUTCDate(p):m.setDate(p));case"FullYear":break;default:return}A=p,H=l.month(),se=l.date(),se=se===29&&H===1&&!La(A)?28:se,C?m.setUTCFullYear(A,H,se):m.setFullYear(A,H,se)}}function Rv(l){return l=Vi(l),it(this[l])?this[l]():this}function Lv(l,h){if(typeof l=="object"){l=zc(l);var p=Iv(l),m,C=p.length;for(m=0;m<C;m++)this[p[m].unit](l[p[m].unit])}else if(l=Vi(l),it(this[l]))return this[l](h);return this}function Pv(l,h){return(l%h+h)%h}var At;Array.prototype.indexOf?At=Array.prototype.indexOf:At=function(l){var h;for(h=0;h<this.length;++h)if(this[h]===l)return h;return-1};function qc(l,h){if(isNaN(l)||isNaN(h))return NaN;var p=Pv(h,12);return l+=(h-p)/12,p===1?La(l)?29:28:31-p%7%2}ce("M",["MM",2],"Mo",function(){return this.month()+1}),ce("MMM",0,0,function(l){return this.localeData().monthsShort(this,l)}),ce("MMMM",0,0,function(l){return this.localeData().months(this,l)}),re("M",ft,or),re("MM",ft,bi),re("MMM",function(l,h){return h.monthsShortRegex(l)}),re("MMMM",function(l,h){return h.monthsRegex(l)}),lt(["M","MM"],function(l,h){h[fn]=Be(l)-1}),lt(["MMM","MMMM"],function(l,h,p,m){var C=p._locale.monthsParse(l,m,p._strict);C!=null?h[fn]=C:w(p).invalidMonth=l});var Nv="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Vp="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Rp=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jv=uo,Bv=uo;function Uv(l,h){return l?i(this._months)?this._months[l.month()]:this._months[(this._months.isFormat||Rp).test(h)?"format":"standalone"][l.month()]:i(this._months)?this._months:this._months.standalone}function Hv(l,h){return l?i(this._monthsShort)?this._monthsShort[l.month()]:this._monthsShort[Rp.test(h)?"format":"standalone"][l.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function zv(l,h,p){var m,C,A,H=l.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],m=0;m<12;++m)A=y([2e3,m]),this._shortMonthsParse[m]=this.monthsShort(A,"").toLocaleLowerCase(),this._longMonthsParse[m]=this.months(A,"").toLocaleLowerCase();return p?h==="MMM"?(C=At.call(this._shortMonthsParse,H),C!==-1?C:null):(C=At.call(this._longMonthsParse,H),C!==-1?C:null):h==="MMM"?(C=At.call(this._shortMonthsParse,H),C!==-1?C:(C=At.call(this._longMonthsParse,H),C!==-1?C:null)):(C=At.call(this._longMonthsParse,H),C!==-1?C:(C=At.call(this._shortMonthsParse,H),C!==-1?C:null))}function Wv(l,h,p){var m,C,A;if(this._monthsParseExact)return zv.call(this,l,h,p);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),m=0;m<12;m++){if(C=y([2e3,m]),p&&!this._longMonthsParse[m]&&(this._longMonthsParse[m]=new RegExp("^"+this.months(C,"").replace(".","")+"$","i"),this._shortMonthsParse[m]=new RegExp("^"+this.monthsShort(C,"").replace(".","")+"$","i")),!p&&!this._monthsParse[m]&&(A="^"+this.months(C,"")+"|^"+this.monthsShort(C,""),this._monthsParse[m]=new RegExp(A.replace(".",""),"i")),p&&h==="MMMM"&&this._longMonthsParse[m].test(l))return m;if(p&&h==="MMM"&&this._shortMonthsParse[m].test(l))return m;if(!p&&this._monthsParse[m].test(l))return m}}function Lp(l,h){if(!l.isValid())return l;if(typeof h=="string"){if(/^\d+$/.test(h))h=Be(h);else if(h=l.localeData().monthsParse(h),!c(h))return l}var p=h,m=l.date();return m=m<29?m:Math.min(m,qc(l.year(),p)),l._isUTC?l._d.setUTCMonth(p,m):l._d.setMonth(p,m),l}function Pp(l){return l!=null?(Lp(this,l),t.updateOffset(this,!0),this):mo(this,"Month")}function Yv(){return qc(this.year(),this.month())}function Gv(l){return this._monthsParseExact?(r(this,"_monthsRegex")||Np.call(this),l?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=jv),this._monthsShortStrictRegex&&l?this._monthsShortStrictRegex:this._monthsShortRegex)}function $v(l){return this._monthsParseExact?(r(this,"_monthsRegex")||Np.call(this),l?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=Bv),this._monthsStrictRegex&&l?this._monthsStrictRegex:this._monthsRegex)}function Np(){function l(xe,ze){return ze.length-xe.length}var h=[],p=[],m=[],C,A,H,se;for(C=0;C<12;C++)A=y([2e3,C]),H=pn(this.monthsShort(A,"")),se=pn(this.months(A,"")),h.push(H),p.push(se),m.push(se),m.push(H);h.sort(l),p.sort(l),m.sort(l),this._monthsRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function qv(l,h,p,m,C,A,H){var se;return l<100&&l>=0?(se=new Date(l+400,h,p,m,C,A,H),isFinite(se.getFullYear())&&se.setFullYear(l)):se=new Date(l,h,p,m,C,A,H),se}function go(l){var h,p;return l<100&&l>=0?(p=Array.prototype.slice.call(arguments),p[0]=l+400,h=new Date(Date.UTC.apply(null,p)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(l)):h=new Date(Date.UTC.apply(null,arguments)),h}function Pa(l,h,p){var m=7+h-p,C=(7+go(l,0,m).getUTCDay()-h)%7;return-C+m-1}function jp(l,h,p,m,C){var A=(7+p-m)%7,H=Pa(l,m,C),se=1+7*(h-1)+A+H,xe,ze;return se<=0?(xe=l-1,ze=fo(xe)+se):se>fo(l)?(xe=l+1,ze=se-fo(l)):(xe=l,ze=se),{year:xe,dayOfYear:ze}}function _o(l,h,p){var m=Pa(l.year(),h,p),C=Math.floor((l.dayOfYear()-m-1)/7)+1,A,H;return C<1?(H=l.year()-1,A=C+gn(H,h,p)):C>gn(l.year(),h,p)?(A=C-gn(l.year(),h,p),H=l.year()+1):(H=l.year(),A=C),{week:A,year:H}}function gn(l,h,p){var m=Pa(l,h,p),C=Pa(l+1,h,p);return(fo(l)-m+C)/7}ce("w",["ww",2],"wo","week"),ce("W",["WW",2],"Wo","isoWeek"),re("w",ft,or),re("ww",ft,bi),re("W",ft,or),re("WW",ft,bi),po(["w","ww","W","WW"],function(l,h,p,m){h[m.substr(0,1)]=Be(l)});function Xv(l){return _o(l,this._week.dow,this._week.doy).week}var Kv={dow:0,doy:6};function Zv(){return this._week.dow}function Qv(){return this._week.doy}function Jv(l){var h=this.localeData().week(this);return l==null?h:this.add((l-h)*7,"d")}function e1(l){var h=_o(this,1,4).week;return l==null?h:this.add((l-h)*7,"d")}ce("d",0,"do","day"),ce("dd",0,0,function(l){return this.localeData().weekdaysMin(this,l)}),ce("ddd",0,0,function(l){return this.localeData().weekdaysShort(this,l)}),ce("dddd",0,0,function(l){return this.localeData().weekdays(this,l)}),ce("e",0,0,"weekday"),ce("E",0,0,"isoWeekday"),re("d",ft),re("e",ft),re("E",ft),re("dd",function(l,h){return h.weekdaysMinRegex(l)}),re("ddd",function(l,h){return h.weekdaysShortRegex(l)}),re("dddd",function(l,h){return h.weekdaysRegex(l)}),po(["dd","ddd","dddd"],function(l,h,p,m){var C=p._locale.weekdaysParse(l,m,p._strict);C!=null?h.d=C:w(p).invalidWeekday=l}),po(["d","e","E"],function(l,h,p,m){h[m]=Be(l)});function t1(l,h){return typeof l!="string"?l:isNaN(l)?(l=h.weekdaysParse(l),typeof l=="number"?l:null):parseInt(l,10)}function i1(l,h){return typeof l=="string"?h.weekdaysParse(l)%7||7:isNaN(l)?null:l}function Xc(l,h){return l.slice(h,7).concat(l.slice(0,h))}var n1="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),s1="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),r1=uo,o1=uo,a1=uo;function l1(l,h){var p=i(this._weekdays)?this._weekdays:this._weekdays[l&&l!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return l===!0?Xc(p,this._week.dow):l?p[l.day()]:p}function c1(l){return l===!0?Xc(this._weekdaysShort,this._week.dow):l?this._weekdaysShort[l.day()]:this._weekdaysShort}function h1(l){return l===!0?Xc(this._weekdaysMin,this._week.dow):l?this._weekdaysMin[l.day()]:this._weekdaysMin}function u1(l,h,p){var m,C,A,H=l.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],m=0;m<7;++m)A=y([2e3,1]).day(m),this._minWeekdaysParse[m]=this.weekdaysMin(A,"").toLocaleLowerCase(),this._shortWeekdaysParse[m]=this.weekdaysShort(A,"").toLocaleLowerCase(),this._weekdaysParse[m]=this.weekdays(A,"").toLocaleLowerCase();return p?h==="dddd"?(C=At.call(this._weekdaysParse,H),C!==-1?C:null):h==="ddd"?(C=At.call(this._shortWeekdaysParse,H),C!==-1?C:null):(C=At.call(this._minWeekdaysParse,H),C!==-1?C:null):h==="dddd"?(C=At.call(this._weekdaysParse,H),C!==-1||(C=At.call(this._shortWeekdaysParse,H),C!==-1)?C:(C=At.call(this._minWeekdaysParse,H),C!==-1?C:null)):h==="ddd"?(C=At.call(this._shortWeekdaysParse,H),C!==-1||(C=At.call(this._weekdaysParse,H),C!==-1)?C:(C=At.call(this._minWeekdaysParse,H),C!==-1?C:null)):(C=At.call(this._minWeekdaysParse,H),C!==-1||(C=At.call(this._weekdaysParse,H),C!==-1)?C:(C=At.call(this._shortWeekdaysParse,H),C!==-1?C:null))}function d1(l,h,p){var m,C,A;if(this._weekdaysParseExact)return u1.call(this,l,h,p);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),m=0;m<7;m++){if(C=y([2e3,1]).day(m),p&&!this._fullWeekdaysParse[m]&&(this._fullWeekdaysParse[m]=new RegExp("^"+this.weekdays(C,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[m]=new RegExp("^"+this.weekdaysShort(C,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[m]=new RegExp("^"+this.weekdaysMin(C,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[m]||(A="^"+this.weekdays(C,"")+"|^"+this.weekdaysShort(C,"")+"|^"+this.weekdaysMin(C,""),this._weekdaysParse[m]=new RegExp(A.replace(".",""),"i")),p&&h==="dddd"&&this._fullWeekdaysParse[m].test(l))return m;if(p&&h==="ddd"&&this._shortWeekdaysParse[m].test(l))return m;if(p&&h==="dd"&&this._minWeekdaysParse[m].test(l))return m;if(!p&&this._weekdaysParse[m].test(l))return m}}function p1(l){if(!this.isValid())return l!=null?this:NaN;var h=mo(this,"Day");return l!=null?(l=t1(l,this.localeData()),this.add(l-h,"d")):h}function f1(l){if(!this.isValid())return l!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return l==null?h:this.add(l-h,"d")}function m1(l){if(!this.isValid())return l!=null?this:NaN;if(l!=null){var h=i1(l,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function g1(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Kc.call(this),l?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=r1),this._weekdaysStrictRegex&&l?this._weekdaysStrictRegex:this._weekdaysRegex)}function _1(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Kc.call(this),l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=o1),this._weekdaysShortStrictRegex&&l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function v1(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Kc.call(this),l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=a1),this._weekdaysMinStrictRegex&&l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kc(){function l(oi,Cn){return Cn.length-oi.length}var h=[],p=[],m=[],C=[],A,H,se,xe,ze;for(A=0;A<7;A++)H=y([2e3,1]).day(A),se=pn(this.weekdaysMin(H,"")),xe=pn(this.weekdaysShort(H,"")),ze=pn(this.weekdays(H,"")),h.push(se),p.push(xe),m.push(ze),C.push(se),C.push(xe),C.push(ze);h.sort(l),p.sort(l),m.sort(l),C.sort(l),this._weekdaysRegex=new RegExp("^("+C.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Zc(){return this.hours()%12||12}function y1(){return this.hours()||24}ce("H",["HH",2],0,"hour"),ce("h",["hh",2],0,Zc),ce("k",["kk",2],0,y1),ce("hmm",0,0,function(){return""+Zc.apply(this)+Qe(this.minutes(),2)}),ce("hmmss",0,0,function(){return""+Zc.apply(this)+Qe(this.minutes(),2)+Qe(this.seconds(),2)}),ce("Hmm",0,0,function(){return""+this.hours()+Qe(this.minutes(),2)}),ce("Hmmss",0,0,function(){return""+this.hours()+Qe(this.minutes(),2)+Qe(this.seconds(),2)});function Up(l,h){ce(l,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}Up("a",!0),Up("A",!1);function Hp(l,h){return h._meridiemParse}re("a",Hp),re("A",Hp),re("H",ft,Gc),re("h",ft,or),re("k",ft,or),re("HH",ft,bi),re("hh",ft,bi),re("kk",ft,bi),re("hmm",kp),re("hmmss",Mp),re("Hmm",kp),re("Hmmss",Mp),lt(["H","HH"],jt),lt(["k","kk"],function(l,h,p){var m=Be(l);h[jt]=m===24?0:m}),lt(["a","A"],function(l,h,p){p._isPm=p._locale.isPM(l),p._meridiem=l}),lt(["h","hh"],function(l,h,p){h[jt]=Be(l),w(p).bigHour=!0}),lt("hmm",function(l,h,p){var m=l.length-2;h[jt]=Be(l.substr(0,m)),h[Gi]=Be(l.substr(m)),w(p).bigHour=!0}),lt("hmmss",function(l,h,p){var m=l.length-4,C=l.length-2;h[jt]=Be(l.substr(0,m)),h[Gi]=Be(l.substr(m,2)),h[mn]=Be(l.substr(C)),w(p).bigHour=!0}),lt("Hmm",function(l,h,p){var m=l.length-2;h[jt]=Be(l.substr(0,m)),h[Gi]=Be(l.substr(m))}),lt("Hmmss",function(l,h,p){var m=l.length-4,C=l.length-2;h[jt]=Be(l.substr(0,m)),h[Gi]=Be(l.substr(m,2)),h[mn]=Be(l.substr(C))});function b1(l){return(l+"").toLowerCase().charAt(0)==="p"}var C1=/[ap]\.?m?\.?/i,w1=ar("Hours",!0);function x1(l,h,p){return l>11?p?"pm":"PM":p?"am":"AM"}var zp={calendar:Zt,longDateFormat:Hc,invalidDate:on,ordinal:yv,dayOfMonthOrdinalParse:bv,relativeTime:wv,months:Nv,monthsShort:Vp,week:Kv,weekdays:n1,weekdaysMin:s1,weekdaysShort:Bp,meridiemParse:C1},vt={},vo={},yo;function S1(l,h){var p,m=Math.min(l.length,h.length);for(p=0;p<m;p+=1)if(l[p]!==h[p])return p;return m}function Wp(l){return l&&l.toLowerCase().replace("_","-")}function T1(l){for(var h=0,p,m,C,A;h<l.length;){for(A=Wp(l[h]).split("-"),p=A.length,m=Wp(l[h+1]),m=m?m.split("-"):null;p>0;){if(C=Na(A.slice(0,p).join("-")),C)return C;if(m&&m.length>=p&&S1(A,m)>=p-1)break;p--}h++}return yo}function I1(l){return!!(l&&l.match("^[^/\\\\]*$"))}function Na(l){var h=null,p;if(vt[l]===void 0&&typeof Wr<"u"&&Wr&&Wr.exports&&I1(l))try{h=yo._abbr,p=vf,p("./locale/"+l),Bn(h)}catch{vt[l]=null}return vt[l]}function Bn(l,h){var p;return l&&(a(h)?p=_n(l):p=Qc(l,h),p?yo=p:typeof console<"u"&&console.warn&&console.warn("Locale "+l+" not found. Did you forget to load it?")),yo._abbr}function Qc(l,h){if(h!==null){var p,m=zp;if(h.abbr=l,vt[l]!=null)Ke("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),m=vt[l]._config;else if(h.parentLocale!=null)if(vt[h.parentLocale]!=null)m=vt[h.parentLocale]._config;else if(p=Na(h.parentLocale),p!=null)m=p._config;else return vo[h.parentLocale]||(vo[h.parentLocale]=[]),vo[h.parentLocale].push({name:l,config:h}),null;return vt[l]=new dt(Ze(m,h)),vo[l]&&vo[l].forEach(function(C){Qc(C.name,C.config)}),Bn(l),vt[l]}else return delete vt[l],null}function D1(l,h){if(h!=null){var p,m,C=zp;vt[l]!=null&&vt[l].parentLocale!=null?vt[l].set(Ze(vt[l]._config,h)):(m=Na(l),m!=null&&(C=m._config),h=Ze(C,h),m==null&&(h.abbr=l),p=new dt(h),p.parentLocale=vt[l],vt[l]=p),Bn(l)}else vt[l]!=null&&(vt[l].parentLocale!=null?(vt[l]=vt[l].parentLocale,l===Bn()&&Bn(l)):vt[l]!=null&&delete vt[l]);return vt[l]}function _n(l){var h;if(l&&l._locale&&l._locale._abbr&&(l=l._locale._abbr),!l)return yo;if(!i(l)){if(h=Na(l),h)return h;l=[l]}return T1(l)}function O1(){return Yt(vt)}function Jc(l){var h,p=l._a;return p&&w(l).overflow===-2&&(h=p[fn]<0||p[fn]>11?fn:p[an]<1||p[an]>qc(p[Qt],p[fn])?an:p[jt]<0||p[jt]>24||p[jt]===24&&(p[Gi]!==0||p[mn]!==0||p[_s]!==0)?jt:p[Gi]<0||p[Gi]>59?Gi:p[mn]<0||p[mn]>59?mn:p[_s]<0||p[_s]>999?_s:-1,w(l)._overflowDayOfYear&&(h<Qt||h>an)&&(h=an),w(l)._overflowWeeks&&h===-1&&(h=Av),w(l)._overflowWeekday&&h===-1&&(h=Fv),w(l).overflow=h),l}var E1=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,k1=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,M1=/Z|[+-]\d\d(?::?\d\d)?/,ja=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],eh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],A1=/^\/?Date\((-?\d+)/i,F1=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,V1={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Yp(l){var h,p,m=l._i,C=E1.exec(m)||k1.exec(m),A,H,se,xe,ze=ja.length,oi=eh.length;if(C){for(w(l).iso=!0,h=0,p=ze;h<p;h++)if(ja[h][1].exec(C[1])){H=ja[h][0],A=ja[h][2]!==!1;break}if(H==null){l._isValid=!1;return}if(C[3]){for(h=0,p=oi;h<p;h++)if(eh[h][1].exec(C[3])){se=(C[2]||" ")+eh[h][0];break}if(se==null){l._isValid=!1;return}}if(!A&&se!=null){l._isValid=!1;return}if(C[4])if(M1.exec(C[4]))xe="Z";else{l._isValid=!1;return}l._f=H+(se||"")+(xe||""),ih(l)}else l._isValid=!1}function R1(l,h,p,m,C,A){var H=[L1(l),Vp.indexOf(h),parseInt(p,10),parseInt(m,10),parseInt(C,10)];return A&&H.push(parseInt(A,10)),H}function L1(l){var h=parseInt(l,10);return h<=49?2e3+h:h<=999?1900+h:h}function P1(l){return l.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function N1(l,h,p){if(l){var m=Bp.indexOf(l),C=new Date(h[0],h[1],h[2]).getDay();if(m!==C)return w(p).weekdayMismatch=!0,p._isValid=!1,!1}return!0}function j1(l,h,p){if(l)return V1[l];if(h)return 0;var m=parseInt(p,10),C=m%100,A=(m-C)/100;return A*60+C}function Gp(l){var h=F1.exec(P1(l._i)),p;if(h){if(p=R1(h[4],h[3],h[2],h[5],h[6],h[7]),!N1(h[1],p,l))return;l._a=p,l._tzm=j1(h[8],h[9],h[10]),l._d=go.apply(null,l._a),l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),w(l).rfc2822=!0}else l._isValid=!1}function B1(l){var h=A1.exec(l._i);if(h!==null){l._d=new Date(+h[1]);return}if(Yp(l),l._isValid===!1)delete l._isValid;else return;if(Gp(l),l._isValid===!1)delete l._isValid;else return;l._strict?l._isValid=!1:t.createFromInputFallback(l)}t.createFromInputFallback=J("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(l){l._d=new Date(l._i+(l._useUTC?" UTC":""))});function lr(l,h,p){return l??h??p}function U1(l){var h=new Date(t.now());return l._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function th(l){var h,p,m=[],C,A,H;if(!l._d){for(C=U1(l),l._w&&l._a[an]==null&&l._a[fn]==null&&H1(l),l._dayOfYear!=null&&(H=lr(l._a[Qt],C[Qt]),(l._dayOfYear>fo(H)||l._dayOfYear===0)&&(w(l)._overflowDayOfYear=!0),p=go(H,0,l._dayOfYear),l._a[fn]=p.getUTCMonth(),l._a[an]=p.getUTCDate()),h=0;h<3&&l._a[h]==null;++h)l._a[h]=m[h]=C[h];for(;h<7;h++)l._a[h]=m[h]=l._a[h]==null?h===2?1:0:l._a[h];l._a[jt]===24&&l._a[Gi]===0&&l._a[mn]===0&&l._a[_s]===0&&(l._nextDay=!0,l._a[jt]=0),l._d=(l._useUTC?go:qv).apply(null,m),A=l._useUTC?l._d.getUTCDay():l._d.getDay(),l._tzm!=null&&l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),l._nextDay&&(l._a[jt]=24),l._w&&typeof l._w.d<"u"&&l._w.d!==A&&(w(l).weekdayMismatch=!0)}}function H1(l){var h,p,m,C,A,H,se,xe,ze;h=l._w,h.GG!=null||h.W!=null||h.E!=null?(A=1,H=4,p=lr(h.GG,l._a[Qt],_o(mt(),1,4).year),m=lr(h.W,1),C=lr(h.E,1),(C<1||C>7)&&(xe=!0)):(A=l._locale._week.dow,H=l._locale._week.doy,ze=_o(mt(),A,H),p=lr(h.gg,l._a[Qt],ze.year),m=lr(h.w,ze.week),h.d!=null?(C=h.d,(C<0||C>6)&&(xe=!0)):h.e!=null?(C=h.e+A,(h.e<0||h.e>6)&&(xe=!0)):C=A),m<1||m>gn(p,A,H)?w(l)._overflowWeeks=!0:xe!=null?w(l)._overflowWeekday=!0:(se=jp(p,m,C,A,H),l._a[Qt]=se.year,l._dayOfYear=se.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function ih(l){if(l._f===t.ISO_8601){Yp(l);return}if(l._f===t.RFC_2822){Gp(l);return}l._a=[],w(l).empty=!0;var h=""+l._i,p,m,C,A,H,se=h.length,xe=0,ze,oi;for(C=jn(l._f,l._locale).match(pi)||[],oi=C.length,p=0;p<oi;p++)A=C[p],m=(h.match(Ev(A,l))||[])[0],m&&(H=h.substr(0,h.indexOf(m)),H.length>0&&w(l).unusedInput.push(H),h=h.slice(h.indexOf(m)+m.length),xe+=m.length),sn[A]?(m?w(l).empty=!1:w(l).unusedTokens.push(A),Mv(A,m,l)):l._strict&&!m&&w(l).unusedTokens.push(A);w(l).charsLeftOver=se-xe,h.length>0&&w(l).unusedInput.push(h),l._a[jt]<=12&&w(l).bigHour===!0&&l._a[jt]>0&&(w(l).bigHour=void 0),w(l).parsedDateParts=l._a.slice(0),w(l).meridiem=l._meridiem,l._a[jt]=z1(l._locale,l._a[jt],l._meridiem),ze=w(l).era,ze!==null&&(l._a[Qt]=l._locale.erasConvertYear(ze,l._a[Qt])),th(l),Jc(l)}function z1(l,h,p){var m;return p==null?h:l.meridiemHour!=null?l.meridiemHour(h,p):(l.isPM!=null&&(m=l.isPM(p),m&&h<12&&(h+=12),!m&&h===12&&(h=0)),h)}function W1(l){var h,p,m,C,A,H,se=!1,xe=l._f.length;if(xe===0){w(l).invalidFormat=!0,l._d=new Date(NaN);return}for(C=0;C<xe;C++)A=0,H=!1,h=Y({},l),l._useUTC!=null&&(h._useUTC=l._useUTC),h._f=l._f[C],ih(h),D(h)&&(H=!0),A+=w(h).charsLeftOver,A+=w(h).unusedTokens.length*10,w(h).score=A,se?A<m&&(m=A,p=h):(m==null||A<m||H)&&(m=A,p=h,H&&(se=!0));g(l,p||h)}function Y1(l){if(!l._d){var h=zc(l._i),p=h.day===void 0?h.date:h.day;l._a=d([h.year,h.month,p,h.hour,h.minute,h.second,h.millisecond],function(m){return m&&parseInt(m,10)}),th(l)}}function G1(l){var h=new q(Jc($p(l)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function $p(l){var h=l._i,p=l._f;return l._locale=l._locale||_n(l._l),h===null||p===void 0&&h===""?R({nullInput:!0}):(typeof h=="string"&&(l._i=h=l._locale.preparse(h)),Q(h)?new q(Jc(h)):(u(h)?l._d=h:i(p)?W1(l):p?ih(l):$1(l),D(l)||(l._d=null),l))}function $1(l){var h=l._i;a(h)?l._d=new Date(t.now()):u(h)?l._d=new Date(h.valueOf()):typeof h=="string"?B1(l):i(h)?(l._a=d(h.slice(0),function(p){return parseInt(p,10)}),th(l)):n(h)?Y1(l):c(h)?l._d=new Date(h):t.createFromInputFallback(l)}function qp(l,h,p,m,C){var A={};return(h===!0||h===!1)&&(m=h,h=void 0),(p===!0||p===!1)&&(m=p,p=void 0),(n(l)&&o(l)||i(l)&&l.length===0)&&(l=void 0),A._isAMomentObject=!0,A._useUTC=A._isUTC=C,A._l=p,A._i=l,A._f=h,A._strict=m,G1(A)}function mt(l,h,p,m){return qp(l,h,p,m,!1)}var q1=J("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=mt.apply(null,arguments);return this.isValid()&&l.isValid()?l<this?this:l:R()}),X1=J("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=mt.apply(null,arguments);return this.isValid()&&l.isValid()?l>this?this:l:R()});function Xp(l,h){var p,m;if(h.length===1&&i(h[0])&&(h=h[0]),!h.length)return mt();for(p=h[0],m=1;m<h.length;++m)(!h[m].isValid()||h[m][l](p))&&(p=h[m]);return p}function K1(){var l=[].slice.call(arguments,0);return Xp("isBefore",l)}function Z1(){var l=[].slice.call(arguments,0);return Xp("isAfter",l)}var Q1=function(){return Date.now?Date.now():+new Date},bo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function J1(l){var h,p=!1,m,C=bo.length;for(h in l)if(r(l,h)&&!(At.call(bo,h)!==-1&&(l[h]==null||!isNaN(l[h]))))return!1;for(m=0;m<C;++m)if(l[bo[m]]){if(p)return!1;parseFloat(l[bo[m]])!==Be(l[bo[m]])&&(p=!0)}return!0}function ey(){return this._isValid}function ty(){return $i(NaN)}function Ba(l){var h=zc(l),p=h.year||0,m=h.quarter||0,C=h.month||0,A=h.week||h.isoWeek||0,H=h.day||0,se=h.hour||0,xe=h.minute||0,ze=h.second||0,oi=h.millisecond||0;this._isValid=J1(h),this._milliseconds=+oi+ze*1e3+xe*6e4+se*1e3*60*60,this._days=+H+A*7,this._months=+C+m*3+p*12,this._data={},this._locale=_n(),this._bubble()}function Ua(l){return l instanceof Ba}function nh(l){return l<0?Math.round(-1*l)*-1:Math.round(l)}function iy(l,h,p){var m=Math.min(l.length,h.length),C=Math.abs(l.length-h.length),A=0,H;for(H=0;H<m;H++)(p&&l[H]!==h[H]||!p&&Be(l[H])!==Be(h[H]))&&A++;return A+C}function Kp(l,h){ce(l,0,0,function(){var p=this.utcOffset(),m="+";return p<0&&(p=-p,m="-"),m+Qe(~~(p/60),2)+h+Qe(~~p%60,2)})}Kp("Z",":"),Kp("ZZ",""),re("Z",Va),re("ZZ",Va),lt(["Z","ZZ"],function(l,h,p){p._useUTC=!0,p._tzm=sh(Va,l)});var ny=/([\+\-]|\d\d)/gi;function sh(l,h){var p=(h||"").match(l),m,C,A;return p===null?null:(m=p[p.length-1]||[],C=(m+"").match(ny)||["-",0,0],A=+(C[1]*60)+Be(C[2]),A===0?0:C[0]==="+"?A:-A)}function rh(l,h){var p,m;return h._isUTC?(p=h.clone(),m=(Q(l)||u(l)?l.valueOf():mt(l).valueOf())-p.valueOf(),p._d.setTime(p._d.valueOf()+m),t.updateOffset(p,!1),p):mt(l).local()}function oh(l){return-Math.round(l._d.getTimezoneOffset())}t.updateOffset=function(){};function sy(l,h,p){var m=this._offset||0,C;if(!this.isValid())return l!=null?this:NaN;if(l!=null){if(typeof l=="string"){if(l=sh(Va,l),l===null)return this}else Math.abs(l)<16&&!p&&(l=l*60);return!this._isUTC&&h&&(C=oh(this)),this._offset=l,this._isUTC=!0,C!=null&&this.add(C,"m"),m!==l&&(!h||this._changeInProgress?ef(this,$i(l-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?m:oh(this)}function ry(l,h){return l!=null?(typeof l!="string"&&(l=-l),this.utcOffset(l,h),this):-this.utcOffset()}function oy(l){return this.utcOffset(0,l)}function ay(l){return this._isUTC&&(this.utcOffset(0,l),this._isUTC=!1,l&&this.subtract(oh(this),"m")),this}function ly(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var l=sh(Dv,this._i);l!=null?this.utcOffset(l):this.utcOffset(0,!0)}return this}function cy(l){return this.isValid()?(l=l?mt(l).utcOffset():0,(this.utcOffset()-l)%60===0):!1}function hy(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function uy(){if(!a(this._isDSTShifted))return this._isDSTShifted;var l={},h;return Y(l,this),l=$p(l),l._a?(h=l._isUTC?y(l._a):mt(l._a),this._isDSTShifted=this.isValid()&&iy(l._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function dy(){return this.isValid()?!this._isUTC:!1}function py(){return this.isValid()?this._isUTC:!1}function Zp(){return this.isValid()?this._isUTC&&this._offset===0:!1}var fy=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,my=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $i(l,h){var p=l,m=null,C,A,H;return Ua(l)?p={ms:l._milliseconds,d:l._days,M:l._months}:c(l)||!isNaN(+l)?(p={},h?p[h]=+l:p.milliseconds=+l):(m=fy.exec(l))?(C=m[1]==="-"?-1:1,p={y:0,d:Be(m[an])*C,h:Be(m[jt])*C,m:Be(m[Gi])*C,s:Be(m[mn])*C,ms:Be(nh(m[_s]*1e3))*C}):(m=my.exec(l))?(C=m[1]==="-"?-1:1,p={y:vs(m[2],C),M:vs(m[3],C),w:vs(m[4],C),d:vs(m[5],C),h:vs(m[6],C),m:vs(m[7],C),s:vs(m[8],C)}):p==null?p={}:typeof p=="object"&&("from"in p||"to"in p)&&(H=gy(mt(p.from),mt(p.to)),p={},p.ms=H.milliseconds,p.M=H.months),A=new Ba(p),Ua(l)&&r(l,"_locale")&&(A._locale=l._locale),Ua(l)&&r(l,"_isValid")&&(A._isValid=l._isValid),A}$i.fn=Ba.prototype,$i.invalid=ty;function vs(l,h){var p=l&&parseFloat(l.replace(",","."));return(isNaN(p)?0:p)*h}function Qp(l,h){var p={};return p.months=h.month()-l.month()+(h.year()-l.year())*12,l.clone().add(p.months,"M").isAfter(h)&&--p.months,p.milliseconds=+h-+l.clone().add(p.months,"M"),p}function gy(l,h){var p;return l.isValid()&&h.isValid()?(h=rh(h,l),l.isBefore(h)?p=Qp(l,h):(p=Qp(h,l),p.milliseconds=-p.milliseconds,p.months=-p.months),p):{milliseconds:0,months:0}}function Jp(l,h){return function(p,m){var C,A;return m!==null&&!isNaN(+m)&&(Ke(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),A=p,p=m,m=A),C=$i(p,m),ef(this,C,l),this}}function ef(l,h,p,m){var C=h._milliseconds,A=nh(h._days),H=nh(h._months);l.isValid()&&(m=m??!0,H&&Lp(l,mo(l,"Month")+H*p),A&&Fp(l,"Date",mo(l,"Date")+A*p),C&&l._d.setTime(l._d.valueOf()+C*p),m&&t.updateOffset(l,A||H))}var _y=Jp(1,"add"),vy=Jp(-1,"subtract");function tf(l){return typeof l=="string"||l instanceof String}function yy(l){return Q(l)||u(l)||tf(l)||c(l)||Cy(l)||by(l)||l===null||l===void 0}function by(l){var h=n(l)&&!o(l),p=!1,m=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],C,A,H=m.length;for(C=0;C<H;C+=1)A=m[C],p=p||r(l,A);return h&&p}function Cy(l){var h=i(l),p=!1;return h&&(p=l.filter(function(m){return!c(m)&&tf(l)}).length===0),h&&p}function wy(l){var h=n(l)&&!o(l),p=!1,m=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],C,A;for(C=0;C<m.length;C+=1)A=m[C],p=p||r(l,A);return h&&p}function xy(l,h){var p=l.diff(h,"days",!0);return p<-6?"sameElse":p<-1?"lastWeek":p<0?"lastDay":p<1?"sameDay":p<2?"nextDay":p<7?"nextWeek":"sameElse"}function Sy(l,h){arguments.length===1&&(arguments[0]?yy(arguments[0])?(l=arguments[0],h=void 0):wy(arguments[0])&&(h=arguments[0],l=void 0):(l=void 0,h=void 0));var p=l||mt(),m=rh(p,this).startOf("day"),C=t.calendarFormat(this,m)||"sameElse",A=h&&(it(h[C])?h[C].call(this,p):h[C]);return this.format(A||this.localeData().calendar(C,this,mt(p)))}function Ty(){return new q(this)}function Iy(l,h){var p=Q(l)?l:mt(l);return this.isValid()&&p.isValid()?(h=Vi(h)||"millisecond",h==="millisecond"?this.valueOf()>p.valueOf():p.valueOf()<this.clone().startOf(h).valueOf()):!1}function Dy(l,h){var p=Q(l)?l:mt(l);return this.isValid()&&p.isValid()?(h=Vi(h)||"millisecond",h==="millisecond"?this.valueOf()<p.valueOf():this.clone().endOf(h).valueOf()<p.valueOf()):!1}function Oy(l,h,p,m){var C=Q(l)?l:mt(l),A=Q(h)?h:mt(h);return this.isValid()&&C.isValid()&&A.isValid()?(m=m||"()",(m[0]==="("?this.isAfter(C,p):!this.isBefore(C,p))&&(m[1]===")"?this.isBefore(A,p):!this.isAfter(A,p))):!1}function Ey(l,h){var p=Q(l)?l:mt(l),m;return this.isValid()&&p.isValid()?(h=Vi(h)||"millisecond",h==="millisecond"?this.valueOf()===p.valueOf():(m=p.valueOf(),this.clone().startOf(h).valueOf()<=m&&m<=this.clone().endOf(h).valueOf())):!1}function ky(l,h){return this.isSame(l,h)||this.isAfter(l,h)}function My(l,h){return this.isSame(l,h)||this.isBefore(l,h)}function Ay(l,h,p){var m,C,A;if(!this.isValid())return NaN;if(m=rh(l,this),!m.isValid())return NaN;switch(C=(m.utcOffset()-this.utcOffset())*6e4,h=Vi(h),h){case"year":A=Ha(this,m)/12;break;case"month":A=Ha(this,m);break;case"quarter":A=Ha(this,m)/3;break;case"second":A=(this-m)/1e3;break;case"minute":A=(this-m)/6e4;break;case"hour":A=(this-m)/36e5;break;case"day":A=(this-m-C)/864e5;break;case"week":A=(this-m-C)/6048e5;break;default:A=this-m}return p?A:Ri(A)}function Ha(l,h){if(l.date()<h.date())return-Ha(h,l);var p=(h.year()-l.year())*12+(h.month()-l.month()),m=l.clone().add(p,"months"),C,A;return h-m<0?(C=l.clone().add(p-1,"months"),A=(h-m)/(m-C)):(C=l.clone().add(p+1,"months"),A=(h-m)/(C-m)),-(p+A)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Fy(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Vy(l){if(!this.isValid())return null;var h=l!==!0,p=h?this.clone().utc():this;return p.year()<0||p.year()>9999?Fi(p,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):it(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Fi(p,"Z")):Fi(p,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ry(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var l="moment",h="",p,m,C,A;return this.isLocal()||(l=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),p="["+l+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",C="-MM-DD[T]HH:mm:ss.SSS",A=h+'[")]',this.format(p+m+C+A)}function Ly(l){l||(l=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var h=Fi(this,l);return this.localeData().postformat(h)}function Py(l,h){return this.isValid()&&(Q(l)&&l.isValid()||mt(l).isValid())?$i({to:this,from:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function Ny(l){return this.from(mt(),l)}function jy(l,h){return this.isValid()&&(Q(l)&&l.isValid()||mt(l).isValid())?$i({from:this,to:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function By(l){return this.to(mt(),l)}function nf(l){var h;return l===void 0?this._locale._abbr:(h=_n(l),h!=null&&(this._locale=h),this)}var sf=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(l){return l===void 0?this.localeData():this.locale(l)});function rf(){return this._locale}var za=1e3,cr=60*za,Wa=60*cr,of=(365*400+97)*24*Wa;function hr(l,h){return(l%h+h)%h}function af(l,h,p){return l<100&&l>=0?new Date(l+400,h,p)-of:new Date(l,h,p).valueOf()}function lf(l,h,p){return l<100&&l>=0?Date.UTC(l+400,h,p)-of:Date.UTC(l,h,p)}function Uy(l){var h,p;if(l=Vi(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?lf:af,l){case"year":h=p(this.year(),0,1);break;case"quarter":h=p(this.year(),this.month()-this.month()%3,1);break;case"month":h=p(this.year(),this.month(),1);break;case"week":h=p(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=p(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=hr(h+(this._isUTC?0:this.utcOffset()*cr),Wa);break;case"minute":h=this._d.valueOf(),h-=hr(h,cr);break;case"second":h=this._d.valueOf(),h-=hr(h,za);break}return this._d.setTime(h),t.updateOffset(this,!0),this}function Hy(l){var h,p;if(l=Vi(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?lf:af,l){case"year":h=p(this.year()+1,0,1)-1;break;case"quarter":h=p(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=p(this.year(),this.month()+1,1)-1;break;case"week":h=p(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=p(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=Wa-hr(h+(this._isUTC?0:this.utcOffset()*cr),Wa)-1;break;case"minute":h=this._d.valueOf(),h+=cr-hr(h,cr)-1;break;case"second":h=this._d.valueOf(),h+=za-hr(h,za)-1;break}return this._d.setTime(h),t.updateOffset(this,!0),this}function zy(){return this._d.valueOf()-(this._offset||0)*6e4}function Wy(){return Math.floor(this.valueOf()/1e3)}function Yy(){return new Date(this.valueOf())}function Gy(){var l=this;return[l.year(),l.month(),l.date(),l.hour(),l.minute(),l.second(),l.millisecond()]}function $y(){var l=this;return{years:l.year(),months:l.month(),date:l.date(),hours:l.hours(),minutes:l.minutes(),seconds:l.seconds(),milliseconds:l.milliseconds()}}function qy(){return this.isValid()?this.toISOString():null}function Xy(){return D(this)}function Ky(){return g({},w(this))}function Zy(){return w(this).overflow}function Qy(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ce("N",0,0,"eraAbbr"),ce("NN",0,0,"eraAbbr"),ce("NNN",0,0,"eraAbbr"),ce("NNNN",0,0,"eraName"),ce("NNNNN",0,0,"eraNarrow"),ce("y",["y",1],"yo","eraYear"),ce("y",["yy",2],0,"eraYear"),ce("y",["yyy",3],0,"eraYear"),ce("y",["yyyy",4],0,"eraYear"),re("N",ah),re("NN",ah),re("NNN",ah),re("NNNN",cb),re("NNNNN",hb),lt(["N","NN","NNN","NNNN","NNNNN"],function(l,h,p,m){var C=p._locale.erasParse(l,m,p._strict);C?w(p).era=C:w(p).invalidEra=l}),re("y",rr),re("yy",rr),re("yyy",rr),re("yyyy",rr),re("yo",ub),lt(["y","yy","yyy","yyyy"],Qt),lt(["yo"],function(l,h,p,m){var C;p._locale._eraYearOrdinalRegex&&(C=l.match(p._locale._eraYearOrdinalRegex)),p._locale.eraYearOrdinalParse?h[Qt]=p._locale.eraYearOrdinalParse(l,C):h[Qt]=parseInt(l,10)});function Jy(l,h){var p,m,C,A=this._eras||_n("en")._eras;for(p=0,m=A.length;p<m;++p){switch(typeof A[p].since){case"string":C=t(A[p].since).startOf("day"),A[p].since=C.valueOf();break}switch(typeof A[p].until){case"undefined":A[p].until=1/0;break;case"string":C=t(A[p].until).startOf("day").valueOf(),A[p].until=C.valueOf();break}}return A}function eb(l,h,p){var m,C,A=this.eras(),H,se,xe;for(l=l.toUpperCase(),m=0,C=A.length;m<C;++m)if(H=A[m].name.toUpperCase(),se=A[m].abbr.toUpperCase(),xe=A[m].narrow.toUpperCase(),p)switch(h){case"N":case"NN":case"NNN":if(se===l)return A[m];break;case"NNNN":if(H===l)return A[m];break;case"NNNNN":if(xe===l)return A[m];break}else if([H,se,xe].indexOf(l)>=0)return A[m]}function tb(l,h){var p=l.since<=l.until?1:-1;return h===void 0?t(l.since).year():t(l.since).year()+(h-l.offset)*p}function ib(){var l,h,p,m=this.localeData().eras();for(l=0,h=m.length;l<h;++l)if(p=this.clone().startOf("day").valueOf(),m[l].since<=p&&p<=m[l].until||m[l].until<=p&&p<=m[l].since)return m[l].name;return""}function nb(){var l,h,p,m=this.localeData().eras();for(l=0,h=m.length;l<h;++l)if(p=this.clone().startOf("day").valueOf(),m[l].since<=p&&p<=m[l].until||m[l].until<=p&&p<=m[l].since)return m[l].narrow;return""}function sb(){var l,h,p,m=this.localeData().eras();for(l=0,h=m.length;l<h;++l)if(p=this.clone().startOf("day").valueOf(),m[l].since<=p&&p<=m[l].until||m[l].until<=p&&p<=m[l].since)return m[l].abbr;return""}function rb(){var l,h,p,m,C=this.localeData().eras();for(l=0,h=C.length;l<h;++l)if(p=C[l].since<=C[l].until?1:-1,m=this.clone().startOf("day").valueOf(),C[l].since<=m&&m<=C[l].until||C[l].until<=m&&m<=C[l].since)return(this.year()-t(C[l].since).year())*p+C[l].offset;return this.year()}function ob(l){return r(this,"_erasNameRegex")||lh.call(this),l?this._erasNameRegex:this._erasRegex}function ab(l){return r(this,"_erasAbbrRegex")||lh.call(this),l?this._erasAbbrRegex:this._erasRegex}function lb(l){return r(this,"_erasNarrowRegex")||lh.call(this),l?this._erasNarrowRegex:this._erasRegex}function ah(l,h){return h.erasAbbrRegex(l)}function cb(l,h){return h.erasNameRegex(l)}function hb(l,h){return h.erasNarrowRegex(l)}function ub(l,h){return h._eraYearOrdinalRegex||rr}function lh(){var l=[],h=[],p=[],m=[],C,A,H,se,xe,ze=this.eras();for(C=0,A=ze.length;C<A;++C)H=pn(ze[C].name),se=pn(ze[C].abbr),xe=pn(ze[C].narrow),h.push(H),l.push(se),p.push(xe),m.push(H),m.push(se),m.push(xe);this._erasRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+p.join("|")+")","i")}ce(0,["gg",2],0,function(){return this.weekYear()%100}),ce(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ya(l,h){ce(0,[l,l.length],0,h)}Ya("gggg","weekYear"),Ya("ggggg","weekYear"),Ya("GGGG","isoWeekYear"),Ya("GGGGG","isoWeekYear"),re("G",Fa),re("g",Fa),re("GG",ft,bi),re("gg",ft,bi),re("GGGG",Yc,Wc),re("gggg",Yc,Wc),re("GGGGG",Aa,ka),re("ggggg",Aa,ka),po(["gggg","ggggg","GGGG","GGGGG"],function(l,h,p,m){h[m.substr(0,2)]=Be(l)}),po(["gg","GG"],function(l,h,p,m){h[m]=t.parseTwoDigitYear(l)});function db(l){return cf.call(this,l,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function pb(l){return cf.call(this,l,this.isoWeek(),this.isoWeekday(),1,4)}function fb(){return gn(this.year(),1,4)}function mb(){return gn(this.isoWeekYear(),1,4)}function gb(){var l=this.localeData()._week;return gn(this.year(),l.dow,l.doy)}function _b(){var l=this.localeData()._week;return gn(this.weekYear(),l.dow,l.doy)}function cf(l,h,p,m,C){var A;return l==null?_o(this,m,C).year:(A=gn(l,m,C),h>A&&(h=A),vb.call(this,l,h,p,m,C))}function vb(l,h,p,m,C){var A=jp(l,h,p,m,C),H=go(A.year,0,A.dayOfYear);return this.year(H.getUTCFullYear()),this.month(H.getUTCMonth()),this.date(H.getUTCDate()),this}ce("Q",0,"Qo","quarter"),re("Q",Op),lt("Q",function(l,h){h[fn]=(Be(l)-1)*3});function yb(l){return l==null?Math.ceil((this.month()+1)/3):this.month((l-1)*3+this.month()%3)}ce("D",["DD",2],"Do","date"),re("D",ft,or),re("DD",ft,bi),re("Do",function(l,h){return l?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),lt(["D","DD"],an),lt("Do",function(l,h){h[an]=Be(l.match(ft)[0])});var hf=ar("Date",!0);ce("DDD",["DDDD",3],"DDDo","dayOfYear"),re("DDD",Ma),re("DDDD",Ep),lt(["DDD","DDDD"],function(l,h,p){p._dayOfYear=Be(l)});function bb(l){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return l==null?h:this.add(l-h,"d")}ce("m",["mm",2],0,"minute"),re("m",ft,Gc),re("mm",ft,bi),lt(["m","mm"],Gi);var Cb=ar("Minutes",!1);ce("s",["ss",2],0,"second"),re("s",ft,Gc),re("ss",ft,bi),lt(["s","ss"],mn);var wb=ar("Seconds",!1);ce("S",0,0,function(){return~~(this.millisecond()/100)}),ce(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ce(0,["SSS",3],0,"millisecond"),ce(0,["SSSS",4],0,function(){return this.millisecond()*10}),ce(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ce(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ce(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ce(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ce(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),re("S",Ma,Op),re("SS",Ma,bi),re("SSS",Ma,Ep);var Un,uf;for(Un="SSSS";Un.length<=9;Un+="S")re(Un,rr);function xb(l,h){h[_s]=Be(("0."+l)*1e3)}for(Un="S";Un.length<=9;Un+="S")lt(Un,xb);uf=ar("Milliseconds",!1),ce("z",0,0,"zoneAbbr"),ce("zz",0,0,"zoneName");function Sb(){return this._isUTC?"UTC":""}function Tb(){return this._isUTC?"Coordinated Universal Time":""}var X=q.prototype;X.add=_y,X.calendar=Sy,X.clone=Ty,X.diff=Ay,X.endOf=Hy,X.format=Ly,X.from=Py,X.fromNow=Ny,X.to=jy,X.toNow=By,X.get=Rv,X.invalidAt=Zy,X.isAfter=Iy,X.isBefore=Dy,X.isBetween=Oy,X.isSame=Ey,X.isSameOrAfter=ky,X.isSameOrBefore=My,X.isValid=Xy,X.lang=sf,X.locale=nf,X.localeData=rf,X.max=X1,X.min=q1,X.parsingFlags=Ky,X.set=Lv,X.startOf=Uy,X.subtract=vy,X.toArray=Gy,X.toObject=$y,X.toDate=Yy,X.toISOString=Vy,X.inspect=Ry,typeof Symbol<"u"&&Symbol.for!=null&&(X[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),X.toJSON=qy,X.toString=Fy,X.unix=Wy,X.valueOf=zy,X.creationData=Qy,X.eraName=ib,X.eraNarrow=nb,X.eraAbbr=sb,X.eraYear=rb,X.year=Ap,X.isLeapYear=Vv,X.weekYear=db,X.isoWeekYear=pb,X.quarter=X.quarters=yb,X.month=Pp,X.daysInMonth=Yv,X.week=X.weeks=Jv,X.isoWeek=X.isoWeeks=e1,X.weeksInYear=gb,X.weeksInWeekYear=_b,X.isoWeeksInYear=fb,X.isoWeeksInISOWeekYear=mb,X.date=hf,X.day=X.days=p1,X.weekday=f1,X.isoWeekday=m1,X.dayOfYear=bb,X.hour=X.hours=w1,X.minute=X.minutes=Cb,X.second=X.seconds=wb,X.millisecond=X.milliseconds=uf,X.utcOffset=sy,X.utc=oy,X.local=ay,X.parseZone=ly,X.hasAlignedHourOffset=cy,X.isDST=hy,X.isLocal=dy,X.isUtcOffset=py,X.isUtc=Zp,X.isUTC=Zp,X.zoneAbbr=Sb,X.zoneName=Tb,X.dates=J("dates accessor is deprecated. Use date instead.",hf),X.months=J("months accessor is deprecated. Use month instead",Pp),X.years=J("years accessor is deprecated. Use year instead",Ap),X.zone=J("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ry),X.isDSTShifted=J("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",uy);function Ib(l){return mt(l*1e3)}function Db(){return mt.apply(null,arguments).parseZone()}function df(l){return l}var et=dt.prototype;et.calendar=yi,et.longDateFormat=ho,et.invalidDate=vv,et.ordinal=Cv,et.preparse=df,et.postformat=df,et.relativeTime=xv,et.pastFuture=Sv,et.set=Tt,et.eras=Jy,et.erasParse=eb,et.erasConvertYear=tb,et.erasAbbrRegex=ab,et.erasNameRegex=ob,et.erasNarrowRegex=lb,et.months=Uv,et.monthsShort=Hv,et.monthsParse=Wv,et.monthsRegex=$v,et.monthsShortRegex=Gv,et.week=Xv,et.firstDayOfYear=Qv,et.firstDayOfWeek=Zv,et.weekdays=l1,et.weekdaysMin=h1,et.weekdaysShort=c1,et.weekdaysParse=d1,et.weekdaysRegex=g1,et.weekdaysShortRegex=_1,et.weekdaysMinRegex=v1,et.isPM=b1,et.meridiem=x1;function Ga(l,h,p,m){var C=_n(),A=y().set(m,h);return C[p](A,l)}function pf(l,h,p){if(c(l)&&(h=l,l=void 0),l=l||"",h!=null)return Ga(l,h,p,"month");var m,C=[];for(m=0;m<12;m++)C[m]=Ga(l,m,p,"month");return C}function ch(l,h,p,m){typeof l=="boolean"?(c(h)&&(p=h,h=void 0),h=h||""):(h=l,p=h,l=!1,c(h)&&(p=h,h=void 0),h=h||"");var C=_n(),A=l?C._week.dow:0,H,se=[];if(p!=null)return Ga(h,(p+A)%7,m,"day");for(H=0;H<7;H++)se[H]=Ga(h,(H+A)%7,m,"day");return se}function Ob(l,h){return pf(l,h,"months")}function Eb(l,h){return pf(l,h,"monthsShort")}function kb(l,h,p){return ch(l,h,p,"weekdays")}function Mb(l,h,p){return ch(l,h,p,"weekdaysShort")}function Ab(l,h,p){return ch(l,h,p,"weekdaysMin")}Bn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(l){var h=l%10,p=Be(l%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return l+p}}),t.lang=J("moment.lang is deprecated. Use moment.locale instead.",Bn),t.langData=J("moment.langData is deprecated. Use moment.localeData instead.",_n);var vn=Math.abs;function Fb(){var l=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),l.milliseconds=vn(l.milliseconds),l.seconds=vn(l.seconds),l.minutes=vn(l.minutes),l.hours=vn(l.hours),l.months=vn(l.months),l.years=vn(l.years),this}function ff(l,h,p,m){var C=$i(h,p);return l._milliseconds+=m*C._milliseconds,l._days+=m*C._days,l._months+=m*C._months,l._bubble()}function Vb(l,h){return ff(this,l,h,1)}function Rb(l,h){return ff(this,l,h,-1)}function mf(l){return l<0?Math.floor(l):Math.ceil(l)}function Lb(){var l=this._milliseconds,h=this._days,p=this._months,m=this._data,C,A,H,se,xe;return l>=0&&h>=0&&p>=0||l<=0&&h<=0&&p<=0||(l+=mf(hh(p)+h)*864e5,h=0,p=0),m.milliseconds=l%1e3,C=Ri(l/1e3),m.seconds=C%60,A=Ri(C/60),m.minutes=A%60,H=Ri(A/60),m.hours=H%24,h+=Ri(H/24),xe=Ri(gf(h)),p+=xe,h-=mf(hh(xe)),se=Ri(p/12),p%=12,m.days=h,m.months=p,m.years=se,this}function gf(l){return l*4800/146097}function hh(l){return l*146097/4800}function Pb(l){if(!this.isValid())return NaN;var h,p,m=this._milliseconds;if(l=Vi(l),l==="month"||l==="quarter"||l==="year")switch(h=this._days+m/864e5,p=this._months+gf(h),l){case"month":return p;case"quarter":return p/3;case"year":return p/12}else switch(h=this._days+Math.round(hh(this._months)),l){case"week":return h/7+m/6048e5;case"day":return h+m/864e5;case"hour":return h*24+m/36e5;case"minute":return h*1440+m/6e4;case"second":return h*86400+m/1e3;case"millisecond":return Math.floor(h*864e5)+m;default:throw new Error("Unknown unit "+l)}}function yn(l){return function(){return this.as(l)}}var _f=yn("ms"),Nb=yn("s"),jb=yn("m"),Bb=yn("h"),Ub=yn("d"),Hb=yn("w"),zb=yn("M"),Wb=yn("Q"),Yb=yn("y"),Gb=_f;function $b(){return $i(this)}function qb(l){return l=Vi(l),this.isValid()?this[l+"s"]():NaN}function ys(l){return function(){return this.isValid()?this._data[l]:NaN}}var Xb=ys("milliseconds"),Kb=ys("seconds"),Zb=ys("minutes"),Qb=ys("hours"),Jb=ys("days"),eC=ys("months"),tC=ys("years");function iC(){return Ri(this.days()/7)}var bn=Math.round,ur={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function nC(l,h,p,m,C){return C.relativeTime(h||1,!!p,l,m)}function sC(l,h,p,m){var C=$i(l).abs(),A=bn(C.as("s")),H=bn(C.as("m")),se=bn(C.as("h")),xe=bn(C.as("d")),ze=bn(C.as("M")),oi=bn(C.as("w")),Cn=bn(C.as("y")),Hn=A<=p.ss&&["s",A]||A<p.s&&["ss",A]||H<=1&&["m"]||H<p.m&&["mm",H]||se<=1&&["h"]||se<p.h&&["hh",se]||xe<=1&&["d"]||xe<p.d&&["dd",xe];return p.w!=null&&(Hn=Hn||oi<=1&&["w"]||oi<p.w&&["ww",oi]),Hn=Hn||ze<=1&&["M"]||ze<p.M&&["MM",ze]||Cn<=1&&["y"]||["yy",Cn],Hn[2]=h,Hn[3]=+l>0,Hn[4]=m,nC.apply(null,Hn)}function rC(l){return l===void 0?bn:typeof l=="function"?(bn=l,!0):!1}function oC(l,h){return ur[l]===void 0?!1:h===void 0?ur[l]:(ur[l]=h,l==="s"&&(ur.ss=h-1),!0)}function aC(l,h){if(!this.isValid())return this.localeData().invalidDate();var p=!1,m=ur,C,A;return typeof l=="object"&&(h=l,l=!1),typeof l=="boolean"&&(p=l),typeof h=="object"&&(m=Object.assign({},ur,h),h.s!=null&&h.ss==null&&(m.ss=h.s-1)),C=this.localeData(),A=sC(this,!p,m,C),p&&(A=C.pastFuture(+this,A)),C.postformat(A)}var uh=Math.abs;function dr(l){return(l>0)-(l<0)||+l}function $a(){if(!this.isValid())return this.localeData().invalidDate();var l=uh(this._milliseconds)/1e3,h=uh(this._days),p=uh(this._months),m,C,A,H,se=this.asSeconds(),xe,ze,oi,Cn;return se?(m=Ri(l/60),C=Ri(m/60),l%=60,m%=60,A=Ri(p/12),p%=12,H=l?l.toFixed(3).replace(/\.?0+$/,""):"",xe=se<0?"-":"",ze=dr(this._months)!==dr(se)?"-":"",oi=dr(this._days)!==dr(se)?"-":"",Cn=dr(this._milliseconds)!==dr(se)?"-":"",xe+"P"+(A?ze+A+"Y":"")+(p?ze+p+"M":"")+(h?oi+h+"D":"")+(C||m||l?"T":"")+(C?Cn+C+"H":"")+(m?Cn+m+"M":"")+(l?Cn+H+"S":"")):"P0D"}var $e=Ba.prototype;$e.isValid=ey,$e.abs=Fb,$e.add=Vb,$e.subtract=Rb,$e.as=Pb,$e.asMilliseconds=_f,$e.asSeconds=Nb,$e.asMinutes=jb,$e.asHours=Bb,$e.asDays=Ub,$e.asWeeks=Hb,$e.asMonths=zb,$e.asQuarters=Wb,$e.asYears=Yb,$e.valueOf=Gb,$e._bubble=Lb,$e.clone=$b,$e.get=qb,$e.milliseconds=Xb,$e.seconds=Kb,$e.minutes=Zb,$e.hours=Qb,$e.days=Jb,$e.weeks=iC,$e.months=eC,$e.years=tC,$e.humanize=aC,$e.toISOString=$a,$e.toString=$a,$e.toJSON=$a,$e.locale=nf,$e.localeData=rf,$e.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$a),$e.lang=sf,ce("X",0,0,"unix"),ce("x",0,0,"valueOf"),re("x",Fa),re("X",Ov),lt("X",function(l,h,p){p._d=new Date(parseFloat(l)*1e3)}),lt("x",function(l,h,p){p._d=new Date(Be(l))});return t.version="2.30.1",e(mt),t.fn=X,t.min=K1,t.max=Z1,t.now=Q1,t.utc=y,t.unix=Ib,t.months=Ob,t.isDate=u,t.locale=Bn,t.invalid=R,t.duration=$i,t.isMoment=Q,t.weekdays=kb,t.parseZone=Db,t.localeData=_n,t.isDuration=Ua,t.monthsShort=Eb,t.weekdaysMin=Ab,t.defineLocale=Qc,t.updateLocale=D1,t.locales=O1,t.weekdaysShort=Mb,t.normalizeUnits=Vi,t.relativeTimeRounding=rC,t.relativeTimeThreshold=oC,t.calendarFormat=xy,t.prototype=X,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var Eo=class{},hl=class{},Sn=class s{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let n=e.slice(0,i),r=n.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof s?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new s;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof s?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let n=(t.op==="a"?this.headers.get(e):void 0)||[];n.push(...i),this.headers.set(e,n);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>r.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),n=t.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Oh=class{encodeKey(t){return dm(t)}encodeValue(t){return dm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function uC(s,t){let e=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(n=>{let r=n.indexOf("="),[o,a]=r==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,r)),t.decodeValue(n.slice(r+1))],c=e.get(o)||[];c.push(a),e.set(o,c)}),e}var dC=/%(\d[a-f0-9])/gi,pC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dm(s){return encodeURIComponent(s).replace(dC,(t,e)=>pC[e]??t)}function cl(s){return`${s}`}var Kn=class s{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Oh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=uC(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],n=Array.isArray(i)?i.map(cl):[cl(i)];this.map.set(e,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let n=t[i];Array.isArray(n)?n.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new s({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(cl(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],n=i.indexOf(cl(t.value));n!==-1&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Eh=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function fC(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function pm(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function fm(s){return typeof Blob<"u"&&s instanceof Blob}function mm(s){return typeof FormData<"u"&&s instanceof FormData}function mC(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}var Oo=class s{constructor(t,e,i,n){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let r;if(fC(this.method)||n?(this.body=i!==void 0?i:null,r=n):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new Sn,this.context??=new Eh,!this.params)this.params=new Kn,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||pm(this.body)||fm(this.body)||mm(this.body)||mC(this.body)?this.body:this.body instanceof Kn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mm(this.body)?null:fm(this.body)?this.body.type||null:pm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Kn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,r=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,u=t.headers||this.headers,d=t.params||this.params,g=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((y,b)=>y.set(b,t.setHeaders[b]),u)),t.setParams&&(d=Object.keys(t.setParams).reduce((y,b)=>y.set(b,t.setParams[b]),d)),new s(e,i,o,{params:d,headers:u,context:g,reportProgress:c,responseType:n,withCredentials:a,transferCache:r})}},ji=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(ji||{}),ko=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new Sn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},ul=class s extends ko{constructor(t={}){super(t),this.type=ji.ResponseHeader}clone(t={}){return new s({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Mo=class s extends ko{constructor(t={}){super(t),this.type=ji.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new s({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Xn=class extends ko{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},ym=200,gC=204;function Dh(s,t){return{body:t,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,transferCache:s.transferCache}}var xs=(()=>{class s{constructor(e){this.handler=e}request(e,i,n={}){let r;if(e instanceof Oo)r=e;else{let c;n.headers instanceof Sn?c=n.headers:c=new Sn(n.headers);let u;n.params&&(n.params instanceof Kn?u=n.params:u=new Kn({fromObject:n.params})),r=new Oo(e,i,n.body!==void 0?n.body:null,{headers:c,context:n.context,params:u,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let o=we(r).pipe(Wn(c=>this.handler.handle(c)));if(e instanceof Oo||n.observe==="events")return o;let a=o.pipe(wn(c=>c instanceof Mo));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(Je(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Je(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Je(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Je(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Kn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,n={}){return this.request("PATCH",e,Dh(n,i))}post(e,i,n={}){return this.request("POST",e,Dh(n,i))}put(e,i,n={}){return this.request("PUT",e,Dh(n,i))}static{this.\u0275fac=function(i){return new(i||s)(ke(Eo))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})(),_C=/^\)\]\}',?\n/,vC="X-Request-URL";function gm(s){if(s.url)return s.url;let t=vC.toLocaleLowerCase();return s.headers.get(t)}var yC=(()=>{class s{constructor(){this.fetchImpl=le(kh,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=le(nt)}handle(e){return new dh(i=>{let n=new AbortController;return this.doRequest(e,n.signal,i).then(Mh,r=>i.error(new Xn({error:r}))),()=>n.abort()})}doRequest(e,i,n){return Gt(this,null,function*(){let r=this.createRequestInit(e),o;try{let b=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,K({signal:i},r)));bC(b),n.next({type:ji.Sent}),o=yield b}catch(b){n.error(new Xn({error:b,status:b.status??0,statusText:b.statusText,url:e.urlWithParams,headers:b.headers}));return}let a=new Sn(o.headers),c=o.statusText,u=gm(o)??e.urlWithParams,d=o.status,g=null;if(e.reportProgress&&n.next(new ul({headers:a,status:d,statusText:c,url:u})),o.body){let b=o.headers.get("content-length"),w=[],x=o.body.getReader(),D=0,R,L,N=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Gt(this,null,function*(){for(;;){let{done:q,value:Q}=yield x.read();if(q)break;if(w.push(Q),D+=Q.length,e.reportProgress){L=e.responseType==="text"?(L??"")+(R??=new TextDecoder).decode(Q,{stream:!0}):void 0;let ve=()=>n.next({type:ji.DownloadProgress,total:b?+b:void 0,loaded:D,partialText:L});N?N.run(ve):ve()}}}));let Y=this.concatChunks(w,D);try{let q=o.headers.get("Content-Type")??"";g=this.parseBody(e,Y,q)}catch(q){n.error(new Xn({error:q,headers:new Sn(o.headers),status:o.status,statusText:o.statusText,url:gm(o)??e.urlWithParams}));return}}d===0&&(d=g?ym:0),d>=200&&d<300?(n.next(new Mo({body:g,headers:a,status:d,statusText:c,url:u})),n.complete()):n.error(new Xn({error:g,headers:a,status:d,statusText:c,url:u}))})}parseBody(e,i,n){switch(e.responseType){case"json":let r=new TextDecoder().decode(i).replace(_C,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:n});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},n=e.withCredentials?"include":void 0;if(e.headers.forEach((r,o)=>i[r]=o.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let r=e.detectContentTypeHeader();r!==null&&(i["Content-Type"]=r)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:n}}concatChunks(e,i){let n=new Uint8Array(i),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})(),kh=class{};function Mh(){}function bC(s){s.then(Mh,Mh)}function CC(s,t){return t(s)}function wC(s,t,e){return(i,n)=>Pi(e,()=>t(i,r=>s(r,n)))}var bm=new ot(""),xC=new ot(""),SC=new ot("",{providedIn:"root",factory:()=>!0});var _m=(()=>{class s extends Eo{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=le(Xa),this.contributeToStability=le(SC)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(bm),...this.injector.get(xC,[])]));this.chain=i.reduceRight((n,r)=>wC(n,r,this.injector),CC)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,n=>this.backend.handle(n)).pipe(mr(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||s)(ke(hl),ke(bs))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})();var TC=/^\)\]\}',?\n/;function IC(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}var vm=(()=>{class s{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new yt(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?$t(i.\u0275loadImpl()):we(null)).pipe(wi(()=>new dh(r=>{let o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((x,D)=>o.setRequestHeader(x,D.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let x=e.detectContentTypeHeader();x!==null&&o.setRequestHeader("Content-Type",x)}if(e.responseType){let x=e.responseType.toLowerCase();o.responseType=x!=="json"?x:"text"}let a=e.serializeBody(),c=null,u=()=>{if(c!==null)return c;let x=o.statusText||"OK",D=new Sn(o.getAllResponseHeaders()),R=IC(o)||e.url;return c=new ul({headers:D,status:o.status,statusText:x,url:R}),c},d=()=>{let{headers:x,status:D,statusText:R,url:L}=u(),N=null;D!==gC&&(N=typeof o.response>"u"?o.responseText:o.response),D===0&&(D=N?ym:0);let Y=D>=200&&D<300;if(e.responseType==="json"&&typeof N=="string"){let q=N;N=N.replace(TC,"");try{N=N!==""?JSON.parse(N):null}catch(Q){N=q,Y&&(Y=!1,N={error:Q,text:N})}}Y?(r.next(new Mo({body:N,headers:x,status:D,statusText:R,url:L||void 0})),r.complete()):r.error(new Xn({error:N,headers:x,status:D,statusText:R,url:L||void 0}))},g=x=>{let{url:D}=u(),R=new Xn({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:D||void 0});r.error(R)},y=!1,b=x=>{y||(r.next(u()),y=!0);let D={type:ji.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(D.total=x.total),e.responseType==="text"&&o.responseText&&(D.partialText=o.responseText),r.next(D)},w=x=>{let D={type:ji.UploadProgress,loaded:x.loaded};x.lengthComputable&&(D.total=x.total),r.next(D)};return o.addEventListener("load",d),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),e.reportProgress&&(o.addEventListener("progress",b),a!==null&&o.upload&&o.upload.addEventListener("progress",w)),o.send(a),r.next({type:ji.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",d),o.removeEventListener("timeout",g),e.reportProgress&&(o.removeEventListener("progress",b),a!==null&&o.upload&&o.upload.removeEventListener("progress",w)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||s)(ke(al))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})(),Cm=new ot(""),DC="XSRF-TOKEN",OC=new ot("",{providedIn:"root",factory:()=>DC}),EC="X-XSRF-TOKEN",kC=new ot("",{providedIn:"root",factory:()=>EC}),dl=class{},MC=(()=>{class s{constructor(e,i,n){this.doc=e,this.platform=i,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rl(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||s)(ke(Re),ke(gt),ke(OC))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})();function AC(s,t){let e=s.url.toLowerCase();if(!le(Cm)||s.method==="GET"||s.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(s);let i=le(dl).getToken(),n=le(kC);return i!=null&&!s.headers.has(n)&&(s=s.clone({headers:s.headers.set(n,i)})),t(s)}function wm(...s){let t=[xs,vm,_m,{provide:Eo,useExisting:_m},{provide:hl,useFactory:()=>le(yC,{optional:!0})??le(vm)},{provide:bm,useValue:AC,multi:!0},{provide:Cm,useValue:!0},{provide:dl,useClass:MC}];for(let e of s)t.push(...e.\u0275providers);return xo(t)}var Rh=class extends sm{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Lh=class s extends Rh{static makeCurrent(){nm(new s)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=VC();return e==null?null:RC(e)}resetBaseElement(){Ao=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return rl(document.cookie,t)}},Ao=null;function VC(){return Ao=Ao||document.querySelector("base"),Ao?Ao.getAttribute("href"):null}function RC(s){return new URL(s,document.baseURI).pathname}var LC=(()=>{class s{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})(),Ph=new ot(""),Dm=(()=>{class s{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,n){return this._findPluginFor(i).addEventListener(e,i,n)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new yt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||s)(ke(Ph),ke(nt))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})(),pl=class{constructor(t){this._doc=t}},Fh="ng-app-id",Om=(()=>{class s{constructor(e,i,n,r={}){this.doc=e,this.appId=i,this.nonce=n,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ol(r),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(n=>n.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Fh}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(n=>{n.textContent!=null&&i.set(n.textContent,n)}),i}return null}changeUsageCount(e,i){let n=this.styleRef;if(n.has(e)){let r=n.get(e);return r.usage+=i,r.usage}return n.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let n=this.styleNodesInDOM,r=n?.get(i);if(r?.parentNode===e)return n.delete(i),r.removeAttribute(Fh),r;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Fh,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){let n=this.getStyleElement(e,i),r=this.styleRef,o=r.get(i)?.elements;o?o.push(n):r.set(i,{elements:[n],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||s)(ke(Re),ke(wh),ke(xh,8),ke(gt))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})(),Vh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jh=/%COMP%/g,Em="%COMP%",PC=`_nghost-${Em}`,NC=`_ngcontent-${Em}`,jC=!0,BC=new ot("",{providedIn:"root",factory:()=>jC});function UC(s){return NC.replace(jh,s)}function HC(s){return PC.replace(jh,s)}function km(s,t){return t.map(e=>e.replace(jh,s))}var xm=(()=>{class s{constructor(e,i,n,r,o,a,c,u=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ol(a),this.defaultRenderer=new Fo(e,o,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===wo.ShadowDom&&(i=tt(K({},i),{encapsulation:wo.Emulated}));let n=this.getOrCreateRenderer(e,i);return n instanceof fl?n.applyToHost(e):n instanceof Vo&&n.applyStyles(),n}getOrCreateRenderer(e,i){let n=this.rendererByCompId,r=n.get(i.id);if(!r){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case wo.Emulated:r=new fl(c,u,i,this.appId,d,o,a,g);break;case wo.ShadowDom:return new Nh(c,u,e,i,o,a,this.nonce,g);default:r=new Vo(c,u,i,d,o,a,g);break}n.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||s)(ke(Dm),ke(Om),ke(wh),ke(BC),ke(Re),ke(gt),ke(nt),ke(xh))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})(),Fo=class{constructor(t,e,i,n){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Vh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Sm(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Sm(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new yt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;let r=Vh[n];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let n=Vh[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(Io.DashCase|Io.Important)?t.style.setProperty(e,i,n&Io.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Io.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=yr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Sm(s){return s.tagName==="TEMPLATE"&&s.content!==void 0}var Nh=class extends Fo{constructor(t,e,i,n,r,o,a,c){super(t,r,o,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=km(n.id,n.styles);for(let d of u){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=d,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Vo=class extends Fo{constructor(t,e,i,n,r,o,a,c){super(t,r,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n,this.styles=c?km(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},fl=class extends Vo{constructor(t,e,i,n,r,o,a,c){let u=n+"-"+i.id;super(t,e,i,r,o,a,c,u),this.contentAttr=UC(u),this.hostAttr=HC(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},zC=(()=>{class s extends pl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n){return e.addEventListener(i,n,!1),()=>this.removeEventListener(e,i,n)}removeEventListener(e,i,n){return e.removeEventListener(i,n)}static{this.\u0275fac=function(i){return new(i||s)(ke(Re))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})(),Tm=["alt","control","meta","shift"],WC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YC={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey},GC=(()=>{class s extends pl{constructor(e){super(e)}supports(e){return s.parseEventName(e)!=null}addEventListener(e,i,n){let r=s.parseEventName(i),o=s.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yr().onAndCancel(e,r.domEventName,o))}static parseEventName(e){let i=e.toLowerCase().split("."),n=i.shift();if(i.length===0||!(n==="keydown"||n==="keyup"))return null;let r=s._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),Tm.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),o+=u+".")}),o+=r,i.length!=0||r.length===0)return null;let c={};return c.domEventName=n,c.fullKey=o,c}static matchEventFullKeyCode(e,i){let n=WC[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(n=e.code,r="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),Tm.forEach(o=>{if(o!==n){let a=YC[o];a(e)&&(r+=o+".")}}),r+=n,r===i)}static eventCallback(e,i,n){return r=>{s.matchEventFullKeyCode(r,e)&&n.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||s)(ke(Re))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})();function fF(s,t){return em(K({rootComponent:s},$C(t)))}function $C(s){return{appProviders:[...QC,...s?.providers??[]],platformProviders:ZC}}function qC(){Lh.makeCurrent()}function XC(){return new Ch}function KC(){return Vf(document),document}var ZC=[{provide:gt,useValue:lm},{provide:Rf,useValue:qC,multi:!0},{provide:Re,useFactory:KC,deps:[]}];var QC=[{provide:Ff,useValue:"root"},{provide:Ch,useFactory:XC,deps:[]},{provide:Ph,useClass:zC,multi:!0,deps:[Re,nt,gt]},{provide:Ph,useClass:GC,multi:!0,deps:[Re]},xm,Om,Dm,{provide:Wf,useExisting:xm},{provide:al,useClass:LC,deps:[]},[]];var Mm=(()=>{class s{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||s)(ke(Re))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Bh=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:function(i){let n=null;return i?n=new(i||s):n=ke(JC),n},providedIn:"root"})}}return s})(),JC=(()=>{class s extends Bh{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Cs.NONE:return i;case Cs.HTML:return _r(i,"HTML")?gr(i):Hf(this._doc,String(i)).toString();case Cs.STYLE:return _r(i,"Style")?gr(i):i;case Cs.SCRIPT:if(_r(i,"Script"))return gr(i);throw new yt(5200,!1);case Cs.URL:return _r(i,"URL")?gr(i):Uf(String(i));case Cs.RESOURCE_URL:if(_r(i,"ResourceURL"))return gr(i);throw new yt(5201,!1);default:throw new yt(5202,!1)}}bypassSecurityTrustHtml(e){return Lf(e)}bypassSecurityTrustStyle(e){return Pf(e)}bypassSecurityTrustScript(e){return Nf(e)}bypassSecurityTrustUrl(e){return jf(e)}bypassSecurityTrustResourceUrl(e){return Bf(e)}static{this.\u0275fac=function(i){return new(i||s)(ke(Re))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Ae="primary",Ko=Symbol("RouteTitle"),Yh=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Dr(s){return new Yh(s)}function ew(s,t,e){let i=e.path.split("/");if(i.length>s.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<s.length))return null;let n={};for(let r=0;r<i.length;r++){let o=i[r],a=s[r];if(o[0]===":")n[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:s.slice(0,i.length),posParams:n}}function tw(s,t){if(s.length!==t.length)return!1;for(let e=0;e<s.length;++e)if(!ln(s[e],t[e]))return!1;return!0}function ln(s,t){let e=s?Gh(s):void 0,i=t?Gh(t):void 0;if(!e||!i||e.length!=i.length)return!1;let n;for(let r=0;r<e.length;r++)if(n=e[r],!zm(s[n],t[n]))return!1;return!0}function Gh(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}function zm(s,t){if(Array.isArray(s)&&Array.isArray(t)){if(s.length!==t.length)return!1;let e=[...s].sort(),i=[...t].sort();return e.every((n,r)=>i[r]===n)}else return s===t}function Wm(s){return s.length>0?s[s.length-1]:null}function Jn(s){return Cf(s)?s:tl(s)?$t(Promise.resolve(s)):we(s)}var iw={exact:Gm,subset:$m},Ym={exact:nw,subset:sw,ignored:()=>!0};function Fm(s,t,e){return iw[e.paths](s.root,t.root,e.matrixParams)&&Ym[e.queryParams](s.queryParams,t.queryParams)&&!(e.fragment==="exact"&&s.fragment!==t.fragment)}function nw(s,t){return ln(s,t)}function Gm(s,t,e){if(!Ts(s.segments,t.segments)||!_l(s.segments,t.segments,e)||s.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!s.children[i]||!Gm(s.children[i],t.children[i],e))return!1;return!0}function sw(s,t){return Object.keys(t).length<=Object.keys(s).length&&Object.keys(t).every(e=>zm(s[e],t[e]))}function $m(s,t,e){return qm(s,t,t.segments,e)}function qm(s,t,e,i){if(s.segments.length>e.length){let n=s.segments.slice(0,e.length);return!(!Ts(n,e)||t.hasChildren()||!_l(n,e,i))}else if(s.segments.length===e.length){if(!Ts(s.segments,e)||!_l(s.segments,e,i))return!1;for(let n in t.children)if(!s.children[n]||!$m(s.children[n],t.children[n],i))return!1;return!0}else{let n=e.slice(0,s.segments.length),r=e.slice(s.segments.length);return!Ts(s.segments,n)||!_l(s.segments,n,i)||!s.children[Ae]?!1:qm(s.children[Ae],t,r,i)}}function _l(s,t,e){return t.every((i,n)=>Ym[e](s[n].parameters,i.parameters))}var In=class{constructor(t=new st([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Dr(this.queryParams),this._queryParamMap}toString(){return aw.serialize(this)}},st=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vl(this)}},Ss=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Dr(this.parameters),this._parameterMap}toString(){return Km(this)}};function rw(s,t){return Ts(s,t)&&s.every((e,i)=>ln(e.parameters,t[i].parameters))}function Ts(s,t){return s.length!==t.length?!1:s.every((e,i)=>e.path===t[i].path)}function ow(s,t){let e=[];return Object.entries(s.children).forEach(([i,n])=>{i===Ae&&(e=e.concat(t(n,i)))}),Object.entries(s.children).forEach(([i,n])=>{i!==Ae&&(e=e.concat(t(n,i)))}),e}var Zo=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:()=>new Or,providedIn:"root"})}}return s})(),Or=class{parse(t){let e=new qh(t);return new In(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ro(t.root,!0)}`,i=hw(t.queryParams),n=typeof t.fragment=="string"?`#${lw(t.fragment)}`:"";return`${e}${i}${n}`}},aw=new Or;function vl(s){return s.segments.map(t=>Km(t)).join("/")}function Ro(s,t){if(!s.hasChildren())return vl(s);if(t){let e=s.children[Ae]?Ro(s.children[Ae],!1):"",i=[];return Object.entries(s.children).forEach(([n,r])=>{n!==Ae&&i.push(`${n}:${Ro(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=ow(s,(i,n)=>n===Ae?[Ro(s.children[Ae],!1)]:[`${n}:${Ro(i,!1)}`]);return Object.keys(s.children).length===1&&s.children[Ae]!=null?`${vl(s)}/${e[0]}`:`${vl(s)}/(${e.join("//")})`}}function Xm(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ml(s){return Xm(s).replace(/%3B/gi,";")}function lw(s){return encodeURI(s)}function $h(s){return Xm(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yl(s){return decodeURIComponent(s)}function Vm(s){return yl(s.replace(/\+/g,"%20"))}function Km(s){return`${$h(s.path)}${cw(s.parameters)}`}function cw(s){return Object.entries(s).map(([t,e])=>`;${$h(t)}=${$h(e)}`).join("")}function hw(s){let t=Object.entries(s).map(([e,i])=>Array.isArray(i)?i.map(n=>`${ml(e)}=${ml(n)}`).join("&"):`${ml(e)}=${ml(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var uw=/^[^\/()?;#]+/;function Uh(s){let t=s.match(uw);return t?t[0]:""}var dw=/^[^\/()?;=#]+/;function pw(s){let t=s.match(dw);return t?t[0]:""}var fw=/^[^=?&#]+/;function mw(s){let t=s.match(fw);return t?t[0]:""}var gw=/^[^&#]+/;function _w(s){let t=s.match(gw);return t?t[0]:""}var qh=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new st([],{}):new st([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ae]=new st(t,e)),i}parseSegment(){let t=Uh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new yt(4009,!1);return this.capture(t),new Ss(yl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=pw(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let n=Uh(this.remaining);n&&(i=n,this.capture(i))}t[yl(e)]=yl(i)}parseQueryParam(t){let e=mw(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=_w(this.remaining);o&&(i=o,this.capture(i))}let n=Vm(e),r=Vm(i);if(t.hasOwnProperty(n)){let o=t[n];Array.isArray(o)||(o=[o],t[n]=o),o.push(r)}else t[n]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Uh(this.remaining),n=this.remaining[i.length];if(n!=="/"&&n!==")"&&n!==";")throw new yt(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Ae);let o=this.parseChildren();e[r]=Object.keys(o).length===1?o[Ae]:new st([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new yt(4011,!1)}};function Zm(s){return s.segments.length>0?new st([],{[Ae]:s}):s}function Qm(s){let t={};for(let[i,n]of Object.entries(s.children)){let r=Qm(n);if(i===Ae&&r.segments.length===0&&r.hasChildren())for(let[o,a]of Object.entries(r.children))t[o]=a;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new st(s.segments,t);return vw(e)}function vw(s){if(s.numberOfChildren===1&&s.children[Ae]){let t=s.children[Ae];return new st(s.segments.concat(t.segments),t.children)}return s}function Uo(s){return s instanceof In}function yw(s,t,e=null,i=null){let n=Jm(s);return eg(n,t,e,i)}function Jm(s){let t;function e(r){let o={};for(let c of r.children){let u=e(c);o[c.outlet]=u}let a=new st(r.url,o);return r===s&&(t=a),a}let i=e(s.root),n=Zm(i);return t??n}function eg(s,t,e,i){let n=s;for(;n.parent;)n=n.parent;if(t.length===0)return Hh(n,n,n,e,i);let r=bw(t);if(r.toRoot())return Hh(n,n,new st([],{}),e,i);let o=Cw(r,n,s),a=o.processChildren?No(o.segmentGroup,o.index,r.commands):ig(o.segmentGroup,o.index,r.commands);return Hh(n,o.segmentGroup,a,e,i)}function bl(s){return typeof s=="object"&&s!=null&&!s.outlets&&!s.segmentPath}function Ho(s){return typeof s=="object"&&s!=null&&s.outlets}function Hh(s,t,e,i,n){let r={};i&&Object.entries(i).forEach(([c,u])=>{r[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;s===t?o=e:o=tg(s,t,e);let a=Zm(Qm(o));return new In(a,r,n)}function tg(s,t,e){let i={};return Object.entries(s.children).forEach(([n,r])=>{r===t?i[n]=e:i[n]=tg(r,t,e)}),new st(s.segments,i)}var Cl=class{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&bl(i[0]))throw new yt(4003,!1);let n=i.find(Ho);if(n&&n!==Wm(i))throw new yt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bw(s){if(typeof s[0]=="string"&&s.length===1&&s[0]==="/")return new Cl(!0,0,s);let t=0,e=!1,i=s.reduce((n,r,o)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...n,{outlets:a}]}if(r.segmentPath)return[...n,r.segmentPath]}return typeof r!="string"?[...n,r]:o===0?(r.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&n.push(a))}),n):[...n,r]},[]);return new Cl(e,t,i)}var Sr=class{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function Cw(s,t,e){if(s.isAbsolute)return new Sr(t,!0,0);if(!e)return new Sr(t,!1,NaN);if(e.parent===null)return new Sr(e,!0,0);let i=bl(s.commands[0])?0:1,n=e.segments.length-1+i;return ww(e,n,s.numberOfDoubleDots)}function ww(s,t,e){let i=s,n=t,r=e;for(;r>n;){if(r-=n,i=i.parent,!i)throw new yt(4005,!1);n=i.segments.length}return new Sr(i,!1,n-r)}function xw(s){return Ho(s[0])?s[0].outlets:{[Ae]:s}}function ig(s,t,e){if(s??=new st([],{}),s.segments.length===0&&s.hasChildren())return No(s,t,e);let i=Sw(s,t,e),n=e.slice(i.commandIndex);if(i.match&&i.pathIndex<s.segments.length){let r=new st(s.segments.slice(0,i.pathIndex),{});return r.children[Ae]=new st(s.segments.slice(i.pathIndex),s.children),No(r,0,n)}else return i.match&&n.length===0?new st(s.segments,{}):i.match&&!s.hasChildren()?Xh(s,t,e):i.match?No(s,0,n):Xh(s,t,e)}function No(s,t,e){if(e.length===0)return new st(s.segments,{});{let i=xw(e),n={};if(Object.keys(i).some(r=>r!==Ae)&&s.children[Ae]&&s.numberOfChildren===1&&s.children[Ae].segments.length===0){let r=No(s.children[Ae],t,e);return new st(s.segments,r.children)}return Object.entries(i).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[r]=ig(s.children[r],t,o))}),Object.entries(s.children).forEach(([r,o])=>{i[r]===void 0&&(n[r]=o)}),new st(s.segments,n)}}function Sw(s,t,e){let i=0,n=t,r={match:!1,pathIndex:0,commandIndex:0};for(;n<s.segments.length;){if(i>=e.length)return r;let o=s.segments[n],a=e[i];if(Ho(a))break;let c=`${a}`,u=i<e.length-1?e[i+1]:null;if(n>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Lm(c,u,o))return r;i+=2}else{if(!Lm(c,{},o))return r;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}function Xh(s,t,e){let i=s.segments.slice(0,t),n=0;for(;n<e.length;){let r=e[n];if(Ho(r)){let c=Tw(r.outlets);return new st(i,c)}if(n===0&&bl(e[0])){let c=s.segments[t];i.push(new Ss(c.path,Rm(e[0]))),n++;continue}let o=Ho(r)?r.outlets[Ae]:`${r}`,a=n<e.length-1?e[n+1]:null;o&&a&&bl(a)?(i.push(new Ss(o,Rm(a))),n+=2):(i.push(new Ss(o,{})),n++)}return new st(i,{})}function Tw(s){let t={};return Object.entries(s).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Xh(new st([],{}),0,i))}),t}function Rm(s){let t={};return Object.entries(s).forEach(([e,i])=>t[e]=`${i}`),t}function Lm(s,t,e){return s==e.path&&ln(t,e.parameters)}var jo="imperative",Ht=function(s){return s[s.NavigationStart=0]="NavigationStart",s[s.NavigationEnd=1]="NavigationEnd",s[s.NavigationCancel=2]="NavigationCancel",s[s.NavigationError=3]="NavigationError",s[s.RoutesRecognized=4]="RoutesRecognized",s[s.ResolveStart=5]="ResolveStart",s[s.ResolveEnd=6]="ResolveEnd",s[s.GuardsCheckStart=7]="GuardsCheckStart",s[s.GuardsCheckEnd=8]="GuardsCheckEnd",s[s.RouteConfigLoadStart=9]="RouteConfigLoadStart",s[s.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",s[s.ChildActivationStart=11]="ChildActivationStart",s[s.ChildActivationEnd=12]="ChildActivationEnd",s[s.ActivationStart=13]="ActivationStart",s[s.ActivationEnd=14]="ActivationEnd",s[s.Scroll=15]="Scroll",s[s.NavigationSkipped=16]="NavigationSkipped",s}(Ht||{}),Bi=class{constructor(t,e){this.id=t,this.url=e}},Er=class extends Bi{constructor(t,e,i="imperative",n=null){super(t,e),this.type=Ht.NavigationStart,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dn=class extends Bi{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=Ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Di=function(s){return s[s.Redirect=0]="Redirect",s[s.SupersededByNewNavigation=1]="SupersededByNewNavigation",s[s.NoDataFromResolver=2]="NoDataFromResolver",s[s.GuardRejected=3]="GuardRejected",s}(Di||{}),wl=function(s){return s[s.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",s[s.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",s}(wl||{}),Tn=class extends Bi{constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n,this.type=Ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zn=class extends Bi{constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n,this.type=Ht.NavigationSkipped}},zo=class extends Bi{constructor(t,e,i,n){super(t,e),this.error=i,this.target=n,this.type=Ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xl=class extends Bi{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=Ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends Bi{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=Ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zh=class extends Bi{constructor(t,e,i,n,r){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=r,this.type=Ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qh=class extends Bi{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=Ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class extends Bi{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=Ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eu=class{constructor(t){this.route=t,this.type=Ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tu=class{constructor(t){this.route=t,this.type=Ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},iu=class{constructor(t){this.snapshot=t,this.type=Ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nu=class{constructor(t){this.snapshot=t,this.type=Ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{constructor(t){this.snapshot=t,this.type=Ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ru=class{constructor(t){this.snapshot=t,this.type=Ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sl=class{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=Ht.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Wo=class{},kr=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Iw(s,t){return s.providers&&!s._injector&&(s._injector=Sh(s.providers,t,`Route: ${s.path}`)),s._injector??t}function Xi(s){return s.outlet||Ae}function Dw(s,t){let e=s.filter(i=>Xi(i)===t);return e.push(...s.filter(i=>Xi(i)!==t)),e}function Qo(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let t=s.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var ou=class{get injector(){return Qo(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Jo(this.rootInjector),this.attachRef=null}},Jo=(()=>{class s{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let n=this.getOrCreateContext(e);n.outlet=i,this.contexts.set(e,n)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new ou(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||s)(ke(bs))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Tl=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=au(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=au(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=lu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return lu(t,this._root).map(e=>e.value)}};function au(s,t){if(s===t.value)return t;for(let e of t.children){let i=au(s,e);if(i)return i}return null}function lu(s,t){if(s===t.value)return[t];for(let e of t.children){let i=lu(s,e);if(i.length)return i.unshift(t),i}return[]}var Ii=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function xr(s){let t={};return s&&s.children.forEach(e=>t[e.value.outlet]=e),t}var Il=class extends Tl{constructor(t,e){super(t),this.snapshot=e,_u(this,t)}toString(){return this.snapshot.toString()}};function ng(s){let t=Ow(s),e=new Li([new Ss("",{})]),i=new Li({}),n=new Li({}),r=new Li({}),o=new Li(""),a=new Is(e,i,r,o,n,Ae,s,t.root);return a.snapshot=t.root,new Il(new Ii(a,[]),t)}function Ow(s){let t={},e={},i={},n="",r=new Tr([],t,i,n,e,Ae,s,null,{});return new Ol("",new Ii(r,[]))}var Is=class{constructor(t,e,i,n,r,o,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=r,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Je(u=>u[Ko]))??we(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Je(t=>Dr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Je(t=>Dr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dl(s,t,e="emptyOnly"){let i,{routeConfig:n}=s;return t!==null&&(e==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:K(K({},t.params),s.params),data:K(K({},t.data),s.data),resolve:K(K(K(K({},s.data),t.data),n?.data),s._resolvedData)}:i={params:K({},s.params),data:K({},s.data),resolve:K(K({},s.data),s._resolvedData??{})},n&&rg(n)&&(i.resolve[Ko]=n.title),i}var Tr=class{get title(){return this.data?.[Ko]}constructor(t,e,i,n,r,o,a,c,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Dr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Dr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ol=class extends Tl{constructor(t,e){super(e),this.url=t,_u(this,e)}toString(){return sg(this._root)}};function _u(s,t){t.value._routerState=s,t.children.forEach(e=>_u(s,e))}function sg(s){let t=s.children.length>0?` { ${s.children.map(sg).join(", ")} } `:"";return`${s.value}${t}`}function zh(s){if(s.snapshot){let t=s.snapshot,e=s._futureSnapshot;s.snapshot=e,ln(t.queryParams,e.queryParams)||s.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&s.fragmentSubject.next(e.fragment),ln(t.params,e.params)||s.paramsSubject.next(e.params),tw(t.url,e.url)||s.urlSubject.next(e.url),ln(t.data,e.data)||s.dataSubject.next(e.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function cu(s,t){let e=ln(s.params,t.params)&&rw(s.url,t.url),i=!s.parent!=!t.parent;return e&&!i&&(!s.parent||cu(s.parent,t.parent))}function rg(s){return typeof s.title=="string"||s.title===null}var Ew=(()=>{class s{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new G,this.deactivateEvents=new G,this.attachEvents=new G,this.detachEvents=new G,this.parentContexts=le(Jo),this.location=le(vr),this.changeDetector=le(Ue),this.inputBinder=le(Al,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:n}=e.name;if(i)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new yt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new yt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new yt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new yt(4013,!1);this._activatedRoute=e;let n=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new hu(e,a,n.injector);this.activated=n.createComponent(o,{index:n.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275dir=Dt({type:s,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ni]})}}return s})(),hu=class s{__ngOutletInjector(t){return new s(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Is?this.route:t===Jo?this.childContexts:this.parent.get(t,e)}},Al=new ot(""),Pm=(()=>{class s{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,n=qa([i.queryParams,i.params,i.data]).pipe(wi(([r,o,a],c)=>(a=K(K(K({},r),o),a),c===0?we(a):Promise.resolve(a)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let o=im(i.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,r[a])});this.outletDataSubscriptions.set(e,n)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})();function kw(s,t,e){let i=Yo(s,t._root,e?e._root:void 0);return new Il(i,t)}function Yo(s,t,e){if(e&&s.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let n=Mw(s,t,e);return new Ii(i,n)}else{if(s.shouldAttach(t.value)){let r=s.retrieve(t.value);if(r!==null){let o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Yo(s,a)),o}}let i=Aw(t.value),n=t.children.map(r=>Yo(s,r));return new Ii(i,n)}}function Mw(s,t,e){return t.children.map(i=>{for(let n of e.children)if(s.shouldReuseRoute(i.value,n.value.snapshot))return Yo(s,i,n);return Yo(s,i)})}function Aw(s){return new Is(new Li(s.url),new Li(s.params),new Li(s.queryParams),new Li(s.fragment),new Li(s.data),s.outlet,s.component,s)}var Go=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},og="ngNavigationCancelingError";function El(s,t){let{redirectTo:e,navigationBehaviorOptions:i}=Uo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=ag(!1,Di.Redirect);return n.url=e,n.navigationBehaviorOptions=i,n}function ag(s,t){let e=new Error(`NavigationCancelingError: ${s||""}`);return e[og]=!0,e.cancellationCode=t,e}function Fw(s){return lg(s)&&Uo(s.url)}function lg(s){return!!s&&s[og]}var Vw=(s,t,e,i)=>Je(n=>(new uu(t,n.targetRouterState,n.currentRouterState,e,i).activate(s),n)),uu=class{constructor(t,e,i,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),zh(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let n=xr(e);t.children.forEach(r=>{let o=r.value.outlet;this.deactivateRoutes(r,n[o],i),delete n[o]}),Object.values(n).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let n=t.value,r=e?e.value:null;if(n===r)if(n.component){let o=i.getContext(n.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,r=xr(t);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,n);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,r=xr(t);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let n=xr(e);t.children.forEach(r=>{this.activateRoutes(r,n[r.value.outlet],i),this.forwardEvent(new ru(r.value.snapshot))}),t.children.length&&this.forwardEvent(new nu(t.value.snapshot))}activateRoutes(t,e,i){let n=t.value,r=e?e.value:null;if(zh(n),n===r)if(n.component){let o=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(n.component){let o=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zh(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=n,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,i)}},kl=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ir=class{constructor(t,e){this.component=t,this.route=e}};function Rw(s,t,e){let i=s._root,n=t?t._root:null;return Lo(i,n,e,[i.value])}function Lw(s){let t=s.routeConfig?s.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:s,guards:t}}function Ar(s,t){let e=Symbol(),i=t.get(s,e);return i===e?typeof s=="function"&&!Mf(s)?s:t.get(s):i}function Lo(s,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let r=xr(t);return s.children.forEach(o=>{Pw(o,r[o.value.outlet],e,i.concat([o.value]),n),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,a])=>Bo(a,e.getContext(o),n)),n}function Pw(s,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let r=s.value,o=t?t.value:null,a=e?e.getContext(s.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){let c=Nw(o,r,r.routeConfig.runGuardsAndResolvers);c?n.canActivateChecks.push(new kl(i)):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?Lo(s,t,a?a.children:null,i,n):Lo(s,t,e,i,n),c&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new Ir(a.outlet.component,o))}else o&&Bo(t,a,n),n.canActivateChecks.push(new kl(i)),r.component?Lo(s,null,a?a.children:null,i,n):Lo(s,null,e,i,n);return n}function Nw(s,t,e){if(typeof e=="function")return e(s,t);switch(e){case"pathParamsChange":return!Ts(s.url,t.url);case"pathParamsOrQueryParamsChange":return!Ts(s.url,t.url)||!ln(s.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cu(s,t)||!ln(s.queryParams,t.queryParams);case"paramsChange":default:return!cu(s,t)}}function Bo(s,t,e){let i=xr(s),n=s.value;Object.entries(i).forEach(([r,o])=>{n.component?t?Bo(o,t.children.getContext(r),e):Bo(o,null,e):Bo(o,t,e)}),n.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Ir(t.outlet.component,n)):e.canDeactivateChecks.push(new Ir(null,n)):e.canDeactivateChecks.push(new Ir(null,n))}function ea(s){return typeof s=="function"}function jw(s){return typeof s=="boolean"}function Bw(s){return s&&ea(s.canLoad)}function Uw(s){return s&&ea(s.canActivate)}function Hw(s){return s&&ea(s.canActivateChild)}function zw(s){return s&&ea(s.canDeactivate)}function Ww(s){return s&&ea(s.canMatch)}function cg(s){return s instanceof wf||s?.name==="EmptyError"}var gl=Symbol("INITIAL_VALUE");function Mr(){return wi(s=>qa(s.map(t=>t.pipe(fr(1),Ef(gl)))).pipe(Je(t=>{for(let e of t)if(e!==!0){if(e===gl)return gl;if(e===!1||Yw(e))return e}return!0}),wn(t=>t!==gl),fr(1)))}function Yw(s){return Uo(s)||s instanceof Go}function Gw(s,t){return Ci(e=>{let{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:r,canDeactivateChecks:o}}=e;return o.length===0&&r.length===0?we(tt(K({},e),{guardsResult:!0})):$w(o,i,n,s).pipe(Ci(a=>a&&jw(a)?qw(i,r,s,t):we(a)),Je(a=>tt(K({},e),{guardsResult:a})))})}function $w(s,t,e,i){return $t(s).pipe(Ci(n=>Jw(n.component,n.route,e,t,i)),Yn(n=>n!==!0,!0))}function qw(s,t,e,i){return $t(t).pipe(Wn(n=>xf(Kw(n.route.parent,i),Xw(n.route,i),Qw(s,n.path,e),Zw(s,n.route,e))),Yn(n=>n!==!0,!0))}function Xw(s,t){return s!==null&&t&&t(new su(s)),we(!0)}function Kw(s,t){return s!==null&&t&&t(new iu(s)),we(!0)}function Zw(s,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return we(!0);let n=i.map(r=>gh(()=>{let o=Qo(t)??e,a=Ar(r,o),c=Uw(a)?a.canActivate(t,s):Pi(o,()=>a(t,s));return Jn(c).pipe(Yn())}));return we(n).pipe(Mr())}function Qw(s,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>Lw(o)).filter(o=>o!==null).map(o=>gh(()=>{let a=o.guards.map(c=>{let u=Qo(o.node)??e,d=Ar(c,u),g=Hw(d)?d.canActivateChild(i,s):Pi(u,()=>d(i,s));return Jn(g).pipe(Yn())});return we(a).pipe(Mr())}));return we(r).pipe(Mr())}function Jw(s,t,e,i,n){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return we(!0);let o=r.map(a=>{let c=Qo(t)??n,u=Ar(a,c),d=zw(u)?u.canDeactivate(s,t,e,i):Pi(c,()=>u(s,t,e,i));return Jn(d).pipe(Yn())});return we(o).pipe(Mr())}function ex(s,t,e,i){let n=t.canLoad;if(n===void 0||n.length===0)return we(!0);let r=n.map(o=>{let a=Ar(o,s),c=Bw(a)?a.canLoad(t,e):Pi(s,()=>a(t,e));return Jn(c)});return we(r).pipe(Mr(),hg(i))}function hg(s){return bf(qt(t=>{if(typeof t!="boolean")throw El(s,t)}),Je(t=>t===!0))}function tx(s,t,e,i){let n=t.canMatch;if(!n||n.length===0)return we(!0);let r=n.map(o=>{let a=Ar(o,s),c=Ww(a)?a.canMatch(t,e):Pi(s,()=>a(t,e));return Jn(c)});return we(r).pipe(Mr(),hg(i))}var $o=class{constructor(t){this.segmentGroup=t||null}},qo=class extends Error{constructor(t){super(),this.urlTree=t}};function wr(s){return Co(new $o(s))}function ix(s){return Co(new yt(4e3,!1))}function nx(s){return Co(ag(!1,Di.GuardRejected))}var du=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),n.numberOfChildren===0)return we(i);if(n.numberOfChildren>1||!n.children[Ae])return ix(`${t.redirectTo}`);n=n.children[Ae]}}applyRedirectCommands(t,e,i,n,r){if(typeof e!="string"){let a=e,{queryParams:c,fragment:u,routeConfig:d,url:g,outlet:y,params:b,data:w,title:x}=n,D=Pi(r,()=>a({params:b,data:w,queryParams:c,fragment:u,routeConfig:d,url:g,outlet:y,title:x}));if(D instanceof In)throw new qo(D);e=D}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new qo(o);return o}applyRedirectCreateUrlTree(t,e,i,n){let r=this.createSegmentGroup(t,e.root,i,n);return new In(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([n,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);i[n]=e[a]}else i[n]=r}),i}createSegmentGroup(t,e,i,n){let r=this.createSegments(t,e.segments,i,n),o={};return Object.entries(e.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(t,c,i,n)}),new st(r,o)}createSegments(t,e,i,n){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,n):this.findOrReturn(r,i))}findPosParam(t,e,i){let n=i[e.path.substring(1)];if(!n)throw new yt(4001,!1);return n}findOrReturn(t,e){let i=0;for(let n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}},pu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sx(s,t,e,i,n){let r=ug(s,t,e);return r.matched?(i=Iw(t,i),tx(i,t,e,n).pipe(Je(o=>o===!0?r:K({},pu)))):we(r)}function ug(s,t,e){if(t.path==="**")return rx(e);if(t.path==="")return t.pathMatch==="full"&&(s.hasChildren()||e.length>0)?K({},pu):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let n=(t.matcher||ew)(e,s,t);if(!n)return K({},pu);let r={};Object.entries(n.posParams??{}).forEach(([a,c])=>{r[a]=c.path});let o=n.consumed.length>0?K(K({},r),n.consumed[n.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function rx(s){return{matched:!0,parameters:s.length>0?Wm(s).parameters:{},consumedSegments:s,remainingSegments:[],positionalParamSegments:{}}}function Nm(s,t,e,i){return e.length>0&&lx(s,e,i)?{segmentGroup:new st(t,ax(i,new st(e,s.children))),slicedSegments:[]}:e.length===0&&cx(s,e,i)?{segmentGroup:new st(s.segments,ox(s,e,i,s.children)),slicedSegments:e}:{segmentGroup:new st(s.segments,s.children),slicedSegments:e}}function ox(s,t,e,i){let n={};for(let r of e)if(Fl(s,t,r)&&!i[Xi(r)]){let o=new st([],{});n[Xi(r)]=o}return K(K({},i),n)}function ax(s,t){let e={};e[Ae]=t;for(let i of s)if(i.path===""&&Xi(i)!==Ae){let n=new st([],{});e[Xi(i)]=n}return e}function lx(s,t,e){return e.some(i=>Fl(s,t,i)&&Xi(i)!==Ae)}function cx(s,t,e){return e.some(i=>Fl(s,t,i))}function Fl(s,t,e){return(s.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function hx(s,t,e){return t.length===0&&!s.children[e]}var fu=class{};function ux(s,t,e,i,n,r,o="emptyOnly"){return new mu(s,t,e,i,n,o,r).recognize()}var dx=31,mu=class{constructor(t,e,i,n,r,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=n,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new du(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new yt(4002,`'${t.segmentGroup}'`)}recognize(){let t=Nm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Je(({children:e,rootSnapshot:i})=>{let n=new Ii(i,e),r=new Ol("",n),o=yw(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),{state:r,tree:o}}))}match(t){let e=new Tr([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ae,e).pipe(Je(i=>({children:i,rootSnapshot:e})),pr(i=>{if(i instanceof qo)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof $o?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,n,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,r):this.processSegment(t,e,i,i.segments,n,!0,r).pipe(Je(o=>o instanceof Ii?[o]:[]))}processChildren(t,e,i,n){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return $t(r).pipe(Wn(o=>{let a=i.children[o],c=Dw(e,o);return this.processSegmentGroup(t,c,a,o,n)}),Of((o,a)=>(o.push(...a),o)),_h(null),Df(),Ci(o=>{if(o===null)return wr(i);let a=dg(o);return px(a),we(a)}))}processSegment(t,e,i,n,r,o,a){return $t(e).pipe(Wn(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,n,r,o,a).pipe(pr(u=>{if(u instanceof $o)return we(null);throw u}))),Yn(c=>!!c),pr(c=>{if(cg(c))return hx(i,n,r)?we(new fu):wr(i);throw c}))}processSegmentAgainstRoute(t,e,i,n,r,o,a,c){return Xi(i)!==o&&(o===Ae||!Fl(n,r,i))?wr(n):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,i,r,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,n,e,i,r,o,c):wr(n)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,r,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:g,remainingSegments:y}=ug(e,n,r);if(!c)return wr(e);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dx&&(this.allowRedirects=!1));let b=new Tr(r,u,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,jm(n),Xi(n),n.component??n._loadedComponent??null,n,Bm(n)),w=Dl(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(w.params),b.data=Object.freeze(w.data);let x=this.applyRedirects.applyRedirectCommands(d,n.redirectTo,g,b,t);return this.applyRedirects.lineralizeSegments(n,x).pipe(Ci(D=>this.processSegment(t,i,e,D.concat(y),o,!1,a)))}matchSegmentAgainstRoute(t,e,i,n,r,o){let a=sx(e,i,n,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(wi(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,n).pipe(wi(({routes:u})=>{let d=i._loadedInjector??t,{parameters:g,consumedSegments:y,remainingSegments:b}=c,w=new Tr(y,g,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,jm(i),Xi(i),i.component??i._loadedComponent??null,i,Bm(i)),x=Dl(w,o,this.paramsInheritanceStrategy);w.params=Object.freeze(x.params),w.data=Object.freeze(x.data);let{segmentGroup:D,slicedSegments:R}=Nm(e,y,b,u);if(R.length===0&&D.hasChildren())return this.processChildren(d,u,D,w).pipe(Je(N=>new Ii(w,N)));if(u.length===0&&R.length===0)return we(new Ii(w,[]));let L=Xi(i)===r;return this.processSegment(d,u,D,R,L?Ae:r,!0,w).pipe(Je(N=>new Ii(w,N instanceof Ii?[N]:[])))}))):wr(e)))}getChildConfig(t,e,i){return e.children?we({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?we({routes:e._loadedRoutes,injector:e._loadedInjector}):ex(t,e,i,this.urlSerializer).pipe(Ci(n=>n?this.configLoader.loadChildren(t,e).pipe(qt(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):nx(e))):we({routes:[],injector:t})}};function px(s){s.sort((t,e)=>t.value.outlet===Ae?-1:e.value.outlet===Ae?1:t.value.outlet.localeCompare(e.value.outlet))}function fx(s){let t=s.value.routeConfig;return t&&t.path===""}function dg(s){let t=[],e=new Set;for(let i of s){if(!fx(i)){t.push(i);continue}let n=t.find(r=>i.value.routeConfig===r.value.routeConfig);n!==void 0?(n.children.push(...i.children),e.add(n)):t.push(i)}for(let i of e){let n=dg(i.children);t.push(new Ii(i.value,n))}return t.filter(i=>!e.has(i))}function jm(s){return s.data||{}}function Bm(s){return s.resolve||{}}function mx(s,t,e,i,n,r){return Ci(o=>ux(s,t,e,i,o.extractedUrl,n,r).pipe(Je(({state:a,tree:c})=>tt(K({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function gx(s,t){return Ci(e=>{let{targetSnapshot:i,guards:{canActivateChecks:n}}=e;if(!n.length)return we(e);let r=new Set(n.map(c=>c.route)),o=new Set;for(let c of r)if(!o.has(c))for(let u of pg(c))o.add(u);let a=0;return $t(o).pipe(Wn(c=>r.has(c)?_x(c,i,s,t):(c.data=Dl(c,c.parent,s).resolve,we(void 0))),qt(()=>a++),vh(1),Ci(c=>a===o.size?we(e):zn))})}function pg(s){let t=s.children.map(e=>pg(e)).flat();return[s,...t]}function _x(s,t,e,i){let n=s.routeConfig,r=s._resolve;return n?.title!==void 0&&!rg(n)&&(r[Ko]=n.title),vx(r,s,t,i).pipe(Je(o=>(s._resolvedData=o,s.data=Dl(s,s.parent,e).resolve,null)))}function vx(s,t,e,i){let n=Gh(s);if(n.length===0)return we({});let r={};return $t(n).pipe(Ci(o=>yx(s[o],t,e,i).pipe(Yn(),qt(a=>{if(a instanceof Go)throw El(new Or,a);r[o]=a}))),vh(1),If(r),pr(o=>cg(o)?zn:Co(o)))}function yx(s,t,e,i){let n=Qo(t)??i,r=Ar(s,n),o=r.resolve?r.resolve(t,e):Pi(n,()=>r(t,e));return Jn(o)}function Wh(s){return wi(t=>{let e=s(t);return e?$t(e).pipe(Je(()=>t)):we(t)})}var fg=(()=>{class s{buildTitle(e){let i,n=e.root;for(;n!==void 0;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(r=>r.outlet===Ae);return i}getResolvedTitleForRoute(e){return e.data[Ko]}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:()=>le(bx),providedIn:"root"})}}return s})(),bx=(()=>{class s extends fg{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||s)(ke(Mm))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),ta=new ot("",{providedIn:"root",factory:()=>({})}),Cx=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=$({type:s,selectors:[["ng-component"]],standalone:!0,features:[_e],decls:1,vars:0,template:function(i,n){i&1&&P(0,"router-outlet")},dependencies:[Ew],encapsulation:2})}}return s})();function vu(s){let t=s.children&&s.children.map(vu),e=t?tt(K({},s),{children:t}):K({},s);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ae&&(e.component=Cx),e}var Xo=new ot(""),yu=(()=>{class s{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=le(sl)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return we(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Jn(e.loadComponent()).pipe(Je(mg),qt(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),mr(()=>{this.componentLoaders.delete(e)})),n=new fh(i,()=>new Jt).pipe(ph());return this.componentLoaders.set(e,n),n}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return we({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=wx(i,this.compiler,e,this.onLoadEndListener).pipe(mr(()=>{this.childrenLoaders.delete(i)})),o=new fh(r,()=>new Jt).pipe(ph());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function wx(s,t,e,i){return Jn(s.loadChildren()).pipe(Je(mg),Ci(n=>n instanceof Yf||Array.isArray(n)?we(n):$t(t.compileModuleAsync(n))),Je(n=>{i&&i(s);let r,o,a=!1;return Array.isArray(n)?(o=n,a=!0):(r=n.create(e).injector,o=r.get(Xo,[],{optional:!0,self:!0}).flat()),{routes:o.map(vu),injector:r}}))}function xx(s){return s&&typeof s=="object"&&"default"in s}function mg(s){return xx(s)?s.default:s}var bu=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:()=>le(Sx),providedIn:"root"})}}return s})(),Sx=(()=>{class s{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),gg=new ot(""),_g=new ot("");function Tx(s,t,e){let i=s.get(_g),n=s.get(Re);return s.get(nt).runOutsideAngular(()=>{if(!n.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let r,o=new Promise(u=>{r=u}),a=n.startViewTransition(()=>(r(),Ix(s))),{onViewTransitionCreated:c}=i;return c&&Pi(s,()=>c({transition:a,from:t,to:e})),o})}function Ix(s){return new Promise(t=>{Gf({read:()=>setTimeout(t)},{injector:s})})}var Dx=new ot(""),Cu=(()=>{class s{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Jt,this.transitionAbortSubject=new Jt,this.configLoader=le(yu),this.environmentInjector=le(bs),this.urlSerializer=le(Zo),this.rootContexts=le(Jo),this.location=le(Do),this.inputBindingEnabled=le(Al,{optional:!0})!==null,this.titleStrategy=le(fg),this.options=le(ta,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=le(bu),this.createViewTransition=le(gg,{optional:!0}),this.navigationErrorHandler=le(Dx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>we(void 0),this.rootComponentType=null;let e=n=>this.events.next(new eu(n)),i=n=>this.events.next(new tu(n));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(tt(K(K({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,n){return this.transitions=new Li({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:jo,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wn(r=>r.id!==0),Je(r=>tt(K({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),wi(r=>{let o=!1,a=!1;return we(r).pipe(wi(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Di.SupersededByNewNavigation),zn;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?tt(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&d!=="reload"){let g="";return this.events.next(new Zn(c.id,this.urlSerializer.serialize(c.rawUrl),g,wl.IgnoredSameUrlNavigation)),c.resolve(!1),zn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return we(c).pipe(wi(g=>{let y=this.transitions?.getValue();return this.events.next(new Er(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?zn:Promise.resolve(g)}),mx(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),qt(g=>{r.targetSnapshot=g.targetSnapshot,r.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=tt(K({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let y=new xl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:g,extractedUrl:y,source:b,restoredState:w,extras:x}=c,D=new Er(g,this.urlSerializer.serialize(y),b,w);this.events.next(D);let R=ng(this.rootComponentType).snapshot;return this.currentTransition=r=tt(K({},c),{targetSnapshot:R,urlAfterRedirects:y,extras:tt(K({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,we(r)}else{let g="";return this.events.next(new Zn(c.id,this.urlSerializer.serialize(c.extractedUrl),g,wl.IgnoredByUrlHandlingStrategy)),c.resolve(!1),zn}}),qt(c=>{let u=new Kh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Je(c=>(this.currentTransition=r=tt(K({},c),{guards:Rw(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),r)),Gw(this.environmentInjector,c=>this.events.next(c)),qt(c=>{if(r.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw El(this.urlSerializer,c.guardsResult);let u=new Zh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),wn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Di.GuardRejected),!1)),Wh(c=>{if(c.guards.canActivateChecks.length)return we(c).pipe(qt(u=>{let d=new Qh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),wi(u=>{let d=!1;return we(u).pipe(gx(this.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Di.NoDataFromResolver)}}))}),qt(u=>{let d=new Jh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Wh(c=>{let u=d=>{let g=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(d.routeConfig).pipe(qt(y=>{d.component=y}),Je(()=>{})));for(let y of d.children)g.push(...u(y));return g};return qa(u(c.targetSnapshot.root)).pipe(_h(null),fr(1))}),Wh(()=>this.afterPreactivation()),wi(()=>{let{currentSnapshot:c,targetSnapshot:u}=r,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?$t(d).pipe(Je(()=>r)):we(r)}),Je(c=>{let u=kw(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r=tt(K({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,r}),qt(()=>{this.events.next(new Wo)}),Vw(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),fr(1),qt({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),kf(this.transitionAbortSubject.pipe(qt(c=>{throw c}))),mr(()=>{!o&&!a&&this.cancelNavigationTransition(r,"",Di.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),pr(c=>{if(a=!0,lg(c))this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),Fw(c)?this.events.next(new kr(c.url,c.navigationBehaviorOptions)):r.resolve(!1);else{let u=new zo(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);try{let d=Pi(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Go){let{message:g,cancellationCode:y}=El(this.urlSerializer,d);this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),g,y)),this.events.next(new kr(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let g=e.errorHandler(c);r.resolve(!!g)}}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return zn}))}))}cancelNavigationTransition(e,i,n){let r=new Tn(e.id,this.urlSerializer.serialize(e.extractedUrl),i,n);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function Ox(s){return s!==jo}var Ex=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:()=>le(kx),providedIn:"root"})}}return s})(),gu=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},kx=(()=>{class s extends gu{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})()}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),vg=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:()=>le(Mx),providedIn:"root"})}}return s})(),Mx=(()=>{class s extends vg{constructor(){super(...arguments),this.location=le(Do),this.urlSerializer=le(Zo),this.options=le(ta,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=le(bu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ng(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Er)this.stateMemento=this.createStateMemento();else if(e instanceof Zn)this.rawUrlTree=i.initialUrl;else if(e instanceof xl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??n,i)}}else e instanceof Wo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Tn&&(e.code===Di.GuardRejected||e.code===Di.NoDataFromResolver)?this.restoreHistory(i):e instanceof zo?this.restoreHistory(i,!0):e instanceof Dn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let n=e instanceof In?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(n)||i.extras.replaceUrl){let r=this.browserPageId,o=K(K({},i.extras.state),this.generateNgRouterState(i.id,r));this.location.replaceState(n,"",o)}else{let r=K(K({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(n,"",r)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,r=this.currentPageId-n;r!==0?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&r===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})()}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Po=function(s){return s[s.COMPLETE=0]="COMPLETE",s[s.FAILED=1]="FAILED",s[s.REDIRECTING=2]="REDIRECTING",s}(Po||{});function yg(s,t){s.events.pipe(wn(e=>e instanceof Dn||e instanceof Tn||e instanceof zo||e instanceof Zn),Je(e=>e instanceof Dn||e instanceof Zn?Po.COMPLETE:(e instanceof Tn?e.code===Di.Redirect||e.code===Di.SupersededByNewNavigation:!1)?Po.REDIRECTING:Po.FAILED),wn(e=>e!==Po.REDIRECTING),fr(1)).subscribe(()=>{t()})}function Ax(s){throw s}var Fx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qn=(()=>{class s{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=le(el),this.stateManager=le(vg),this.options=le(ta,{optional:!0})||{},this.pendingTasks=le(Xa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=le(Cu),this.urlSerializer=le(Zo),this.location=le(Do),this.urlHandlingStrategy=le(bu),this._events=new Jt,this.errorHandler=this.options.errorHandler||Ax,this.navigated=!1,this.routeReuseStrategy=le(Ex),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=le(Xo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!le(Al,{optional:!0}),this.eventsSubscription=new yf,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let n=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(n!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof Tn&&i.code!==Di.Redirect&&i.code!==Di.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Dn)this.navigated=!0;else if(i instanceof kr){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,n.currentRawUrl),c=K({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ox(n.source)},o);this.scheduleNavigation(a,jo,null,c,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}Lx(i)&&this._events.next(i)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,n){let r={replaceUrl:!0},o=n?.navigationId?n:null;if(n){let c=K({},n);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(r.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,o,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(vu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:n,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=K(K({},this.currentUrlTree.queryParams),r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}d!==null&&(d=this.removeEmptyProps(d));let g;try{let y=n?n.snapshot:this.routerState.snapshot.root;g=Jm(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),g=this.currentUrlTree.root}return eg(g,e,d,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){let n=Uo(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,jo,null,i)}navigate(e,i={skipLocationChange:!1}){return Rx(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let n;if(i===!0?n=K({},Fx):i===!1?n=K({},Vx):n=i,Uo(e))return Fm(this.currentUrlTree,e,n);let r=this.parseUrl(e);return Fm(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.entries(e).reduce((i,[n,r])=>(r!=null&&(i[n]=r),i),{})}scheduleNavigation(e,i,n,r,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((g,y)=>{a=g,c=y});let d=this.pendingTasks.add();return yg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function Rx(s){for(let t=0;t<s.length;t++)if(s[t]==null)throw new yt(4008,!1)}function Lx(s){return!(s instanceof Wo)&&!(s instanceof kr)}var Ml=class{};var Px=(()=>{class s{constructor(e,i,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(wn(e=>e instanceof Dn),Wn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let n=[];for(let r of i){r.providers&&!r._injector&&(r._injector=Sh(r.providers,e,`Route: ${r.path}`));let o=r._injector??e,a=r._loadedInjector??o;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&n.push(this.preloadConfig(o,r)),(r.children||r._loadedRoutes)&&n.push(this.processRoutes(a,r.children??r._loadedRoutes))}return $t(n).pipe(mh())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let n;i.loadChildren&&i.canLoad===void 0?n=this.loader.loadChildren(e,i):n=we(null);let r=n.pipe(Ci(o=>o===null?we(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return $t([r,o]).pipe(mh())}else return r})}static{this.\u0275fac=function(i){return new(i||s)(ke(Qn),ke(sl),ke(bs),ke(Ml),ke(yu))}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),bg=new ot(""),Nx=(()=>{class s{constructor(e,i,n,r,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=n,this.zone=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Er?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Zn&&e.code===wl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Sl&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sl(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){zf()}}static{this.\u0275prov=Se({token:s,factory:s.\u0275fac})}}return s})();function RF(s,...t){return xo([{provide:Xo,multi:!0,useValue:s},[],{provide:Is,useFactory:Cg,deps:[Qn]},{provide:il,multi:!0,useFactory:wg},t.map(e=>e.\u0275providers)])}function Cg(s){return s.routerState.root}function ia(s,t){return{\u0275kind:s,\u0275providers:t}}function wg(){let s=le(Gn);return t=>{let e=s.get(nl);if(t!==e.components[0])return;let i=s.get(Qn),n=s.get(xg);s.get(wu)===1&&i.initialNavigation(),s.get(Sg,null,yh.Optional)?.setUpPreloading(),s.get(bg,null,yh.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var xg=new ot("",{factory:()=>new Jt}),wu=new ot("",{providedIn:"root",factory:()=>1});function jx(){return ia(2,[{provide:wu,useValue:0},{provide:Th,multi:!0,deps:[Gn],useFactory:t=>{let e=t.get(rm,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let n=t.get(Qn),r=t.get(xg);yg(n,()=>{i(!0)}),t.get(Cu).afterPreactivation=()=>(i(!0),r.closed?we(void 0):r),n.initialNavigation()}))}}])}function Bx(){return ia(3,[{provide:Th,multi:!0,useFactory:()=>{let t=le(Qn);return()=>{t.setUpLocationChangeListener()}}},{provide:wu,useValue:2}])}var Sg=new ot("");function Ux(s){return ia(0,[{provide:Sg,useExisting:Px},{provide:Ml,useExisting:s}])}function Hx(){return ia(8,[Pm,{provide:Al,useExisting:Pm}])}function zx(s){let t=[{provide:gg,useValue:Tx},{provide:_g,useValue:K({skipNextTransition:!!s?.skipInitialTransition},s)}];return ia(9,t)}var Um=new ot("ROUTER_FORROOT_GUARD"),Wx=[Do,{provide:Zo,useClass:Or},Qn,Jo,{provide:Is,useFactory:Cg,deps:[Qn]},yu,[]],LF=(()=>{class s{constructor(e){}static forRoot(e,i){return{ngModule:s,providers:[Wx,[],{provide:Xo,multi:!0,useValue:e},{provide:Um,useFactory:qx,deps:[[Qn,new bh,new Af]]},{provide:ta,useValue:i||{}},i?.useHash?Gx():$x(),Yx(),i?.preloadingStrategy?Ux(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Xx(i):[],i?.bindToComponentInputs?Hx().\u0275providers:[],i?.enableViewTransitions?zx().\u0275providers:[],Kx()]}}static forChild(e){return{ngModule:s,providers:[{provide:Xo,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||s)(ke(Um,8))}}static{this.\u0275mod=de({type:s})}static{this.\u0275inj=ue({})}}return s})();function Yx(){return{provide:bg,useFactory:()=>{let s=le(cm),t=le(nt),e=le(ta),i=le(Cu),n=le(Zo);return e.scrollOffset&&s.setOffset(e.scrollOffset),new Nx(n,i,s,t,e)}}}function Gx(){return{provide:Ih,useClass:am}}function $x(){return{provide:Ih,useClass:om}}function qx(s){return"guarded"}function Xx(s){return[s.initialNavigation==="disabled"?Bx().\u0275providers:[],s.initialNavigation==="enabledBlocking"?jx().\u0275providers:[]]}var Hm=new ot("");function Kx(){return[{provide:Hm,useFactory:wg},{provide:il,multi:!0,useExisting:Hm}]}var ae=class s{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=Array.isArray(t),n=Array.isArray(e),r,o,a;if(i&&n){if(o=t.length,o!=e.length)return!1;for(r=o;r--!==0;)if(!this.equalsByValue(t[r],e[r]))return!1;return!0}if(i!=n)return!1;var c=this.isDate(t),u=this.isDate(e);if(c!=u)return!1;if(c&&u)return t.getTime()==e.getTime();var d=t instanceof RegExp,g=e instanceof RegExp;if(d!=g)return!1;if(d&&g)return t.toString()==e.toString();var y=Object.keys(t);if(o=y.length,o!==Object.keys(e).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,y[r]))return!1;for(r=o;r--!==0;)if(a=y[r],!this.equalsByValue(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let i=e.split("."),n=t;for(let r=0,o=i.length;r<o;++r){if(n==null)return null;n=n[i[r]]}return n}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){let n;t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,n){if(i.length>0){let r=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],n)>e){i.splice(o,0,t),r=!0;break}r||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e){for(let n=0;n<e.length;n++)if(e[n]==t){i=n;break}}return i}static contains(t,e){if(t!=null&&e&&e.length){for(let i of e)if(this.equals(t,i))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,n=1){let r=-1,o=this.isEmpty(t),a=this.isEmpty(e);return o&&a?r=0:o?r=n:a?r=-n:typeof t=="string"&&typeof e=="string"?r=t.localeCompare(e,i,{numeric:!0}):r=t<e?-1:t>e?1:0,r}static sort(t,e,i=1,n,r=1){let o=s.compare(t,e,n,i),a=i;return(s.isEmpty(t)||s.isEmpty(e))&&(a=r===1?i:r),a*o}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return K(K({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=Array.isArray(t),n=Array.isArray(e),r,o,a;if(i&&n){if(o=t.length,o!=e.length)return!1;for(r=o;r--!==0;)if(!this.deepEquals(t[r],e[r]))return!1;return!0}if(i!=n)return!1;var c=t instanceof Date,u=e instanceof Date;if(c!=u)return!1;if(c&&u)return t.getTime()==e.getTime();var d=t instanceof RegExp,g=e instanceof RegExp;if(d!=g)return!1;if(d&&g)return t.toString()==e.toString();var y=Object.keys(t);if(o=y.length,o!==Object.keys(e).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,y[r]))return!1;for(r=o;r--!==0;)if(a=y[r],!this.deepEquals(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}},Tg=0;function Ye(s="pn_id_"){return Tg++,`${s}${Tg}`}function Zx(){let s=[],t=(r,o)=>{let a=s.length>0?s[s.length-1]:{key:r,value:o},c=a.value+(a.key===r?0:o)+2;return s.push({key:r,value:c}),c},e=r=>{s=s.filter(o=>o.value!==r)},i=()=>s.length>0?s[s.length-1].value:0,n=r=>r&&parseInt(r.style.zIndex,10)||0;return{get:n,set:(r,o,a)=>{o&&(o.style.zIndex=String(t(r,a)))},clear:r=>{r&&(e(n(r)),r.style.zIndex="")},getCurrent:()=>i()}}var wt=Zx();var Ig=["*"],Ds=function(s){return s[s.ACCEPT=0]="ACCEPT",s[s.REJECT=1]="REJECT",s[s.CANCEL=2]="CANCEL",s}(Ds||{}),Vl=(()=>{class s{requireConfirmationSource=new Jt;acceptConfirmationSource=new Jt;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Se({token:s,factory:s.\u0275fac})}return s})();var ii=(()=>{class s{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return s})();var Dg=(()=>{class s{filter(e,i,n,r,o){let a=[];if(e)for(let c of e)for(let u of i){let d=ae.resolveFieldData(c,u);if(this.filters[r](d,n,o)){a.push(c);break}}return a}filters={startsWith:(e,i,n)=>{if(i==null||i.trim()==="")return!0;if(e==null)return!1;let r=ae.removeAccents(i.toString()).toLocaleLowerCase(n);return ae.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,r.length)===r},contains:(e,i,n)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(e==null)return!1;let r=ae.removeAccents(i.toString()).toLocaleLowerCase(n);return ae.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)!==-1},notContains:(e,i,n)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(e==null)return!1;let r=ae.removeAccents(i.toString()).toLocaleLowerCase(n);return ae.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)===-1},endsWith:(e,i,n)=>{if(i==null||i.trim()==="")return!0;if(e==null)return!1;let r=ae.removeAccents(i.toString()).toLocaleLowerCase(n),o=ae.removeAccents(e.toString()).toLocaleLowerCase(n);return o.indexOf(r,o.length-r.length)!==-1},equals:(e,i,n)=>i==null||typeof i=="string"&&i.trim()===""?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()===i.getTime():e==i?!0:ae.removeAccents(e.toString()).toLocaleLowerCase(n)==ae.removeAccents(i.toString()).toLocaleLowerCase(n),notEquals:(e,i,n)=>i==null||typeof i=="string"&&i.trim()===""?!1:e==null?!0:e.getTime&&i.getTime?e.getTime()!==i.getTime():e==i?!1:ae.removeAccents(e.toString()).toLocaleLowerCase(n)!=ae.removeAccents(i.toString()).toLocaleLowerCase(n),in:(e,i)=>{if(i==null||i.length===0)return!0;for(let n=0;n<i.length;n++)if(ae.equals(e,i[n]))return!0;return!1},between:(e,i)=>i==null||i[0]==null||i[1]==null?!0:e==null?!1:e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1],lt:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()<i.getTime():e<i,lte:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i,gt:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()>i.getTime():e>i,gte:(e,i,n)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i,is:(e,i,n)=>this.filters.equals(e,i,n),isNot:(e,i,n)=>this.filters.notEquals(e,i,n),before:(e,i,n)=>this.filters.lt(e,i,n),after:(e,i,n)=>this.filters.gt(e,i,n),dateIs:(e,i)=>i==null?!0:e==null?!1:e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>i==null?!0:e==null?!1:e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>i==null?!0:e==null?!1:e.getTime()<i.getTime(),dateAfter:(e,i)=>{if(i==null)return!0;if(e==null)return!1;let n=new Date(e);return n.setHours(0,0,0,0),n.getTime()>i.getTime()}};register(e,i){this.filters[e]=i}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Fr=(()=>{class s{messageSource=new Jt;clearSource=new Jt;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Se({token:s,factory:s.\u0275fac})}return s})(),Rl=(()=>{class s{clickSource=new Jt;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var ht=(()=>{class s{ripple=!1;inputStyle=ei("outlined");overlayOptions={};csp=ei({nonce:void 0});filterMatchModeOptions={text:[ii.STARTS_WITH,ii.CONTAINS,ii.NOT_CONTAINS,ii.ENDS_WITH,ii.EQUALS,ii.NOT_EQUALS],numeric:[ii.EQUALS,ii.NOT_EQUALS,ii.LESS_THAN,ii.LESS_THAN_OR_EQUAL_TO,ii.GREATER_THAN,ii.GREATER_THAN_OR_EQUAL_TO],date:[ii.DATE_IS,ii.DATE_IS_NOT,ii.DATE_BEFORE,ii.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Jt;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=K(K({},this.translation),e),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Og=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=$({type:s,selectors:[["p-header"]],standalone:!0,features:[_e],ngContentSelectors:Ig,decls:1,vars:0,template:function(i,n){i&1&&(bt(),ct(0))},encapsulation:2})}return s})(),Ll=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=$({type:s,selectors:[["p-footer"]],standalone:!0,features:[_e],ngContentSelectors:Ig,decls:1,vars:0,template:function(i,n){i&1&&(bt(),ct(0))},encapsulation:2})}return s})(),Ge=(()=>{class s{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||s)(U(Za))};static \u0275dir=Dt({type:s,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return s})(),Oe=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({})}return s})(),_t=(()=>{class s{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return s})();var M=(()=>{class s{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let n=i.trim().split(" ");for(let r=0;r<n.length;r++)e.classList.add(n[r])}else{let n=i.split(" ");for(let r=0;r<n.length;r++)e.className+=" "+n[r]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(n=>n.split(" ").forEach(r=>this.removeClass(e,r)))}static hasClass(e,i){return e&&i?e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,n=0;for(var r=0;r<i.length;r++){if(i[r]==e)return n;i[r].nodeType==1&&n++}return-1}static indexWithinGroup(e,i){let n=e.parentNode?e.parentNode.childNodes:[],r=0;for(var o=0;o<n.length;o++){if(n[o]==e)return r;n[o].attributes&&n[o].attributes[i]&&n[o].nodeType==1&&r++}return-1}static appendOverlay(e,i,n="self"){n!=="self"&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,n="self",r=!0){e&&i&&(r&&(e.style.minWidth=`${s.getOuterWidth(i)}px`),n==="self"?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,n=!0){let r=L=>{if(L)return getComputedStyle(L).getPropertyValue("position")==="relative"?L:r(L.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=i.offsetHeight??i.getBoundingClientRect().height,c=i.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),g=this.getViewport(),b=r(e)?.getBoundingClientRect()||{top:-1*u,left:-1*d},w,x;c.top+a+o.height>g.height?(w=c.top-b.top-o.height,e.style.transformOrigin="bottom",c.top+w<0&&(w=-1*c.top)):(w=a+c.top-b.top,e.style.transformOrigin="top");let D=c.left+o.width-g.width,R=c.left-b.left;o.width>g.width?x=(c.left-b.left)*-1:D>0?x=R-D:x=c.left-b.left,e.style.top=w+"px",e.style.left=x+"px",n&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,n=!0){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,a=r.width,c=i.offsetHeight??i.getBoundingClientRect().height,u=i.offsetWidth??i.getBoundingClientRect().width,d=i.getBoundingClientRect(),g=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),b=this.getViewport(),w,x;d.top+c+o>b.height?(w=d.top+g-o,e.style.transformOrigin="bottom",w<0&&(w=g)):(w=c+d.top+g,e.style.transformOrigin="top"),d.left+a>b.width?x=Math.max(0,d.left+y+u-a):x=d.left+y,e.style.top=w+"px",e.style.left=x+"px",n&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return e.parentNode===null?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let n=this.getParents(e),r=/(auto|scroll)/,o=a=>{let c=window.getComputedStyle(a,null);return r.test(c.getPropertyValue("overflow"))||r.test(c.getPropertyValue("overflowX"))||r.test(c.getPropertyValue("overflowY"))};for(let a of n){let c=a.nodeType===1&&a.dataset.scrollselectors;if(c){let u=c.split(",");for(let d of u){let g=this.findSingle(a,d);g&&o(g)&&i.push(g)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,c=e.getBoundingClientRect(),d=i.getBoundingClientRect().top+document.body.scrollTop-(c.top+document.body.scrollTop)-r-a,g=e.scrollTop,y=e.clientHeight,b=this.getOuterHeight(i);d<0?e.scrollTop=g+d:d+b>y&&(e.scrollTop=g+d-y+b)}static fadeIn(e,i){e.style.opacity=0;let n=+new Date,r=0,o=function(){r=+e.style.opacity.replace(",",".")+(new Date().getTime()-n)/i,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var n=1,r=50,o=i,a=r/o;let c=setInterval(()=>{n=n-a,n<=0&&(n=0,clearInterval(c)),e.style.opacity=n},r)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var n=Element.prototype,r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return r.call(e,i)}static getOuterWidth(e,i){let n=e.offsetWidth;if(i){let r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,n=getComputedStyle(e);return i+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),i}static width(e){let i=e.offsetWidth,n=getComputedStyle(e);return i-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,n=getComputedStyle(e);return i+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),i}static getOuterHeight(e,i){let n=e.offsetHeight;if(i){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}static getHeight(e){let i=e.offsetHeight,n=getComputedStyle(e);return i-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,n=getComputedStyle(e);return i-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),i}static getViewport(){let e=window,i=document,n=i.documentElement,r=i.getElementsByTagName("body")[0],o=e.innerWidth||n.clientWidth||r.clientWidth,a=e.innerHeight||n.clientHeight||r.clientHeight;return{width:o,height:a}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let n=e.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return!0;var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return!0}var o=e.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(e);else throw"Cannot append "+i+" to "+e}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+i}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let n=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=n,n}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,n){e[i].apply(e,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let n=this.find(e,this.getFocusableSelectorString(i)),r=[];for(let o of n){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&r.push(o)}return r}static getFocusableElement(e,i=""){let n=this.findSingle(e,this.getFocusableSelectorString(i));if(n){let r=getComputedStyle(n);if(this.isVisible(n)&&r.display!="none"&&r.visibility!="hidden")return n}return null}static getFirstFocusableElement(e,i=""){let n=this.getFocusableElements(e,i);return n.length>0?n[0]:null}static getLastFocusableElement(e,i){let n=this.getFocusableElements(e,i);return n.length>0?n[n.length-1]:null}static getNextFocusableElement(e,i=!1){let n=s.getFocusableElements(e),r=0;if(n&&n.length>0){let o=n.indexOf(n[0].ownerDocument.activeElement);i?o==-1||o===0?r=n.length-1:r=o-1:o!=-1&&o!==n.length-1&&(r=o+1)}return n[r]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let n=typeof e;if(n==="string")return document.querySelector(e);if(n==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(e)?e():e;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){let n=e.getAttribute(i);return isNaN(n)?n==="true"||n==="false"?n==="true":n:+n}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,i={},...n){if(e){let r=document.createElement(e);return this.setAttributes(r,i),r.append(...n),r}}static setAttribute(e,i="",n){this.isElement(e)&&n!==null&&n!==void 0&&e.setAttribute(i,n)}static setAttributes(e,i={}){if(this.isElement(e)){let n=(r,o)=>{let a=e?.$attrs?.[r]?[e?.$attrs?.[r]]:[];return[o].flat().reduce((c,u)=>{if(u!=null){let d=typeof u;if(d==="string"||d==="number")c.push(u);else if(d==="object"){let g=Array.isArray(u)?n(r,u):Object.entries(u).map(([y,b])=>r==="style"&&(b||b===0)?`${y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${b}`:b?y:void 0);c=g.length?c.concat(g.filter(y=>!!y)):c}}return c},a)};Object.entries(i).forEach(([r,o])=>{if(o!=null){let a=r.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),o):r==="pBind"?this.setAttributes(e,o):(o=r==="class"?[...new Set(n("class",o))].join(" ").trim():r==="style"?n("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[r]=o),e.setAttribute(r,o))}})}}static isFocusableElement(e,i=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return s})(),es=class{element;listener;scrollableParents;constructor(t,e=()=>{}){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=M.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var Qx=["*"],De=(()=>{class s{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let e=ae.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=$({type:s,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",B],styleClass:"styleClass"},standalone:!0,features:[Me,_e],ngContentSelectors:Qx,decls:1,vars:0,template:function(i,n){i&1&&(bt(),ct(0))},encapsulation:2,changeDetection:0})}return s})();var xu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["EyeIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Su=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["RefreshIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var Tu=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["SearchMinusIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var Iu=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["SearchPlusIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var ut=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["TimesIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Du=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["UndoIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var Eg=(()=>{class s{pFocusTrapDisabled=!1;platformId=le(gt);host=le(Ve);document=le(Re);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){Ot(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){e.pFocusTrapDisabled&&Ot(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let e="0",i=n=>M.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:e,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:n?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:i,relatedTarget:n}=e,r=n===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(n)?M.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;M.focus(r)}onLastHiddenElementFocus(e){let{currentTarget:i,relatedTarget:n}=e,r=n===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(n)?M.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;M.focus(r)}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Dt({type:s,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",B]},features:[Me,Ni]})}return s})(),kg=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te]})}return s})();var e2=["mask"],t2=["previewButton"],i2=["closeButton"],n2=(s,t)=>({height:s,width:t,border:"none"}),s2=(s,t)=>({showTransitionParams:s,hideTransitionParams:t}),r2=s=>({value:"visible",params:s});function o2(s,t){s&1&&pe(0)}function a2(s,t){if(s&1&&(ee(0),S(1,o2,1,0,"ng-container",10),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.indicatorTemplate)}}function l2(s,t){s&1&&P(0,"EyeIcon",11),s&2&&f("styleClass","p-image-preview-icon")}function c2(s,t){if(s&1){let e=Z();T(0,"button",8,0),z("click",function(){O(e);let n=v();return E(n.onImageClick())}),S(2,a2,2,1,"ng-container",9)(3,l2,1,1,"ng-template",null,1,It),I()}if(s&2){let e=at(4),i=v();f("ngStyle",Pe(4,n2,i.height+"px",i.width+"px")),k("aria-label",i.zoomImageAriaLabel),_(2),f("ngIf",i.indicatorTemplate)("ngIfElse",e)}}function h2(s,t){s&1&&P(0,"RefreshIcon")}function u2(s,t){}function d2(s,t){s&1&&S(0,u2,0,0,"ng-template")}function p2(s,t){s&1&&P(0,"UndoIcon")}function f2(s,t){}function m2(s,t){s&1&&S(0,f2,0,0,"ng-template")}function g2(s,t){s&1&&P(0,"SearchMinusIcon")}function _2(s,t){}function v2(s,t){s&1&&S(0,_2,0,0,"ng-template")}function y2(s,t){s&1&&P(0,"SearchPlusIcon")}function b2(s,t){}function C2(s,t){s&1&&S(0,b2,0,0,"ng-template")}function w2(s,t){s&1&&P(0,"TimesIcon")}function x2(s,t){}function S2(s,t){s&1&&S(0,x2,0,0,"ng-template")}function T2(s,t){if(s&1){let e=Z();T(0,"div"),z("@animation.start",function(n){O(e);let r=v(2);return E(r.onAnimationStart(n))})("@animation.done",function(n){O(e);let r=v(2);return E(r.onAnimationEnd(n))}),T(1,"img",17),z("click",function(){O(e);let n=v(2);return E(n.onPreviewImageClick())}),I()()}if(s&2){let e=v(2);f("@animation",he(8,r2,Pe(5,s2,e.showTransitionOptions,e.hideTransitionOptions))),_(),f("ngStyle",e.imagePreviewStyle()),k("src",e.previewImageSrc?e.previewImageSrc:e.src,To)("srcset",e.previewImageSrcSet)("sizes",e.previewImageSizes)}}function I2(s,t){if(s&1){let e=Z();T(0,"div",12,2),z("click",function(){O(e);let n=v();return E(n.onMaskClick())})("keydown",function(n){O(e);let r=v();return E(r.onMaskKeydown(n))}),T(2,"div",13),z("click",function(n){O(e);let r=v();return E(r.handleToolbarClick(n))}),T(3,"button",14),z("click",function(){O(e);let n=v();return E(n.rotateRight())}),S(4,h2,1,0,"RefreshIcon",15)(5,d2,1,0,null,10),I(),T(6,"button",14),z("click",function(){O(e);let n=v();return E(n.rotateLeft())}),S(7,p2,1,0,"UndoIcon",15)(8,m2,1,0,null,10),I(),T(9,"button",16),z("click",function(){O(e);let n=v();return E(n.zoomOut())}),S(10,g2,1,0,"SearchMinusIcon",15)(11,v2,1,0,null,10),I(),T(12,"button",16),z("click",function(){O(e);let n=v();return E(n.zoomIn())}),S(13,y2,1,0,"SearchPlusIcon",15)(14,C2,1,0,null,10),I(),T(15,"button",14,3),z("click",function(){O(e);let n=v();return E(n.closePreview())}),S(17,w2,1,0,"TimesIcon",15)(18,S2,1,0,null,10),I()(),S(19,T2,2,10,"div",15),I()}if(s&2){let e=v();k("aria-modal",e.maskVisible),_(3),k("aria-label",e.rightAriaLabel()),_(),f("ngIf",!e.rotateRightIconTemplate),_(),f("ngTemplateOutlet",e.rotateRightIconTemplate),_(),k("aria-label",e.leftAriaLabel()),_(),f("ngIf",!e.rotateLeftIconTemplate),_(),f("ngTemplateOutlet",e.rotateLeftIconTemplate),_(),f("disabled",e.isZoomOutDisabled),k("aria-label",e.zoomOutAriaLabel()),_(),f("ngIf",!e.zoomOutIconTemplate),_(),f("ngTemplateOutlet",e.zoomOutIconTemplate),_(),f("disabled",e.isZoomInDisabled),k("aria-label",e.zoomInAriaLabel()),_(),f("ngIf",!e.zoomInIconTemplate),_(),f("ngTemplateOutlet",e.zoomInIconTemplate),_(),k("aria-label",e.closeAriaLabel()),_(2),f("ngIf",!e.closeIconTemplate),_(),f("ngTemplateOutlet",e.closeIconTemplate),_(),f("ngIf",e.previewVisible)}}var X6=(()=>{class s{document;config;cd;el;imageClass;imageStyle;styleClass;style;src;srcSet;sizes;previewImageSrc;previewImageSrcSet;previewImageSizes;alt;width;height;loading;appendTo;preview=!1;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";onShow=new G;onHide=new G;onImageError=new G;mask;previewButton;closeButton;templates;indicatorTemplate;rotateRightIconTemplate;rotateLeftIconTemplate;zoomOutIconTemplate;zoomInIconTemplate;closeIconTemplate;maskVisible=!1;previewVisible=!1;rotate=0;scale=1;previewClick=!1;container;wrapper;get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}zoomSettings={default:1,step:.1,max:1.5,min:.5};constructor(e,i,n,r){this.document=e,this.config=i,this.cd=n,this.el=r}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"indicator":this.indicatorTemplate=e.template;break;case"rotaterighticon":this.rotateRightIconTemplate=e.template;break;case"rotatelefticon":this.rotateLeftIconTemplate=e.template;break;case"zoomouticon":this.zoomOutIconTemplate=e.template;break;case"zoominicon":this.zoomInIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.indicatorTemplate=e.template;break}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0,M.blockBodyScroll())}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(e){switch(e.code){case"Escape":this.onMaskClick(),setTimeout(()=>{M.focus(this.previewButton.nativeElement)},25),e.preventDefault();break;default:break}}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),setTimeout(()=>{M.focus(this.closeButton.nativeElement)},25);break;case"void":M.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":wt.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({});break}}moveOnTop(){wt.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):M.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}get zoomImageAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomImage:void 0}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}handleToolbarClick(e){e.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default,M.unblockBodyScroll()}imageError(e){this.onImageError.emit(e)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(e){this.previewVisible&&this.closePreview()}static \u0275fac=function(i){return new(i||s)(U(Re),U(ht),U(Ue),U(Ve))};static \u0275cmp=$({type:s,selectors:[["p-image"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(e2,5),ye(t2,5),ye(i2,5)),i&2){let r;ie(r=ne())&&(n.mask=r.first),ie(r=ne())&&(n.previewButton=r.first),ie(r=ne())&&(n.closeButton=r.first)}},hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&z("keydown.escape",function(o){return n.onKeydownHandler(o)},!1,Ka)},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",srcSet:"srcSet",sizes:"sizes",previewImageSrc:"previewImageSrc",previewImageSrcSet:"previewImageSrcSet",previewImageSizes:"previewImageSizes",alt:"alt",width:"width",height:"height",loading:"loading",appendTo:"appendTo",preview:[2,"preview","preview",B],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},features:[Me],decls:4,vars:16,consts:[["previewButton",""],["defaultTemplate",""],["mask",""],["closeButton",""],[3,"ngClass","ngStyle"],[3,"error","ngStyle"],["type","button","class","p-image-preview-indicator",3,"ngStyle","click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter","role","dialog","pFocusTrap","",3,"click","keydown",4,"ngIf"],["type","button",1,"p-image-preview-indicator",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[3,"styleClass"],["role","dialog","pFocusTrap","",1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click","keydown"],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-link",3,"click"],[4,"ngIf"],["type","button",1,"p-image-action","p-link",3,"click","disabled"],[1,"p-image-preview",3,"click","ngStyle"]],template:function(i,n){i&1&&(T(0,"span",4)(1,"img",5),z("error",function(o){return n.imageError(o)}),I(),S(2,c2,5,7,"button",6)(3,I2,20,19,"div",7),I()),i&2&&(W(n.styleClass),f("ngClass",n.containerClass())("ngStyle",n.style),_(),W(n.imageClass),f("ngStyle",n.imageStyle),k("src",n.src,To)("srcset",n.srcSet)("sizes",n.sizes)("alt",n.alt)("width",n.width)("height",n.height)("loading",n.loading),_(),f("ngIf",n.preview),_(),f("ngIf",n.maskVisible))},dependencies:()=>[Le,He,qe,Ne,Su,xu,Du,Tu,Iu,ut,Eg],styles:[`@layer primeng{.p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block;line-height:0}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;outline:none;border:none;padding:0;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon.pi{font-size:1.5rem}.p-image-preview-icon.p-icon{scale:1.5}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex;z-index:1}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-action.p-link[disabled]{opacity:.5}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}}
`],encapsulation:2,data:{animation:[Ti("animation",[Ft("void => visible",[Ct({transform:"scale(0.7)",opacity:0}),Lt("{{showTransitionParams}}")]),Ft("visible => void",[Lt("{{hideTransitionParams}}",Ct({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return s})(),Ou=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Oe,Su,xu,Du,Tu,Iu,ut,kg,Oe]})}return s})();var Ng=(()=>{class s{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||s)(U(pt),U(Ve))}}static{this.\u0275dir=Dt({type:s})}}return s})(),D2=(()=>{class s extends Ng{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})()}static{this.\u0275dir=Dt({type:s,features:[Ce]})}}return s})(),ni=new ot("");var O2={provide:ni,useExisting:Bt(()=>jg),multi:!0};function E2(){let s=yr()?yr().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}var k2=new ot(""),jg=(()=>{class s extends Ng{constructor(e,i,n){super(e,i),this._compositionMode=n,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!E2())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||s)(U(pt),U(Ve),U(k2,8))}}static{this.\u0275dir=Dt({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){i&1&&z("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},features:[Kt([O2]),Ce]})}}return s})();var M2=new ot(""),A2=new ot("");function Bg(s){return s!=null}function Ug(s){return tl(s)?$t(s):s}function Hg(s){let t={};return s.forEach(e=>{t=e!=null?K(K({},t),e):t}),Object.keys(t).length===0?null:t}function zg(s,t){return t.map(e=>e(s))}function F2(s){return!s.validate}function Wg(s){return s.map(t=>F2(t)?t:e=>t.validate(e))}function V2(s){if(!s)return null;let t=s.filter(Bg);return t.length==0?null:function(e){return Hg(zg(e,t))}}function Yg(s){return s!=null?V2(Wg(s)):null}function R2(s){if(!s)return null;let t=s.filter(Bg);return t.length==0?null:function(e){let i=zg(e,t).map(Ug);return Sf(i).pipe(Je(Hg))}}function Gg(s){return s!=null?R2(Wg(s)):null}function Mg(s,t){return s===null?[t]:Array.isArray(s)?[...s,t]:[s,t]}function L2(s){return s._rawValidators}function P2(s){return s._rawAsyncValidators}function Eu(s){return s?Array.isArray(s)?s:[s]:[]}function Nl(s,t){return Array.isArray(s)?s.includes(t):s===t}function Ag(s,t){let e=Eu(t);return Eu(s).forEach(n=>{Nl(e,n)||e.push(n)}),e}function Fg(s,t){return Eu(t).filter(e=>!Nl(s,e))}var jl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Yg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Gg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},ku=class extends jl{get formDirective(){return null}get path(){return null}},On=class extends jl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Mu=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},N2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},d9=tt(K({},N2),{"[class.ng-submitted]":"isSubmitted"}),p9=(()=>{class s extends Mu{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||s)(U(On,2))}}static{this.\u0275dir=Dt({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){i&2&&xi("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[Ce]})}}return s})();var na="VALID",Pl="INVALID",Vr="PENDING",sa="DISABLED",Lr=class{},Bl=class extends Lr{constructor(t,e){super(),this.value=t,this.source=e}},ra=class extends Lr{constructor(t,e){super(),this.pristine=t,this.source=e}},oa=class extends Lr{constructor(t,e){super(),this.touched=t,this.source=e}},Rr=class extends Lr{constructor(t,e){super(),this.status=t,this.source=e}};function j2(s){return(Ul(s)?s.validators:s)||null}function B2(s){return Array.isArray(s)?Yg(s):s||null}function U2(s,t){return(Ul(t)?t.asyncValidators:s)||null}function H2(s){return Array.isArray(s)?Gg(s):s||null}function Ul(s){return s!=null&&!Array.isArray(s)&&typeof s=="object"}var Au=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=xn(()=>this.statusReactive()),this.statusReactive=ei(void 0),this._pristine=xn(()=>this.pristineReactive()),this.pristineReactive=ei(!0),this._touched=xn(()=>this.touchedReactive()),this.touchedReactive=ei(!1),this._events=new Jt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ws(this.statusReactive)}set status(t){ws(()=>this.statusReactive.set(t))}get valid(){return this.status===na}get invalid(){return this.status===Pl}get pending(){return this.status==Vr}get disabled(){return this.status===sa}get enabled(){return this.status!==sa}get pristine(){return ws(this.pristineReactive)}set pristine(t){ws(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return ws(this.touchedReactive)}set touched(t){ws(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ag(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ag(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Fg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Fg(t,this._rawAsyncValidators))}hasValidator(t){return Nl(this._rawValidators,t)}hasAsyncValidator(t){return Nl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(tt(K({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new oa(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new oa(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(tt(K({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ra(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new ra(!0,i))}markAsPending(t={}){this.status=Vr;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Rr(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(tt(K({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=sa,this.errors=null,this._forEachChild(n=>{n.disable(tt(K({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Bl(this.value,i)),this._events.next(new Rr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(tt(K({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=na,this._forEachChild(i=>{i.enable(tt(K({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(tt(K({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===na||this.status===Vr)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Bl(this.value,e)),this._events.next(new Rr(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(tt(K({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sa:na}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Vr,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=Ug(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,n)=>i&&i._find(n),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Rr(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new G,this.statusChanges=new G}_calculateStatus(){return this._allControlsDisabled()?sa:this.errors?Pl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vr)?Vr:this._anyControlsHaveStatus(Pl)?Pl:na}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),n&&this._events.next(new ra(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new oa(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ul(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=B2(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=H2(this._rawAsyncValidators)}};var $g=new ot("CallSetDisabledState",{providedIn:"root",factory:()=>Fu}),Fu="always";function z2(s,t){return[...t.path,s]}function W2(s,t,e=Fu){G2(s,t),t.valueAccessor.writeValue(s.value),(s.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(s.disabled),$2(s,t),X2(s,t),q2(s,t),Y2(s,t)}function Vg(s,t){s.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Y2(s,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};s.registerOnDisabledChange(e),t._registerOnDestroy(()=>{s._unregisterOnDisabledChange(e)})}}function G2(s,t){let e=L2(s);t.validator!==null?s.setValidators(Mg(e,t.validator)):typeof e=="function"&&s.setValidators([e]);let i=P2(s);t.asyncValidator!==null?s.setAsyncValidators(Mg(i,t.asyncValidator)):typeof i=="function"&&s.setAsyncValidators([i]);let n=()=>s.updateValueAndValidity();Vg(t._rawValidators,n),Vg(t._rawAsyncValidators,n)}function $2(s,t){t.valueAccessor.registerOnChange(e=>{s._pendingValue=e,s._pendingChange=!0,s._pendingDirty=!0,s.updateOn==="change"&&qg(s,t)})}function q2(s,t){t.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,s.updateOn==="blur"&&s._pendingChange&&qg(s,t),s.updateOn!=="submit"&&s.markAsTouched()})}function qg(s,t){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function X2(s,t){let e=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};s.registerOnChange(e),t._registerOnDestroy(()=>{s._unregisterOnChange(e)})}function K2(s,t){if(!s.hasOwnProperty("model"))return!1;let e=s.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Z2(s){return Object.getPrototypeOf(s.constructor)===D2}function Q2(s,t){if(!t)return null;Array.isArray(t);let e,i,n;return t.forEach(r=>{r.constructor===jg?e=r:Z2(r)?i=r:n=r}),n||i||e||null}function Rg(s,t){let e=s.indexOf(t);e>-1&&s.splice(e,1)}function Lg(s){return typeof s=="object"&&s!==null&&Object.keys(s).length===2&&"value"in s&&"disabled"in s}var J2=class extends Au{constructor(t=null,e,i){super(j2(e),U2(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ul(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Lg(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Rg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Rg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Lg(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var eS={provide:On,useExisting:Bt(()=>Vu)},Pg=Promise.resolve(),Vu=(()=>{class s extends On{constructor(e,i,n,r,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new J2,this._registered=!1,this.name="",this.update=new G,this._parent=e,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=Q2(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),K2(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){W2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Pg.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,n=i!==0&&B(i);Pg.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?z2(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||s)(U(ku,9),U(M2,10),U(A2,10),U(ni,10),U(Ue,8),U($g,8))}}static{this.\u0275dir=Dt({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Kt([eS]),Ce,Ni]})}}return s})();var tS=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=de({type:s})}static{this.\u0275inj=ue({})}}return s})();var Ru=(()=>{class s{static withConfig(e){return{ngModule:s,providers:[{provide:$g,useValue:e.callSetDisabledState??Fu}]}}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=de({type:s})}static{this.\u0275inj=ue({imports:[tS]})}}return s})();var mi=(()=>{class s{autofocus=!1;focused=!1;platformId=le(gt);document=le(Re);host=le(Ve);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Ot(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=M.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||s)};static \u0275dir=Dt({type:s,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",B]},standalone:!0,features:[Me]})}return s})(),Ui=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({})}return s})();var nS=["overlay"],sS=["content"],rS=["*"],oS=(s,t,e,i,n,r,o,a,c,u,d,g,y,b)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":s,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":n,"p-overlay-bottom":r,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":c,"p-overlay-left-start":u,"p-overlay-left-end":d,"p-overlay-right":g,"p-overlay-right-start":y,"p-overlay-right-end":b}),aS=(s,t,e)=>({showTransitionParams:s,hideTransitionParams:t,transform:e}),lS=s=>({value:"visible",params:s}),cS=s=>({mode:s}),hS=s=>({$implicit:s});function uS(s,t){s&1&&pe(0)}function dS(s,t){if(s&1){let e=Z();T(0,"div",3,1),z("click",function(n){O(e);let r=v(2);return E(r.onOverlayContentClick(n))})("@overlayContentAnimation.start",function(n){O(e);let r=v(2);return E(r.onOverlayContentAnimationStart(n))})("@overlayContentAnimation.done",function(n){O(e);let r=v(2);return E(r.onOverlayContentAnimationDone(n))}),ct(2),S(3,uS,1,0,"ng-container",4),I()}if(s&2){let e=v(2);W(e.contentStyleClass),f("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",he(11,lS,Si(7,aS,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),_(3),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",he(15,hS,he(13,cS,e.overlayMode)))}}function pS(s,t){if(s&1){let e=Z();T(0,"div",3,0),z("click",function(){O(e);let n=v();return E(n.onOverlayClick())}),S(2,dS,4,17,"div",2),I()}if(s&2){let e=v();W(e.styleClass),f("ngStyle",e.style)("ngClass",Jf(5,oS,[e.modal,e.modal&&e.overlayResponsiveDirection==="center",e.modal&&e.overlayResponsiveDirection==="top",e.modal&&e.overlayResponsiveDirection==="top-start",e.modal&&e.overlayResponsiveDirection==="top-end",e.modal&&e.overlayResponsiveDirection==="bottom",e.modal&&e.overlayResponsiveDirection==="bottom-start",e.modal&&e.overlayResponsiveDirection==="bottom-end",e.modal&&e.overlayResponsiveDirection==="left",e.modal&&e.overlayResponsiveDirection==="left-start",e.modal&&e.overlayResponsiveDirection==="left-end",e.modal&&e.overlayResponsiveDirection==="right",e.modal&&e.overlayResponsiveDirection==="right-start",e.modal&&e.overlayResponsiveDirection==="right-end"])),_(2),f("ngIf",e.visible)}}var fS={provide:ni,useExisting:Bt(()=>Lu),multi:!0},mS=br([Ct({transform:"{{transform}}",opacity:0}),Lt("{{showTransitionParams}}")]),gS=br([Lt("{{hideTransitionParams}}",Ct({transform:"{{transform}}",opacity:0}))]),Lu=(()=>{class s{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return ae.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return ae.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return ae.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return ae.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new G;onBeforeShow=new G;onShow=new G;onBeforeHide=new G;onHide=new G;onAnimationStart=new G;onAnimationDone=new G;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Ot(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return K(K({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return K(K({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return M.getTargetElement(this.target,this.el?.nativeElement)}constructor(e,i,n,r,o,a,c,u){this.document=e,this.platformId=i,this.el=n,this.renderer=r,this.config=o,this.overlayService=a,this.cd=c,this.zone=u,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&M.focus(this.targetEl),this.modal&&M.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&M.focus(this.targetEl),this.modal&&M.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&M.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&wt.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),M.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&M.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),wt.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new es(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let n=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&n}):n)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),wt.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||s)(U(Re),U(gt),U(Ve),U(pt),U(ht),U(Rl),U(Ue),U(nt))};static \u0275cmp=$({type:s,selectors:[["p-overlay"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(nS,5),ye(sS,5)),i&2){let r;ie(r=ne())&&(n.overlayViewChild=r.first),ie(r=ne())&&(n.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Kt([fS])],ngContentSelectors:rS,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(bt(),S(0,pS,3,20,"div",2)),i&2&&f("ngIf",n.modalVisible)},dependencies:[Le,He,qe,Ne],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[Ti("overlayContentAnimation",[Ft(":enter",[Cr(mS)]),Ft(":leave",[Cr(gS)])])]},changeDetection:0})}return s})(),Pu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Oe,Oe]})}return s})();var zt=(()=>{class s{document;platformId;renderer;el;zone;config;constructor(e,i,n,r,o,a){this.document=e,this.platformId=i,this.renderer=n,this.el=r,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Ot(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(M.removeClass(i,"p-ink-active"),!M.getHeight(i)&&!M.getWidth(i)){let a=Math.max(M.getOuterWidth(this.el.nativeElement),M.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let n=M.getOffset(this.el.nativeElement),r=e.pageX-n.left+this.document.body.scrollTop-M.getWidth(i)/2,o=e.pageY-n.top+this.document.body.scrollLeft-M.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",r+"px"),M.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&M.removeClass(a,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if(typeof e[i].className=="string"&&e[i].className.indexOf("p-ink")!==-1)return e[i];return null}resetInk(){let e=this.getInk();e&&M.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),M.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,M.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||s)(U(Re),U(gt),U(pt),U(Ve),U(nt),U(ht,8))};static \u0275dir=Dt({type:s,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return s})(),si=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({})}return s})();var aa=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["SpinnerIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var vS=["element"],yS=["content"],bS=["*"],CS=(s,t,e)=>({"p-scroller":!0,"p-scroller-inline":s,"p-both-scroll":t,"p-horizontal-scroll":e}),Nu=(s,t)=>({$implicit:s,options:t}),wS=s=>({"p-scroller-loading":s}),xS=s=>({"p-component-overlay":s}),SS=s=>({numCols:s}),Xg=s=>({options:s}),TS=()=>({styleClass:"p-scroller-loading-icon"}),IS=(s,t)=>({rows:s,columns:t});function DS(s,t){s&1&&pe(0)}function OS(s,t){if(s&1&&(ee(0),S(1,DS,1,0,"ng-container",10),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Pe(2,Nu,e.loadedItems,e.getContentOptions()))}}function ES(s,t){s&1&&pe(0)}function kS(s,t){if(s&1&&(ee(0),S(1,ES,1,0,"ng-container",10),te()),s&2){let e=t.$implicit,i=t.index,n=v(3);_(),f("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",Pe(2,Nu,e,n.getOptions(i)))}}function MS(s,t){if(s&1&&(T(0,"div",11,3),S(2,kS,2,5,"ng-container",12),I()),s&2){let e=v(2);f("ngClass",he(5,wS,e.d_loading))("ngStyle",e.contentStyle),k("data-pc-section","content"),_(2),f("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function AS(s,t){if(s&1&&P(0,"div",13),s&2){let e=v(2);f("ngStyle",e.spacerStyle),k("data-pc-section","spacer")}}function FS(s,t){s&1&&pe(0)}function VS(s,t){if(s&1&&(ee(0),S(1,FS,1,0,"ng-container",10),te()),s&2){let e=t.index,i=v(4);_(),f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",he(4,Xg,i.getLoaderOptions(e,i.both&&he(2,SS,i._numItemsInViewport.cols))))}}function RS(s,t){if(s&1&&(ee(0),S(1,VS,2,6,"ng-container",15),te()),s&2){let e=v(3);_(),f("ngForOf",e.loaderArr)}}function LS(s,t){s&1&&pe(0)}function PS(s,t){if(s&1&&(ee(0),S(1,LS,1,0,"ng-container",10),te()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",he(3,Xg,qi(2,TS)))}}function NS(s,t){s&1&&P(0,"SpinnerIcon",16),s&2&&(f("styleClass","p-scroller-loading-icon pi-spin"),k("data-pc-section","loadingIcon"))}function jS(s,t){if(s&1&&S(0,PS,2,5,"ng-container",6)(1,NS,1,2,"ng-template",null,5,It),s&2){let e=at(2),i=v(3);f("ngIf",i.loaderIconTemplate)("ngIfElse",e)}}function BS(s,t){if(s&1&&(T(0,"div",14),S(1,RS,2,1,"ng-container",6)(2,jS,3,2,"ng-template",null,4,It),I()),s&2){let e=at(3),i=v(2);f("ngClass",he(4,xS,!i.loaderTemplate)),k("data-pc-section","loader"),_(),f("ngIf",i.loaderTemplate)("ngIfElse",e)}}function US(s,t){if(s&1){let e=Z();ee(0),T(1,"div",7,1),z("scroll",function(n){O(e);let r=v();return E(r.onContainerScroll(n))}),S(3,OS,2,5,"ng-container",6)(4,MS,3,7,"ng-template",null,2,It)(6,AS,1,2,"div",8)(7,BS,4,6,"div",9),I(),te()}if(s&2){let e=at(5),i=v();_(),W(i._styleClass),f("ngStyle",i._style)("ngClass",Si(12,CS,i.inline,i.both,i.horizontal)),k("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),_(2),f("ngIf",i.contentTemplate)("ngIfElse",e),_(3),f("ngIf",i._showSpacer),_(),f("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function HS(s,t){s&1&&pe(0)}function zS(s,t){if(s&1&&(ee(0),S(1,HS,1,0,"ng-container",10),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Pe(5,Nu,e.items,Pe(2,IS,e._items,e.loadedColumns)))}}function WS(s,t){if(s&1&&(ct(0),S(1,zS,2,8,"ng-container",17)),s&2){let e=v();_(),f("ngIf",e.contentTemplate)}}var Kg=(()=>{class s{document;platformId;renderer;cd;zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([i,n])=>this[`_${i}`]!==n&&(this[`_${i}`]=n))}onLazyLoad=new G;onScroll=new G;onScrollIndexChange=new G;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;resizeObserver;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(e,i,n,r,o){this.document=e,this.platformId=i,this.renderer=n,this.cd=r,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){let{previousValue:n,currentValue:r}=e.loading;this.lazy&&n!==r&&r!==this.d_loading&&(this.d_loading=r,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:n,currentValue:r}=e.numToleratedItems;n!==r&&r!==this.d_numToleratedItems&&(this.d_numToleratedItems=r)}if(e.options){let{previousValue:n,currentValue:r}=e.options;this.lazy&&n?.loading!==r?.loading&&r?.loading!==this.d_loading&&(this.d_loading=r.loading,i=!0),n?.numToleratedItems!==r?.numToleratedItems&&r?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=r.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Ot(this.platformId)&&!this.initialized&&M.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=M.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=M.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=M.getWidth(this.contentEl),this.defaultContentHeight=M.getHeight(this.contentEl),this.resizeObserver=new ResizeObserver(()=>this.onResize()),this.resizeObserver.observe(this.elementViewChild?.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||M.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){if(this.both?e.every(r=>r>-1):e>-1){let r=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:c}=this.calculateNumItems(),u=this.getContentPosition(),d=this.itemSize,g=(R=0,L)=>R<=L?0:R,y=(R,L,N)=>R*L+N,b=(R=0,L=0)=>this.scrollTo({left:R,top:L,behavior:i}),w=this.both?{rows:0,cols:0}:0,x=!1,D=!1;this.both?(w={rows:g(e[0],c[0]),cols:g(e[1],c[1])},b(y(w.cols,d[1],u.left),y(w.rows,d[0],u.top)),D=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,x=w.rows!==r.rows||w.cols!==r.cols):(w=g(e,c),this.horizontal?b(y(w,d,u.left),o):b(a,y(w,d,u.top)),D=this.lastScrollPos!==(this.horizontal?a:o),x=w!==r),this.isRangeChanged=x,D&&(this.first=w)}}scrollInView(e,i,n="auto"){if(i){let{first:r,viewport:o}=this.getRenderedRange(),a=(d=0,g=0)=>this.scrollTo({left:d,top:g,behavior:n}),c=i==="to-start",u=i==="to-end";if(c){if(this.both)o.first.rows-r.rows>e[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-r.cols>e[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-r>e){let d=(o.first-1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}else if(u){if(this.both)o.last.rows-r.rows<=e[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-r.cols<=e[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-r<=e+1){let d=(o.first+1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}}else this.scrollToIndex(e,n)}getRenderedRange(){let e=(r,o)=>o||r?Math.floor(r/(o||r)):0,i=this.first,n=0;if(this.elementViewChild?.nativeElement){let{scrollTop:r,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:e(r,this._itemSize[0]),cols:e(o,this._itemSize[1])},n={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:r;i=e(a,this._itemSize),n=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:n}}}calculateNumItems(){let e=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,n=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,r=(u,d)=>d||u?Math.ceil(u/(d||u)):0,o=u=>Math.ceil(u/2),a=this.both?{rows:r(n,this._itemSize[0]),cols:r(i,this._itemSize[1])}:r(this.horizontal?i:n,this._itemSize),c=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:c}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),n=(a,c,u,d=!1)=>this.getLast(a+c+(a<u?2:3)*u,d),r=this.first,o=this.both?{rows:n(this.first.rows,e.rows,i[0]),cols:n(this.first.cols,e.cols,i[1],!0)}:n(this.first,e,i);this.last=o,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:r.cols}:0:r,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,i]=[M.getWidth(this.contentEl),M.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[n,r]=[M.getWidth(this.elementViewChild.nativeElement),M.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=n<this.defaultWidth?n+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=r<this.defaultHeight?r+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),n=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),r=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),o=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:n,top:r,bottom:o,x:i+n,y:r+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,n=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,r=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(r("height",n),r("width",i)):r("height",n)}}setSpacerSize(){if(this._items){let e=(n,r,o)=>this.spacerStyle=tt(K({},this.spacerStyle),{[`${n}`]:r*o+"px"}),i=this._items.length;this.both?(e("height",i,this._itemSize[0]),e("width",this._columns?.length||this._items[1]?.length,this._itemSize[1])):this.horizontal?e("width",this._columns.length||this._items.length,this._itemSize):e("height",i,this._itemSize)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let i=e?e.first:this.first,n=(o,a)=>o*a,r=(o=0,a=0)=>this.contentStyle=tt(K({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)r(n(i.cols,this._itemSize[1]),n(i.rows,this._itemSize[0]));else{let o=n(i,this._itemSize);this.horizontal?r(o,0):r(0,o)}}}onScrollPositionChange(e){let i=e.target,n=this.getContentPosition(),r=(D,R)=>D?D>R?D-R:D:0,o=(D,R)=>R||D?Math.floor(D/(R||D)):0,a=(D,R,L,N,Y,q)=>D<=Y?Y:q?L-N-Y:R+Y-1,c=(D,R,L,N,Y,q,Q)=>D<=q?0:Math.max(0,Q?D<R?L:D-q:D>R?L:D-2*q),u=(D,R,L,N,Y,q=!1)=>{let Q=R+N+2*Y;return D>=Y&&(Q+=Y+1),this.getLast(Q,q)},d=r(i.scrollTop,n.top),g=r(i.scrollLeft,n.left),y=this.both?{rows:0,cols:0}:0,b=this.last,w=!1,x=this.lastScrollPos;if(this.both){let D=this.lastScrollPos.top<=d,R=this.lastScrollPos.left<=g;if(!this._appendOnly||this._appendOnly&&(D||R)){let L={rows:o(d,this._itemSize[0]),cols:o(g,this._itemSize[1])},N={rows:a(L.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],D),cols:a(L.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],R)};y={rows:c(L.rows,N.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],D),cols:c(L.cols,N.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],R)},b={rows:u(L.rows,y.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:u(L.cols,y.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},w=y.rows!==this.first.rows||b.rows!==this.last.rows||y.cols!==this.first.cols||b.cols!==this.last.cols||this.isRangeChanged,x={top:d,left:g}}}else{let D=this.horizontal?g:d,R=this.lastScrollPos<=D;if(!this._appendOnly||this._appendOnly&&R){let L=o(D,this._itemSize),N=a(L,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,R);y=c(L,N,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,R),b=u(L,y,this.last,this.numItemsInViewport,this.d_numToleratedItems),w=y!==this.first||b!==this.last||this.isRangeChanged,x=D}}return{first:y,last:b,isRangeChanged:w,scrollPos:x}}onScrollChange(e){let{first:i,last:n,isRangeChanged:r,scrollPos:o}=this.onScrollPositionChange(e);if(r){let a={first:i,last:n};if(this.setContentPosition(a),this.first=i,this.last=n,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let c={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:n,this.items.length)};(this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last)&&this.handleEvents("onLazyLoad",c),this.lazyLoadState=c}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(e);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}unbindResizeListener(){this.resizeObserver&&(this.resizeObserver.unobserve(this.elementViewChild?.nativeElement),this.resizeObserver=null)}onResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(M.isVisible(this.elementViewChild?.nativeElement)){let[e,i]=[M.getWidth(this.elementViewChild?.nativeElement),M.getHeight(this.elementViewChild?.nativeElement)],[n,r]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?n||r:this.horizontal?n:this.vertical?r:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=M.getWidth(this.contentEl),this.defaultContentHeight=M.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let i=(this._items||[]).length,n=this.both?this.first.rows+e:this.first+e;return{index:n,count:i,first:n===0,last:n===i-1,even:n%2===0,odd:n%2!==0}}getLoaderOptions(e,i){let n=this.loaderArr.length;return K({index:e,count:n,first:e===0,last:e===n-1,even:e%2===0,odd:e%2!==0},i)}static \u0275fac=function(i){return new(i||s)(U(Re),U(gt),U(pt),U(Ue),U(nt))};static \u0275cmp=$({type:s,selectors:[["p-scroller"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(vS,5),ye(yS,5)),i&2){let r;ie(r=ne())&&(n.elementViewChild=r.first),ie(r=ne())&&(n.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Ni],ngContentSelectors:bS,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,n){if(i&1&&(bt(),S(0,US,8,16,"ng-container",6)(1,WS,2,1,"ng-template",null,0,It)),i&2){let r=at(2);f("ngIf",!n._disabled)("ngIfElse",r)}},dependencies:()=>[Le,ti,He,qe,Ne,aa],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return s})(),ju=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Oe,aa,Oe]})}return s})();var Hl=(()=>{class s{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Ye()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(e,i,n,r,o,a){this.platformId=e,this.el=i,this.zone=n,this.config=r,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){Ot(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement)),i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=K(K({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(M.hasClass(e.relatedTarget,"p-tooltip")||M.hasClass(e.relatedTarget,"p-tooltip-text")||M.hasClass(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?M.appendChild(this.container,this.el.nativeElement):M.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),M.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?wt.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&wt.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e instanceof Za){let i=this.viewContainer.createEmbeddedView(e);i.detectChanges(),i.rootNodes.forEach(n=>this.tooltipText.appendChild(n))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),i=e.left+M.getWindowScrollLeft(),n=e.top+M.getWindowScrollTop();return{left:i,top:n}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.activeElement,i=this.getHostOffset(),n=i.left+M.getOuterWidth(e),r=i.top+(M.getOuterHeight(e)-M.getOuterHeight(this.container))/2;this.container.style.left=n+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?M.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-M.getOuterWidth(this.container),n=e.top+(M.getOuterHeight(this.el.nativeElement)-M.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,n=e.top-M.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,n=e.top+M.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=K(K({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return M.hasClass(e,"p-inputwrapper")?M.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,n=e.left,r=M.getOuterWidth(this.container),o=M.getOuterHeight(this.container),a=M.getViewport();return n+r>a.width||n<0||i<0||i+o>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new es(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement))}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):M.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&wt.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||s)(U(gt),U(Ve),U(nt),U(ht),U(pt),U(vr))};static \u0275dir=Dt({type:s,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&z("keydown.escape",function(o){return n.onPressEscape(o)},!1,Ka)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",B],showDelay:[2,"showDelay","showDelay",ge],hideDelay:[2,"hideDelay","hideDelay",ge],life:[2,"life","life",ge],positionTop:[2,"positionTop","positionTop",ge],positionLeft:[2,"positionLeft","positionLeft",ge],autoHide:[2,"autoHide","autoHide",B],fitContent:[2,"fitContent","fitContent",B],hideOnEscape:[2,"hideOnEscape","hideOnEscape",B],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Me,Ni]})}return s})(),zl=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te]})}return s})();var ai=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["CheckIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Bu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["BlankIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"rect",1),I())},encapsulation:2})}return s})();var Nr=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Uu=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["SearchIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var la=s=>({height:s}),GS=(s,t,e)=>({"p-dropdown-item":!0,"p-highlight":s,"p-disabled":t,"p-focus":e}),Hu=s=>({$implicit:s});function $S(s,t){s&1&&P(0,"CheckIcon",4),s&2&&f("styleClass","p-dropdown-check-icon")}function qS(s,t){s&1&&P(0,"BlankIcon",4),s&2&&f("styleClass","p-dropdown-blank-icon")}function XS(s,t){if(s&1&&(ee(0),S(1,$S,1,1,"CheckIcon",3)(2,qS,1,1,"BlankIcon",3),te()),s&2){let e=v();_(),f("ngIf",e.selected),_(),f("ngIf",!e.selected)}}function KS(s,t){if(s&1&&(T(0,"span"),fe(1),I()),s&2){let e,i=v();_(),We((e=i.label)!==null&&e!==void 0?e:"empty")}}function ZS(s,t){s&1&&pe(0)}var QS=["container"],JS=["filter"],eT=["focusInput"],tT=["editableInput"],iT=["items"],nT=["scroller"],sT=["overlay"],rT=["firstHiddenFocusableEl"],oT=["lastHiddenFocusableEl"],aT=s=>({"max-height":s}),Qg=s=>({options:s}),lT=s=>({"p-variant-filled":s}),Jg=(s,t)=>({$implicit:s,options:t}),cT=()=>({});function hT(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(2);_(),We(e.label()==="p-emptylabel"?"\xA0":e.label())}}function uT(s,t){if(s&1&&pe(0,25),s&2){let e=v(2);f("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",he(2,Hu,e.selectedOption))}}function dT(s,t){if(s&1&&(T(0,"span"),fe(1),I()),s&2){let e=v(3);_(),We(e.label()==="p-emptylabel"?"\xA0":e.label())}}function pT(s,t){if(s&1&&S(0,dT,2,1,"span",18),s&2){let e=v(2);f("ngIf",e.isSelectedOptionEmpty())}}function fT(s,t){if(s&1){let e=Z();T(0,"span",23,3),z("focus",function(n){O(e);let r=v();return E(r.onInputFocus(n))})("blur",function(n){O(e);let r=v();return E(r.onInputBlur(n))})("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n))}),S(2,hT,2,1,"ng-container",20)(3,uT,1,4,"ng-container",24)(4,pT,1,1,"ng-template",null,4,It),I()}if(s&2){let e,i=at(5),n=v();f("ngClass",n.inputClass)("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass)("autofocus",n.autofocus),k("aria-disabled",n.disabled)("id",n.inputId)("aria-label",n.ariaLabel||(n.label()==="p-emptylabel"?void 0:n.label()))("aria-labelledby",n.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(e=n.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",n.overlayVisible?n.id+"_list":null)("tabindex",n.disabled?-1:n.tabindex)("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("aria-required",n.required)("required",n.required),_(2),f("ngIf",!n.selectedItemTemplate)("ngIfElse",i),_(),f("ngIf",n.selectedItemTemplate&&!n.isSelectedOptionEmpty())}}function mT(s,t){if(s&1){let e=Z();T(0,"input",26,5),z("input",function(n){O(e);let r=v();return E(r.onEditableInput(n))})("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n))})("focus",function(n){O(e);let r=v();return E(r.onInputFocus(n))})("blur",function(n){O(e);let r=v();return E(r.onInputBlur(n))}),I()}if(s&2){let e=v();f("ngClass",e.inputClass)("disabled",e.disabled)("autofocus",e.autofocus),k("id",e.inputId)("maxlength",e.maxlength)("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function gT(s,t){if(s&1){let e=Z();T(0,"TimesIcon",29),z("click",function(n){O(e);let r=v(2);return E(r.clear(n))}),I()}s&2&&(f("styleClass","p-dropdown-clear-icon"),k("data-pc-section","clearicon"))}function _T(s,t){}function vT(s,t){s&1&&S(0,_T,0,0,"ng-template")}function yT(s,t){if(s&1){let e=Z();T(0,"span",30),z("click",function(n){O(e);let r=v(2);return E(r.clear(n))}),S(1,vT,1,0,null,31),I()}if(s&2){let e=v(2);k("data-pc-section","clearicon"),_(),f("ngTemplateOutlet",e.clearIconTemplate)}}function bT(s,t){if(s&1&&(ee(0),S(1,gT,1,2,"TimesIcon",27)(2,yT,2,2,"span",28),te()),s&2){let e=v();_(),f("ngIf",!e.clearIconTemplate),_(),f("ngIf",e.clearIconTemplate)}}function CT(s,t){s&1&&pe(0)}function wT(s,t){if(s&1&&(ee(0),S(1,CT,1,0,"ng-container",31),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.loadingIconTemplate)}}function xT(s,t){if(s&1&&P(0,"span",34),s&2){let e=v(3);f("ngClass","p-dropdown-trigger-icon pi-spin "+e.loadingIcon)}}function ST(s,t){s&1&&P(0,"span",35),s&2&&W("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function TT(s,t){if(s&1&&(ee(0),S(1,xT,1,1,"span",32)(2,ST,1,2,"span",33),te()),s&2){let e=v(2);_(),f("ngIf",e.loadingIcon),_(),f("ngIf",!e.loadingIcon)}}function IT(s,t){if(s&1&&(ee(0),S(1,wT,2,1,"ng-container",18)(2,TT,3,2,"ng-container",18),te()),s&2){let e=v();_(),f("ngIf",e.loadingIconTemplate),_(),f("ngIf",!e.loadingIconTemplate)}}function DT(s,t){if(s&1&&P(0,"span",39),s&2){let e=v(3);f("ngClass",e.dropdownIcon)}}function OT(s,t){s&1&&P(0,"ChevronDownIcon",40),s&2&&f("styleClass","p-dropdown-trigger-icon")}function ET(s,t){if(s&1&&(ee(0),S(1,DT,1,1,"span",37)(2,OT,1,1,"ChevronDownIcon",38),te()),s&2){let e=v(2);_(),f("ngIf",e.dropdownIcon),_(),f("ngIf",!e.dropdownIcon)}}function kT(s,t){}function MT(s,t){s&1&&S(0,kT,0,0,"ng-template")}function AT(s,t){if(s&1&&(T(0,"span",41),S(1,MT,1,0,null,31),I()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.dropdownIconTemplate)}}function FT(s,t){if(s&1&&S(0,ET,3,2,"ng-container",18)(1,AT,2,1,"span",36),s&2){let e=v();f("ngIf",!e.dropdownIconTemplate),_(),f("ngIf",e.dropdownIconTemplate)}}function VT(s,t){s&1&&pe(0)}function RT(s,t){s&1&&pe(0)}function LT(s,t){if(s&1&&(ee(0),S(1,RT,1,0,"ng-container",48),te()),s&2){let e=v(3);_(),f("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",he(2,Qg,e.filterOptions))}}function PT(s,t){s&1&&P(0,"SearchIcon",40),s&2&&f("styleClass","p-dropdown-filter-icon")}function NT(s,t){}function jT(s,t){s&1&&S(0,NT,0,0,"ng-template")}function BT(s,t){if(s&1&&(T(0,"span",52),S(1,jT,1,0,null,31),I()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.filterIconTemplate)}}function UT(s,t){if(s&1){let e=Z();T(0,"div",49)(1,"input",50,10),z("input",function(n){O(e);let r=v(3);return E(r.onFilterInputChange(n))})("keydown",function(n){O(e);let r=v(3);return E(r.onFilterKeyDown(n))})("blur",function(n){O(e);let r=v(3);return E(r.onFilterBlur(n))}),I(),S(3,PT,1,1,"SearchIcon",38)(4,BT,2,1,"span",51),I()}if(s&2){let e=v(3);_(),f("value",e._filterValue()||"")("ngClass",he(8,lT,e.variant==="filled"||e.config.inputStyle()==="filled")),k("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),_(2),f("ngIf",!e.filterIconTemplate),_(),f("ngIf",e.filterIconTemplate)}}function HT(s,t){if(s&1){let e=Z();T(0,"div",47),z("click",function(n){return O(e),E(n.stopPropagation())}),S(1,LT,2,4,"ng-container",20)(2,UT,5,10,"ng-template",null,9,It),I()}if(s&2){let e=at(3),i=v(2);_(),f("ngIf",i.filterTemplate)("ngIfElse",e)}}function zT(s,t){s&1&&pe(0)}function WT(s,t){if(s&1&&S(0,zT,1,0,"ng-container",48),s&2){let e=t.$implicit,i=t.options;v(2);let n=at(9);f("ngTemplateOutlet",n)("ngTemplateOutletContext",Pe(2,Jg,e,i))}}function YT(s,t){s&1&&pe(0)}function GT(s,t){if(s&1&&S(0,YT,1,0,"ng-container",48),s&2){let e=t.options,i=v(4);f("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",he(2,Qg,e))}}function $T(s,t){s&1&&(ee(0),S(1,GT,1,4,"ng-template",54),te())}function qT(s,t){if(s&1){let e=Z();T(0,"p-scroller",53,11),z("onLazyLoad",function(n){O(e);let r=v(2);return E(r.onLazyLoad.emit(n))}),S(2,WT,1,5,"ng-template",22)(3,$T,2,0,"ng-container",18),I()}if(s&2){let e=v(2);$f(he(8,la,e.scrollHeight)),f("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),_(3),f("ngIf",e.loaderTemplate)}}function XT(s,t){s&1&&pe(0)}function KT(s,t){if(s&1&&(ee(0),S(1,XT,1,0,"ng-container",48),te()),s&2){v();let e=at(9),i=v();_(),f("ngTemplateOutlet",e)("ngTemplateOutletContext",Pe(3,Jg,i.visibleOptions(),qi(2,cT)))}}function ZT(s,t){if(s&1&&(T(0,"span"),fe(1),I()),s&2){let e=v(2).$implicit,i=v(3);_(),We(i.getOptionGroupLabel(e.optionGroup))}}function QT(s,t){s&1&&pe(0)}function JT(s,t){if(s&1&&(ee(0),T(1,"li",58),S(2,ZT,2,1,"span",18)(3,QT,1,0,"ng-container",48),I(),te()),s&2){let e=v(),i=e.$implicit,n=e.index,r=v().options,o=v(2);_(),f("ngStyle",he(5,la,r.itemSize+"px")),k("id",o.id+"_"+o.getOptionIndex(n,r)),_(),f("ngIf",!o.groupTemplate),_(),f("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",he(7,Hu,i.optionGroup))}}function eI(s,t){if(s&1){let e=Z();ee(0),T(1,"p-dropdownItem",59),z("onClick",function(n){O(e);let r=v().$implicit,o=v(3);return E(o.onOptionSelect(n,r))})("onMouseEnter",function(n){O(e);let r=v().index,o=v().options,a=v(2);return E(a.onOptionMouseEnter(n,a.getOptionIndex(r,o)))}),I(),te()}if(s&2){let e=v(),i=e.$implicit,n=e.index,r=v().options,o=v(2);_(),f("id",o.id+"_"+o.getOptionIndex(n,r))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(n,r))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(n,r)))("ariaSetSize",o.ariaSetSize)}}function tI(s,t){if(s&1&&S(0,JT,4,9,"ng-container",18)(1,eI,2,10,"ng-container",18),s&2){let e=t.$implicit,i=v(3);f("ngIf",i.isOptionGroup(e)),_(),f("ngIf",!i.isOptionGroup(e))}}function iI(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(4);_(),Xt(" ",e.emptyFilterMessageLabel," ")}}function nI(s,t){s&1&&pe(0,null,13)}function sI(s,t){if(s&1&&(T(0,"li",60),S(1,iI,2,1,"ng-container",20)(2,nI,2,0,"ng-container",31),I()),s&2){let e=v().options,i=v(2);f("ngStyle",he(4,la,e.itemSize+"px")),_(),f("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),_(),f("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function rI(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(4);_(),Xt(" ",e.emptyMessageLabel," ")}}function oI(s,t){s&1&&pe(0,null,14)}function aI(s,t){if(s&1&&(T(0,"li",60),S(1,rI,2,1,"ng-container",20)(2,oI,2,0,"ng-container",31),I()),s&2){let e=v().options,i=v(2);f("ngStyle",he(4,la,e.itemSize+"px")),_(),f("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),_(),f("ngTemplateOutlet",i.emptyTemplate)}}function lI(s,t){if(s&1&&(T(0,"ul",55,12),S(2,tI,2,2,"ng-template",56)(3,sI,3,6,"li",57)(4,aI,3,6,"li",57),I()),s&2){let e=t.$implicit,i=t.options,n=v(2);f("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),k("id",n.id+"_list")("aria-label",n.listLabel),_(2),f("ngForOf",e),_(),f("ngIf",n.filterValue&&n.isEmpty()),_(),f("ngIf",!n.filterValue&&n.isEmpty())}}function cI(s,t){s&1&&pe(0)}function hI(s,t){if(s&1){let e=Z();T(0,"div",42)(1,"span",43,6),z("focus",function(n){O(e);let r=v();return E(r.onFirstHiddenFocus(n))}),I(),S(3,VT,1,0,"ng-container",31)(4,HT,4,2,"div",44),T(5,"div",45),S(6,qT,4,10,"p-scroller",46)(7,KT,2,6,"ng-container",18)(8,lI,5,7,"ng-template",null,7,It),I(),S(10,cI,1,0,"ng-container",31),T(11,"span",43,8),z("focus",function(n){O(e);let r=v();return E(r.onLastHiddenFocus(n))}),I()()}if(s&2){let e=v();W(e.panelStyleClass),f("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),_(),k("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),_(2),f("ngTemplateOutlet",e.headerTemplate),_(),f("ngIf",e.filter),_(),f("ngStyle",he(16,aT,e.virtualScroll?"auto":e.scrollHeight||"auto")),_(),f("ngIf",e.virtualScroll),_(),f("ngIf",!e.virtualScroll),_(3),f("ngTemplateOutlet",e.footerTemplate),_(),k("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var uI={provide:ni,useExisting:Bt(()=>pI),multi:!0},dI=(()=>{class s{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new G;onMouseEnter=new G;ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=$({type:s,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",B],focused:[2,"focused","focused",B],label:"label",disabled:[2,"disabled","disabled",B],visible:[2,"visible","visible",B],itemSize:[2,"itemSize","itemSize",ge],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",B]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Me],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,n){i&1&&(T(0,"li",0),z("click",function(o){return n.onOptionClick(o)})("mouseenter",function(o){return n.onOptionMouseEnter(o)}),S(1,XS,3,2,"ng-container",1)(2,KS,2,1,"span",1)(3,ZS,1,0,"ng-container",2),I()),i&2&&(f("id",n.id)("ngStyle",he(14,la,n.itemSize+"px"))("ngClass",Si(16,GS,n.selected,n.disabled,n.focused)),k("aria-label",n.label)("aria-setsize",n.ariaSetSize)("aria-posinset",n.ariaPosInset)("aria-selected",n.selected)("data-p-focused",n.focused)("data-p-highlight",n.selected)("data-p-disabled",n.disabled),_(),f("ngIf",n.checkmark),_(),f("ngIf",!n.template),_(),f("ngTemplateOutlet",n.template)("ngTemplateOutletContext",he(20,Hu,n.option)))},dependencies:()=>[Le,He,qe,Ne,zt,Bu,ai],encapsulation:2})}return s})(),pI=(()=>{class s{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){ae.deepEquals(e,this._options())||this._options.set(e)}onChange=new G;onFilter=new G;onFocus=new G;onBlur=new G;onClick=new G;onShow=new G;onHide=new G;onClear=new G;onLazyLoad=new G;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=ei(null);_placeholder=ei(void 0);modelValue=ei(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=ei(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=ei(-1);labelId;listId;clicked=ei(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(_t.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(_t.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(_t.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=xn(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let n=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(r=>r.label?r.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:r.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let r=this.options||[],o=[];return r.forEach(a=>{let u=this.getOptionGroupChildren(a).filter(d=>n.includes(d));u.length>0&&o.push(tt(K({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...u]}))}),this.flatOptions(o)}return n}return e});label=xn(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),i=e.findIndex(n=>this.isOptionValueEqualsModelValue(n));return i!==-1?this.getOptionLabel(e[i]):this.placeholder()||"p-emptylabel"});filled=xn(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=xn(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,i,n,r,o,a){this.el=e,this.renderer=i,this.cd=n,this.zone=r,this.filterService=o,this.config=a,tm(()=>{let c=this.modelValue(),u=this.visibleOptions();if(u&&ae.isNotEmpty(u)){let d=this.findSelectedOptionIndex();(d!==-1||c===void 0||typeof c=="string"&&c.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=u[d])}ae.isEmpty(u)&&(c===void 0||this.isModelValueNotSet())&&ae.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),c!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||Ye(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&M.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((i,n,r)=>{i.push({optionGroup:n,group:!0,index:r});let o=this.getOptionGroupChildren(n);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,i,n=!0,r=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),r===!1&&this.onChange.emit({originalEvent:e,value:o})}n&&this.hide(!0)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}updateModel(e,i){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return ae.isEmpty(this.selectedOption)}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return ae.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let e=this.el.nativeElement.parentElement,i=e?.classList.contains("p-float-label");if(e&&i&&!this.selectedOption){let n=e.querySelector("label");n&&this._placeholder.set(n.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?ae.resolveFieldData(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?ae.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?ae.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?ae.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?ae.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let i=e.target.value;this.searchValue="",!this.searchOptions(e,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:i})},1),!this.overlayVisible&&ae.isNotEmpty(i)&&this.show()}show(e){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),e&&M.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=M.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&M.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&setTimeout(()=>{M.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{M.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(e){e.preventDefault()}onKeyDown(e,i){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&ae.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let n=this.visibleOptions()[i];this.onOptionSelect(e,n,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=M.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?ae.findLastIndex(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}findLastOptionIndex(){return ae.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,i=!1){if(e.altKey&&!i){if(this.focusedOptionIndex()!==-1){let n=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,n)}this.overlayVisible&&this.hide()}else{let n=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,i=!1){if(i){let n=e.currentTarget;e.shiftKey?n.setSelectionRange(0,n.value.length):(n.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,i=!1){if(i){let n=e.currentTarget;if(e.shiftKey)n.setSelectionRange(0,n.value.length);else{let r=n.value.length;n.setSelectionRange(r,r),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,i=!1){!this.editable&&!i&&this.onEnterKey(e)}onEnterKey(e,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let n=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,n)}!i&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())M.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let n=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,n)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;M.focus(i)}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;M.focus(i)}hasFocusableElements(){return M.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(e,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,r=!1;return this.focusedOptionIndex()!==-1?(n=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),n=n===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):n+this.focusedOptionIndex()):n=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),n!==-1&&(r=!0),n===-1&&this.focusedOptionIndex()===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let i=e.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?M.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():M.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(i){return new(i||s)(U(Ve),U(pt),U(Ue),U(nt),U(Dg),U(ht))};static \u0275cmp=$({type:s,selectors:[["p-dropdown"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(QS,5),ye(JS,5),ye(eT,5),ye(tT,5),ye(iT,5),ye(nT,5),ye(sT,5),ye(rT,5),ye(oT,5)),i&2){let r;ie(r=ne())&&(n.containerViewChild=r.first),ie(r=ne())&&(n.filterViewChild=r.first),ie(r=ne())&&(n.focusInputViewChild=r.first),ie(r=ne())&&(n.editableInputViewChild=r.first),ie(r=ne())&&(n.itemsViewChild=r.first),ie(r=ne())&&(n.scroller=r.first),ie(r=ne())&&(n.overlayViewChild=r.first),ie(r=ne())&&(n.firstHiddenFocusableElementOnOverlay=r.first),ie(r=ne())&&(n.lastHiddenFocusableElementOnOverlay=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,n){i&2&&xi("p-inputwrapper-filled",n.filled())("p-inputwrapper-focus",n.focused||n.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",B],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",B],required:[2,"required","required",B],editable:[2,"editable","editable",B],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",ge],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",B],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",B],checkmark:[2,"checkmark","checkmark",B],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",B],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",B],group:[2,"group","group",B],showClear:[2,"showClear","showClear",B],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",B],virtualScroll:[2,"virtualScroll","virtualScroll",B],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",ge],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",ge],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",B],selectOnFocus:[2,"selectOnFocus","selectOnFocus",B],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",B],autofocusFilter:[2,"autofocusFilter","autofocusFilter",B],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[Kt([uI]),Me],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,n){if(i&1){let r=Z();T(0,"div",15,0),z("click",function(a){return O(r),E(n.onContainerClick(a))}),S(2,fT,6,20,"span",16)(3,mT,2,8,"input",17)(4,bT,3,2,"ng-container",18),T(5,"div",19),z("mousedown",function(a){return O(r),E(n.onMouseDown(a))}),S(6,IT,3,2,"ng-container",20)(7,FT,2,2,"ng-template",null,1,It),I(),T(9,"p-overlay",21,2),Kf("visibleChange",function(a){return O(r),Xf(n.overlayVisible,a)||(n.overlayVisible=a),E(a)}),z("onAnimationStart",function(a){return O(r),E(n.onOverlayAnimationStart(a))})("onHide",function(){return O(r),E(n.hide())}),S(11,hI,13,18,"ng-template",22),I()()}if(i&2){let r,o=at(8);W(n.styleClass),f("ngClass",n.containerClass)("ngStyle",n.style),k("id",n.id),_(2),f("ngIf",!n.editable),_(),f("ngIf",n.editable),_(),f("ngIf",n.isVisibleClearIcon),_(),k("aria-expanded",(r=n.overlayVisible)!==null&&r!==void 0?r:!1)("data-pc-section","trigger"),_(),f("ngIf",n.loading)("ngIfElse",o),_(3),qf("visible",n.overlayVisible),f("options",n.overlayOptions)("target","@parent")("appendTo",n.appendTo)("autoZIndex",n.autoZIndex)("baseZIndex",n.baseZIndex)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}},dependencies:()=>[Le,ti,He,qe,Ne,Lu,Ge,Hl,Kg,mi,ut,Nr,Uu,dI],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return s})(),zu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Pu,Oe,zl,si,ju,Ui,ut,Nr,Uu,Bu,ai,Pu,Oe,ju]})}return s})();var fI=["*"],e0=s=>({class:s});function mI(s,t){s&1&&pe(0)}function gI(s,t){if(s&1&&P(0,"span",8),s&2){let e=v(3);f("ngClass",e.iconClass()),k("aria-hidden",!0)("data-pc-section","loadingicon")}}function _I(s,t){if(s&1&&P(0,"SpinnerIcon",9),s&2){let e=v(3);f("styleClass",e.spinnerIconClass())("spin",!0),k("aria-hidden",!0)("data-pc-section","loadingicon")}}function vI(s,t){if(s&1&&(ee(0),S(1,gI,1,3,"span",6)(2,_I,1,4,"SpinnerIcon",7),te()),s&2){let e=v(2);_(),f("ngIf",e.loadingIcon),_(),f("ngIf",!e.loadingIcon)}}function yI(s,t){}function bI(s,t){if(s&1&&S(0,yI,0,0,"ng-template",10),s&2){let e=v(2);f("ngIf",e.loadingIconTemplate)}}function CI(s,t){if(s&1&&(ee(0),S(1,vI,3,2,"ng-container",2)(2,bI,1,1,null,5),te()),s&2){let e=v();_(),f("ngIf",!e.loadingIconTemplate),_(),f("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",he(3,e0,e.iconClass()))}}function wI(s,t){if(s&1&&P(0,"span",8),s&2){let e=v(2);f("ngClass",e.iconClass()),k("data-pc-section","icon")}}function xI(s,t){}function SI(s,t){if(s&1&&S(0,xI,0,0,"ng-template",10),s&2){let e=v(2);f("ngIf",!e.icon&&e.iconTemplate)}}function TI(s,t){if(s&1&&(ee(0),S(1,wI,1,2,"span",6)(2,SI,1,1,null,5),te()),s&2){let e=v();_(),f("ngIf",e.icon&&!e.iconTemplate),_(),f("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",he(3,e0,e.iconClass()))}}function II(s,t){if(s&1&&(T(0,"span",11),fe(1),I()),s&2){let e=v();k("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),_(),We(e.label)}}function DI(s,t){if(s&1&&(T(0,"span",8),fe(1),I()),s&2){let e=v();W(e.badgeClass),f("ngClass",e.badgeStyleClass()),k("data-pc-section","badge"),_(),We(e.badge)}}var is={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},ns=(()=>{class s{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(is);constructor(e,i){this.el=e,this.document=i}ngAfterViewInit(){M.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e=[is.button,is.component];return this.icon&&!this.label&&ae.isEmpty(this.htmlElement.textContent)&&e.push(is.iconOnly),this.loading&&(e.push(is.disabled,is.loading),!this.icon&&this.label&&e.push(is.labelOnly),this.icon&&!this.label&&!ae.isEmpty(this.htmlElement.textContent)&&e.push(is.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),e}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!M.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!M.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let n=this.label?"p-button-icon-"+this.iconPos:null;n&&M.addClass(i,n);let r=this.getIconClass();r&&M.addMultipleClasses(i,r),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let e=M.findSingle(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=M.findSingle(this.htmlElement,".p-button-icon"),i=M.findSingle(this.htmlElement,".p-button-label");e?this.iconPos?e.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||s)(U(Ve),U(Re))};static \u0275dir=Dt({type:s,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",B],rounded:[2,"rounded","rounded",B],text:[2,"text","text",B],outlined:[2,"outlined","outlined",B],size:"size",plain:[2,"plain","plain",B]},standalone:!0,features:[Me]})}return s})(),Wu=(()=>{class s{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new G;onFocus=new G;onBlur=new G;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[i])=>e+` ${i}`,"p-button-loading-icon")}iconClass(){let e={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||s)(U(Ve))};static \u0275cmp=$({type:s,selectors:[["p-button"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,n){i&2&&xi("p-disabled",n.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",B],loading:[2,"loading","loading",B],loadingIcon:"loadingIcon",raised:[2,"raised","raised",B],rounded:[2,"rounded","rounded",B],text:[2,"text","text",B],plain:[2,"plain","plain",B],severity:"severity",outlined:[2,"outlined","outlined",B],link:[2,"link","link",B],tabindex:[2,"tabindex","tabindex",ge],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",B]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Me,_e],ngContentSelectors:fI,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,n){i&1&&(bt(),T(0,"button",0),z("click",function(o){return n.onClick.emit(o)})("focus",function(o){return n.onFocus.emit(o)})("blur",function(o){return n.onBlur.emit(o)}),ct(1),S(2,mI,1,0,"ng-container",1)(3,CI,3,5,"ng-container",2)(4,TI,3,5,"ng-container",2)(5,II,2,3,"span",3)(6,DI,2,5,"span",4),I()),i&2&&(f("ngStyle",n.style)("disabled",n.disabled||n.loading)("ngClass",n.buttonClass)("autofocus",n.autofocus),k("type",n.type)("aria-label",n.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",n.tabindex),_(2),f("ngTemplateOutlet",n.contentTemplate),_(),f("ngIf",n.loading),_(),f("ngIf",!n.loading),_(),f("ngIf",!n.contentTemplate&&n.label),_(),f("ngIf",!n.contentTemplate&&n.badge))},dependencies:[He,qe,Ne,Le,zt,mi,aa],encapsulation:2,changeDetection:0})}return s})(),Ki=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Wu,Oe]})}return s})();var jr=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Br=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["ChevronRightIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Yu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["ChevronUpIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Gu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["CalendarIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var OI=["container"],EI=["inputfield"],kI=["contentWrapper"],MI=[[["p-header"]],[["p-footer"]]],AI=["p-header","p-footer"],FI=(s,t,e,i,n)=>({"p-calendar":!0,"p-input-icon-right":s,"p-calendar-w-btn":t,"p-calendar-timeonly":e,"p-calendar-disabled":i,"p-focus":n}),VI=s=>({clickCallBack:s}),RI=s=>({"p-datepicker-icon":s}),LI=(s,t,e,i,n,r)=>({"p-datepicker p-component":!0,"p-datepicker-inline":s,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":n,"p-datepicker-touch-ui":r}),t0=(s,t)=>({showTransitionParams:s,hideTransitionParams:t}),PI=s=>({value:"visibleTouchUI",params:s}),NI=s=>({value:"visible",params:s}),$u=s=>({$implicit:s}),jI=(s,t)=>({"p-datepicker-other-month":s,"p-datepicker-today":t}),BI=(s,t)=>({"p-highlight p-datepicker-current-day":s,"p-disabled":t}),n0=(s,t)=>({"p-highlight":s,"p-disabled":t}),i0=s=>[s];function UI(s,t){if(s&1){let e=Z();T(0,"TimesIcon",11),z("click",function(){O(e);let n=v(3);return E(n.clear())}),I()}s&2&&f("styleClass","p-calendar-clear-icon")}function HI(s,t){}function zI(s,t){s&1&&S(0,HI,0,0,"ng-template")}function WI(s,t){if(s&1){let e=Z();T(0,"span",12),z("click",function(){O(e);let n=v(3);return E(n.clear())}),S(1,zI,1,0,null,13),I()}if(s&2){let e=v(3);_(),f("ngTemplateOutlet",e.clearIconTemplate)}}function YI(s,t){if(s&1&&(ee(0),S(1,UI,1,1,"TimesIcon",9)(2,WI,2,1,"span",10),te()),s&2){let e=v(2);_(),f("ngIf",!e.clearIconTemplate),_(),f("ngIf",e.clearIconTemplate)}}function GI(s,t){if(s&1&&P(0,"span",16),s&2){let e=v(3);f("ngClass",e.icon)}}function $I(s,t){s&1&&P(0,"CalendarIcon")}function qI(s,t){}function XI(s,t){s&1&&S(0,qI,0,0,"ng-template")}function KI(s,t){if(s&1&&(ee(0),S(1,$I,1,0,"CalendarIcon",7)(2,XI,1,0,null,13),te()),s&2){let e=v(3);_(),f("ngIf",!e.triggerIconTemplate),_(),f("ngTemplateOutlet",e.triggerIconTemplate)}}function ZI(s,t){if(s&1){let e=Z();T(0,"button",14),z("click",function(n){O(e),v();let r=at(1),o=v();return E(o.onButtonClick(n,r))}),S(1,GI,1,1,"span",15)(2,KI,3,2,"ng-container",7),I()}if(s&2){let e,i=v(2);f("disabled",i.disabled),k("aria-label",i.iconButtonAriaLabel)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.panelId:null),_(),f("ngIf",i.icon),_(),f("ngIf",!i.icon)}}function QI(s,t){if(s&1){let e=Z();T(0,"CalendarIcon",19),z("click",function(n){O(e);let r=v(3);return E(r.onButtonClick(n))}),I()}if(s&2){let e=v(3);f("ngClass",he(1,RI,e.showOnFocus))}}function JI(s,t){s&1&&pe(0)}function eD(s,t){if(s&1&&(ee(0),S(1,QI,1,3,"CalendarIcon",17)(2,JI,1,0,"ng-container",18),te()),s&2){let e=v(2);_(),f("ngIf",!e.inputIconTemplate),_(),f("ngTemplateOutlet",e.inputIconTemplate)("ngTemplateOutletContext",he(3,VI,e.onButtonClick.bind(e)))}}function tD(s,t){if(s&1){let e=Z();T(0,"input",6,1),z("focus",function(n){O(e);let r=v();return E(r.onInputFocus(n))})("keydown",function(n){O(e);let r=v();return E(r.onInputKeydown(n))})("click",function(){O(e);let n=v();return E(n.onInputClick())})("blur",function(n){O(e);let r=v();return E(r.onInputBlur(n))})("input",function(n){O(e);let r=v();return E(r.onUserInput(n))}),I(),S(2,YI,3,2,"ng-container",7)(3,ZI,3,6,"button",8)(4,eD,3,5,"ng-container",7)}if(s&2){let e,i=v();W(i.inputStyleClass),f("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass",i.inputClass)("autofocus",i.autofocus),k("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.panelId:null)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null),_(2),f("ngIf",i.showClear&&!i.disabled&&i.value!=null),_(),f("ngIf",i.showIcon&&i.iconDisplay==="button"),_(),f("ngIf",i.iconDisplay==="input"&&i.showIcon)}}function iD(s,t){s&1&&pe(0)}function nD(s,t){s&1&&P(0,"ChevronLeftIcon",40),s&2&&f("styleClass","p-datepicker-prev-icon")}function sD(s,t){}function rD(s,t){s&1&&S(0,sD,0,0,"ng-template")}function oD(s,t){if(s&1&&(T(0,"span",41),S(1,rD,1,0,null,13),I()),s&2){let e=v(5);_(),f("ngTemplateOutlet",e.previousIconTemplate)}}function aD(s,t){if(s&1){let e=Z();T(0,"button",38),z("keydown",function(n){O(e);let r=v(4);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(4);return E(r.onPrevButtonClick(n))}),S(1,nD,1,1,"ChevronLeftIcon",35)(2,oD,2,1,"span",39),I()}if(s&2){let e=v(4);k("aria-label",e.prevIconAriaLabel),_(),f("ngIf",!e.previousIconTemplate),_(),f("ngIf",e.previousIconTemplate)}}function lD(s,t){if(s&1){let e=Z();T(0,"button",42),z("click",function(n){O(e);let r=v(4);return E(r.switchToMonthView(n))})("keydown",function(n){O(e);let r=v(4);return E(r.onContainerButtonKeydown(n))}),fe(1),I()}if(s&2){let e=v().$implicit,i=v(3);f("disabled",i.switchViewButtonDisabled()),k("aria-label",i.getTranslation("chooseMonth")),_(),Xt(" ",i.getMonthName(e.month)," ")}}function cD(s,t){if(s&1){let e=Z();T(0,"button",43),z("click",function(n){O(e);let r=v(4);return E(r.switchToYearView(n))})("keydown",function(n){O(e);let r=v(4);return E(r.onContainerButtonKeydown(n))}),fe(1),I()}if(s&2){let e=v().$implicit,i=v(3);f("disabled",i.switchViewButtonDisabled()),k("aria-label",i.getTranslation("chooseYear")),_(),Xt(" ",i.getYear(e)," ")}}function hD(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(5);_(),Qa("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function uD(s,t){s&1&&pe(0)}function dD(s,t){if(s&1&&(T(0,"span",44),S(1,hD,2,2,"ng-container",7)(2,uD,1,0,"ng-container",18),I()),s&2){let e=v(4);_(),f("ngIf",!e.decadeTemplate),_(),f("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",he(3,$u,e.yearPickerValues))}}function pD(s,t){s&1&&P(0,"ChevronRightIcon",40),s&2&&f("styleClass","p-datepicker-next-icon")}function fD(s,t){}function mD(s,t){s&1&&S(0,fD,0,0,"ng-template")}function gD(s,t){if(s&1&&(T(0,"span",45),S(1,mD,1,0,null,13),I()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.nextIconTemplate)}}function _D(s,t){if(s&1&&(T(0,"th",51)(1,"span"),fe(2),I()()),s&2){let e=v(5);_(2),We(e.getTranslation("weekHeader"))}}function vD(s,t){if(s&1&&(T(0,"th",52)(1,"span"),fe(2),I()()),s&2){let e=t.$implicit;_(2),We(e)}}function yD(s,t){if(s&1&&(T(0,"td",55)(1,"span",56),fe(2),I()()),s&2){let e=v().index,i=v(2).$implicit;_(2),Xt(" ",i.weekNumbers[e]," ")}}function bD(s,t){if(s&1&&(ee(0),fe(1),te()),s&2){let e=v(2).$implicit;_(),We(e.day)}}function CD(s,t){s&1&&pe(0)}function wD(s,t){if(s&1&&(ee(0),S(1,CD,1,0,"ng-container",18),te()),s&2){let e=v(2).$implicit,i=v(6);_(),f("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",he(2,$u,e))}}function xD(s,t){s&1&&pe(0)}function SD(s,t){if(s&1&&(ee(0),S(1,xD,1,0,"ng-container",18),te()),s&2){let e=v(2).$implicit,i=v(6);_(),f("ngTemplateOutlet",i.disabledDateTemplate)("ngTemplateOutletContext",he(2,$u,e))}}function TD(s,t){if(s&1&&(T(0,"div",59),fe(1),I()),s&2){let e=v(2).$implicit;_(),Xt(" ",e.day," ")}}function ID(s,t){if(s&1){let e=Z();ee(0),T(1,"span",57),z("click",function(n){O(e);let r=v().$implicit,o=v(6);return E(o.onDateSelect(n,r))})("keydown",function(n){O(e);let r=v().$implicit,o=v(3).index,a=v(3);return E(a.onDateCellKeydown(n,r,o))}),S(2,bD,2,1,"ng-container",7)(3,wD,2,4,"ng-container",7)(4,SD,2,4,"ng-container",7),I(),S(5,TD,2,1,"div",58),te()}if(s&2){let e=v().$implicit,i=v(6);_(),f("ngClass",Pe(6,BI,i.isSelected(e)&&e.selectable,!e.selectable)),k("data-date",i.formatDateKey(i.formatDateMetaToDate(e))),_(),f("ngIf",!i.dateTemplate&&(e.selectable||!i.disabledDateTemplate)),_(),f("ngIf",e.selectable||!i.disabledDateTemplate),_(),f("ngIf",!e.selectable),_(),f("ngIf",i.isSelected(e))}}function DD(s,t){if(s&1&&(T(0,"td",16),S(1,ID,6,9,"ng-container",7),I()),s&2){let e=t.$implicit,i=v(6);f("ngClass",Pe(3,jI,e.otherMonth,e.today)),k("aria-label",e.day),_(),f("ngIf",e.otherMonth?i.showOtherMonths:!0)}}function OD(s,t){if(s&1&&(T(0,"tr"),S(1,yD,3,1,"td",53)(2,DD,2,6,"td",54),I()),s&2){let e=t.$implicit,i=v(5);_(),f("ngIf",i.showWeek),_(),f("ngForOf",e)}}function ED(s,t){if(s&1&&(T(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),S(4,_D,3,1,"th",48)(5,vD,3,1,"th",49),I()(),T(6,"tbody"),S(7,OD,3,2,"tr",50),I()()()),s&2){let e=v().$implicit,i=v(3);_(4),f("ngIf",i.showWeek),_(),f("ngForOf",i.weekDays),_(2),f("ngForOf",e.dates)}}function kD(s,t){if(s&1){let e=Z();T(0,"div",27)(1,"div",28),S(2,aD,3,3,"button",29),T(3,"div",30),S(4,lD,2,3,"button",31)(5,cD,2,3,"button",32)(6,dD,3,5,"span",33),I(),T(7,"button",34),z("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(3);return E(r.onNextButtonClick(n))}),S(8,pD,1,1,"ChevronRightIcon",35)(9,gD,2,1,"span",36),I()(),S(10,ED,8,3,"div",37),I()}if(s&2){let e=t.index,i=v(3);_(2),f("ngIf",e===0),_(2),f("ngIf",i.currentView==="date"),_(),f("ngIf",i.currentView!=="year"),_(),f("ngIf",i.currentView==="year"),_(),$n("display",i.numberOfMonths===1||e===i.numberOfMonths-1?"inline-flex":"none"),k("aria-label",i.nextIconAriaLabel),_(),f("ngIf",!i.nextIconTemplate),_(),f("ngIf",i.nextIconTemplate),_(),f("ngIf",i.currentView==="date")}}function MD(s,t){if(s&1&&(T(0,"div",59),fe(1),I()),s&2){let e=v().$implicit;_(),Xt(" ",e," ")}}function AD(s,t){if(s&1){let e=Z();T(0,"span",62),z("click",function(n){let r=O(e).index,o=v(4);return E(o.onMonthSelect(n,r))})("keydown",function(n){let r=O(e).index,o=v(4);return E(o.onMonthCellKeydown(n,r))}),fe(1),S(2,MD,2,1,"div",58),I()}if(s&2){let e=t.$implicit,i=t.index,n=v(4);f("ngClass",Pe(3,n0,n.isMonthSelected(i),n.isMonthDisabled(i))),_(),Xt(" ",e," "),_(),f("ngIf",n.isMonthSelected(i))}}function FD(s,t){if(s&1&&(T(0,"div",60),S(1,AD,3,6,"span",61),I()),s&2){let e=v(3);_(),f("ngForOf",e.monthPickerValues())}}function VD(s,t){if(s&1&&(T(0,"div",59),fe(1),I()),s&2){let e=v().$implicit;_(),Xt(" ",e," ")}}function RD(s,t){if(s&1){let e=Z();T(0,"span",65),z("click",function(n){let r=O(e).$implicit,o=v(4);return E(o.onYearSelect(n,r))})("keydown",function(n){let r=O(e).$implicit,o=v(4);return E(o.onYearCellKeydown(n,r))}),fe(1),S(2,VD,2,1,"div",58),I()}if(s&2){let e=t.$implicit,i=v(4);f("ngClass",Pe(3,n0,i.isYearSelected(e),i.isYearDisabled(e))),_(),Xt(" ",e," "),_(),f("ngIf",i.isYearSelected(e))}}function LD(s,t){if(s&1&&(T(0,"div",63),S(1,RD,3,6,"span",64),I()),s&2){let e=v(3);_(),f("ngForOf",e.yearPickerValues())}}function PD(s,t){if(s&1&&(ee(0),T(1,"div",23),S(2,kD,11,10,"div",24),I(),S(3,FD,2,1,"div",25)(4,LD,2,1,"div",26),te()),s&2){let e=v(2);_(2),f("ngForOf",e.months),_(),f("ngIf",e.currentView==="month"),_(),f("ngIf",e.currentView==="year")}}function ND(s,t){s&1&&P(0,"ChevronUpIcon")}function jD(s,t){}function BD(s,t){s&1&&S(0,jD,0,0,"ng-template")}function UD(s,t){s&1&&(ee(0),fe(1,"0"),te())}function HD(s,t){s&1&&P(0,"ChevronDownIcon")}function zD(s,t){}function WD(s,t){s&1&&S(0,zD,0,0,"ng-template")}function YD(s,t){s&1&&P(0,"ChevronUpIcon")}function GD(s,t){}function $D(s,t){s&1&&S(0,GD,0,0,"ng-template")}function qD(s,t){s&1&&(ee(0),fe(1,"0"),te())}function XD(s,t){s&1&&P(0,"ChevronDownIcon")}function KD(s,t){}function ZD(s,t){s&1&&S(0,KD,0,0,"ng-template")}function QD(s,t){if(s&1&&(T(0,"div",69)(1,"span"),fe(2),I()()),s&2){let e=v(3);_(2),We(e.timeSeparator)}}function JD(s,t){s&1&&P(0,"ChevronUpIcon")}function eO(s,t){}function tO(s,t){s&1&&S(0,eO,0,0,"ng-template")}function iO(s,t){s&1&&(ee(0),fe(1,"0"),te())}function nO(s,t){s&1&&P(0,"ChevronDownIcon")}function sO(s,t){}function rO(s,t){s&1&&S(0,sO,0,0,"ng-template")}function oO(s,t){if(s&1){let e=Z();T(0,"div",74)(1,"button",68),z("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(3);return E(r.incrementSecond(n))})("keydown.space",function(n){O(e);let r=v(3);return E(r.incrementSecond(n))})("mousedown",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseDown(n,2,1))})("mouseup",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(3);return E(n.onTimePickerElementMouseLeave())}),S(2,JD,1,0,"ChevronUpIcon",7)(3,tO,1,0,null,13),I(),T(4,"span"),S(5,iO,2,0,"ng-container",7),fe(6),I(),T(7,"button",68),z("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(3);return E(r.decrementSecond(n))})("keydown.space",function(n){O(e);let r=v(3);return E(r.decrementSecond(n))})("mousedown",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseDown(n,2,-1))})("mouseup",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(3);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(3);return E(n.onTimePickerElementMouseLeave())}),S(8,nO,1,0,"ChevronDownIcon",7)(9,rO,1,0,null,13),I()()}if(s&2){let e=v(3);_(),k("aria-label",e.getTranslation("nextSecond")),_(),f("ngIf",!e.incrementIconTemplate),_(),f("ngTemplateOutlet",e.incrementIconTemplate),_(2),f("ngIf",e.currentSecond<10),_(),We(e.currentSecond),_(),k("aria-label",e.getTranslation("prevSecond")),_(),f("ngIf",!e.decrementIconTemplate),_(),f("ngTemplateOutlet",e.decrementIconTemplate)}}function aO(s,t){s&1&&P(0,"ChevronUpIcon")}function lO(s,t){}function cO(s,t){s&1&&S(0,lO,0,0,"ng-template")}function hO(s,t){s&1&&P(0,"ChevronDownIcon")}function uO(s,t){}function dO(s,t){s&1&&S(0,uO,0,0,"ng-template")}function pO(s,t){if(s&1){let e=Z();T(0,"div",75)(1,"button",76),z("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(3);return E(r.toggleAMPM(n))})("keydown.enter",function(n){O(e);let r=v(3);return E(r.toggleAMPM(n))}),S(2,aO,1,0,"ChevronUpIcon",7)(3,cO,1,0,null,13),I(),T(4,"span"),fe(5),I(),T(6,"button",76),z("keydown",function(n){O(e);let r=v(3);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(3);return E(r.toggleAMPM(n))})("keydown.enter",function(n){O(e);let r=v(3);return E(r.toggleAMPM(n))}),S(7,hO,1,0,"ChevronDownIcon",7)(8,dO,1,0,null,13),I()()}if(s&2){let e=v(3);_(),k("aria-label",e.getTranslation("am")),_(),f("ngIf",!e.incrementIconTemplate),_(),f("ngTemplateOutlet",e.incrementIconTemplate),_(2),We(e.pm?"PM":"AM"),_(),k("aria-label",e.getTranslation("pm")),_(),f("ngIf",!e.decrementIconTemplate),_(),f("ngTemplateOutlet",e.decrementIconTemplate)}}function fO(s,t){if(s&1){let e=Z();T(0,"div",66)(1,"div",67)(2,"button",68),z("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.incrementHour(n))})("keydown.space",function(n){O(e);let r=v(2);return E(r.incrementHour(n))})("mousedown",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseDown(n,0,1))})("mouseup",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(2);return E(n.onTimePickerElementMouseLeave())}),S(3,ND,1,0,"ChevronUpIcon",7)(4,BD,1,0,null,13),I(),T(5,"span"),S(6,UD,2,0,"ng-container",7),fe(7),I(),T(8,"button",68),z("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.decrementHour(n))})("keydown.space",function(n){O(e);let r=v(2);return E(r.decrementHour(n))})("mousedown",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseDown(n,0,-1))})("mouseup",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(2);return E(n.onTimePickerElementMouseLeave())}),S(9,HD,1,0,"ChevronDownIcon",7)(10,WD,1,0,null,13),I()(),T(11,"div",69)(12,"span"),fe(13),I()(),T(14,"div",70)(15,"button",68),z("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.incrementMinute(n))})("keydown.space",function(n){O(e);let r=v(2);return E(r.incrementMinute(n))})("mousedown",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseDown(n,1,1))})("mouseup",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(2);return E(n.onTimePickerElementMouseLeave())}),S(16,YD,1,0,"ChevronUpIcon",7)(17,$D,1,0,null,13),I(),T(18,"span"),S(19,qD,2,0,"ng-container",7),fe(20),I(),T(21,"button",68),z("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.decrementMinute(n))})("keydown.space",function(n){O(e);let r=v(2);return E(r.decrementMinute(n))})("mousedown",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseDown(n,1,-1))})("mouseup",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.enter",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("keyup.space",function(n){O(e);let r=v(2);return E(r.onTimePickerElementMouseUp(n))})("mouseleave",function(){O(e);let n=v(2);return E(n.onTimePickerElementMouseLeave())}),S(22,XD,1,0,"ChevronDownIcon",7)(23,ZD,1,0,null,13),I()(),S(24,QD,3,1,"div",71)(25,oO,10,8,"div",72)(26,pO,9,7,"div",73),I()}if(s&2){let e=v(2);_(2),k("aria-label",e.getTranslation("nextHour")),_(),f("ngIf",!e.incrementIconTemplate),_(),f("ngTemplateOutlet",e.incrementIconTemplate),_(2),f("ngIf",e.currentHour<10),_(),We(e.currentHour),_(),k("aria-label",e.getTranslation("prevHour")),_(),f("ngIf",!e.decrementIconTemplate),_(),f("ngTemplateOutlet",e.decrementIconTemplate),_(3),We(e.timeSeparator),_(2),k("aria-label",e.getTranslation("nextMinute")),_(),f("ngIf",!e.incrementIconTemplate),_(),f("ngTemplateOutlet",e.incrementIconTemplate),_(2),f("ngIf",e.currentMinute<10),_(),We(e.currentMinute),_(),k("aria-label",e.getTranslation("prevMinute")),_(),f("ngIf",!e.decrementIconTemplate),_(),f("ngTemplateOutlet",e.decrementIconTemplate),_(),f("ngIf",e.showSeconds),_(),f("ngIf",e.showSeconds),_(),f("ngIf",e.hourFormat=="12")}}function mO(s,t){if(s&1){let e=Z();T(0,"div",77)(1,"button",78),z("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(2);return E(r.onTodayButtonClick(n))}),I(),T(2,"button",78),z("keydown",function(n){O(e);let r=v(2);return E(r.onContainerButtonKeydown(n))})("click",function(n){O(e);let r=v(2);return E(r.onClearButtonClick(n))}),I()()}if(s&2){let e=v(2);_(),f("label",e.getTranslation("today"))("ngClass",he(4,i0,e.todayButtonStyleClass)),_(),f("label",e.getTranslation("clear"))("ngClass",he(6,i0,e.clearButtonStyleClass))}}function gO(s,t){s&1&&pe(0)}function _O(s,t){if(s&1){let e=Z();T(0,"div",20,2),z("@overlayAnimation.start",function(n){O(e);let r=v();return E(r.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){O(e);let r=v();return E(r.onOverlayAnimationDone(n))})("click",function(n){O(e);let r=v();return E(r.onOverlayClick(n))}),ct(2),S(3,iD,1,0,"ng-container",13)(4,PD,5,3,"ng-container",7)(5,fO,27,20,"div",21)(6,mO,3,8,"div",22),ct(7,1),S(8,gO,1,0,"ng-container",13),I()}if(s&2){let e=v();W(e.panelStyleClass),f("ngStyle",e.panelStyle)("ngClass",Zf(15,LI,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,e.view==="month",e.touchUI))("@overlayAnimation",e.touchUI?he(25,PI,Pe(22,t0,e.showTransitionOptions,e.hideTransitionOptions)):he(30,NI,Pe(27,t0,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),k("id",e.panelId)("aria-label",e.getTranslation("chooseDate"))("role",e.inline?null:"dialog")("aria-modal",e.inline?null:"true"),_(3),f("ngTemplateOutlet",e.headerTemplate),_(),f("ngIf",!e.timeOnly),_(),f("ngIf",(e.showTime||e.timeOnly)&&e.currentView==="date"),_(),f("ngIf",e.showButtonBar),_(2),f("ngTemplateOutlet",e.footerTemplate)}}var vO={provide:ni,useExisting:Bt(()=>yO),multi:!0},yO=(()=>{class s{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(e){this._minDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){let i=e.split(":"),n=parseInt(i[0]),r=parseInt(i[1]);this.populateYearOptions(n,r)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){let i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new G;onBlur=new G;onClose=new G;onSelect=new G;onClear=new G;onInput=new G;onTodayClick=new G;onClearClick=new G;onMonthChange=new G;onYearChange=new G;onClickOutside=new G;onShow=new G;templates;containerViewChild;inputfieldViewChild;set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(e,i,n,r,o,a,c){this.document=e,this.el=i,this.renderer=n,this.cd=r,this.zone=o,this.config=a,this.overlayService=c,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=Ye(),this.panelId=this.attributeSelector+"_panel";let e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"inputicon":this.inputIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"triggericon":this.triggerIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"decrementicon":this.decrementIconTemplate=e.template;break;case"incrementicon":this.incrementIconTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=M.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let n=e;n<=i;n++)this.yearOptions.push(n)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(_t.DAY_NAMES_MIN);for(let n=0;n<7;n++)this.weekDays.push(i[e]),e=e==6?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%this.stepYearPicker;for(let n=0;n<this.stepYearPicker;n++)e.push(i+n);return e}createMonths(e,i){this.months=this.months=[];for(let n=0;n<this.numberOfMonths;n++){let r=e+n,o=i;r>11&&(r=r%11-1,o=i+1),this.months.push(this.createMonth(r,o))}}getWeekNumber(e){let i=new Date(e.getTime());if(this.startWeekFromFirstDayOfYear){let r=+this.getFirstDateOfWeek();i.setDate(i.getDate()+6+r-i.getDay())}else i.setDate(i.getDate()+4-(i.getDay()||7));let n=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((n-i.getTime())/864e5)/7)+1}createMonth(e,i){let n=[],r=this.getFirstDayOfMonthIndex(e,i),o=this.getDaysCountInMonth(e,i),a=this.getDaysCountInPrevMonth(e,i),c=1,u=new Date,d=[],g=Math.ceil((o+r)/7);for(let y=0;y<g;y++){let b=[];if(y==0){for(let x=a-r+1;x<=a;x++){let D=this.getPreviousMonthAndYear(e,i);b.push({day:x,month:D.month,year:D.year,otherMonth:!0,today:this.isToday(u,x,D.month,D.year),selectable:this.isSelectable(x,D.month,D.year,!0)})}let w=7-b.length;for(let x=0;x<w;x++)b.push({day:c,month:e,year:i,today:this.isToday(u,c,e,i),selectable:this.isSelectable(c,e,i,!1)}),c++}else for(let w=0;w<7;w++){if(c>o){let x=this.getNextMonthAndYear(e,i);b.push({day:c-o,month:x.month,year:x.year,otherMonth:!0,today:this.isToday(u,c-o,x.month,x.year),selectable:this.isSelectable(c-o,x.month,x.year,!0)})}else b.push({day:c,month:e,year:i,today:this.isToday(u,c,e,i),selectable:this.isSelectable(c,e,i,!1)});c++}this.showWeek&&d.push(this.getWeekNumber(new Date(b[0].year,b[0].month,b[0].day))),n.push(b)}return{month:e,year:i,dates:n,weekNumbers:d}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear<e[0]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]-i,e[e.length-1]-i)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear>e[e.length-1]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]+i,e[e.length-1]+i)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){if(this.disabled||!i.selectable){e.preventDefault();return}this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((n,r)=>!this.isDateEquals(n,i)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()}shouldSelectDate(e){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(e,i){this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){this.view==="year"?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value){if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++){let n=this.formatDateTime(this.value[i]);e+=n,i!==this.value.length-1&&(e+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[0],n=this.value[1];e=this.formatDateTime(i),n&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(n))}}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null,n=this.isValidDateForTimeConstraints(e);return this.isValidDate(e)?this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e))):this.dataType==="string"&&(i=e),i=n?i:"",i}formatDateMetaToDate(e){return new Date(e.year,e.month,e.day)}formatDateKey(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}setCurrentHourPM(e){this.hourFormat=="12"?(this.pm=e>11,e>=12?this.currentHour=e==12?12:e-12:this.currentHour=e==0?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=this.formatDateMetaToDate(e);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let n=this.value[0],r=this.value[1];!r&&i.getTime()>=n.getTime()?r=i:(n=i,r=null),this.updateModel([n,r])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(n=>this.formatDateTime(n))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let n=new Date;n.setDate(1),n.setMonth(e),n.setFullYear(i);let r=n.getDay()+this.getSundayIndex();return r>=7?r-7:r}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let n=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(n.month,n.year)}getPreviousMonthAndYear(e,i){let n,r;return e===0?(n=11,r=i-1):(n=e-1,r=i),{month:n,year:r}}getNextMonthAndYear(e,i){let n,r;return e===11?(n=0,r=i+1):(n=e+1,r=i),{month:n,year:r}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let n of this.value)if(i=this.isDateEquals(n,e),i)break;return i}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){let[i,n]=this.isRangeSelection()?this.value:[this.value,this.value],r=new Date(this.currentYear,e,1);return r>=i&&r<=(n??i)}return!1}isMonthDisabled(e,i){let n=i??this.currentYear;for(let r=1;r<this.getDaysCountInMonth(e,n)+1;r++)if(this.isSelectable(r,e,n,!1))return!1;return!0}isYearDisabled(e){return Array(12).fill(0).every((i,n)=>this.isMonthDisabled(n,e))}isYearSelected(e){if(!this.isComparable()||this.isMultipleSelection())return!1;let i=this.isRangeSelection()?this.value[0]:this.value;return i?i.getFullYear()===e:!1}isDateEquals(e,i){return e&&ae.isDate(e)?e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year:!1}isDateBetween(e,i,n){let r=!1;if(ae.isDate(e)&&ae.isDate(i)){let o=this.formatDateMetaToDate(n);return e.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return r}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(e,i,n,r){return e.getDate()===i&&e.getMonth()===n&&e.getFullYear()===r}isSelectable(e,i,n,r){let o=!0,a=!0,c=!0,u=!0;return r&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>n||this.minDate.getFullYear()===n&&this.currentView!="year"&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<n||this.maxDate.getFullYear()===n&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(a=!1),this.disabledDates&&(c=!this.isDateDisabled(e,i,n)),this.disabledDays&&(u=!this.isDayDisabled(e,i,n)),o&&a&&c&&u)}isDateDisabled(e,i,n){if(this.disabledDates){for(let r of this.disabledDates)if(r.getFullYear()===n&&r.getMonth()===i&&r.getDate()===e)return!0}return!1}isDayDisabled(e,i,n){if(this.disabledDays){let o=new Date(n,i,e).getDay();return this.disabledDays.indexOf(o)!==-1}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return this.currentView==="month"?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){let i=M.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),n=e.target;if(this.timeOnly)return;n==i.children[i?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;default:break}}onInputKeydown(e){this.isKeydown=!0,e.keyCode===40&&this.contentViewChild?this.trapFocus(e):e.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):e.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):e.keyCode===9&&this.contentViewChild&&(M.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,n){let r=e.currentTarget,o=r.parentElement,a=this.formatDateMetaToDate(i);switch(e.which){case 40:{r.tabIndex="-1";let w=M.index(o),x=o.parentElement.nextElementSibling;if(x){let D=x.children[w].children[0];M.hasClass(D,"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(x.children[w].children[0].tabIndex="0",x.children[w].children[0].focus())}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case 38:{r.tabIndex="-1";let w=M.index(o),x=o.parentElement.previousElementSibling;if(x){let D=x.children[w].children[0];M.hasClass(D,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(D.tabIndex="0",D.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{r.tabIndex="-1";let w=o.previousElementSibling;if(w){let x=w.children[0];M.hasClass(x,"p-disabled")||M.hasClass(x.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,n):(x.tabIndex="0",x.focus())}else this.navigateToMonth(!0,n);e.preventDefault();break}case 39:{r.tabIndex="-1";let w=o.nextElementSibling;if(w){let x=w.children[0];M.hasClass(x,"p-disabled")?this.navigateToMonth(!1,n):(x.tabIndex="0",x.focus())}else this.navigateToMonth(!1,n);e.preventDefault();break}case 13:case 32:{this.onDateSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}case 33:{r.tabIndex="-1";let w=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),x=this.formatDateKey(w);this.navigateToMonth(!0,n,`span[data-date='${x}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 34:{r.tabIndex="-1";let w=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),x=this.formatDateKey(w);this.navigateToMonth(!1,n,`span[data-date='${x}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 36:r.tabIndex="-1";let c=new Date(a.getFullYear(),a.getMonth(),1),u=this.formatDateKey(c),d=M.findSingle(r.offsetParent,`span[data-date='${u}']:not(.p-disabled):not(.p-ink)`);d&&(d.tabIndex="0",d.focus()),e.preventDefault();break;case 35:r.tabIndex="-1";let g=new Date(a.getFullYear(),a.getMonth()+1,0),y=this.formatDateKey(g),b=M.findSingle(r.offsetParent,`span[data-date='${y}']:not(.p-disabled):not(.p-ink)`);g&&(b.tabIndex="0",b.focus()),e.preventDefault();break;default:break}}onMonthCellKeydown(e,i){let n=e.currentTarget;switch(e.which){case 38:case 40:{n.tabIndex="-1";var r=n.parentElement.children,o=M.index(n);let a=r[e.which===40?o+3:o-3];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{n.tabIndex="-1";let a=n.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{n.tabIndex="-1";let a=n.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onMonthSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}default:break}}onYearCellKeydown(e,i){let n=e.currentTarget;switch(e.which){case 38:case 40:{n.tabIndex="-1";var r=n.parentElement.children,o=M.index(n);let a=r[e.which===40?o+2:o-2];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{n.tabIndex="-1";let a=n.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{n.tabIndex="-1";let a=n.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onYearSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.trapFocus(e);break}default:break}}navigateToMonth(e,i,n){if(e)if(this.numberOfMonths===1||i===0)this.navigationState={backward:!0},this._focusKey=n,this.navBackward(event);else{let r=this.contentViewChild.nativeElement.children[i-1];if(n){let o=M.findSingle(r,n);o.tabIndex="0",o.focus()}else{let o=M.find(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=o[o.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||i===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=n,this.navForward(event);else{let r=this.contentViewChild.nativeElement.children[i+1];if(n){let o=M.findSingle(r,n);o.tabIndex="0",o.focus()}else{let o=M.findSingle(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?M.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():M.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;this.currentView==="month"?i=M.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=M.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=M.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else this.currentView==="month"?e=M.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?e=M.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):e=M.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let e=this.contentViewChild?.nativeElement,i;if(this.currentView==="month"){let n=M.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=M.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");n.forEach(o=>o.tabIndex=-1),i=r||n[0],n.length===0&&M.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let n=M.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=M.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");n.forEach(o=>o.tabIndex=-1),i=r||n[0],n.length===0&&M.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(i=M.findSingle(e,"span.p-highlight"),!i){let n=M.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");n?i=n:i=M.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=M.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(!i[0].ownerDocument.activeElement)i[0].focus();else{let n=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(n==-1||n===0)if(this.focusTrap)i[i.length-1].focus();else{if(n===-1)return this.hideOverlay();if(n===0)return}else i[n-1].focus();else if(n==-1)if(this.timeOnly)i[0].focus();else{let r=0;for(let o=0;o<i.length;o++)i[o].tagName==="SPAN"&&(r=o);i[r].focus()}else if(n===i.length-1){if(!this.focusTrap&&n!=-1)return this.hideOverlay();i[0].focus()}else i[n+1].focus()}e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(e,i){return this.hourFormat=="12"?e===12?i?12:0:i?e+12:e:e}constrainTime(e,i,n,r){let o=[e,i,n],a,c=this.value,u=this.convertTo24Hour(e,r),d=this.isRangeSelection(),g=this.isMultipleSelection();(d||g)&&(this.value||(this.value=[new Date,new Date]),d&&(c=this.value[1]||this.value[0]),g&&(c=this.value[this.value.length-1]));let b=c?c.toDateString():null,w=this.minDate&&b&&this.minDate.toDateString()===b,x=this.maxDate&&b&&this.maxDate.toDateString()===b;switch(w&&(a=this.minDate.getHours()>=12),!0){case(w&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>u):o[0]=11;case(w&&this.minDate.getHours()===u&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===u&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(w&&!a&&this.minDate.getHours()-1===u&&this.minDate.getHours()>u):o[0]=11,this.pm=!0;case(w&&this.minDate.getHours()===u&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===u&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(w&&a&&this.minDate.getHours()>u&&u!==12):this.setCurrentHourPM(this.minDate.getHours()),o[0]=this.currentHour;case(w&&this.minDate.getHours()===u&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===u&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(w&&this.minDate.getHours()>u):o[0]=this.minDate.getHours();case(w&&this.minDate.getHours()===u&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===u&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>n):o[2]=this.minDate.getSeconds();break;case(x&&this.maxDate.getHours()<u):o[0]=this.maxDate.getHours();case(x&&this.maxDate.getHours()===u&&this.maxDate.getMinutes()<i):o[1]=this.maxDate.getMinutes();case(x&&this.maxDate.getHours()===u&&this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<n):o[2]=this.maxDate.getSeconds();break}return o}incrementHour(e){let i=this.currentHour??0,n=(this.currentHour??0)+this.stepHour,r=this.pm;this.hourFormat=="24"?n=n>=24?n-24:n:this.hourFormat=="12"&&(i<12&&n>11&&(r=!this.pm),n=n>=13?n-12:n),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(n,this.currentMinute,this.currentSecond,r),e.preventDefault()}toggleAMPMIfNotMinDate(e){let i=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(i)&&i.length>0&&(i=i[i.length-1]);let n=i?i.toDateString():null;this.minDate&&n&&this.minDate.toDateString()===n&&this.minDate.getHours()>=12?this.pm=!0:this.pm=e}onTimePickerElementMouseDown(e,i,n){this.disabled||(this.repeat(e,null,i,n),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,n,r){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,n,r),this.cd.markForCheck()},o),n){case 0:r===1?this.incrementHour(e):this.decrementHour(e);break;case 1:r===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:r===1?this.incrementSecond(e):this.decrementSecond(e);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=(this.currentHour??0)-this.stepHour,n=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(n=!this.pm),i=i<=0?12+i:i),this.toggleAMPMIfNotMinDate(n),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(i,this.currentMinute,this.currentSecond,n),e.preventDefault()}incrementMinute(e){let i=(this.currentMinute??0)+this.stepMinute;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),e.preventDefault()}decrementMinute(e){let i=(this.currentMinute??0)-this.stepMinute;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?e.setHours(this.pm?12:0):e.setHours(this.pm?this.currentHour+12:this.currentHour):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?e=[this.value[0],e]:e=[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){let i=!this.pm;this.pm=i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,i),this.updateTime(),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let n=this.parseValueFromString(i);this.isValidSelection(n)?(this.updateModel(n),this.updateUI()):this.keepInvalid&&this.updateModel(n)}catch{let r=this.keepInvalid?i:null;this.updateModel(r)}this.filled=i!=null&&i.length,this.onInput.emit(e)}isValidSelection(e){if(this.isSingleSelection())return this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1);let i=e.every(n=>this.isSelectable(n.getDate(),n.getMonth(),n.getFullYear(),!1));return i&&this.isRangeSelection()&&(i=e.length===1||e.length>1&&e[1]>=e[0]),i}parseValueFromString(e){if(!e||e.trim().length===0)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let n=e.split(this.multipleSeparator);i=[];for(let r of n)i.push(this.parseDateTime(r.trim()))}else if(this.isRangeSelection()){let n=e.split(" "+this.rangeSeparator+" ");i=[];for(let r=0;r<n.length;r++)i[r]=this.parseDateTime(n[r].trim())}return i}parseDateTime(e){let i,n=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,n[0],n[1]);else{let r=this.getDateFormat();if(this.showTime){let o=this.hourFormat=="12"?n.pop():null,a=n.pop();i=this.parseDate(n.join(" "),r),this.populateTime(i,a,o)}else i=this.parseDate(e,r)}return i}populateTime(e,i,n){if(this.hourFormat=="12"&&!n)throw"Invalid Time";this.pm=n==="PM"||n==="pm";let r=this.parseTime(i);e.setHours(r.hour),e.setMinutes(r.minute),e.setSeconds(r.second)}isValidDate(e){return ae.isDate(e)&&ae.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[1]||e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?wt.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):wt.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e);break}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&wt.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):M.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=M.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=M.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=M.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),M.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):M.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),M.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",n=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),M.blockBodyScroll())}disableModality(){this.mask&&(M.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let e=this.document.body.children,i;for(let n=0;n<e.length;n++){let r=e[n];if(M.hasClass(r,"p-datepicker-mask-scrollblocker")){i=!0;break}}i||M.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(_t.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let n,r=d=>{let g=n+1<i.length&&i.charAt(n+1)===d;return g&&n++,g},o=(d,g,y)=>{let b=""+g;if(r(d))for(;b.length<y;)b="0"+b;return b},a=(d,g,y,b)=>r(d)?b[g]:y[g],c="",u=!1;if(e)for(n=0;n<i.length;n++)if(u)i.charAt(n)==="'"&&!r("'")?u=!1:c+=i.charAt(n);else switch(i.charAt(n)){case"d":c+=o("d",e.getDate(),2);break;case"D":c+=a("D",e.getDay(),this.getTranslation(_t.DAY_NAMES_SHORT),this.getTranslation(_t.DAY_NAMES));break;case"o":c+=o("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=o("m",e.getMonth()+1,2);break;case"M":c+=a("M",e.getMonth(),this.getTranslation(_t.MONTH_NAMES_SHORT),this.getTranslation(_t.MONTH_NAMES));break;case"y":c+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=e.getTime()*1e4+this.ticksTo1970;break;case"'":r("'")?c+="'":u=!0;break;default:c+=i.charAt(n)}return c}formatTime(e){if(!e)return"";let i="",n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return this.hourFormat=="12"&&n>11&&n!=12&&(n-=12),this.hourFormat=="12"?i+=n===0?12:n<10?"0"+n:n:i+=n<10?"0"+n:n,i+=":",i+=r<10?"0"+r:r,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),this.hourFormat=="12"&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":"),n=this.showSeconds?3:2;if(i.length!==n)throw"Invalid time";let r=parseInt(i[0]),o=parseInt(i[1]),a=this.showSeconds?parseInt(i[2]):null;if(isNaN(r)||isNaN(o)||r>23||o>59||this.hourFormat=="12"&&r>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(r!==12&&this.pm?r+=12:!this.pm&&r===12&&(r-=12)),{hour:r,minute:o,second:a}}parseDate(e,i){if(i==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e.toString():e+"",e==="")return null;let n,r,o,a=0,c=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),u=-1,d=-1,g=-1,y=-1,b=!1,w,x=N=>{let Y=n+1<i.length&&i.charAt(n+1)===N;return Y&&n++,Y},D=N=>{let Y=x(N),q=N==="@"?14:N==="!"?20:N==="y"&&Y?4:N==="o"?3:2,Q=N==="y"?q:1,ve=new RegExp("^\\d{"+Q+","+q+"}"),J=e.substring(a).match(ve);if(!J)throw"Missing number at position "+a;return a+=J[0].length,parseInt(J[0],10)},R=(N,Y,q)=>{let Q=-1,ve=x(N)?q:Y,J=[];for(let Ee=0;Ee<ve.length;Ee++)J.push([Ee,ve[Ee]]);J.sort((Ee,Ke)=>-(Ee[1].length-Ke[1].length));for(let Ee=0;Ee<J.length;Ee++){let Ke=J[Ee][1];if(e.substr(a,Ke.length).toLowerCase()===Ke.toLowerCase()){Q=J[Ee][0],a+=Ke.length;break}}if(Q!==-1)return Q+1;throw"Unknown name at position "+a},L=()=>{if(e.charAt(a)!==i.charAt(n))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(g=1),n=0;n<i.length;n++)if(b)i.charAt(n)==="'"&&!x("'")?b=!1:L();else switch(i.charAt(n)){case"d":g=D("d");break;case"D":R("D",this.getTranslation(_t.DAY_NAMES_SHORT),this.getTranslation(_t.DAY_NAMES));break;case"o":y=D("o");break;case"m":d=D("m");break;case"M":d=R("M",this.getTranslation(_t.MONTH_NAMES_SHORT),this.getTranslation(_t.MONTH_NAMES));break;case"y":u=D("y");break;case"@":w=new Date(D("@")),u=w.getFullYear(),d=w.getMonth()+1,g=w.getDate();break;case"!":w=new Date((D("!")-this.ticksTo1970)/1e4),u=w.getFullYear(),d=w.getMonth()+1,g=w.getDate();break;case"'":x("'")?L():b=!0;break;default:L()}if(a<e.length&&(o=e.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(u===-1?u=new Date().getFullYear():u<100&&(u+=new Date().getFullYear()-new Date().getFullYear()%100+(u<=c?0:-100)),y>-1){d=1,g=y;do{if(r=this.getDaysCountInMonth(u,d-1),g<=r)break;d++,g-=r}while(!0)}if(this.view==="year"&&(d=d===-1?1:d,g=g===-1?1:g),w=this.daylightSavingAdjust(new Date(u,d-1,g)),w.getFullYear()!==u||w.getMonth()+1!==d||w.getDate()!==g)throw"Invalid date";return w}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(e){return this.keepInvalid?!0:(!this.minDate||e>=this.minDate)&&(!this.maxDate||e<=this.maxDate)}onTodayButtonClick(e){let i=new Date,n={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(e,n),this.onTodayClick.emit(i)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",M.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(n=>!!(n.breakpoint&&n.numMonths)).sort((n,r)=>-1*n.breakpoint.localeCompare(r.breakpoint,void 0,{numeric:!0}));for(let n=0;n<i.length;n++){let{breakpoint:r,numMonths:o}=i[n],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let c=o;c<this.numberOfMonths;c++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c+1}) {
                                display: none !important;
                            }
                        `;e+=`
                        @media screen and (max-width: ${r}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new es(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return M.hasClass(e.target,"p-datepicker-prev")||M.hasClass(e.target,"p-datepicker-prev-icon")||M.hasClass(e.target,"p-datepicker-next")||M.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!M.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&wt.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||s)(U(Re),U(Ve),U(pt),U(Ue),U(nt),U(ht),U(Rl))};static \u0275cmp=$({type:s,selectors:[["p-calendar"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(OI,5),ye(EI,5),ye(kI,5)),i&2){let r;ie(r=ne())&&(n.containerViewChild=r.first),ie(r=ne())&&(n.inputfieldViewChild=r.first),ie(r=ne())&&(n.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,n){i&2&&xi("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focus)("p-calendar-clearable",n.showClear&&!n.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",B],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",B],showOtherMonths:[2,"showOtherMonths","showOtherMonths",B],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",B],showIcon:[2,"showIcon","showIcon",B],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",B],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",B],yearNavigator:[2,"yearNavigator","yearNavigator",B],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",B],stepYearPicker:[2,"stepYearPicker","stepYearPicker",ge],stepHour:[2,"stepHour","stepHour",ge],stepMinute:[2,"stepMinute","stepMinute",ge],stepSecond:[2,"stepSecond","stepSecond",ge],showSeconds:[2,"showSeconds","showSeconds",B],required:[2,"required","required",B],showOnFocus:[2,"showOnFocus","showOnFocus",B],showWeek:[2,"showWeek","showWeek",B],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",B],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",ge],showButtonBar:[2,"showButtonBar","showButtonBar",B],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",B],autoZIndex:[2,"autoZIndex","autoZIndex",B],baseZIndex:[2,"baseZIndex","baseZIndex",ge],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",B],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",B],touchUI:[2,"touchUI","touchUI",B],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",B],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",ge],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Kt([vO]),Me],ngContentSelectors:AI,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(i,n){i&1&&(bt(MI),T(0,"span",3,0),S(2,tD,5,22,"ng-template",4)(3,_O,9,32,"div",5),I()),i&2&&(W(n.styleClass),f("ngClass",Ja(6,FI,n.showIcon&&n.iconDisplay==="input",n.showIcon&&n.iconDisplay==="button",n.timeOnly,n.disabled,n.focus||n.overlayVisible))("ngStyle",n.style),_(2),f("ngIf",!n.inline),_(),f("ngIf",n.inline||n.overlayVisible))},dependencies:()=>[Le,ti,He,qe,Ne,ns,zt,jr,Br,Yu,Nr,ut,Gu,mi],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Ti("overlayAnimation",[ll("visibleTouchUI",Ct({transform:"translate(-50%,-50%)",opacity:1})),Ft("void => visible",[Ct({opacity:0,transform:"scaleY(0.8)"}),Lt("{{showTransitionParams}}",Ct({opacity:1,transform:"*"}))]),Ft("visible => void",[Lt("{{hideTransitionParams}}",Ct({opacity:0}))]),Ft("void => visibleTouchUI",[Ct({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Lt("{{showTransitionParams}}")]),Ft("visibleTouchUI => void",[Lt("{{hideTransitionParams}}",Ct({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return s})(),qu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Ki,Oe,si,jr,Br,Yu,Nr,ut,Gu,Ui,Ki,Oe]})}return s})();var s0=["*"];function bO(s,t){s&1&&pe(0)}function CO(s,t){if(s&1&&(ee(0),S(1,bO,1,0,"ng-container",3),te()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.contentTemplate)}}function wO(s,t){if(s&1&&(T(0,"div",1),ct(1),S(2,CO,2,1,"ng-container",2),I()),s&2){let e=v();f("hidden",!e.selected),k("id",e.tabView.getTabContentId(e.id))("aria-hidden",!e.selected)("aria-labelledby",e.tabView.getTabHeaderActionId(e.id))("data-pc-name","tabpanel"),_(2),f("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}var xO=["content"],SO=["navbar"],TO=["prevBtn"],IO=["nextBtn"],DO=["inkbar"],OO=["elementToObserve"],EO=s=>({"p-tabview p-component":!0,"p-tabview-scrollable":s}),kO=(s,t)=>({"p-highlight":s,"p-disabled":t});function MO(s,t){s&1&&P(0,"ChevronLeftIcon"),s&2&&k("aria-hidden",!0)}function AO(s,t){}function FO(s,t){s&1&&S(0,AO,0,0,"ng-template")}function VO(s,t){if(s&1){let e=Z();T(0,"button",15,4),z("click",function(){O(e);let n=v();return E(n.navBackward())}),S(2,MO,1,1,"ChevronLeftIcon",16)(3,FO,1,0,null,17),I()}if(s&2){let e=v();k("tabindex",e.tabindex)("aria-label",e.prevButtonAriaLabel),_(2),f("ngIf",!e.previousIconTemplate),_(),f("ngTemplateOutlet",e.previousIconTemplate)}}function RO(s,t){if(s&1&&P(0,"span",26),s&2){let e=v(3).$implicit;f("ngClass",e.leftIcon)}}function LO(s,t){}function PO(s,t){s&1&&S(0,LO,0,0,"ng-template")}function NO(s,t){if(s&1&&(T(0,"span",27),S(1,PO,1,0,null,17),I()),s&2){let e=v(3).$implicit;_(),f("ngTemplateOutlet",e.leftIconTemplate)}}function jO(s,t){if(s&1&&P(0,"span",28),s&2){let e=v(3).$implicit;f("ngClass",e.rightIcon)}}function BO(s,t){}function UO(s,t){s&1&&S(0,BO,0,0,"ng-template")}function HO(s,t){if(s&1&&(T(0,"span",29),S(1,UO,1,0,null,17),I()),s&2){let e=v(3).$implicit;_(),f("ngTemplateOutlet",e.rightIconTemplate)}}function zO(s,t){if(s&1&&(ee(0),S(1,RO,1,1,"span",21)(2,NO,2,1,"span",22),T(3,"span",23),fe(4),I(),S(5,jO,1,1,"span",24)(6,HO,2,1,"span",25),te()),s&2){let e=v(2).$implicit;_(),f("ngIf",e.leftIcon&&!e.leftIconTemplate),_(),f("ngIf",e.leftIconTemplate),_(2),We(e.header),_(),f("ngIf",e.rightIcon&&!e.rightIconTemplate),_(),f("ngIf",e.rightIconTemplate)}}function WO(s,t){s&1&&pe(0)}function YO(s,t){if(s&1){let e=Z();T(0,"TimesIcon",32),z("click",function(n){O(e);let r=v(3).$implicit,o=v();return E(o.close(n,r))}),I()}s&2&&f("styleClass","p-tabview-close")}function GO(s,t){s&1&&P(0,"span",33)}function $O(s,t){}function qO(s,t){s&1&&S(0,$O,0,0,"ng-template")}function XO(s,t){if(s&1&&(ee(0),S(1,YO,1,1,"TimesIcon",30)(2,GO,1,0,"span",31)(3,qO,1,0,null,17),te()),s&2){let e=v(2).$implicit;_(),f("ngIf",!e.closeIconTemplate),_(),f("ngIf",e.closeIconTemplate),_(),f("ngTemplateOutlet",e.closeIconTemplate)}}function KO(s,t){if(s&1){let e=Z();T(0,"li",19)(1,"a",20),z("click",function(n){O(e);let r=v().$implicit,o=v();return E(o.open(n,r))})("keydown",function(n){O(e);let r=v().$implicit,o=v();return E(o.onTabKeyDown(n,r))}),S(2,zO,7,5,"ng-container",16)(3,WO,1,0,"ng-container",17)(4,XO,4,3,"ng-container",16),I()()}if(s&2){let e=v(),i=e.$implicit,n=e.index,r=v();W(i.headerStyleClass),f("ngClass",Pe(19,kO,i.selected,i.disabled))("ngStyle",i.headerStyle),k("data-p-disabled",i.disabled),_(),f("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),k("id",r.getTabHeaderActionId(i.id))("aria-controls",r.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":r.tabindex)("aria-disabled",i.disabled)("data-pc-index",n)("data-pc-section","headeraction"),_(),f("ngIf",!i.headerTemplate),_(),f("ngTemplateOutlet",i.headerTemplate),_(),f("ngIf",i.closable)}}function ZO(s,t){if(s&1&&S(0,KO,5,22,"li",18),s&2){let e=t.$implicit;f("ngIf",!e.closed)}}function QO(s,t){s&1&&P(0,"ChevronRightIcon"),s&2&&k("aria-hidden",!0)}function JO(s,t){}function eE(s,t){s&1&&S(0,JO,0,0,"ng-template")}function tE(s,t){if(s&1){let e=Z();T(0,"button",34,5),z("click",function(){O(e);let n=v();return E(n.navForward())}),S(2,QO,1,1,"ChevronRightIcon",16)(3,eE,1,0,null,17),I()}if(s&2){let e=v();k("tabindex",e.tabindex)("aria-label",e.nextButtonAriaLabel),_(2),f("ngIf",!e.nextIconTemplate),_(),f("ngTemplateOutlet",e.nextIconTemplate)}}var iE=(()=>{class s{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(e){this._headerStyle=e,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(e){this._headerStyleClass=e,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(e,i,n,r){this.el=i,this.viewContainer=n,this.cd=r,this.tabView=e,this.id=Ye()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"righticon":this.rightIconTemplate=e.template;break;case"lefticon":this.leftIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||s)(U(Bt(()=>nE)),U(Ve),U(vr),U(Ue))};static \u0275cmp=$({type:s,selectors:[["p-tabPanel"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",B],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",B],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[Me],ngContentSelectors:s0,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,n){i&1&&(bt(),S(0,wO,3,6,"div",0)),i&2&&f("ngIf",!n.closed)},dependencies:[He,qe],encapsulation:2})}return s})(),nE=(()=>{class s{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.tabs&&this.tabs.length&&this._activeIndex!=null&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new G;onClose=new G;activeIndexChange=new G;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(e,i,n,r){this.platformId=e,this.el=i,this.cd=n,this.renderer=r}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(e=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(e=>{switch(e.getType()){case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break}})}callResizeObserver(){Ot(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=M.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=M.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){Ot(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(this.activeIndex!=null&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(e,i){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onTabEndKey(e);break;case"PageUp":this.onTabHomeKey(e);break;case"Enter":case"Space":this.open(e,i);break;default:break}}onTabArrowLeftKey(e){let i=this.findPrevHeaderAction(e.target.parentElement),n=M.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,n):this.onTabEndKey(e),e.preventDefault()}onTabArrowRightKey(e){let i=this.findNextHeaderAction(e.target.parentElement),n=M.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,n):this.onTabHomeKey(e),e.preventDefault()}onTabHomeKey(e){let i=this.findFirstHeaderAction(),n=M.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,n),e.preventDefault()}onTabEndKey(e){let i=this.findLastHeaderAction(),n=M.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,n),e.preventDefault()}changeFocusedTab(e,i,n){if(i&&(M.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)){let r=this.tabs[n];this.open(e,r)}}findNextHeaderAction(e,i=!1){let n=i?e:e.nextElementSibling;return n?M.getAttribute(n,"data-p-disabled")||M.getAttribute(n,"data-pc-section")==="inkbar"?this.findNextHeaderAction(n):M.findSingle(n,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,i=!1){let n=i?e:e.previousElementSibling;return n?M.getAttribute(n,"data-p-disabled")||M.getAttribute(n,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(n):M.findSingle(n,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.navbar.nativeElement.firstElementChild;return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.navbar.nativeElement.lastElementChild,i=M.getAttribute(e,"data-pc-section")==="inkbar"?e.previousElementSibling:e;return this.findPrevHeaderAction(i,!0)}open(e,i){if(i.disabled){e&&e.preventDefault();return}if(!i.selected){let n=this.findSelectedTab();n&&(n.selected=!1),this.tabChanged=!0,i.selected=!0;let r=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(r),this.onChange.emit({originalEvent:e,index:r}),this.updateScrollBar(r)}e&&e.preventDefault()}close(e,i){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:e,index:this.findTabIndex(i)}))}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let i=0;i<this.tabs.length;i++){let n=this.tabs[i];if(!n.closed&&!e.disabled){n.selected=!0;break}}}e.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let i=-1;for(let n=0;n<this.tabs.length;n++)if(this.tabs[n]==e){i=n;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(Ot(this.platformId)&&this.navbar){let e=M.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!e)return;this.inkbar.nativeElement.style.width=M.getWidth(e)+"px",this.inkbar.nativeElement.style.left=M.getOffset(e).left-M.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){let i=this.navbar.nativeElement.children[e];i&&i.scrollIntoView({block:"nearest"})}updateButtonState(){let e=this.content.nativeElement,{scrollLeft:i,scrollWidth:n}=e,r=M.getWidth(e);this.backwardIsDisabled=i===0,this.forwardIsDisabled=Math.round(i)===n-r}refreshButtonState(){this.container=M.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=M.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.markForCheck())}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,i)=>i?e+M.getWidth(i):e,0)}navBackward(){let e=this.content.nativeElement,i=M.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft-i;e.scrollLeft=n<=0?0:n}navForward(){let e=this.content.nativeElement,i=M.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+i,r=e.scrollWidth-i;e.scrollLeft=n>=r?r:n}static \u0275fac=function(i){return new(i||s)(U(gt),U(Ve),U(Ue),U(pt))};static \u0275cmp=$({type:s,selectors:[["p-tabView"]],contentQueries:function(i,n,r){if(i&1&&(je(r,iE,4),je(r,Ge,4)),i&2){let o;ie(o=ne())&&(n.tabPanels=o),ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(xO,5),ye(SO,5),ye(TO,5),ye(IO,5),ye(DO,5),ye(OO,5)),i&2){let r;ie(r=ne())&&(n.content=r.first),ie(r=ne())&&(n.navbar=r.first),ie(r=ne())&&(n.prevBtn=r.first),ie(r=ne())&&(n.nextBtn=r.first),ie(r=ne())&&(n.inkbar=r.first),ie(r=ne())&&(n.elementToObserve=r.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",B],scrollable:[2,"scrollable","scrollable",B],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",B],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",B],tabindex:[2,"tabindex","tabindex",ge]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[Me],ngContentSelectors:s0,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(i,n){if(i&1){let r=Z();bt(),T(0,"div",6)(1,"div",7,0),S(3,VO,4,4,"button",8),T(4,"div",9,1),z("scroll",function(a){return O(r),E(n.onScroll(a))}),T(6,"ul",10,2),S(8,ZO,1,1,"ng-template",11),P(9,"li",12,3),I()(),S(11,tE,4,4,"button",13),I(),T(12,"div",14),ct(13),I()()}i&2&&(W(n.styleClass),f("ngClass",he(11,EO,n.scrollable))("ngStyle",n.style),k("data-pc-name","tabview"),_(3),f("ngIf",n.scrollable&&!n.backwardIsDisabled&&n.autoHideButtons),_(),k("data-pc-section","navcontent"),_(2),k("data-pc-section","nav"),_(2),f("ngForOf",n.tabs),_(),k("data-pc-section","inkbar"),_(2),f("ngIf",n.scrollable&&!n.forwardIsDisabled&&n.buttonVisible))},dependencies:()=>[Le,ti,He,qe,Ne,Hl,zt,ut,jr,Br],styles:[`@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}
`],encapsulation:2,changeDetection:0})}return s})(),Xu=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Oe,zl,si,ut,jr,Br,Oe]})}return s})();var sE=["input"],rE=(s,t,e,i)=>({"p-checkbox p-component":!0,"p-checkbox-checked":s,"p-checkbox-disabled":t,"p-checkbox-focused":e,"p-variant-filled":i}),oE=(s,t,e)=>({"p-highlight":s,"p-disabled":t,"p-focus":e}),aE=(s,t,e)=>({"p-checkbox-label":!0,"p-checkbox-label-active":s,"p-disabled":t,"p-checkbox-label-focus":e});function lE(s,t){if(s&1&&P(0,"span",10),s&2){let e=v(3);f("ngClass",e.checkboxIcon),k("data-pc-section","icon")}}function cE(s,t){s&1&&P(0,"CheckIcon",11),s&2&&(f("styleClass","p-checkbox-icon"),k("data-pc-section","icon"))}function hE(s,t){if(s&1&&(ee(0),S(1,lE,1,2,"span",8)(2,cE,1,2,"CheckIcon",9),te()),s&2){let e=v(2);_(),f("ngIf",e.checkboxIcon),_(),f("ngIf",!e.checkboxIcon)}}function uE(s,t){}function dE(s,t){s&1&&S(0,uE,0,0,"ng-template")}function pE(s,t){if(s&1&&(T(0,"span",12),S(1,dE,1,0,null,13),I()),s&2){let e=v(2);k("data-pc-section","icon"),_(),f("ngTemplateOutlet",e.checkboxIconTemplate)}}function fE(s,t){if(s&1&&(ee(0),S(1,hE,3,2,"ng-container",5)(2,pE,2,2,"span",7),te()),s&2){let e=v();_(),f("ngIf",!e.checkboxIconTemplate),_(),f("ngIf",e.checkboxIconTemplate)}}function mE(s,t){if(s&1){let e=Z();T(0,"label",14),z("click",function(n){O(e);let r=v(),o=at(3);return E(r.onClick(n,o,!0))}),fe(1),I()}if(s&2){let e=v();W(e.labelStyleClass),f("ngClass",Si(6,aE,e.checked(),e.disabled,e.focused)),k("for",e.inputId)("data-pc-section","label"),_(),Xt(" ",e.label,"")}}var gE={provide:ni,useExisting:Bt(()=>_E),multi:!0},_E=(()=>{class s{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new G;onFocus=new G;onBlur=new G;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(e,i,n){this.cd=e,this.injector=i,this.config=n}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.checkboxIconTemplate=e.template;break}})}onClick(e,i,n){e.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(e),n&&i.focus())}updateModel(e){let i,n=this.injector.get(On,null,{optional:!0,self:!0}),r=n&&!this.formControl?n.value:this.model;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(this.checked()?i=r.filter(o=>!ae.equals(o,this.value)):i=r?[...r,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:ae.contains(this.value,this.model)}static \u0275fac=function(i){return new(i||s)(U(Ue),U(Gn),U(ht))};static \u0275cmp=$({type:s,selectors:[["p-checkbox"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ye(sE,5),i&2){let r;ie(r=ne())&&(n.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",B],binary:[2,"binary","binary",B],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",ge],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",B],required:[2,"required","required",B],autofocus:[2,"autofocus","autofocus",B],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Kt([gE]),Me],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(i,n){if(i&1){let r=Z();T(0,"div",1)(1,"div",2)(2,"input",3,0),z("change",function(a){return O(r),E(n.handleChange(a))})("focus",function(a){return O(r),E(n.onInputFocus(a))})("blur",function(a){return O(r),E(n.onInputBlur(a))}),I()(),T(4,"div",4),z("click",function(a){O(r);let c=at(3);return E(n.onClick(a,c,!0))}),S(5,fE,3,2,"ng-container",5),I()(),S(6,mE,2,10,"label",6)}i&2&&(W(n.styleClass),f("ngStyle",n.style)("ngClass",qn(28,rE,n.checked(),n.disabled,n.focused,n.variant==="filled"||n.config.inputStyle()==="filled")),k("data-pc-name","checkbox")("data-pc-section","root"),_(),k("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),_(),f("value",n.value)("checked",n.checked())("disabled",n.disabled)("readonly",n.readonly)("autofocus",n.autofocus),k("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("required",n.required)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("data-pc-section","hiddenInput"),_(2),f("ngClass",Si(33,oE,n.checked(),n.disabled,n.focused)),k("data-p-highlight",n.checked())("data-p-disabled",n.disabled)("data-p-focused",n.focused)("data-pc-section","input"),_(),f("ngIf",n.checked()),_(),f("ngIf",n.label))},dependencies:()=>[Le,He,qe,Ne,mi,ai],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0})}return s})(),Ku=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Ui,ai,Oe]})}return s})();var r0=(()=>{class s{el;ngModel;cd;config;variant="outlined";filled;constructor(e,i,n,r){this.el=e,this.ngModel=i,this.cd=n,this.config=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||s)(U(Ve),U(Vu,8),U(Ue),U(ht))};static \u0275dir=Dt({type:s,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,n){i&1&&z("input",function(o){return n.onInput(o)}),i&2&&xi("p-filled",n.filled)("p-variant-filled",n.variant==="filled"||n.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return s})(),ca=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te]})}return s})();var Zu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["AngleDownIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var Qu=(()=>{class s extends De{static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["AngleUpIcon"]],standalone:!0,features:[Ce,_e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0),P(1,"path",1),I()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return s})();var yE=["input"],bE=(s,t,e)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":s,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}),o0=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),a0=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function CE(s,t){if(s&1){let e=Z();T(0,"TimesIcon",8),z("click",function(){O(e);let n=v(2);return E(n.clear())}),I()}s&2&&(f("ngClass","p-inputnumber-clear-icon"),k("data-pc-section","clearIcon"))}function wE(s,t){}function xE(s,t){s&1&&S(0,wE,0,0,"ng-template")}function SE(s,t){if(s&1){let e=Z();T(0,"span",9),z("click",function(){O(e);let n=v(2);return E(n.clear())}),S(1,xE,1,0,null,10),I()}if(s&2){let e=v(2);k("data-pc-section","clearIcon"),_(),f("ngTemplateOutlet",e.clearIconTemplate)}}function TE(s,t){if(s&1&&(ee(0),S(1,CE,1,2,"TimesIcon",6)(2,SE,2,2,"span",7),te()),s&2){let e=v();_(),f("ngIf",!e.clearIconTemplate),_(),f("ngIf",e.clearIconTemplate)}}function IE(s,t){if(s&1&&P(0,"span",14),s&2){let e=v(2);f("ngClass",e.incrementButtonIcon),k("data-pc-section","incrementbuttonicon")}}function DE(s,t){s&1&&P(0,"AngleUpIcon"),s&2&&k("data-pc-section","incrementbuttonicon")}function OE(s,t){}function EE(s,t){s&1&&S(0,OE,0,0,"ng-template")}function kE(s,t){if(s&1&&(ee(0),S(1,DE,1,1,"AngleUpIcon",3)(2,EE,1,0,null,10),te()),s&2){let e=v(2);_(),f("ngIf",!e.incrementButtonIconTemplate),_(),f("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function ME(s,t){if(s&1&&P(0,"span",14),s&2){let e=v(2);f("ngClass",e.decrementButtonIcon),k("data-pc-section","decrementbuttonicon")}}function AE(s,t){s&1&&P(0,"AngleDownIcon"),s&2&&k("data-pc-section","decrementbuttonicon")}function FE(s,t){}function VE(s,t){s&1&&S(0,FE,0,0,"ng-template")}function RE(s,t){if(s&1&&(ee(0),S(1,AE,1,1,"AngleDownIcon",3)(2,VE,1,0,null,10),te()),s&2){let e=v(2);_(),f("ngIf",!e.decrementButtonIconTemplate),_(),f("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function LE(s,t){if(s&1){let e=Z();T(0,"span",11)(1,"button",12),z("mousedown",function(n){O(e);let r=v();return E(r.onUpButtonMouseDown(n))})("mouseup",function(){O(e);let n=v();return E(n.onUpButtonMouseUp())})("mouseleave",function(){O(e);let n=v();return E(n.onUpButtonMouseLeave())})("keydown",function(n){O(e);let r=v();return E(r.onUpButtonKeyDown(n))})("keyup",function(){O(e);let n=v();return E(n.onUpButtonKeyUp())}),S(2,IE,1,2,"span",13)(3,kE,3,2,"ng-container",3),I(),T(4,"button",12),z("mousedown",function(n){O(e);let r=v();return E(r.onDownButtonMouseDown(n))})("mouseup",function(){O(e);let n=v();return E(n.onDownButtonMouseUp())})("mouseleave",function(){O(e);let n=v();return E(n.onDownButtonMouseLeave())})("keydown",function(n){O(e);let r=v();return E(r.onDownButtonKeyDown(n))})("keyup",function(){O(e);let n=v();return E(n.onDownButtonKeyUp())}),S(5,ME,1,2,"span",13)(6,RE,3,2,"ng-container",3),I()()}if(s&2){let e=v();k("data-pc-section","buttonGroup"),_(),W(e.incrementButtonClass),f("ngClass",qi(17,o0))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section","incrementbutton"),_(),f("ngIf",e.incrementButtonIcon),_(),f("ngIf",!e.incrementButtonIcon),_(),W(e.decrementButtonClass),f("ngClass",qi(18,a0))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section",e.decrementbutton),_(),f("ngIf",e.decrementButtonIcon),_(),f("ngIf",!e.decrementButtonIcon)}}function PE(s,t){if(s&1&&P(0,"span",14),s&2){let e=v(2);f("ngClass",e.incrementButtonIcon),k("data-pc-section","incrementbuttonicon")}}function NE(s,t){s&1&&P(0,"AngleUpIcon"),s&2&&k("data-pc-section","incrementbuttonicon")}function jE(s,t){}function BE(s,t){s&1&&S(0,jE,0,0,"ng-template")}function UE(s,t){if(s&1&&(ee(0),S(1,NE,1,1,"AngleUpIcon",3)(2,BE,1,0,null,10),te()),s&2){let e=v(2);_(),f("ngIf",!e.incrementButtonIconTemplate),_(),f("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function HE(s,t){if(s&1){let e=Z();T(0,"button",12),z("mousedown",function(n){O(e);let r=v();return E(r.onUpButtonMouseDown(n))})("mouseup",function(){O(e);let n=v();return E(n.onUpButtonMouseUp())})("mouseleave",function(){O(e);let n=v();return E(n.onUpButtonMouseLeave())})("keydown",function(n){O(e);let r=v();return E(r.onUpButtonKeyDown(n))})("keyup",function(){O(e);let n=v();return E(n.onUpButtonKeyUp())}),S(1,PE,1,2,"span",13)(2,UE,3,2,"ng-container",3),I()}if(s&2){let e=v();W(e.incrementButtonClass),f("ngClass",qi(8,o0))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section","incrementbutton"),_(),f("ngIf",e.incrementButtonIcon),_(),f("ngIf",!e.incrementButtonIcon)}}function zE(s,t){if(s&1&&P(0,"span",14),s&2){let e=v(2);f("ngClass",e.decrementButtonIcon),k("data-pc-section","decrementbuttonicon")}}function WE(s,t){s&1&&P(0,"AngleDownIcon"),s&2&&k("data-pc-section","decrementbuttonicon")}function YE(s,t){}function GE(s,t){s&1&&S(0,YE,0,0,"ng-template")}function $E(s,t){if(s&1&&(ee(0),S(1,WE,1,1,"AngleDownIcon",3)(2,GE,1,0,null,10),te()),s&2){let e=v(2);_(),f("ngIf",!e.decrementButtonIconTemplate),_(),f("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function qE(s,t){if(s&1){let e=Z();T(0,"button",12),z("mousedown",function(n){O(e);let r=v();return E(r.onDownButtonMouseDown(n))})("mouseup",function(){O(e);let n=v();return E(n.onDownButtonMouseUp())})("mouseleave",function(){O(e);let n=v();return E(n.onDownButtonMouseLeave())})("keydown",function(n){O(e);let r=v();return E(r.onDownButtonKeyDown(n))})("keyup",function(){O(e);let n=v();return E(n.onDownButtonKeyUp())}),S(1,zE,1,2,"span",13)(2,$E,3,2,"ng-container",3),I()}if(s&2){let e=v();W(e.decrementButtonClass),f("ngClass",qi(8,a0))("disabled",e.disabled),k("aria-hidden",!0)("data-pc-section","decrementbutton"),_(),f("ngIf",e.decrementButtonIcon),_(),f("ngIf",!e.decrementButtonIcon)}}var XE={provide:ni,useExisting:Bt(()=>KE),multi:!0},KE=(()=>{class s{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}onInput=new G;onFocus=new G;onBlur=new G;onKeyDown=new G;onClear=new G;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(e,i,n,r,o){this.document=e,this.el=i,this.cd=n,this.injector=r,this.config=o}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(n=>!!e[n])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=e.template;break}})}ngOnInit(){this.ngControl=this.injector.get(On,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((n,r)=>[n,r]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=n=>i.get(n)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,tt(K({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let n=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(n=this.prefix+n),this.suffix&&e!=this.suffix&&(n=n+this.suffix),n}return e.toString()}return""}parseValue(e){let i=new RegExp(this._suffix,""),n=new RegExp(this._prefix,""),r=new RegExp(this._currency,""),o=e.replace(i,"").replace(n,"").trim().replace(/\s/g,"").replace(r,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(o){if(o==="-")return o;let a=+o;return isNaN(a)?null:a}return null}repeat(e,i,n){if(this.readonly)return;let r=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,n)},r),this.spin(e,n)}spin(e,i){let n=this.step*i,r=this.parseValue(this.input?.nativeElement.value)||0,o=this.validateValue(r+n);this.maxlength&&this.maxlength<this.formatValue(o).length||(this.updateInput(o,null,"spin",null),this.updateModel(e,o),this.handleOnInput(e,r,o))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let i=e.target.selectionStart,n=e.target.selectionEnd,r=e.target.value,o=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let a=i;a<=r.length;a++){let c=a===0?0:a-1;if(this.isNumeralChar(r.charAt(c))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=n;a>=0;a--)if(this.isNumeralChar(r.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":o=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,o);break;case"Backspace":{if(e.preventDefault(),i===n){if(i==1&&this.prefix||i==r.length&&this.suffix)break;let a=r.charAt(i-1),{decimalCharIndex:c,decimalCharIndexWithoutPrefix:u}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(a)){let d=this.getDecimalLength(r);if(this._group.test(a))this._group.lastIndex=0,o=r.slice(0,i-2)+r.slice(i-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,d?this.input?.nativeElement.setSelectionRange(i-1,i-1):o=r.slice(0,i-1)+r.slice(i);else if(c>0&&i>c){let g=this.isDecimalMode()&&(this.minFractionDigits||0)<d?"":"0";o=r.slice(0,i-1)+g+r.slice(i)}else u===1?(o=r.slice(0,i-1)+"0"+r.slice(i),o=this.parseValue(o)>0?o:""):o=r.slice(0,i-1)+r.slice(i)}else this.mode==="currency"&&a.search(this._currency)!=-1&&(o=r.slice(1));this.updateValue(e,o,null,"delete-single")}else o=this.deleteRange(r,i,n),this.updateValue(e,o,null,"delete-range");break}case"Delete":if(e.preventDefault(),i===n){if(i==0&&this.prefix||i==r.length-1&&this.suffix)break;let a=r.charAt(i),{decimalCharIndex:c,decimalCharIndexWithoutPrefix:u}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(a)){let d=this.getDecimalLength(r);if(this._group.test(a))this._group.lastIndex=0,o=r.slice(0,i)+r.slice(i+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,d?this.input?.nativeElement.setSelectionRange(i+1,i+1):o=r.slice(0,i)+r.slice(i+1);else if(c>0&&i>c){let g=this.isDecimalMode()&&(this.minFractionDigits||0)<d?"":"0";o=r.slice(0,i)+g+r.slice(i+1)}else u===1?(o=r.slice(0,i)+"0"+r.slice(i+1),o=this.parseValue(o)>0?o:""):o=r.slice(0,i)+r.slice(i+1)}this.updateValue(e,o,null,"delete-back-single")}else o=this.deleteRange(r,i,n),this.updateValue(e,o,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let i=e.which||e.keyCode,n=String.fromCharCode(i),r=this.isDecimalSign(n),o=this.isMinusSign(n);i!=13&&e.preventDefault(),!r&&e.code==="NumpadDecimal"&&(r=!0,n=this._decimalChar,i=n.charCodeAt(0));let a=this.parseValue(this.input.nativeElement.value+n),c=a!=null?a.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(e,n,{isDecimalSign:r,isMinusSign:o});return}this.maxlength&&c.length>this.maxlength||(48<=i&&i<=57||o||r)&&this.insert(e,n,{isDecimalSign:r,isMinusSign:o})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(i){this.maxlength&&(i=i.toString().substring(0,this.maxlength));let n=this.parseValue(i);n!=null&&this.insert(e,n.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;let r=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:r}}getCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;let n=e.search(this._minusSign);this._minusSign.lastIndex=0;let r=e.search(this._suffix);this._suffix.lastIndex=0;let o=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:n,suffixCharIndex:r,currencyCharIndex:o}}insert(e,i,n={isDecimalSign:!1,isMinusSign:!1}){let r=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&r!==-1)return;let o=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,c=this.input?.nativeElement.value.trim(),{decimalCharIndex:u,minusCharIndex:d,suffixCharIndex:g,currencyCharIndex:y}=this.getCharIndexes(c),b;if(n.isMinusSign)o===0&&(b=c,(d===-1||a!==0)&&(b=this.insertText(c,i,0,a)),this.updateValue(e,b,i,"insert"));else if(n.isDecimalSign)u>0&&o===u?this.updateValue(e,c,i,"insert"):u>o&&u<a?(b=this.insertText(c,i,o,a),this.updateValue(e,b,i,"insert")):u===-1&&this.maxFractionDigits&&(b=this.insertText(c,i,o,a),this.updateValue(e,b,i,"insert"));else{let w=this.numberFormat.resolvedOptions().maximumFractionDigits,x=o!==a?"range-insert":"insert";if(u>0&&o>u){if(o+i.length-(u+1)<=w){let D=y>=o?y-1:g>=o?g:c.length;b=c.slice(0,o)+i+c.slice(o+i.length,D)+c.slice(D),this.updateValue(e,b,i,x)}}else b=this.insertText(c,i,o,a),this.updateValue(e,b,i,x)}}insertText(e,i,n,r){if((i==="."?i:i.split(".")).length===2){let a=e.slice(n,r).search(this._decimal);return this._decimal.lastIndex=0,a>0?e.slice(0,n)+this.formatValue(i)+e.slice(r):e||this.formatValue(i)}else return r-n===e.length?this.formatValue(i):n===0?i+e.slice(r):r===e.length?e.slice(0,n)+i:e.slice(0,n)+i+e.slice(r)}deleteRange(e,i,n){let r;return n-i===e.length?r="":i===0?r=e.slice(n):n===e.length?r=e.slice(0,i):r=e.slice(0,i)+e.slice(n),r}initCursor(){let e=this.input?.nativeElement.selectionStart,i=this.input?.nativeElement.selectionEnd,n=this.input?.nativeElement.value,r=n.length,o=null,a=(this.prefixChar||"").length;n=n.replace(this._prefix,""),(e===i||e!==0||i<a)&&(e-=a);let c=n.charAt(e);if(this.isNumeralChar(c))return e+a;let u=e-1;for(;u>=0;)if(c=n.charAt(u),this.isNumeralChar(c)){o=u+a;break}else u--;if(o!==null)this.input?.nativeElement.setSelectionRange(o+1,o+1);else{for(u=e;u<r;)if(c=n.charAt(u),this.isNumeralChar(c)){o=u+a;break}else u++;o!==null&&this.input?.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==M.getSelection()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,n,r){let o=this.input?.nativeElement.value,a=null;i!=null&&(a=this.parseValue(i),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,n,r,i),this.handleOnInput(e,o,a))}handleOnInput(e,i,n){this.isValueChanged(i,n)&&(this.input.nativeElement.value=this.formatValue(n),this.input?.nativeElement.setAttribute("aria-valuenow",n),!this.isBlurUpdateOnMode&&this.updateModel(e,n),this.onInput.emit({originalEvent:e,value:n,formattedValue:i}))}isValueChanged(e,i){if(i===null&&e!==null)return!0;if(i!=null){let n=typeof e=="string"?this.parseValue(e):e;return i!==n}return!1}validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e}updateInput(e,i,n,r){i=i||"";let o=this.input?.nativeElement.value,a=this.formatValue(e),c=o.length;if(a!==r&&(a=this.concatValues(a,r)),c===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let d=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(d,d)}else{let u=this.input.nativeElement.selectionStart,d=this.input.nativeElement.selectionEnd;if(this.maxlength&&a.length>this.maxlength&&(a=a.slice(0,this.maxlength),u=Math.min(u,this.maxlength),d=Math.min(d,this.maxlength)),this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let g=a.length;if(n==="range-insert"){let y=this.parseValue((o||"").slice(0,u)),w=(y!==null?y.toString():"").split("").join(`(${this.groupChar})?`),x=new RegExp(w,"g");x.test(a);let D=i.split("").join(`(${this.groupChar})?`),R=new RegExp(D,"g");R.test(a.slice(x.lastIndex)),d=x.lastIndex+R.lastIndex,this.input.nativeElement.setSelectionRange(d,d)}else if(g===c)n==="insert"||n==="delete-back-single"?this.input.nativeElement.setSelectionRange(d+1,d+1):n==="delete-single"?this.input.nativeElement.setSelectionRange(d-1,d-1):(n==="delete-range"||n==="spin")&&this.input.nativeElement.setSelectionRange(d,d);else if(n==="delete-back-single"){let y=o.charAt(d-1),b=o.charAt(d),w=c-g,x=this._group.test(b);x&&w===1?d+=1:!x&&this.isNumeralChar(y)&&(d+=-1*w+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(d,d)}else if(o==="-"&&n==="insert"){this.input.nativeElement.setSelectionRange(0,0);let b=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(b,b)}else d=d+(g-c),this.input.nativeElement.setSelectionRange(d,d)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let n=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?n!==-1?e:e.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(n)+this.suffixChar:n!==-1?e.split(this._decimal)[0]+i.slice(n):e}return e}getDecimalLength(e){if(e){let i=e.split(this._decimal);if(i.length===2)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value)),n=i?.toString();this.input.nativeElement.value=this.formatValue(n),this.input.nativeElement.setAttribute("aria-valuenow",n),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,i){this.value!==i&&(this.value=i,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(i):this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(i){return new(i||s)(U(Re),U(Ve),U(Ue),U(Gn),U(ht))};static \u0275cmp=$({type:s,selectors:[["p-inputNumber"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ye(yE,5),i&2){let r;ie(r=ne())&&(n.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,n){i&2&&xi("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused)("p-inputnumber-clearable",n.showClear&&n.buttonLayout!="vertical")},inputs:{showButtons:[2,"showButtons","showButtons",B],format:[2,"format","format",B],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[2,"size","size",ge],maxlength:[2,"maxlength","maxlength",ge],tabindex:[2,"tabindex","tabindex",ge],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",B],name:"name",required:[2,"required","required",B],autocomplete:"autocomplete",min:[2,"min","min",ge],max:[2,"max","max",ge],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",B],step:[2,"step","step",ge],allowEmpty:[2,"allowEmpty","allowEmpty",B],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",B],variant:"variant",minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>ge(e,null)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>ge(e,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",B],autofocus:[2,"autofocus","autofocus",B],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[Kt([XE]),Me,Ni],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,n){if(i&1){let r=Z();T(0,"span",1)(1,"input",2,0),z("input",function(a){return O(r),E(n.onUserInput(a))})("keydown",function(a){return O(r),E(n.onInputKeyDown(a))})("keypress",function(a){return O(r),E(n.onInputKeyPress(a))})("paste",function(a){return O(r),E(n.onPaste(a))})("click",function(){return O(r),E(n.onInputClick())})("focus",function(a){return O(r),E(n.onInputFocus(a))})("blur",function(a){return O(r),E(n.onInputBlur(a))}),I(),S(3,TE,3,2,"ng-container",3)(4,LE,7,19,"span",4)(5,HE,3,9,"button",5)(6,qE,3,9,"button",5),I()}i&2&&(W(n.styleClass),f("ngClass",Si(39,bE,n.showButtons&&n.buttonLayout==="stacked",n.showButtons&&n.buttonLayout==="horizontal",n.showButtons&&n.buttonLayout==="vertical"))("ngStyle",n.style),k("data-pc-name","inputnumber")("data-pc-section","root"),_(),W(n.inputStyleClass),xi("p-variant-filled",n.variant==="filled"||n.config.inputStyle()==="filled"),f("ngClass","p-inputnumber-input")("ngStyle",n.inputStyle)("value",n.formattedValue())("disabled",n.disabled)("readonly",n.readonly)("autofocus",n.autofocus),k("id",n.inputId)("variant",n.variant)("aria-valuemin",n.min)("aria-valuemax",n.max)("aria-valuenow",n.value)("placeholder",n.placeholder)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("title",n.title)("size",n.size)("name",n.name)("autocomplete",n.autocomplete)("maxlength",n.maxlength)("tabindex",n.tabindex)("aria-required",n.ariaRequired)("required",n.required)("min",n.min)("max",n.max)("data-pc-section","input"),_(2),f("ngIf",n.buttonLayout!="vertical"&&n.showClear&&n.value),_(),f("ngIf",n.showButtons&&n.buttonLayout==="stacked"),_(),f("ngIf",n.showButtons&&n.buttonLayout!=="stacked"),_(),f("ngIf",n.showButtons&&n.buttonLayout!=="stacked"))},dependencies:()=>[Le,He,qe,Ne,r0,ns,mi,ut,Qu,Zu],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return s})(),Ju=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,ca,Ki,Ui,ut,Qu,Zu,Oe]})}return s})();var ZE=["*",[["p-header"]],[["p-footer"]]],QE=["*","p-header","p-footer"];function JE(s,t){s&1&&pe(0)}function ek(s,t){if(s&1&&(T(0,"div",8),ct(1,1),S(2,JE,1,0,"ng-container",6),I()),s&2){let e=v();_(2),f("ngTemplateOutlet",e.headerTemplate)}}function tk(s,t){s&1&&pe(0)}function ik(s,t){if(s&1&&(T(0,"div",9),fe(1),S(2,tk,1,0,"ng-container",6),I()),s&2){let e=v();_(),Xt(" ",e.header," "),_(),f("ngTemplateOutlet",e.titleTemplate)}}function nk(s,t){s&1&&pe(0)}function sk(s,t){if(s&1&&(T(0,"div",10),fe(1),S(2,nk,1,0,"ng-container",6),I()),s&2){let e=v();_(),Xt(" ",e.subheader," "),_(),f("ngTemplateOutlet",e.subtitleTemplate)}}function rk(s,t){s&1&&pe(0)}function ok(s,t){s&1&&pe(0)}function ak(s,t){if(s&1&&(T(0,"div",11),ct(1,2),S(2,ok,1,0,"ng-container",6),I()),s&2){let e=v();_(2),f("ngTemplateOutlet",e.footerTemplate)}}var v8=(()=>{class s{el;header;subheader;set style(e){ae.equals(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=ei(null);constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(i){return new(i||s)(U(Ve))};static \u0275cmp=$({type:s,selectors:[["p-card"]],contentQueries:function(i,n,r){if(i&1&&(je(r,Og,5),je(r,Ll,5),je(r,Ge,4)),i&2){let o;ie(o=ne())&&(n.headerFacet=o.first),ie(o=ne())&&(n.footerFacet=o.first),ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:QE,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,n){i&1&&(bt(ZE),T(0,"div",0),S(1,ek,3,1,"div",1),T(2,"div",2),S(3,ik,3,2,"div",3)(4,sk,3,2,"div",4),T(5,"div",5),ct(6),S(7,rk,1,0,"ng-container",6),I(),S(8,ak,3,1,"div",7),I()()),i&2&&(W(n.styleClass),f("ngClass","p-card p-component")("ngStyle",n._style()),k("data-pc-name","card"),_(),f("ngIf",n.headerFacet||n.headerTemplate),_(2),f("ngIf",n.header||n.titleTemplate),_(),f("ngIf",n.subheader||n.subtitleTemplate),_(3),f("ngTemplateOutlet",n.contentTemplate),_(),f("ngIf",n.footerFacet||n.footerTemplate))},dependencies:[Le,He,qe,Ne],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return s})(),ed=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Oe]})}return s})();var lk=["*"],w8=(()=>{class s{style;styleClass;static \u0275fac=function(i){return new(i||s)};static \u0275cmp=$({type:s,selectors:[["p-inputGroup"]],hostAttrs:[1,"p-element","p-inputgroup"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:lk,decls:2,vars:3,consts:[[1,"p-inputgroup",3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(bt(),T(0,"div",0),ct(1),I()),i&2&&(f("ngClass",n.styleClass)("ngStyle",n.style),k("data-pc-name","inputgroup"))},dependencies:[Le,Ne],encapsulation:2})}return s})(),td=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Oe]})}return s})();var ck=["*"],I8=(()=>{class s{style;styleClass;static \u0275fac=function(i){return new(i||s)};static \u0275cmp=$({type:s,selectors:[["p-inputGroupAddon"]],hostAttrs:[1,"p-element","p-inputgroup-addon"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:ck,decls:2,vars:3,consts:[[3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(bt(),T(0,"div",0),ct(1),I()),i&2&&(f("ngClass",n.styleClass)("ngStyle",n.style),k("data-pc-name","inputgroupaddon"))},dependencies:[Le,Ne],encapsulation:2})}return s})(),id=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Oe]})}return s})();var nd=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["PlusIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var sd=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["UploadIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var Ur=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[Ce,_e],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1)(3,"path",2)(4,"path",3),I(),T(5,"defs")(6,"clipPath",4),P(7,"rect",5),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(5),f("id",n.pathId))},encapsulation:2})}return s})();var Hr=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["InfoCircleIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var zr=(()=>{class s extends De{pathId;ngOnInit(){this.pathId="url(#"+Ye()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(s)))(n||s)}})();static \u0275cmp=$({type:s,selectors:[["TimesCircleIcon"]],standalone:!0,features:[Ce,_e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(Ie(),T(0,"svg",0)(1,"g"),P(2,"path",1),I(),T(3,"defs")(4,"clipPath",2),P(5,"rect",3),I()()()),i&2&&(W(n.getClassNames()),k("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),_(),k("clip-path",n.pathId),_(3),f("id",n.pathId))},encapsulation:2})}return s})();var hk=(s,t)=>({showTransitionParams:s,hideTransitionParams:t}),uk=s=>({value:"visible",params:s});function dk(s,t){if(s&1&&P(0,"span"),s&2){let e=v().$implicit;W("p-message-icon pi "+e.icon),k("data-pc-section","icon")}}function pk(s,t){s&1&&P(0,"CheckIcon"),s&2&&k("data-pc-section","icon")}function fk(s,t){s&1&&P(0,"InfoCircleIcon"),s&2&&k("data-pc-section","icon")}function mk(s,t){s&1&&P(0,"TimesCircleIcon"),s&2&&k("data-pc-section","icon")}function gk(s,t){s&1&&P(0,"ExclamationTriangleIcon"),s&2&&k("data-pc-section","icon")}function _k(s,t){if(s&1&&(T(0,"span",10),ee(1),S(2,pk,1,1,"CheckIcon",11)(3,fk,1,1,"InfoCircleIcon",11)(4,mk,1,1,"TimesCircleIcon",11)(5,gk,1,1,"ExclamationTriangleIcon",11),te(),I()),s&2){let e=v().$implicit;_(2),f("ngIf",e.severity==="success"),_(),f("ngIf",e.severity==="info"),_(),f("ngIf",e.severity==="error"),_(),f("ngIf",e.severity==="warn")}}function vk(s,t){if(s&1&&P(0,"span",14),s&2){let e=v(2).$implicit;f("innerHTML",e.summary,So),k("data-pc-section","summary")}}function yk(s,t){if(s&1&&P(0,"span",15),s&2){let e=v(2).$implicit;f("innerHTML",e.detail,So),k("data-pc-section","detail")}}function bk(s,t){if(s&1&&(ee(0),S(1,vk,1,2,"span",12)(2,yk,1,2,"span",13),te()),s&2){let e=v().$implicit;_(),f("ngIf",e.summary),_(),f("ngIf",e.detail)}}function Ck(s,t){if(s&1&&(T(0,"span",18),fe(1),I()),s&2){let e=v(2).$implicit;k("data-pc-section","summary"),_(),We(e.summary)}}function wk(s,t){if(s&1&&(T(0,"span",19),fe(1),I()),s&2){let e=v(2).$implicit;k("data-pc-section","detail"),_(),We(e.detail)}}function xk(s,t){if(s&1&&S(0,Ck,2,2,"span",16)(1,wk,2,2,"span",17),s&2){let e=v().$implicit;f("ngIf",e.summary),_(),f("ngIf",e.detail)}}function Sk(s,t){if(s&1){let e=Z();T(0,"button",20),z("click",function(){O(e);let n=v().index,r=v(2);return E(r.removeMessage(n))}),P(1,"TimesIcon",21),I()}if(s&2){let e=v(3);k("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),_(),f("styleClass","p-message-close-icon"),k("data-pc-section","closeicon")}}function Tk(s,t){if(s&1&&(T(0,"div",5)(1,"div",6),S(2,dk,1,3,"span",7)(3,_k,6,4,"span",8)(4,bk,3,2,"ng-container",3)(5,xk,2,2,"ng-template",null,1,It)(7,Sk,2,4,"button",9),I()()),s&2){let e,i=t.$implicit,n=at(6),r=v(2);W("p-message p-message-"+i.severity),f("@messageAnimation",he(13,uk,Pe(10,hk,r.showTransitionOptions,r.hideTransitionOptions))),_(),k("data-pc-section","wrapper")("id",i.id||null),_(),f("ngIf",i.icon),_(),f("ngIf",!i.icon),_(),f("ngIf",!r.escape)("ngIfElse",n),_(3),f("ngIf",r.closable&&((e=i.closable)!==null&&e!==void 0?e:!0))}}function Ik(s,t){if(s&1&&(ee(0),S(1,Tk,8,15,"div",4),te()),s&2){let e=v();_(),f("ngForOf",e.messages)}}function Dk(s,t){s&1&&pe(0)}function Ok(s,t){if(s&1&&(T(0,"div",22)(1,"div",6),S(2,Dk,1,0,"ng-container",23),I()()),s&2){let e=v();f("ngClass","p-message p-message-"+e.severity),_(2),f("ngTemplateOutlet",e.contentTemplate)}}var l0=(()=>{class s{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new G;onClose=new G;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,i,n,r){this.messageService=e,this.el=i,this.cd=n,this.config=r}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);let i=e.filter(n=>this.key===n.key);this.messages=this.messages?[...this.messages,...i]:[...i],this.startMessageLifes(i),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return e&&e.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){let i=this.messages[e];this.messages=this.messages?.filter((n,r)=>r!==e),i&&this.onClose.emit(i),this.valueChange.emit(this.messages)}get icon(){let e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(i=>i.life&&this.startMessageLife(i))}startMessageLife(e){let i=Tf(e.life).subscribe(()=>{this.messages=this.messages?.filter(n=>n!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(n=>n!==i),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(i)}static \u0275fac=function(i){return new(i||s)(U(Fr,8),U(Ve),U(Ue),U(ht))};static \u0275cmp=$({type:s,selectors:[["p-messages"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",B],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",B],key:"key",escape:[2,"escape","escape",B],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[Me],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(i,n){if(i&1&&(T(0,"div",2),S(1,Ik,2,1,"ng-container",3)(2,Ok,3,2,"ng-template",null,0,It),I()),i&2){let r=at(3);W(n.styleClass),f("ngStyle",n.style),k("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),_(),f("ngIf",!n.contentTemplate)("ngIfElse",r)}},dependencies:()=>[Le,ti,He,qe,Ne,zt,ai,Hr,zr,Ur,ut],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[Ti("messageAnimation",[Ft(":enter",[Ct({opacity:0,transform:"translateY(-25%)"}),Lt("{{showTransitionParams}}")]),Ft(":leave",[Lt("{{hideTransitionParams}}",Ct({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return s})(),rd=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,si,ai,Hr,zr,Ur,ut,Oe,Oe]})}return s})();var kk=(s,t)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":s,"p-progressbar-indeterminate":t}),Mk=(s,t)=>({width:s,display:"flex",background:t}),Ak=s=>({$implicit:s}),Fk=s=>({display:s}),Vk=s=>({background:s});function Rk(s,t){if(s&1&&(T(0,"div",7),fe(1),I()),s&2){let e=v(2);f("ngStyle",he(4,Fk,e.value!=null&&e.value!==0?"flex":"none")),k("data-pc-section","label"),_(),Qa(" ",e.value,"",e.unit," ")}}function Lk(s,t){s&1&&pe(0)}function Pk(s,t){if(s&1&&(T(0,"div",3)(1,"div",4),S(2,Rk,2,6,"div",5)(3,Lk,1,0,"ng-container",6),I()()),s&2){let e=v();f("ngStyle",Pe(5,Mk,e.value+"%",e.color)),k("data-pc-section","value"),_(2),f("ngIf",e.showValue&&!e.contentTemplate),_(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",he(8,Ak,e.value))}}function Nk(s,t){if(s&1&&(T(0,"div",8),P(1,"div",3),I()),s&2){let e=v();k("data-pc-section","container"),_(),f("ngStyle",he(3,Vk,e.color)),k("data-pc-section","value")}}var c0=(()=>{class s{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template}})}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=$({type:s,selectors:[["p-progressBar"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",ge],showValue:[2,"showValue","showValue",B],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[Me],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(i,n){i&1&&(T(0,"div",0),S(1,Pk,4,10,"div",1)(2,Nk,2,5,"div",2),I()),i&2&&(W(n.styleClass),f("ngStyle",n.style)("ngClass",Pe(11,kk,n.mode==="determinate",n.mode==="indeterminate")),k("aria-valuemin",0)("aria-valuenow",n.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),_(),f("ngIf",n.mode==="determinate"),_(),f("ngIf",n.mode==="indeterminate"))},dependencies:[Le,He,qe,Ne],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return s})(),od=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te]})}return s})();var Bk=["advancedfileinput"],Uk=["basicfileinput"],Hk=["content"],zk=(s,t,e,i,n)=>({$implicit:s,uploadedFiles:t,chooseCallback:e,clearCallback:i,uploadCallback:n}),Wk=(s,t,e,i,n,r,o,a)=>({$implicit:s,uploadedFiles:t,chooseCallback:e,clearCallback:i,removeUploadedFileCallback:n,removeFileCallback:r,progress:o,messages:a}),Yk=(s,t)=>({"p-focus":s,"p-disabled":t}),Gk=(s,t,e,i)=>({"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":s,"p-fileupload-choose-selected":t,"p-focus":e,"p-disabled":i});function $k(s,t){if(s&1&&P(0,"span",21),s&2){let e=v(3);W(e.chooseIcon),f("ngClass","p-button-icon p-button-icon-left"),k("aria-label",!0)("data-pc-section","chooseicon")}}function qk(s,t){s&1&&P(0,"PlusIcon",24),s&2&&(f("styleClass","p-button-icon p-button-icon-left"),k("aria-label",!0)("data-pc-section","chooseicon"))}function Xk(s,t){}function Kk(s,t){s&1&&S(0,Xk,0,0,"ng-template")}function Zk(s,t){if(s&1&&(T(0,"span",25),S(1,Kk,1,0,null,11),I()),s&2){let e=v(4);k("aria-label",!0)("data-pc-section","chooseicon"),_(),f("ngTemplateOutlet",e.chooseIconTemplate)}}function Qk(s,t){if(s&1&&(ee(0),S(1,qk,1,3,"PlusIcon",22)(2,Zk,2,3,"span",23),te()),s&2){let e=v(3);_(),f("ngIf",!e.chooseIconTemplate),_(),f("ngIf",e.chooseIconTemplate)}}function Jk(s,t){if(s&1&&P(0,"span",28),s&2){let e=v(4);f("ngClass",e.uploadIcon),k("aria-hidden",!0)}}function e3(s,t){s&1&&P(0,"UploadIcon",24),s&2&&f("styleClass","p-button-icon p-button-icon-left")}function t3(s,t){}function i3(s,t){s&1&&S(0,t3,0,0,"ng-template")}function n3(s,t){if(s&1&&(T(0,"span",25),S(1,i3,1,0,null,11),I()),s&2){let e=v(5);k("aria-hidden",!0),_(),f("ngTemplateOutlet",e.uploadIconTemplate)}}function s3(s,t){if(s&1&&(ee(0),S(1,e3,1,1,"UploadIcon",22)(2,n3,2,2,"span",23),te()),s&2){let e=v(4);_(),f("ngIf",!e.uploadIconTemplate),_(),f("ngIf",e.uploadIconTemplate)}}function r3(s,t){if(s&1){let e=Z();T(0,"p-button",26),z("onClick",function(){O(e);let n=v(3);return E(n.upload())}),S(1,Jk,1,2,"span",27)(2,s3,3,2,"ng-container",9),I()}if(s&2){let e=v(3);f("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.uploadStyleClass),_(),f("ngIf",e.uploadIcon),_(),f("ngIf",!e.uploadIcon)}}function o3(s,t){if(s&1&&P(0,"span",28),s&2){let e=v(4);f("ngClass",e.cancelIcon)}}function a3(s,t){s&1&&P(0,"TimesIcon",24),s&2&&(f("styleClass","p-button-icon p-button-icon-left"),k("aria-hidden",!0))}function l3(s,t){}function c3(s,t){s&1&&S(0,l3,0,0,"ng-template")}function h3(s,t){if(s&1&&(T(0,"span",25),S(1,c3,1,0,null,11),I()),s&2){let e=v(5);k("aria-hidden",!0),_(),f("ngTemplateOutlet",e.cancelIconTemplate)}}function u3(s,t){if(s&1&&(ee(0),S(1,a3,1,2,"TimesIcon",22)(2,h3,2,2,"span",23),te()),s&2){let e=v(4);_(),f("ngIf",!e.cancelIconTemplate),_(),f("ngIf",e.cancelIconTemplate)}}function d3(s,t){if(s&1){let e=Z();T(0,"p-button",26),z("onClick",function(){O(e);let n=v(3);return E(n.clear())}),S(1,o3,1,1,"span",27)(2,u3,3,2,"ng-container",9),I()}if(s&2){let e=v(3);f("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cancelStyleClass),_(),f("ngIf",e.cancelIcon),_(),f("ngIf",!e.cancelIcon)}}function p3(s,t){if(s&1){let e=Z();ee(0),T(1,"span",17),z("focus",function(){O(e);let n=v(2);return E(n.onFocus())})("blur",function(){O(e);let n=v(2);return E(n.onBlur())})("click",function(){O(e);let n=v(2);return E(n.choose())})("keydown.enter",function(){O(e);let n=v(2);return E(n.choose())}),T(2,"input",7,0),z("change",function(n){O(e);let r=v(2);return E(r.onFileSelect(n))}),I(),S(4,$k,1,5,"span",18)(5,Qk,3,2,"ng-container",9),T(6,"span",19),fe(7),I()(),S(8,r3,3,5,"p-button",20)(9,d3,3,5,"p-button",20),te()}if(s&2){let e=v(2);_(),W(e.chooseStyleClass),f("ngClass",Pe(16,Yk,e.focus,e.disabled||e.isChooseDisabled())),k("data-pc-section","choosebutton"),_(),f("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),k("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),_(2),f("ngIf",e.chooseIcon),_(),f("ngIf",!e.chooseIcon),_(),k("data-pc-section","choosebuttonlabel"),_(),We(e.chooseButtonLabel),_(),f("ngIf",!e.auto&&e.showUploadButton),_(),f("ngIf",!e.auto&&e.showCancelButton)}}function f3(s,t){s&1&&pe(0)}function m3(s,t){s&1&&pe(0)}function g3(s,t){if(s&1&&P(0,"p-progressBar",29),s&2){let e=v(2);f("value",e.progress)("showValue",!1)}}function _3(s,t){if(s&1){let e=Z();T(0,"div")(1,"img",35),z("error",function(n){O(e);let r=v(5);return E(r.imageError(n))}),I()()}if(s&2){let e=v().$implicit,i=v(4);_(),f("src",e.objectURL,To)("width",i.previewWidth)}}function v3(s,t){s&1&&P(0,"TimesIcon")}function y3(s,t){}function b3(s,t){s&1&&S(0,y3,0,0,"ng-template")}function C3(s,t){if(s&1){let e=Z();T(0,"div",32),S(1,_3,2,2,"div",9),T(2,"div",33),fe(3),I(),T(4,"div"),fe(5),I(),T(6,"div")(7,"button",34),z("click",function(n){let r=O(e).index,o=v(4);return E(o.remove(n,r))}),S(8,v3,1,0,"TimesIcon",9)(9,b3,1,0,null,11),I()()()}if(s&2){let e=t.$implicit,i=v(4);_(),f("ngIf",i.isImage(e)),_(2),We(e.name),_(2),We(i.formatSize(e.size)),_(2),W(i.removeStyleClass),f("disabled",i.uploading),_(),f("ngIf",!i.cancelIconTemplate),_(),f("ngTemplateOutlet",i.cancelIconTemplate)}}function w3(s,t){if(s&1&&(T(0,"div"),S(1,C3,10,8,"div",31),I()),s&2){let e=v(3);_(),f("ngForOf",e.files)}}function x3(s,t){}function S3(s,t){if(s&1&&(T(0,"div"),S(1,x3,0,0,"ng-template",36),I()),s&2){let e=v(3);_(),f("ngForOf",e.files)("ngForTemplate",e.fileTemplate)}}function T3(s,t){if(s&1&&(T(0,"div",30),S(1,w3,2,1,"div",9)(2,S3,2,2,"div",9),I()),s&2){let e=v(2);_(),f("ngIf",!e.fileTemplate),_(),f("ngIf",e.fileTemplate)}}function I3(s,t){s&1&&pe(0)}function D3(s,t){s&1&&pe(0)}function O3(s,t){if(s&1&&(T(0,"div",37),S(1,D3,1,0,"ng-container",11),I()),s&2){let e=v(2);_(),f("ngTemplateOutlet",e.emptyTemplate)}}function E3(s,t){if(s&1){let e=Z();T(0,"div",6)(1,"input",7,0),z("change",function(n){O(e);let r=v();return E(r.onFileSelect(n))}),I(),T(3,"div",8),S(4,p3,10,19,"ng-container",9)(5,f3,1,0,"ng-container",10)(6,m3,1,0,"ng-container",11),I(),T(7,"div",12,1),z("dragenter",function(n){O(e);let r=v();return E(r.onDragEnter(n))})("dragleave",function(n){O(e);let r=v();return E(r.onDragLeave(n))})("drop",function(n){O(e);let r=v();return E(r.onDrop(n))}),S(9,g3,1,2,"p-progressBar",13),P(10,"p-messages",14),S(11,T3,3,2,"div",15)(12,I3,1,0,"ng-container",10)(13,O3,2,1,"div",16),I()()}if(s&2){let e=v();W(e.styleClass),f("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",e.style),k("data-pc-name","fileupload")("data-pc-section","root"),_(),$n("display","none"),f("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),k("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),_(2),k("data-pc-section","buttonbar"),_(),f("ngIf",!e.headerTemplate),_(),f("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Ja(27,zk,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.upload.bind(e))),_(),f("ngTemplateOutlet",e.toolbarTemplate),_(),k("data-pc-section","content"),_(2),f("ngIf",e.hasFiles()),_(),f("value",e.msgs)("enableService",!1),_(),f("ngIf",e.hasFiles()),_(),f("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Qf(33,Wk,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.removeUploadedFile.bind(e),e.remove.bind(e),e.progress,e.msgs)),_(),f("ngIf",e.emptyTemplate&&!e.hasFiles()&&!e.hasUploadedFiles())}}function k3(s,t){if(s&1&&P(0,"span",28),s&2){let e=v(3);f("ngClass",e.uploadIcon)}}function M3(s,t){s&1&&P(0,"UploadIcon",24),s&2&&f("styleClass","p-button-icon p-button-icon-left")}function A3(s,t){}function F3(s,t){s&1&&S(0,A3,0,0,"ng-template")}function V3(s,t){if(s&1&&(T(0,"span",25),S(1,F3,1,0,null,11),I()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.uploadIconTemplate)}}function R3(s,t){if(s&1&&(ee(0),S(1,M3,1,1,"UploadIcon",22)(2,V3,2,1,"span",23),te()),s&2){let e=v(3);_(),f("ngIf",!e.uploadIconTemplate),_(),f("ngIf",e.uploadIconTemplate)}}function L3(s,t){if(s&1&&(ee(0),S(1,k3,1,1,"span",27)(2,R3,3,2,"ng-container",9),te()),s&2){let e=v(2);_(),f("ngIf",e.uploadIcon),_(),f("ngIf",!e.uploadIcon)}}function P3(s,t){if(s&1&&P(0,"span",44),s&2){let e=v(3);f("ngClass",e.chooseIcon)}}function N3(s,t){s&1&&P(0,"PlusIcon",24),s&2&&(f("styleClass","p-button-icon p-button-icon-left pi"),k("aria-hidden",!0)("data-pc-section","uploadicon"))}function j3(s,t){}function B3(s,t){s&1&&S(0,j3,0,0,"ng-template")}function U3(s,t){if(s&1&&(T(0,"span",46),S(1,B3,1,0,null,11),I()),s&2){let e=v(4);k("aria-hidden",!0)("data-pc-section","uploadicon"),_(),f("ngTemplateOutlet",e.chooseIconTemplate)}}function H3(s,t){if(s&1&&(ee(0),S(1,N3,1,3,"PlusIcon",22)(2,U3,2,3,"span",45),te()),s&2){let e=v(3);_(),f("ngIf",!e.chooseIconTemplate),_(),f("ngIf",e.chooseIconTemplate)}}function z3(s,t){if(s&1&&S(0,P3,1,1,"span",43)(1,H3,3,2,"ng-container",9),s&2){let e=v(2);f("ngIf",e.chooseIcon),_(),f("ngIf",!e.chooseIcon)}}function W3(s,t){if(s&1&&(T(0,"span",19),fe(1),I()),s&2){let e=v(2);k("data-pc-section","label"),_(),We(e.basicButtonLabel)}}function Y3(s,t){if(s&1){let e=Z();T(0,"input",47,3),z("change",function(n){O(e);let r=v(2);return E(r.onFileSelect(n))})("focus",function(){O(e);let n=v(2);return E(n.onFocus())})("blur",function(){O(e);let n=v(2);return E(n.onBlur())}),I()}if(s&2){let e=v(2);f("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled),k("aria-label",e.browseFilesLabel)("data-pc-section","input")}}function G3(s,t){if(s&1){let e=Z();T(0,"div",38),P(1,"p-messages",14),T(2,"span",39),z("click",function(){O(e);let n=v();return E(n.onBasicUploaderClick())})("keydown",function(n){O(e);let r=v();return E(r.onBasicKeydown(n))}),S(3,L3,3,2,"ng-container",40)(4,z3,2,2,"ng-template",null,2,It)(6,W3,2,2,"span",41)(7,Y3,2,5,"input",42),I()()}if(s&2){let e=at(5),i=v();k("data-pc-name","fileupload"),_(),f("value",i.msgs)("enableService",!1),_(),W(i.styleClass),f("ngClass",qn(12,Gk,!i.basicButtonLabel,i.hasFiles(),i.focus,i.disabled))("ngStyle",i.style),k("data-pc-section","choosebutton"),_(),f("ngIf",i.hasFiles()&&!i.auto)("ngIfElse",e),_(3),f("ngIf",i.basicButtonLabel),_(),f("ngIf",!i.hasFiles())}}var NL=(()=>{class s{document;platformId;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new G;onSend=new G;onUpload=new G;onError=new G;onClear=new G;onRemove=new G;onSelect=new G;onProgress=new G;uploadHandler=new G;onImageError=new G;onRemoveUploadedFile=new G;templates;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let i=0;i<e.length;i++){let n=e[i];this.validate(n)&&(this.isImage(n)&&(n.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[i]))),this._files.push(e[i]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];fileUploadSubcription;constructor(e,i,n,r,o,a,c,u,d){this.document=e,this.platformId=i,this.renderer=n,this.el=r,this.sanitizer=o,this.zone=a,this.http=c,this.cd=u,this.config=d}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"file":this.fileTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"toolbar":this.toolbarTemplate=e.template;break;case"chooseicon":this.chooseIconTemplate=e.template;break;case"uploadicon":this.uploadIconTemplate=e.template;break;case"cancelicon":this.cancelIconTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;default:this.fileTemplate=e.template;break}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){Ot(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let i=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let n=0;n<i.length;n++){let r=i[n];this.isFileSelected(r)||this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[n]))),this.files.push(i[n]))}this.onSelect.emit({originalEvent:e,files:i,currentFiles:this.files}),this.checkFileLimit(i),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let i of this.files)if(i.name+i.type+i.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(Ot(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){return this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",e.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):this.maxFileSize&&e.size>this.maxFileSize?(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",e.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),!1):!0}isFileTypeValid(e){let i=this.accept?.split(",").map(n=>n.trim());for(let n of i)if(this.isWildcard(n)?this.getTypeClass(e.type)===this.getTypeClass(n):e.type==n||this.getFileExtension(e).toLowerCase()===n.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let i=0;i<this.files.length;i++)e.append(this.name,this.files[i],this.files[i].name);this.cancelUploadRequest(),this.fileUploadSubcription=this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(i=>{switch(i.type){case ji.Sent:this.onSend.emit({originalEvent:i,formData:e});break;case ji.Response:this.uploading=!1,this.progress=0,i.status>=200&&i.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:i,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles.push(...this.files),this.clear();break;case ji.UploadProgress:{i.loaded&&(this.progress=Math.round(i.loaded*100/i.total)),this.onProgress.emit({originalEvent:i,progress:this.progress});break}}this.cd.markForCheck()},i=>{this.uploading=!1,this.onError.emit({files:this.files,error:i})})}}clear(){this.files=[],this.uploadedFileCount=0,this.cancelUploadRequest(),this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(e,i){this.cancelUploadRequest(),this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[i]}),this.files.splice(i,1),this.checkFileLimit(this.files)}removeUploadedFile(e){let i=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:i,files:this.uploadedFiles})}cancelUploadRequest(){this.fileUploadSubcription&&(this.fileUploadSubcription.unsubscribe(),this.fileUploadSubcription=void 0)}isFileLimitExceeded(){let i=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=i&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<i}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(e){this.msgs??=[];let i=this.msgs.length>0&&this.fileLimit<e.length;(this.isFileLimitExceeded()||i)&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(M.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||M.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){M.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let i=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||i&&i.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let r=this.getTranslation(_t.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let o=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,o)).toFixed(3)} ${r[o]}`}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(_t.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(_t.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(_t.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(_t.ARIA)[_t.BROWSE_FILES]}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||s)(U(Re),U(gt),U(pt),U(Ve),U(Bh),U(nt),U(xs),U(Ue),U(ht))};static \u0275cmp=$({type:s,selectors:[["p-fileUpload"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&(ye(Bk,5),ye(Uk,5),ye(Hk,5)),i&2){let r;ie(r=ne())&&(n.advancedFileInput=r.first),ie(r=ne())&&(n.basicFileInput=r.first),ie(r=ne())&&(n.content=r.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",B],accept:"accept",disabled:[2,"disabled","disabled",B],auto:[2,"auto","auto",B],withCredentials:[2,"withCredentials","withCredentials",B],maxFileSize:[2,"maxFileSize","maxFileSize",ge],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",ge],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",B],showCancelButton:[2,"showCancelButton","showCancelButton",B],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",B],fileLimit:[2,"fileLimit","fileLimit",e=>ge(e,null)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[Me],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["chooseSection",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],["type","file",3,"change","multiple","accept","disabled"],[1,"p-fileupload-buttonbar"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],["class","p-fileupload-empty",4,"ngIf"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"focus","blur","click","keydown.enter","ngClass"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"onClick","label","disabled","styleClass"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"click","disabled"],[3,"error","src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload-empty"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"change","focus","blur","accept","multiple","disabled"]],template:function(i,n){i&1&&S(0,E3,14,42,"div",4)(1,G3,8,17,"div",5),i&2&&(f("ngIf",n.mode==="advanced"),_(),f("ngIf",n.mode==="basic"))},dependencies:()=>[Le,ti,He,qe,Ne,ns,Wu,c0,l0,zt,nd,sd,ut],styles:[`@layer primeng{.p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}}
`],encapsulation:2,changeDetection:0})}return s})(),ad=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Oe,Ki,od,rd,si,nd,sd,ut,Oe,Ki,od,rd]})}return s})();var cd=cC(h0()),ha=class{static generateDatePeriods1(t,e){let i=(0,cd.default)(t,"DD-MM-YYYY");return Array.from({length:e},(n,r)=>{let o=i.clone().add(r,"months"),a=i.date(),c=o.daysInMonth(),u=Math.min(a,c);return o.date(u),o.format("DD-MM-YYYY")})}static generateDatePeriods(t,e,i){let n=(0,cd.default)(t,"DD-MM-YYYY",!0);if(!n.isValid())throw new Error("Invalid start date format. Please use 'DD-MM-YYYY'.");let o={M:1,BIM:2,Q:3,H:6,A:12}[i];return Array.from({length:e},(a,c)=>{let u=n.clone().add(c*o,"months"),d=n.date(),g=u.daysInMonth(),y=Math.min(d,g);return u.date(y),u.format("DD-MM-YYYY")})}};var u0=(()=>{class s{units=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];tens=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];thousands=["","Thousand","Million","Billion"];convert(e){return e<0?"Minus "+this.numberToWords(Math.abs(e))+" Rials Only":this.numberToWords(e)+" Rials Only"}numberToWords(e){if(e===0)return"Zero";let i="";for(let n=0;n<this.thousands.length&&e!==0;n++){let r=e%1e3;r>0&&(i=this.convertHundreds(r)+(this.thousands[n]?" "+this.thousands[n]:"")+" "+i),e=Math.floor(e/1e3)}return i.trim()}convertHundreds(e){let i="";return e>=100&&(i+=this.units[Math.floor(e/100)]+" Hundred",e%=100,e>0&&(i+=" ")),e<20?i+=this.units[e]:(i+=this.tens[Math.floor(e/10)],e%10>0&&(i+=" "+this.units[e%10])),i.trim()}static \u0275fac=function(i){return new(i||s)};static \u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function V(s,t,e){return(t=function(i){var n=function(r,o){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var c=a.call(r,o||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}(i,"string");return typeof n=="symbol"?n:n+""}(t))in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function d0(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),e.push.apply(e,i)}return e}function F(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?d0(Object(e),!0).forEach(function(i){V(s,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):d0(Object(e)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(e,i))})}return s}function St(s,t){if(s==null)return{};var e,i,n=function(o,a){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(a.indexOf(u)>=0)continue;c[u]=o[u]}return c}(s,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(s,e)&&(n[e]=s[e])}return n}function fs(s,t){return t||(t=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(t)}}))}var ec=class{constructor(){V(this,"browserShadowBlurConstant",1),V(this,"DPI",96),V(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),V(this,"perfLimitSizeTotal",2097152),V(this,"maxCacheSideLimit",4096),V(this,"minCacheSideLimit",256),V(this,"disableStyleCopyPaste",!1),V(this,"enableGLFiltering",!0),V(this,"textureSize",4096),V(this,"forceGLPutImageData",!1),V(this,"cachesBoundsOfCurve",!1),V(this,"fontPaths",{}),V(this,"NUM_FRACTION_DIGITS",4)}},Xe=new class extends ec{constructor(s){super(),this.configure(s)}configure(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,s)}addFonts(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=F(F({},this.fontPaths),s)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(s=>{delete this.fontPaths[s]})}clearFonts(){this.fontPaths={}}restoreDefaults(s){let t=new ec,e=s?.reduce((i,n)=>(i[n]=t[n],i),{})||t;this.configure(e)}},hs=function(s){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return console[s]("fabric",...e)},Yi=class extends Error{constructor(t,e){super("fabric: ".concat(t),e)}},tc=class extends Yi{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}},wd=class{},xd=class extends wd{testPrecision(t,e){let i="precision ".concat(e,` float;
void main(){}`),n=t.createShader(t.FRAGMENT_SHADER);return!!n&&(t.shaderSource(n,i),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS))}queryWebGL(t){let e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(i=>this.testPrecision(e,i)),e.getExtension("WEBGL_lose_context").loseContext(),hs("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}},q3={},p0;var dn=()=>p0||(p0={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new xd,dispose(){},copyPasteData:q3}),ro=()=>dn().document,Oc=()=>dn().window,H0=()=>{var s;return Math.max((s=Xe.devicePixelRatio)!==null&&s!==void 0?s:Oc().devicePixelRatio,1)},fa=new class{constructor(){V(this,"charWidthsCache",{}),V(this,"boundsOfCurveCache",{})}getFontCache(s){let{fontFamily:t,fontStyle:e,fontWeight:i}=s;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});let n=this.charWidthsCache[t],r="".concat(e.toLowerCase(),"_").concat((i+"").toLowerCase());return n[r]||(n[r]={}),n[r]}clearFontCache(s){(s=(s||"").toLowerCase())?this.charWidthsCache[s]&&delete this.charWidthsCache[s]:this.charWidthsCache={}}limitDimsByArea(s){let{perfLimitSizeTotal:t}=Xe,e=Math.sqrt(t*s);return[Math.floor(e),Math.floor(t/e)]}},Sd="6.4.3";function qs(){}var us=Math.PI/2,Rn=2*Math.PI,ep=Math.PI/180,hi=Object.freeze([1,0,0,1,0,0]),tp=16,ss=.4477152502,Fe="center",rt="left",gi="top",Td="bottom",Vt="right",_i="none",ip=/\r?\n/,z0="moving",Ec="scaling",W0="rotating",np="rotate",Y0="skewing",ba="resizing",G0="modifyPoly",X3="modifyPath",ic="changed",kc="scale",ui="scaleX",Ai="scaleY",oo="skewX",ao="skewY",Nt="fill",vi="stroke",nc="modified",Yr="json",hd="svg",oe=new class{constructor(){this[Yr]=new Map,this[hd]=new Map}has(s){return this[Yr].has(s)}getClass(s){let t=this[Yr].get(s);if(!t)throw new Yi("No class registered for ".concat(s));return t}setClass(s,t){t?this[Yr].set(t,s):(this[Yr].set(s.type,s),this[Yr].set(s.type.toLowerCase(),s))}getSVGClass(s){return this[hd].get(s)}setSVGClass(s,t){this[hd].set(t??s.type.toLowerCase(),s)}},sc=new class extends Array{remove(s){let t=this.indexOf(s);t>-1&&this.splice(t,1)}cancelAll(){let s=this.splice(0);return s.forEach(t=>t.abort()),s}cancelByCanvas(s){if(!s)return[];let t=this.filter(e=>{var i;return e.target===s||typeof e.target=="object"&&((i=e.target)===null||i===void 0?void 0:i.canvas)===s});return t.forEach(e=>e.abort()),t}cancelByTarget(s){if(!s)return[];let t=this.filter(e=>e.target===s);return t.forEach(e=>e.abort()),t}},Id=class{constructor(){V(this,"__eventListeners",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(i=>{let[n,r]=i;this.on(n,r)}),()=>this.off(t);if(e){let i=t;return this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(e),()=>this.off(i,e)}return()=>!1}once(t,e){if(typeof t=="object"){let i=[];return Object.entries(t).forEach(n=>{let[r,o]=n;i.push(this.once(r,o))}),()=>i.forEach(n=>n())}if(e){let i=this.on(t,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.call(this,...r),i()});return i}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){let i=this.__eventListeners[t],n=i.indexOf(e);n>-1&&i.splice(n,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(t===void 0)for(let i in this.__eventListeners)this._removeEventListener(i);else typeof t=="object"?Object.entries(t).forEach(i=>{let[n,r]=i;this._removeEventListener(n,r)}):this._removeEventListener(t,e)}fire(t,e){var i;if(!this.__eventListeners)return;let n=(i=this.__eventListeners[t])===null||i===void 0?void 0:i.concat();if(n)for(let r=0;r<n.length;r++)n[r].call(this,e||{})}},Os=(s,t)=>{let e=s.indexOf(t);return e!==-1&&s.splice(e,1),s},tn=s=>{if(s===0)return 1;switch(Math.abs(s)/us){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},nn=s=>{if(s===0)return 0;let t=s/us,e=Math.sign(s);switch(t){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(s)},j=class s{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new s(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new s(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new s(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new s(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new s(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new s(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new s(this.x/t.x,this.y/t.y)}scalarDivide(t){return new s(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new s(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){let e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}midPointFrom(t){return this.lerp(t)}min(t){return new s(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new s(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){let e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i}clone(){return new s(this.x,this.y)}rotate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sp,i=nn(t),n=tn(t),r=this.subtract(e);return new s(r.x*n-r.y*i,r.x*i+r.y*n).add(e)}transform(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new s(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}},sp=new j(0,0),Ql=s=>!!s&&Array.isArray(s._objects);function $0(s){class t extends s{constructor(){super(...arguments),V(this,"_objects",[])}_onObjectAdded(i){}_onObjectRemoved(i){}_onStackOrderChanged(i){}add(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];let o=this._objects.push(...n);return n.forEach(a=>this._onObjectAdded(a)),o}insertAt(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this._objects.splice(i,0,...r),r.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){let i=this._objects,n=[];for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.forEach(c=>{let u=i.indexOf(c);u!==-1&&(i.splice(u,1),n.push(c),this._onObjectRemoved(c))}),n}forEachObject(i){this.getObjects().forEach((n,r,o)=>i(n,r,o))}getObjects(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return n.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...n))}item(i){return this._objects[i]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(i,n){return!!this._objects.includes(i)||!!n&&this._objects.some(r=>r instanceof t&&r.contains(i,!0))}complexity(){return this._objects.reduce((i,n)=>i+=n.complexity?n.complexity():0,0)}sendObjectToBack(i){return!(!i||i===this._objects[0])&&(Os(this._objects,i),this._objects.unshift(i),this._onStackOrderChanged(i),!0)}bringObjectToFront(i){return!(!i||i===this._objects[this._objects.length-1])&&(Os(this._objects,i),this._objects.push(i),this._onStackOrderChanged(i),!0)}sendObjectBackwards(i,n){if(!i)return!1;let r=this._objects.indexOf(i);if(r!==0){let o=this.findNewLowerIndex(i,r,n);return Os(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}bringObjectForward(i,n){if(!i)return!1;let r=this._objects.indexOf(i);if(r!==this._objects.length-1){let o=this.findNewUpperIndex(i,r,n);return Os(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}moveObjectTo(i,n){return i!==this._objects[n]&&(Os(this._objects,i),this._objects.splice(n,0,i),this._onStackOrderChanged(i),!0)}findNewLowerIndex(i,n,r){let o;if(r){o=n;for(let a=n-1;a>=0;--a)if(i.isOverlapping(this._objects[a])){o=a;break}}else o=n-1;return o}findNewUpperIndex(i,n,r){let o;if(r){o=n;for(let a=n+1;a<this._objects.length;++a)if(i.isOverlapping(this._objects[a])){o=a;break}}else o=n+1;return o}collectObjects(i){let{left:n,top:r,width:o,height:a}=i,{includeIntersecting:c=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=[],d=new j(n,r),g=d.add(new j(o,a));for(let y=this._objects.length-1;y>=0;y--){let b=this._objects[y];b.selectable&&b.visible&&(c&&b.intersectsWithRect(d,g)||b.isContainedWithinRect(d,g)||c&&b.containsPoint(d)||c&&b.containsPoint(g))&&u.push(b)}return u}}return t}var rc=class extends Id{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let e in t)this.set(e,t[e])}_setObject(t){for(let e in t)this._set(e,t[e])}set(t,e){return typeof t=="object"?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){let e=this.get(t);return typeof e=="boolean"&&this.set(t,!e),this}get(t){return this[t]}};function ma(s){return Oc().requestAnimationFrame(s)}function q0(s){return Oc().cancelAnimationFrame(s)}var K3=0,ds=()=>K3++,Rt=()=>{let s=ro().createElement("canvas");if(!s||s.getContext===void 0)throw new Yi("Failed to create `canvas` element");return s},X0=()=>ro().createElement("img"),rp=(s,t,e)=>s.toDataURL("image/".concat(t),e),Et=s=>s*ep,ps=s=>s/ep,K0=s=>s.every((t,e)=>t===hi[e]),ri=(s,t,e)=>new j(s).transform(t,e),Mi=s=>{let t=1/(s[0]*s[3]-s[1]*s[2]),e=[t*s[3],-t*s[1],-t*s[2],t*s[0],0,0],{x:i,y:n}=new j(s[4],s[5]).transform(e,!0);return e[4]=-i,e[5]=-n,e},kt=(s,t,e)=>[s[0]*t[0]+s[2]*t[1],s[1]*t[0]+s[3]*t[1],s[0]*t[2]+s[2]*t[3],s[1]*t[2]+s[3]*t[3],e?0:s[0]*t[4]+s[2]*t[5]+s[4],e?0:s[1]*t[4]+s[3]*t[5]+s[5]],Mc=(s,t)=>s.reduceRight((e,i)=>i&&e?kt(i,e,t):i||e,void 0)||hi.concat(),Z0=s=>{let[t,e]=s;return Math.atan2(e,t)},to=s=>{let t=Z0(s),e=Math.pow(s[0],2)+Math.pow(s[1],2),i=Math.sqrt(e),n=(s[0]*s[3]-s[2]*s[1])/i,r=Math.atan2(s[0]*s[2]+s[1]*s[3],e);return{angle:ps(t),scaleX:i,scaleY:n,skewX:ps(r),skewY:0,translateX:s[4]||0,translateY:s[5]||0}},lo=function(s){return[1,0,0,1,s,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function co(){let{angle:s=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:e=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=Et(s),n=tn(i),r=nn(i);return[n,r,-r,n,t?t-(n*t-r*e):0,e?e-(r*t+n*e):0]}var Ac=function(s){return[s,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,0,0]},Q0=s=>Math.tan(Et(s)),op=s=>[1,0,Q0(s),1,0,0],ap=s=>[1,Q0(s),0,1,0,0],Da=s=>{let{scaleX:t=1,scaleY:e=1,flipX:i=!1,flipY:n=!1,skewX:r=0,skewY:o=0}=s,a=Ac(i?-t:t,n?-e:e);return r&&(a=kt(a,op(r),!0)),o&&(a=kt(a,ap(o),!0)),a},J0=s=>{let{translateX:t=0,translateY:e=0,angle:i=0}=s,n=lo(t,e);i&&(n=kt(n,co({angle:i})));let r=Da(s);return K0(r)||(n=kt(n,r)),n},ga=function(s){let{signal:t,crossOrigin:e=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,n){if(t&&t.aborted)return n(new tc("loadImage"));let r=X0(),o;t&&(o=function(c){r.src="",n(c)},t.addEventListener("abort",o,{once:!0}));let a=function(){r.onload=r.onerror=null,o&&t?.removeEventListener("abort",o),i(r)};s?(r.onload=a,r.onerror=function(){o&&t?.removeEventListener("abort",o),n(new Yi("Error loading ".concat(r.src)))},e&&(r.crossOrigin=e),r.src=s):a()})},io=function(s){let{signal:t,reviver:e=qs}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((i,n)=>{let r=[];t&&t.addEventListener("abort",n,{once:!0}),Promise.all(s.map(o=>oe.getClass(o.type).fromObject(o,{signal:t}).then(a=>(e(o,a),r.push(a),a)))).then(i).catch(o=>{r.forEach(a=>{a.dispose&&a.dispose()}),n(o)}).finally(()=>{t&&t.removeEventListener("abort",n)})})},Oa=function(s){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((e,i)=>{let n=[];t&&t.addEventListener("abort",i,{once:!0});let r=Object.values(s).map(a=>a&&a.type&&oe.has(a.type)?io([a],{signal:t}).then(c=>{let[u]=c;return n.push(u),u}):a),o=Object.keys(s);Promise.all(r).then(a=>a.reduce((c,u,d)=>(c[o[d]]=u,c),{})).then(e).catch(a=>{n.forEach(c=>{c.dispose&&c.dispose()}),i(a)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},tr=function(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,e)=>(e in s&&(t[e]=s[e]),t),{})},lp=(s,t)=>Object.keys(s).reduce((e,i)=>(t(s[i],i,s)&&(e[i]=s[i]),e),{}),f0={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},ud=(s,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+6*(t-s)*e:e<.5?t:e<2/3?s+(t-s)*(2/3-e)*6:s),m0=(s,t,e,i)=>{s/=255,t/=255,e/=255;let n=Math.max(s,t,e),r=Math.min(s,t,e),o,a,c=(n+r)/2;if(n===r)o=a=0;else{let u=n-r;switch(a=c>.5?u/(2-n-r):u/(n+r),n){case s:o=(t-e)/u+(t<e?6:0);break;case t:o=(e-s)/u+2;break;case e:o=(s-t)/u+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*c),i]},g0=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(s)/(s.endsWith("%")?100:1)},Yl=s=>Math.min(Math.round(s),255).toString(16).toUpperCase().padStart(2,"0"),_0=s=>{let[t,e,i,n=1]=s,r=Math.round(.3*t+.59*e+.11*i);return[r,r,r,n]},di=class s{constructor(t){if(V(this,"isUnrecognised",!1),t)if(t instanceof s)this.setSource([...t._source]);else if(Array.isArray(t)){let[e,i,n,r=1]=t;this.setSource([e,i,n,r])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return t in f0&&(t=f0[t]),t==="transparent"?[255,255,255,0]:s.sourceFromHex(t)||s.sourceFromRgb(t)||s.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){let[t,e,i]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(i,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[t,e,i]=m0(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(i,"%)")}toHsla(){let[t,e,i,n]=m0(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(i,"%,").concat(n,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[t,e,i,n]=this.getSource();return"".concat(Yl(t)).concat(Yl(e)).concat(Yl(i)).concat(Yl(Math.round(255*n)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(_0(this.getSource())),this}toBlackWhite(t){let[e,,,i]=_0(this.getSource()),n=e<(t||127)?0:255;return this.setSource([n,n,n,i]),this}overlayWith(t){t instanceof s||(t=new s(t));let e=this.getSource(),i=t.getSource(),[n,r,o]=e.map((a,c)=>Math.round(.5*a+.5*i[c]));return this.setSource([n,r,o,e[3]]),this}static fromRgb(t){return s.fromRgba(t)}static fromRgba(t){return new s(s.sourceFromRgb(t))}static sourceFromRgb(t){let e=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(e){let[i,n,r]=e.slice(1,4).map(o=>{let a=parseFloat(o);return o.endsWith("%")?Math.round(2.55*a):a});return[i,n,r,g0(e[4])]}}static fromHsl(t){return s.fromHsla(t)}static fromHsla(t){return new s(s.sourceFromHsl(t))}static sourceFromHsl(t){let e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!e)return;let i=(s.parseAngletoDegrees(e[1])%360+360)%360/360,n=parseFloat(e[2])/100,r=parseFloat(e[3])/100,o,a,c;if(n===0)o=a=c=r;else{let u=r<=.5?r*(n+1):r+n-r*n,d=2*r-u;o=ud(d,u,i+1/3),a=ud(d,u,i),c=ud(d,u,i-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*c),g0(e[4])]}static fromHex(t){return new s(s.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let e=t.slice(t.indexOf("#")+1),i;i=e.length<=4?e.split("").map(c=>c+c):e.match(/.{2}/g);let[n,r,o,a=255]=i.map(c=>parseInt(c,16));return[n,r,o,a/255]}}static parseAngletoDegrees(t){let e=t.toLowerCase(),i=parseFloat(e);return e.includes("rad")?ps(i):e.includes("turn")?360*i:i}},xt=(s,t)=>parseFloat(Number(s).toFixed(t)),Xs=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tp,e=/\D{0,2}$/.exec(s),i=parseFloat(s),n=Xe.DPI;switch(e?.[0]){case"mm":return i*n/25.4;case"cm":return i*n/2.54;case"in":return i*n;case"pt":return i*n/72;case"pc":return i*n/72*12;case"em":return i*t;default:return i}},e_=s=>{let[t,e]=s.trim().split(" "),[i,n]=(r=t)&&r!==_i?[r.slice(1,4),r.slice(5,8)]:r===_i?[r,r]:["Mid","Mid"];var r;return{meetOrSlice:e||"meet",alignX:i,alignY:n}},Ca=s=>"matrix("+s.map(t=>xt(t,Xe.NUM_FRACTION_DIGITS)).join(" ")+")",wa=function(s,t){let e,i,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)e="url(#SVGID_".concat(t.id,")");else{let r=new di(t),o=r.getAlpha();e=r.toRgb(),o!==1&&(i=o.toString())}else e="none";return n?"".concat(s,": ").concat(e,"; ").concat(i?"".concat(s,"-opacity: ").concat(i,"; "):""):"".concat(s,'="').concat(e,'" ').concat(i?"".concat(s,'-opacity="').concat(i,'" '):"")},Wi=s=>!!s&&s.toLive!==void 0,v0=s=>!!s&&typeof s.toObject=="function",y0=s=>!!s&&s.offsetX!==void 0&&"source"in s,t_=s=>!!s&&typeof s._renderText=="function",Es=s=>!!s&&"multiSelectionStacking"in s;function i_(s){let t=s&&Qi(s),e=0,i=0;if(!s||!t)return{left:e,top:i};let n=s,r=t.documentElement,o=t.body||{scrollLeft:0,scrollTop:0};for(;n&&(n.parentNode||n.host)&&(n=n.parentNode||n.host,n===t?(e=o.scrollLeft||r.scrollLeft||0,i=o.scrollTop||r.scrollTop||0):(e+=n.scrollLeft||0,i+=n.scrollTop||0),n.nodeType!==1||n.style.position!=="fixed"););return{left:e,top:i}}var Qi=s=>s.ownerDocument||null,n_=s=>{var t;return((t=s.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},s_=function(s,t,e){let{width:i,height:n}=e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;s.width=i,s.height=n,r>1&&(s.setAttribute("width",(i*r).toString()),s.setAttribute("height",(n*r).toString()),t.scale(r,r))},Dd=(s,t)=>{let{width:e,height:i}=t;e&&(s.style.width=typeof e=="number"?"".concat(e,"px"):e),i&&(s.style.height=typeof i=="number"?"".concat(i,"px"):i)};function b0(s){return s.onselectstart!==void 0&&(s.onselectstart=()=>!1),s.style.userSelect=_i,s}var oc=class{constructor(t){V(this,"_originalCanvasStyle",void 0),V(this,"lower",void 0);let e=this.createLowerCanvas(t);this.lower={el:e,ctx:e.getContext("2d")}}createLowerCanvas(t){let e=(i=t)&&i.getContext!==void 0?t:t&&ro().getElementById(t)||Rt();var i;if(e.hasAttribute("data-fabric"))throw new Yi("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=e.style.cssText,e.setAttribute("data-fabric","main"),e.classList.add("lower-canvas"),e}cleanupDOM(t){let{width:e,height:i}=t,{el:n}=this.lower;n.classList.remove("lower-canvas"),n.removeAttribute("data-fabric"),n.setAttribute("width","".concat(e)),n.setAttribute("height","".concat(i)),n.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){let{el:i,ctx:n}=this.lower;s_(i,n,t,e)}setCSSDimensions(t){Dd(this.lower.el,t)}calcOffset(){return function(t){var e;let i=t&&Qi(t),n={left:0,top:0};if(!i)return n;let r=((e=n_(t))===null||e===void 0?void 0:e.getComputedStyle(t,null))||{};n.left+=parseInt(r.borderLeftWidth,10)||0,n.top+=parseInt(r.borderTopWidth,10)||0,n.left+=parseInt(r.paddingLeft,10)||0,n.top+=parseInt(r.paddingTop,10)||0;let o={left:0,top:0},a=i.documentElement;t.getBoundingClientRect!==void 0&&(o=t.getBoundingClientRect());let c=i_(t);return{left:o.left+c.left-(a.clientLeft||0)+n.left,top:o.top+c.top-(a.clientTop||0)+n.top}}(this.lower.el)}dispose(){dn().dispose(this.lower.el),delete this.lower}},Z3={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...hi]},xa=class s extends $0(rc){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return s.ownDefaults}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new oc(t)}add(){let t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=super.insertAt(t,...i);return i.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),r}remove(){let t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(hs("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?H0():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:i=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e){let n=F({width:this.width,height:this.height},t);this.elements.setDimensions(n,this.getRetinaScaling()),this.hasLostContext=!0,this.width=n.width,this.height=n.height}i||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){let i=t,n=[...this.viewportTransform],r=ri(t,Mi(n));n[0]=e,n[3]=e;let o=ri(r,n);n[4]+=i.x-o.x,n[5]+=i.y-o.y,this.setViewportTransform(n)}setZoom(t){this.zoomToPoint(new j(0,0),t)}absolutePan(t){let e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new j(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=ma(()=>this.renderAndReset()))}calcViewportBoundaries(){let t=this.width,e=this.height,i=Mi(this.viewportTransform),n=ri({x:0,y:0},i),r=ri({x:t,y:e},i),o=n.min(r),a=n.max(r);return this.vptCoords={tl:o,tr:new j(a.x,o.y),bl:new j(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(q0(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;let i=this.viewportTransform,n=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),n&&(n._set("canvas",this),n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,n)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){let i=this.viewportTransform;t.save(),t.transform(...i),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let i=0,n=e.length;i<n;++i)e[i]&&e[i].render(t)}_renderBackgroundOrOverlay(t,e){let i=this["".concat(e,"Color")],n=this["".concat(e,"Image")],r=this.viewportTransform,o=this["".concat(e,"Vpt")];if(!i&&!n)return;let a=Wi(i);if(i){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=a?i.toLive(t):i,o&&t.transform(...r),a){t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);let c=i.gradientTransform||i.patternTransform;c&&t.transform(...c)}t.fill(),t.restore()}if(n){t.save();let{skipOffscreen:c}=this;this.skipOffscreen=o,o&&t.transform(...r),n.render(t),this.skipOffscreen=c,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new j(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new j(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new j(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new j(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new j(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return ri(this.getCenterPoint(),Mi(this.viewportTransform))}_centerObject(t,e){t.setXY(e,Fe,Fe),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,e){let i=this.clipPath,n=i&&!i.excludeFromExport?this._toObject(i,t,e):null;return F(F(F({version:Sd},tr(this,e)),{},{objects:this._objects.filter(r=>!r.excludeFromExport).map(r=>this._toObject(r,t,e))},this.__serializeBgOverlay(t,e)),n?{clipPath:n}:null)}_toObject(t,e,i){let n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);let r=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=!!n),r}__serializeBgOverlay(t,e){let i={},n=this.backgroundImage,r=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return Wi(o)?o.excludeFromExport||(i.background=o.toObject(e)):o&&(i.background=o),Wi(a)?a.excludeFromExport||(i.overlay=a.toObject(e)):a&&(i.overlay=a),n&&!n.excludeFromExport&&(i.backgroundImage=this._toObject(n,t,e)),r&&!r.excludeFromExport&&(i.overlayImage=this._toObject(r,t,e)),i}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;let i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push(`</g>
`),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,e){let i=e.width||"".concat(this.width),n=e.height||"".concat(this.height),r=Xe.NUM_FRACTION_DIGITS,o=e.viewBox,a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){let c=this.viewportTransform;a='viewBox="'.concat(xt(-c[4]/c[0],r)," ").concat(xt(-c[5]/c[3],r)," ").concat(xt(this.width/c[0],r)," ").concat(xt(this.height/c[3],r),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',n,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Sd,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),`</defs>
`)}createSVGClipPathMarkup(t){let e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(ds()),'<clipPath id="'.concat(e.clipPathId,`" >
`).concat(e.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{let e=this["".concat(t,"Color")];if(Wi(e)){let i=this["".concat(t,"Vpt")],n=this.viewportTransform,r={isType:()=>!1,width:this.width/(i?n[0]:1),height:this.height/(i?n[3]:1)};return e.toSVG(r,{additionalTransform:i?Ca(n):""})}}).join("")}createSVGFontFacesMarkup(){let t=[],e={},i=Xe.fontPaths;this._objects.forEach(function r(o){t.push(o),Ql(o)&&o._objects.forEach(r)}),t.forEach(r=>{if(!t_(r))return;let{styles:o,fontFamily:a}=r;!e[a]&&i[a]&&(e[a]=!0,o&&Object.values(o).forEach(c=>{Object.values(c).forEach(u=>{let{fontFamily:d=""}=u;!e[d]&&i[d]&&(e[d]=!0)})}))});let n=Object.keys(e).map(r=>`		@font-face {
			font-family: '`.concat(r,`';
			src: url('`).concat(i[r],`');
		}
`)).join("");return n?`	<style type="text/css"><![CDATA[
`.concat(n,`]]></style>
`):""}_setSVGObjects(t,e){this.forEachObject(i=>{i.excludeFromExport||this._setSVGObject(t,i,e)})}_setSVGObject(t,e,i){t.push(e.toSVG(i))}_setSVGBgOverlayImage(t,e,i){let n=this[e];n&&!n.excludeFromExport&&n.toSVG&&t.push(n.toSVG(i))}_setSVGBgOverlayColor(t,e){let i=this["".concat(e,"Color")];if(i)if(Wi(i)){let n=i.repeat||"",r=this.width,o=this.height,a=this["".concat(e,"Vpt")]?Ca(Mi(this.viewportTransform)):"";t.push('<rect transform="'.concat(a," translate(").concat(r/2,",").concat(o/2,')" x="').concat(i.offsetX-r/2,'" y="').concat(i.offsetY-o/2,'" width="').concat(n!=="repeat-y"&&n!=="no-repeat"||!y0(i)?r:i.source.width,'" height="').concat(n!=="repeat-x"&&n!=="no-repeat"||!y0(i)?o:i.source.height,'" fill="url(#SVGID_').concat(i.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',`></rect>
`)}loadFromJSON(t,e){let{signal:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new Yi("`json` is undefined"));let n=typeof t=="string"?JSON.parse(t):t,{objects:r=[],backgroundImage:o,background:a,overlayImage:c,overlay:u,clipPath:d}=n,g=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([io(r,{reviver:e,signal:i}),Oa({backgroundImage:o,backgroundColor:a,overlayImage:c,overlayColor:u,clipPath:d},{signal:i})]).then(y=>{let[b,w]=y;return this.clear(),this.add(...b),this.set(n),this.set(w),this.renderOnAddRemove=g,this})}clone(t){let e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){let t=Rt();return t.width=this.width,t.height=this.height,new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:e="png",quality:i=1,multiplier:n=1,enableRetinaScaling:r=!1}=t,o=n*(r?this.getRetinaScaling():1);return rp(this.toCanvasElement(o,t),e,i)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:e,height:i,left:n,top:r,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(e||this.width)*t,c=(i||this.height)*t,u=this.getZoom(),d=this.width,g=this.height,y=this.skipControlsDrawing,b=u*t,w=this.viewportTransform,x=[b,0,0,b,(w[4]-(n||0))*t,(w[5]-(r||0))*t],D=this.enableRetinaScaling,R=Rt(),L=o?this._objects.filter(N=>o(N)):this._objects;return R.width=a,R.height=c,this.enableRetinaScaling=!1,this.viewportTransform=x,this.width=a,this.height=c,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(R.getContext("2d"),L),this.viewportTransform=w,this.width=d,this.height=g,this.calcViewportBoundaries(),this.enableRetinaScaling=D,this.skipControlsDrawing=y,R}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),sc.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{let i=()=>{this.destroy(),t(!0)};i.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=i:i()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};V(xa,"ownDefaults",Z3);var Q3=["touchstart","touchmove","touchend"],r_=s=>{let t=i_(s.target),e=function(i){let n=i.changedTouches;return n&&n[0]?n[0]:i}(s);return new j(e.clientX+t.left,e.clientY+t.top)},ac=s=>Q3.includes(s.type)||s.pointerType==="touch",Od=s=>{s.preventDefault(),s.stopPropagation()},un=s=>{let t=0,e=0,i=0,n=0;for(let r=0,o=s.length;r<o;r++){let{x:a,y:c}=s[r];(a>i||!r)&&(i=a),(a<t||!r)&&(t=a),(c>n||!r)&&(n=c),(c<e||!r)&&(e=c)}return{left:t,top:e,width:i-t,height:n-e}},J3=["translateX","translateY","scaleX","scaleY"],o_=(s,t)=>no(s,kt(t,s.calcOwnMatrix())),no=(s,t)=>{let e=to(t),{translateX:i,translateY:n,scaleX:r,scaleY:o}=e,a=St(e,J3),c=new j(i,n);s.flipX=!1,s.flipY=!1,Object.assign(s,a),s.set({scaleX:r,scaleY:o}),s.setPositionByOrigin(c,Fe,Fe)},a_=s=>{s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},cp=s=>({scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}),Fc=(s,t,e)=>{let i=s/2,n=t/2,r=[new j(-i,-n),new j(i,-n),new j(-i,n),new j(i,n)].map(a=>a.transform(e)),o=un(r);return new j(o.width,o.height)},Ea=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hi;return kt(Mi(arguments.length>1&&arguments[1]!==void 0?arguments[1]:hi),s)},Vn=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hi,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hi;return s.transform(Ea(t,e))},l_=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hi,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hi;return s.transform(Ea(t,e),!0)},Ed=(s,t,e)=>{let i=Ea(t,e);return no(s,kt(i,s.calcOwnMatrix())),i},hp=(s,t)=>{var e;let{transform:{target:i}}=t;(e=i.canvas)===null||e===void 0||e.fire("object:".concat(s),F(F({},t),{},{target:i})),i.fire(s,t)},eM={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Pt=s=>typeof s=="string"?eM[s]:s-.5,lc="not-allowed";function c_(s){return Pt(s.originX)===Pt(Fe)&&Pt(s.originY)===Pt(Fe)}function C0(s){return .5-Pt(s)}var en=(s,t)=>s[t],up=(s,t,e,i)=>({e:s,transform:t,pointer:new j(e,i)});function h_(s,t){let e=s.getTotalAngle()+ps(Math.atan2(t.y,t.x))+360;return Math.round(e%360/45)}function Vc(s,t,e,i,n){var r;let{target:o,corner:a}=s,c=o.controls[a],u=((r=o.canvas)===null||r===void 0?void 0:r.getZoom())||1,d=o.padding/u,g=function(y,b,w,x){let D=y.getRelativeCenterPoint(),R=w!==void 0&&x!==void 0?y.translateToGivenOrigin(D,Fe,Fe,w,x):new j(y.left,y.top);return(y.angle?b.rotate(-Et(y.angle),D):b).subtract(R)}(o,new j(i,n),t,e);return g.x>=d&&(g.x-=d),g.x<=-d&&(g.x+=d),g.y>=d&&(g.y-=d),g.y<=d&&(g.y+=d),g.x-=c.offsetX,g.y-=c.offsetY,g}var u_=(s,t,e,i)=>{let{target:n,offsetX:r,offsetY:o}=t,a=e-r,c=i-o,u=!en(n,"lockMovementX")&&n.left!==a,d=!en(n,"lockMovementY")&&n.top!==c;return u&&n.set(rt,a),d&&n.set(gi,c),(u||d)&&hp(z0,up(s,t,e,i)),u||d},cc=class{getSvgStyles(t){let e=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):_i,r=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=this.opacity!==void 0?this.opacity:"1",d=this.visible?"":" visibility: hidden;",g=t?"":this.getSvgFilter(),y=wa(Nt,this.fill);return[wa(vi,this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",c,"; ",y,"fill-rule: ",e,"; ","opacity: ",u,";",g,d].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t?this.calcTransformMatrix():this.calcOwnMatrix(),n='transform="'.concat(Ca(i));return"".concat(n).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),r=t.indexOf("COMMON_PARTS");return t[r]=n,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:i,withShadow:n,additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e?"":'style="'.concat(this.getSvgStyles(),'" '),a=n?'style="'.concat(this.getSvgFilter(),'" '):"",c=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=c&&c.absolutePositioned,g=this.stroke,y=this.fill,b=this.shadow,w=[],x=t.indexOf("COMMON_PARTS"),D;c&&(c.clipPathId="CLIPPATH_".concat(ds()),D='<clipPath id="'.concat(c.clipPathId,`" >
`).concat(c.toClipPathSVG(i),`</clipPath>
`)),d&&w.push("<g ",a,this.getSvgCommons(),` >
`),w.push("<g ",this.getSvgTransform(!1),d?"":a+this.getSvgCommons(),` >
`);let R=[o,u,e?"":this.addPaintOrder()," ",r?'transform="'.concat(r,'" '):""].join("");return t[x]=R,Wi(y)&&w.push(y.toSVG(this)),Wi(g)&&w.push(g.toSVG(this)),b&&w.push(b.toSVG(this)),c&&w.push(D),w.push(t.join("")),w.push(`</g>
`),d&&w.push(`</g>
`),i?i(w.join("")):w.join("")}addPaintOrder(){return this.paintFirst!==Nt?' paint-order="'.concat(this.paintFirst,'" '):""}};function Rc(s){return new RegExp("^("+s.join("|")+")\\b","i")}var w0,Ji=String.raw(w0||(w0=fs(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));var tM=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Ji+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Ji+"))?\\s+(.*)"),iM={cx:rt,x:rt,r:"radius",cy:gi,y:gi,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},dd="font-size",pd="clip-path",HL=Rc(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),zL=Rc(["symbol","image","marker","pattern","view","svg"]),x0=Rc(["symbol","g","a","svg","clipPath","defs"]),WL=new RegExp("^\\s*("+Ji+"+)\\s*,?\\s*("+Ji+"+)\\s*,?\\s*("+Ji+"+)\\s*,?\\s*("+Ji+"+)\\s*$"),nM=new j(1,0),d_=new j,dp=(s,t)=>s.rotate(t),hc=(s,t)=>new j(t).subtract(s),uc=s=>s.distanceFrom(d_),dc=(s,t)=>Math.atan2(Jr(s,t),f_(s,t)),p_=s=>dc(nM,s),Lc=s=>s.eq(d_)?s:s.scalarDivide(uc(s)),pp=function(s){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Lc(new j(-s.y,s.x).scalarMultiply(t?1:-1))},Jr=(s,t)=>s.x*t.y-s.y*t.x,f_=(s,t)=>s.x*t.x+s.y*t.y,kd=(s,t,e)=>{if(s.eq(t)||s.eq(e))return!0;let i=Jr(t,e),n=Jr(t,s),r=Jr(e,s);return i>=0?n>=0&&r<=0:!(n<=0&&r>=0)},S0="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",T0=new RegExp("(?:\\s|^)"+S0+S0+"("+Ji+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)"),Ks=class s{constructor(t){let e=typeof t=="string"?s.parseShadow(t):t;Object.assign(this,s.ownDefaults,e),this.id=ds()}static parseShadow(t){let e=t.trim(),[,i=0,n=0,r=0]=(T0.exec(e)||[]).map(o=>parseFloat(o)||0);return{color:(e.replace(T0,"")||"rgb(0,0,0)").trim(),offsetX:i,offsetY:n,blur:r}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){let e=dp(new j(this.offsetX,this.offsetY),Et(-t.angle)),i=new di(this.color),n=40,r=40;return t.width&&t.height&&(n=100*xt((Math.abs(e.x)+this.blur)/t.width,Xe.NUM_FRACTION_DIGITS)+20,r=100*xt((Math.abs(e.y)+this.blur)/t.height,Xe.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(r,'%" height="').concat(100+2*r,'%" x="-').concat(n,'%" width="').concat(100+2*n,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(xt(this.blur?this.blur/2:0,Xe.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(xt(e.x,Xe.NUM_FRACTION_DIGITS),'" dy="').concat(xt(e.y,Xe.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(i.toRgb(),'" flood-opacity="').concat(i.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=s.ownDefaults;return this.includeDefaultValues?t:lp(t,(i,n)=>i!==e[n])}static fromObject(t){return Gt(this,null,function*(){return new this(t)})}};V(Ks,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),V(Ks,"type","shadow"),oe.setClass(Ks,"shadow");var Qs=(s,t,e)=>Math.max(s,Math.min(t,e)),sM=[gi,rt,ui,Ai,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",oo,ao],Ln=[Nt,vi,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],rM={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:rt,originY:gi,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Nt,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},fd=(s,t,e,i)=>(s<Math.abs(t)?(s=t,i=e/4):i=t===0&&s===0?e/Rn*Math.asin(1):e/Rn*Math.asin(t/s),{a:s,c:t,p:e,s:i}),I0=(s,t,e,i,n)=>s*Math.pow(2,10*(i-=1))*Math.sin((i*n-t)*Rn/e),m_=(s,t,e,i)=>-e*Math.cos(s/i*us)+e+t,Md=(s,t,e,i)=>(s/=i)<1/2.75?e*(7.5625*s*s)+t:s<2/2.75?e*(7.5625*(s-=1.5/2.75)*s+.75)+t:s<2.5/2.75?e*(7.5625*(s-=2.25/2.75)*s+.9375)+t:e*(7.5625*(s-=2.625/2.75)*s+.984375)+t,D0=(s,t,e,i)=>e-Md(i-s,0,e,i)+t,oM=Object.freeze({__proto__:null,defaultEasing:m_,easeInBack:function(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*(s/=i)*s*((n+1)*s-n)+t},easeInBounce:D0,easeInCirc:(s,t,e,i)=>-e*(Math.sqrt(1-(s/=i)*s)-1)+t,easeInCubic:(s,t,e,i)=>e*(s/i)**3+t,easeInElastic:(s,t,e,i)=>{let n=e,r=0;if(s===0)return t;if((s/=i)===1)return t+e;r||(r=.3*i);let{a:o,s:a,p:c}=fd(n,e,r,1.70158);return-I0(o,a,c,s,i)+t},easeInExpo:(s,t,e,i)=>s===0?t:e*2**(10*(s/i-1))+t,easeInOutBack:function(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(s/=i/2)<1?e/2*(s*s*((1+(n*=1.525))*s-n))+t:e/2*((s-=2)*s*((1+(n*=1.525))*s+n)+2)+t},easeInOutBounce:(s,t,e,i)=>s<i/2?.5*D0(2*s,0,e,i)+t:.5*Md(2*s-i,0,e,i)+.5*e+t,easeInOutCirc:(s,t,e,i)=>(s/=i/2)<1?-e/2*(Math.sqrt(1-s**2)-1)+t:e/2*(Math.sqrt(1-(s-=2)*s)+1)+t,easeInOutCubic:(s,t,e,i)=>(s/=i/2)<1?e/2*s**3+t:e/2*((s-2)**3+2)+t,easeInOutElastic:(s,t,e,i)=>{let n=e,r=0;if(s===0)return t;if((s/=i/2)===2)return t+e;r||(r=i*(.3*1.5));let{a:o,s:a,p:c,c:u}=fd(n,e,r,1.70158);return s<1?-.5*I0(o,a,c,s,i)+t:o*Math.pow(2,-10*(s-=1))*Math.sin((s*i-a)*Rn/c)*.5+u+t},easeInOutExpo:(s,t,e,i)=>s===0?t:s===i?t+e:(s/=i/2)<1?e/2*2**(10*(s-1))+t:e/2*-(2**(-10*--s)+2)+t,easeInOutQuad:(s,t,e,i)=>(s/=i/2)<1?e/2*s**2+t:-e/2*(--s*(s-2)-1)+t,easeInOutQuart:(s,t,e,i)=>(s/=i/2)<1?e/2*s**4+t:-e/2*((s-=2)*s**3-2)+t,easeInOutQuint:(s,t,e,i)=>(s/=i/2)<1?e/2*s**5+t:e/2*((s-2)**5+2)+t,easeInOutSine:(s,t,e,i)=>-e/2*(Math.cos(Math.PI*s/i)-1)+t,easeInQuad:(s,t,e,i)=>e*(s/=i)*s+t,easeInQuart:(s,t,e,i)=>e*(s/=i)*s**3+t,easeInQuint:(s,t,e,i)=>e*(s/i)**5+t,easeInSine:(s,t,e,i)=>-e*Math.cos(s/i*us)+e+t,easeOutBack:function(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*((s=s/i-1)*s*((n+1)*s+n)+1)+t},easeOutBounce:Md,easeOutCirc:(s,t,e,i)=>e*Math.sqrt(1-(s=s/i-1)*s)+t,easeOutCubic:(s,t,e,i)=>e*((s/i-1)**3+1)+t,easeOutElastic:(s,t,e,i)=>{let n=e,r=0;if(s===0)return t;if((s/=i)===1)return t+e;r||(r=.3*i);let{a:o,s:a,p:c,c:u}=fd(n,e,r,1.70158);return o*2**(-10*s)*Math.sin((s*i-a)*Rn/c)+u+t},easeOutExpo:(s,t,e,i)=>s===i?t+e:e*-(2**(-10*s/i)+1)+t,easeOutQuad:(s,t,e,i)=>-e*(s/=i)*(s-2)+t,easeOutQuart:(s,t,e,i)=>-e*((s=s/i-1)*s**3-1)+t,easeOutQuint:(s,t,e,i)=>e*((s/i-1)**5+1)+t,easeOutSine:(s,t,e,i)=>e*Math.sin(s/i*us)+t}),aM=()=>!1,Sa=class{constructor(t){let{startValue:e,byValue:i,duration:n=500,delay:r=0,easing:o=m_,onStart:a=qs,onChange:c=qs,onComplete:u=qs,abort:d=aM,target:g}=t;V(this,"_state","pending"),V(this,"durationProgress",0),V(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=n,this.delay=r,this.easing=o,this._onStart=a,this._onChange=c,this._onComplete=u,this._abort=d,this.target=g,this.startValue=e,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let t=e=>{this._state==="pending"&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>ma(t),this.delay):ma(t)}tick(t){let e=(t||+new Date)-this.startTime,i=Math.min(e,this.duration);this.durationProgress=i/this.duration;let{value:n,valueProgress:r}=this.calculate(i);this.value=Object.freeze(n),this.valueProgress=r,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),ma(this.tick)))}register(){sc.push(this)}unregister(){sc.remove(this)}abort(){this._state="aborted",this.unregister()}},lM=["startValue","endValue"],Ad=class extends Sa{constructor(t){let{startValue:e=0,endValue:i=100}=t;super(F(F({},St(t,lM)),{},{startValue:e,byValue:i-e}))}calculate(t){let e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}},cM=["startValue","endValue"],Fd=class extends Sa{constructor(t){let{startValue:e=[0],endValue:i=[100]}=t;super(F(F({},St(t,cM)),{},{startValue:e,byValue:i.map((n,r)=>n-e[r])}))}calculate(t){let e=this.startValue.map((i,n)=>this.easing(t,i,this.byValue[n],this.duration,n));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}},hM=["startValue","endValue","easing","onChange","onComplete","abort"],uM=(s,t,e,i)=>t+e*(1-Math.cos(s/i*us)),md=s=>s&&((t,e,i)=>s(new di(t).toRgba(),e,i)),Vd=class extends Sa{constructor(t){let{startValue:e,endValue:i,easing:n=uM,onChange:r,onComplete:o,abort:a}=t,c=St(t,hM),u=new di(e).getSource(),d=new di(i).getSource();super(F(F({},c),{},{startValue:u,byValue:d.map((g,y)=>g-u[y]),easing:n,onChange:md(r),onComplete:md(o),abort:md(a)}))}calculate(t){let[e,i,n,r]=this.startValue.map((a,c)=>this.easing(t,a,this.byValue[c],this.duration,c)),o=[...[e,i,n].map(Math.round),Qs(0,r,1)];return{value:o,valueProgress:o.map((a,c)=>this.byValue[c]!==0?Math.abs((a-this.startValue[c])/this.byValue[c]):0).find(a=>a!==0)||0}}};function fp(s){let t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(s)?new Fd(s):new Ad(s);return t.start(),t}function g_(s){let t=new Vd(s);return t.start(),t}var Zs=class s{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(e=>e.eq(t))}append(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.points=this.points.concat(e.filter(n=>!this.includes(n))),this}static isPointContained(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.eq(i))return t.eq(e);if(e.x===i.x)return t.x===e.x&&(n||t.y>=Math.min(e.y,i.y)&&t.y<=Math.max(e.y,i.y));if(e.y===i.y)return t.y===e.y&&(n||t.x>=Math.min(e.x,i.x)&&t.x<=Math.max(e.x,i.x));{let r=hc(e,i),o=hc(e,t).divide(r);return n?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(t,e){let i=new j(t).setX(Math.min(t.x-1,...e.map(r=>r.x))),n=0;for(let r=0;r<e.length;r++){let o=this.intersectSegmentSegment(e[r],e[(r+1)%e.length],t,i);if(o.includes(t))return!0;n+=+(o.status==="Intersection")}return n%2==1}static intersectLineLine(t,e,i,n){let r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],a=e.x-t.x,c=e.y-t.y,u=n.x-i.x,d=n.y-i.y,g=t.x-i.x,y=t.y-i.y,b=u*y-d*g,w=a*y-c*g,x=d*a-u*c;if(x!==0){let D=b/x,R=w/x;return(r||0<=D&&D<=1)&&(o||0<=R&&R<=1)?new s("Intersection").append(new j(t.x+D*a,t.y+D*c)):new s}if(b===0||w===0){let D=r||o||s.isPointContained(t,i,n)||s.isPointContained(e,i,n)||s.isPointContained(i,t,e)||s.isPointContained(n,t,e);return new s(D?"Coincident":void 0)}return new s("Parallel")}static intersectSegmentLine(t,e,i,n){return s.intersectLineLine(t,e,i,n,!1,!0)}static intersectSegmentSegment(t,e,i,n){return s.intersectLineLine(t,e,i,n,!1,!1)}static intersectLinePolygon(t,e,i){let n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],r=new s,o=i.length;for(let a,c,u,d=0;d<o;d++){if(a=i[d],c=i[(d+1)%o],u=s.intersectLineLine(t,e,a,c,n,!1),u.status==="Coincident")return u;r.append(...u.points)}return r.points.length>0&&(r.status="Intersection"),r}static intersectSegmentPolygon(t,e,i){return s.intersectLinePolygon(t,e,i,!1)}static intersectPolygonPolygon(t,e){let i=new s,n=t.length,r=[];for(let o=0;o<n;o++){let a=t[o],c=t[(o+1)%n],u=s.intersectSegmentPolygon(a,c,e);u.status==="Coincident"?(r.push(u),i.append(a,c)):i.append(...u.points)}return r.length>0&&r.length===t.length?new s("Coincident"):(i.points.length>0&&(i.status="Intersection"),i)}static intersectPolygonRectangle(t,e,i){let n=e.min(i),r=e.max(i),o=new j(r.x,n.y),a=new j(n.x,r.y);return s.intersectPolygonPolygon(t,[n,o,r,a])}},Rd=class extends rc{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){let t=this.getRelativeXY();return this.group?ri(t,this.group.calcTransformMatrix()):t}setXY(t,e,i){this.group&&(t=ri(t,Mi(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,i)}getRelativeXY(){return new j(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,e,i)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:t,tr:e,br:i,bl:n}=this.aCoords||(this.aCoords=this.calcACoords()),r=[t,e,i,n];if(this.group){let o=this.group.calcTransformMatrix();return r.map(a=>ri(a,o))}return r}intersectsWithRect(t,e){return Zs.intersectPolygonRectangle(this.getCoords(),t,e).status==="Intersection"}intersectsWithObject(t){let e=Zs.intersectPolygonPolygon(this.getCoords(),t.getCoords());return e.status==="Intersection"||e.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(e=>t.containsPoint(e))}isContainedWithinRect(t,e){let{left:i,top:n,width:r,height:o}=this.getBoundingRect();return i>=t.x&&i+r<=e.x&&n>=t.y&&n+o<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return Zs.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some(i=>i.x<=e.x&&i.x>=t.x&&i.y<=e.y&&i.y>=t.y)||!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:t,br:e}=this.canvas.vptCoords;return this.intersectsWithRect(t,e)?!0:this.getCoords().every(i=>(i.x>=e.x||i.x<=t.x)&&(i.y>=e.y||i.y<=t.y))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return un(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(ui,t),this._set(Ai,t),this.setCoords()}scaleToWidth(t){let e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){let e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?ps(Z0(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||hi.concat()}calcACoords(){let t=co({angle:this.angle}),{x:e,y:i}=this.getRelativeCenterPoint(),n=lo(e,i),r=kt(n,t),o=this._getTransformedDimensions(),a=o.x/2,c=o.y/2;return{tl:ri({x:-a,y:-c},r),tr:ri({x:a,y:-c},r),bl:ri({x:-a,y:c},r),br:ri({x:a,y:c},r)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Pt(this.originX),Pt(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;let i=this.transformMatrixKey(t),n=this.matrixCache;return n&&n.key.every((r,o)=>r===i[o])?n.value:(this.group&&(e=kt(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:i,value:e},e)}calcOwnMatrix(){let t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;let i=this.getRelativeCenterPoint(),n={angle:this.angle,translateX:i.x,translateY:i.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},r=J0(n);return this.ownMatrixCache={key:t,value:r},r}_getNonTransformedDimensions(){return new j(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=F({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),i=e.strokeWidth,n=i,r=0;this.strokeUniform&&(n=0,r=i);let o=e.width+n,a=e.height+n,c;return c=e.skewX===0&&e.skewY===0?new j(o*e.scaleX,a*e.scaleY):Fc(o,a,Da(e)),c.scalarAdd(r)}translateToGivenOrigin(t,e,i,n,r){let o=t.x,a=t.y,c=Pt(n)-Pt(e),u=Pt(r)-Pt(i);if(c||u){let d=this._getTransformedDimensions();o+=c*d.x,a+=u*d.y}return new j(o,a)}translateToCenterPoint(t,e,i){if(e===Fe&&i===Fe)return t;let n=this.translateToGivenOrigin(t,e,i,Fe,Fe);return this.angle?n.rotate(Et(this.angle),t):n}translateToOriginPoint(t,e,i){let n=this.translateToGivenOrigin(t,Fe,Fe,e,i);return this.angle?n.rotate(Et(this.angle),t):n}getCenterPoint(){let t=this.getRelativeCenterPoint();return this.group?ri(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new j(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,i){let n=this.translateToCenterPoint(t,e,i),r=this.translateToOriginPoint(n,this.originX,this.originY);this.set({left:r.x,top:r.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),rt,gi)}},dM=["type"],pM=["extraParam"],En=class Jl extends Rd{static getDefaults(){return Jl.ownDefaults}get type(){let t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){hs("warn","Setting type has no effect",t)}constructor(t){super(),V(this,"_cacheContext",null),Object.assign(this,Jl.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=Rt(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){let e=t.width,i=t.height,n=Xe.maxCacheSideLimit,r=Xe.minCacheSideLimit;if(e<=n&&i<=n&&e*i<=Xe.perfLimitSizeTotal)return e<r&&(t.width=r),i<r&&(t.height=r),t;let o=e/i,[a,c]=fa.limitDimsByArea(o),u=Qs(r,a,n),d=Qs(r,c,n);return e>u&&(t.zoomX/=e/u,t.width=u,t.capped=!0),i>d&&(t.zoomY/=i/d,t.height=d,t.capped=!0),t}_getCacheCanvasDimensions(){let t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),i=e.x*t.x/this.scaleX,n=e.y*t.y/this.scaleY;return{width:i+2,height:n+2,zoomX:t.x,zoomY:t.y,x:i,y:n}}_updateCacheCanvas(){let t=this._cacheCanvas,e=this._cacheContext,i=this._limitCacheSize(this._getCacheCanvasDimensions()),n=Xe.minCacheSideLimit,r=i.width,o=i.height,a=i.zoomX,c=i.zoomY,u=r!==t.width||o!==t.height,d=this.zoomX!==a||this.zoomY!==c;if(!t||!e)return!1;let g,y,b=u||d,w=0,x=0,D=!1;if(u){let R=this._cacheCanvas.width,L=this._cacheCanvas.height,N=r>R||o>L;D=N||(r<.9*R||o<.9*L)&&R>n&&L>n,N&&!i.capped&&(r>n||o>n)&&(w=.1*r,x=.1*o)}return t_(this)&&this.path&&(b=!0,D=!0,w+=this.getHeightOfLine(0)*this.zoomX,x+=this.getHeightOfLine(0)*this.zoomY),!!b&&(D?(t.width=Math.ceil(r+w),t.height=Math.ceil(o+x)):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)),g=i.x/2,y=i.y/2,this.cacheTranslationX=Math.round(t.width/2-g)+g,this.cacheTranslationY=Math.round(t.height/2-y)+y,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(a,c),this.zoomX=a,this.zoomY=c,!0)}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){let e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,i=this.calcTransformMatrix(!e);t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}getObjectScaling(){if(!this.group)return new j(Math.abs(this.scaleX),Math.abs(this.scaleY));let t=to(this.calcTransformMatrix());return new j(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){let t=this.getObjectScaling();if(this.canvas){let e=this.canvas.getZoom(),i=this.getCanvasRetinaScaling();return t.scalarMultiply(e*i)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,e){t!==ui&&t!==Ai||(e=this._constrainScale(e)),t===ui&&e<0?(this.flipX=!this.flipX,e*=-1):t==="scaleY"&&e<0?(this.flipY=!this.flipY,e*=-1):t!=="shadow"||!e||e instanceof Ks||(e=new Ks(e));let i=this[t]!==e;return this[t]=e,i&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||i&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&(this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===vi&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,e){if(t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",e.absolutePositioned){let i=Mi(this.calcTransformMatrix());t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}drawObject(t,e){let i=this.fill,n=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath),this.fill=i,this.stroke=n}_drawClipPath(t,e){e&&(e._set("canvas",this.canvas),e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t,e))}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let e=this._cacheCanvas,i=this._cacheContext;return!(!e||!i||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&i&&!t&&(i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),i.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;let e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){let i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,Wi(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:i}=e;i&&(Wi(i)?(t.fillStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.fillStyle=i)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&e.length!==0&&(1&e.length&&e.push(...e),t.setLineDash(e))}_setShadow(t){if(!this.shadow)return;let e=this.shadow,i=this.canvas,n=this.getCanvasRetinaScaling(),[r,,,o]=i?.viewportTransform||hi,a=r*n,c=o*n,u=e.nonScaling?new j(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*Xe.browserShadowBlurConstant*(a+c)*(u.x+u.y)/4,t.shadowOffsetX=e.offsetX*a*u.x,t.shadowOffsetY=e.offsetY*c*u.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!Wi(e))return{offsetX:0,offsetY:0};let i=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return e.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,n,r):t.transform(1,0,0,1,n,r),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:n,offsetY:r}}_renderPaintInOrder(t){this.paintFirst===vi?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){let e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var i;let n=this._limitCacheSize(this._getCacheCanvasDimensions()),r=Rt(),o=this.getCanvasRetinaScaling(),a=n.x/this.scaleX/o,c=n.y/this.scaleY/o;r.width=Math.ceil(a),r.height=Math.ceil(c);let u=r.getContext("2d");u&&(u.beginPath(),u.moveTo(0,0),u.lineTo(a,0),u.lineTo(a,c),u.lineTo(0,c),u.closePath(),u.translate(a/2,c/2),u.scale(n.zoomX/this.scaleX/o,n.zoomY/this.scaleY/o),this._applyPatternGradientTransform(u,e),u.fillStyle=e.toLive(t),u.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(o*this.scaleX/n.zoomX,o*this.scaleY/n.zoomY),t.strokeStyle=(i=u.createPattern(r,"no-repeat"))!==null&&i!==void 0?i:"")}_findCenterFromElement(){return new j(this.left+this.width/2,this.top+this.height/2)}clone(t){let e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){let e=this.toCanvasElement(t);return new(oe.getClass("image"))(e)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=cp(this),i=this.group,n=this.shadow,r=Math.abs,o=t.enableRetinaScaling?H0():1,a=(t.multiplier||1)*o,c=t.canvasProvider||(L=>new xa(L,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&a_(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&Ed(this,this.getViewportTransform()),this.setCoords();let u=Rt(),d=this.getBoundingRect(),g=this.shadow,y=new j;if(g){let L=g.blur,N=g.nonScaling?new j(1,1):this.getObjectScaling();y.x=2*Math.round(r(g.offsetX)+L)*r(N.x),y.y=2*Math.round(r(g.offsetY)+L)*r(N.y)}let b=d.width+y.x,w=d.height+y.y;u.width=Math.ceil(b),u.height=Math.ceil(w);let x=c(u);t.format==="jpeg"&&(x.backgroundColor="#fff"),this.setPositionByOrigin(new j(x.width/2,x.height/2),Fe,Fe);let D=this.canvas;x._objects=[this],this.set("canvas",x),this.setCoords();let R=x.toCanvasElement(a||1,t);return this.set("canvas",D),this.shadow=n,i&&(this.group=i),this.set(e),this.setCoords(),x._objects=[],x.destroy(),R}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return rp(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){let{centeredRotation:e,originX:i,originY:n}=this;if(e){let{x:r,y:o}=this.getRelativeCenterPoint();this.originX=Fe,this.originY=Fe,this.left=r,this.top=o}if(this.set("angle",t),e){let{x:r,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),i,n);this.left=r,this.top=o,this.originX=i,this.originY=n}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){sc.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&dn().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce((i,n)=>{let[r,o]=n;return i[r]=this._animate(r,o,e),i},{})}_animate(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.split("."),r=this.constructor.colorProperties.includes(n[n.length-1]),{abort:o,startValue:a,onChange:c,onComplete:u}=i,d=F(F({},i),{},{target:this,startValue:a??n.reduce((g,y)=>g[y],this),endValue:e,abort:o?.bind(this),onChange:(g,y,b)=>{n.reduce((w,x,D)=>(D===n.length-1&&(w[x]=g),w[x]),this),c&&c(g,y,b)},onComplete:(g,y,b)=>{this.setCoords(),u&&u(g,y,b)}});return r?g_(d):fp(d)}isDescendantOf(t){let{parent:e,group:i}=this;return e===t||i===t||!!e&&e.isDescendantOf(t)||!!i&&i!==e&&i.isDescendantOf(t)}getAncestors(){let t=[],e=this;do e=e.parent,e&&t.push(e);while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let e=this.getAncestors(),i=t.getAncestors();if(e.length===0&&i.length>0&&this===i[i.length-1])return{fork:[],otherFork:[t,...i.slice(0,i.length-1)],common:[this]};for(let n,r=0;r<e.length;r++){if(n=e[r],n===t)return{fork:[this,...e.slice(0,r)],otherFork:[],common:e.slice(r)};for(let o=0;o<i.length;o++){if(this===i[o])return{fork:[],otherFork:[t,...i.slice(0,o)],common:[this,...e]};if(n===i[o])return{fork:[this,...e.slice(0,r)],otherFork:[t,...i.slice(0,o)],common:e.slice(r)}}}return{fork:[this,...e],otherFork:[t,...i],common:[]}}hasCommonAncestors(t){let e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;let e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;let i=e.common[0]||this.canvas;if(!i)return;let n=e.fork.pop(),r=e.otherFork.pop(),o=i._objects.indexOf(n),a=i._objects.indexOf(r);return o>-1&&o>a}toObject(){let t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(Jl.customProperties,this.constructor.customProperties||[]),e,i=Xe.NUM_FRACTION_DIGITS,{clipPath:n,fill:r,stroke:o,shadow:a,strokeDashArray:c,left:u,top:d,originX:g,originY:y,width:b,height:w,strokeWidth:x,strokeLineCap:D,strokeDashOffset:R,strokeLineJoin:L,strokeUniform:N,strokeMiterLimit:Y,scaleX:q,scaleY:Q,angle:ve,flipX:J,flipY:Ee,opacity:Ke,visible:it,backgroundColor:Tt,fillRule:Ze,paintFirst:dt,globalCompositeOperation:Yt,skewX:Zt,skewY:yi}=this;n&&!n.excludeFromExport&&(e=n.toObject(t.concat("inverted","absolutePositioned")));let Qe=fi=>xt(fi,i),pi=F(F({},tr(this,t)),{},{type:this.constructor.type,version:Sd,originX:g,originY:y,left:Qe(u),top:Qe(d),width:Qe(b),height:Qe(w),fill:v0(r)?r.toObject():r,stroke:v0(o)?o.toObject():o,strokeWidth:Qe(x),strokeDashArray:c&&c.concat(),strokeLineCap:D,strokeDashOffset:R,strokeLineJoin:L,strokeUniform:N,strokeMiterLimit:Qe(Y),scaleX:Qe(q),scaleY:Qe(Q),angle:Qe(ve),flipX:J,flipY:Ee,opacity:Qe(Ke),shadow:a&&a.toObject(),visible:it,backgroundColor:Tt,fillRule:Ze,paintFirst:dt,globalCompositeOperation:Yt,skewX:Qe(Zt),skewY:Qe(yi)},e?{clipPath:e}:null);return this.includeDefaultValues?pi:this._removeDefaultValues(pi)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){let e=this.constructor.getDefaults(),i=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return lp(t,(n,r)=>{if(r===rt||r===gi||r==="type")return!0;let o=i[r];return n!==o&&!(Array.isArray(n)&&Array.isArray(o)&&n.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=St(t,dM),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:n}=i,r=St(i,pM);return Oa(e,r).then(o=>n?(delete o[n],new this(e[n],o)):new this(o))}static fromObject(t,e){return this._fromObject(t,e)}};V(En,"stateProperties",sM),V(En,"cacheProperties",Ln),V(En,"ownDefaults",rM),V(En,"type","FabricObject"),V(En,"colorProperties",[Nt,vi,"backgroundColor"]),V(En,"customProperties",[]),oe.setClass(En),oe.setClass(En,"object");var ms=(s,t,e)=>(i,n,r,o)=>{let a=t(i,n,r,o);return a&&hp(s,F(F({},up(i,n,r,o)),e)),a};function ir(s){return(t,e,i,n)=>{let{target:r,originX:o,originY:a}=e,c=r.getRelativeCenterPoint(),u=r.translateToOriginPoint(c,o,a),d=s(t,e,i,n);return r.setPositionByOrigin(u,e.originX,e.originY),d}}var Ld=ms(ba,ir((s,t,e,i)=>{let n=Vc(t,t.originX,t.originY,e,i);if(Pt(t.originX)===Pt(Fe)||Pt(t.originX)===Pt(Vt)&&n.x<0||Pt(t.originX)===Pt(rt)&&n.x>0){let{target:r}=t,o=r.strokeWidth/(r.strokeUniform?r.scaleX:1),a=c_(t)?2:1,c=r.width,u=Math.abs(n.x*a/r.scaleX)-o;return r.set("width",Math.max(u,1)),c!==r.width}return!1}));function __(s,t,e,i,n){i=i||{};let r=this.sizeX||i.cornerSize||n.cornerSize,o=this.sizeY||i.cornerSize||n.cornerSize,a=i.transparentCorners!==void 0?i.transparentCorners:n.transparentCorners,c=a?vi:Nt,u=!a&&(i.cornerStrokeColor||n.cornerStrokeColor),d,g=t,y=e;s.save(),s.fillStyle=i.cornerColor||n.cornerColor||"",s.strokeStyle=i.cornerStrokeColor||n.cornerStrokeColor||"",r>o?(d=r,s.scale(1,o/r),y=e*r/o):o>r?(d=o,s.scale(r/o,1),g=t*o/r):d=r,s.lineWidth=1,s.beginPath(),s.arc(g,y,d/2,0,Rn,!1),s[c](),u&&s.stroke(),s.restore()}function v_(s,t,e,i,n){i=i||{};let r=this.sizeX||i.cornerSize||n.cornerSize,o=this.sizeY||i.cornerSize||n.cornerSize,a=i.transparentCorners!==void 0?i.transparentCorners:n.transparentCorners,c=a?vi:Nt,u=!a&&(i.cornerStrokeColor||n.cornerStrokeColor),d=r/2,g=o/2;s.save(),s.fillStyle=i.cornerColor||n.cornerColor||"",s.strokeStyle=i.cornerStrokeColor||n.cornerStrokeColor||"",s.lineWidth=1,s.translate(t,e);let y=n.getTotalAngle();s.rotate(Et(y)),s["".concat(c,"Rect")](-d,-g,r,o),u&&s.strokeRect(-d,-g,r,o),s.restore()}var li=class{constructor(t){V(this,"visible",!0),V(this,"actionName",kc),V(this,"angle",0),V(this,"x",0),V(this,"y",0),V(this,"offsetX",0),V(this,"offsetY",0),V(this,"sizeX",0),V(this,"sizeY",0),V(this,"touchSizeX",0),V(this,"touchSizeY",0),V(this,"cursorStyle","crosshair"),V(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,i,n){var r;let{tl:o,tr:a,br:c,bl:u}=n;return((r=e.canvas)===null||r===void 0?void 0:r.getActiveObject())===e&&e.isControlVisible(t)&&Zs.isPointInPolygon(i,[o,a,c,u])}getActionHandler(t,e,i){return this.actionHandler}getMouseDownHandler(t,e,i){return this.mouseDownHandler}getMouseUpHandler(t,e,i){return this.mouseUpHandler}cursorStyleHandler(t,e,i){return e.cursorStyle}getActionName(t,e,i){return e.actionName}getVisibility(t,e){var i,n;return(i=(n=t._controlsVisibility)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:this.visible}setVisibility(t,e,i){this.visible=t}positionHandler(t,e,i,n){return new j(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,i,n,r,o){let a=Mc([lo(i,n),co({angle:t}),Ac((r?this.touchSizeX:this.sizeX)||e,(r?this.touchSizeY:this.sizeY)||e)]);return{tl:new j(-.5,-.5).transform(a),tr:new j(.5,-.5).transform(a),br:new j(.5,.5).transform(a),bl:new j(-.5,.5).transform(a)}}render(t,e,i,n,r){((n=n||{}).cornerStyle||r.cornerStyle)==="circle"?__.call(this,t,e,i,n,r):v_.call(this,t,e,i,n,r)}},y_=(s,t,e)=>e.lockRotation?lc:t.cursorStyle,b_=ms(W0,ir((s,t,e,i)=>{let{target:n,ex:r,ey:o,theta:a,originX:c,originY:u}=t,d=n.translateToOriginPoint(n.getRelativeCenterPoint(),c,u);if(en(n,"lockRotation"))return!1;let g=Math.atan2(o-d.y,r-d.x),y=Math.atan2(i-d.y,e-d.x),b=ps(y-g+a);if(n.snapAngle&&n.snapAngle>0){let x=n.snapAngle,D=n.snapThreshold||x,R=Math.ceil(b/x)*x,L=Math.floor(b/x)*x;Math.abs(b-L)<D?b=L:Math.abs(b-R)<D&&(b=R)}b<0&&(b=360+b),b%=360;let w=n.angle!==b;return n.angle=b,w}));function C_(s,t){let e=t.canvas,i=s[e.uniScaleKey];return e.uniformScaling&&!i||!e.uniformScaling&&i}function w_(s,t,e){let i=en(s,"lockScalingX"),n=en(s,"lockScalingY");if(i&&n||!t&&(i||n)&&e||i&&t==="x"||n&&t==="y")return!0;let{width:r,height:o,strokeWidth:a}=s;return r===0&&a===0&&t!=="y"||o===0&&a===0&&t!=="x"}var fM=["e","se","s","sw","w","nw","n","ne","e"],$r=(s,t,e)=>{let i=C_(s,e);if(w_(e,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",i))return lc;let n=h_(e,t);return"".concat(fM[n],"-resize")};function mp(s,t,e,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},r=t.target,o=n.by,a=C_(s,r),c,u,d,g,y,b;if(w_(r,o,a))return!1;if(t.gestureScale)u=t.scaleX*t.gestureScale,d=t.scaleY*t.gestureScale;else{if(c=Vc(t,t.originX,t.originY,e,i),y=o!=="y"?Math.sign(c.x||t.signX||1):1,b=o!=="x"?Math.sign(c.y||t.signY||1):1,t.signX||(t.signX=y),t.signY||(t.signY=b),en(r,"lockScalingFlip")&&(t.signX!==y||t.signY!==b))return!1;if(g=r._getTransformedDimensions(),a&&!o){let D=Math.abs(c.x)+Math.abs(c.y),{original:R}=t,L=D/(Math.abs(g.x*R.scaleX/r.scaleX)+Math.abs(g.y*R.scaleY/r.scaleY));u=R.scaleX*L,d=R.scaleY*L}else u=Math.abs(c.x*r.scaleX/g.x),d=Math.abs(c.y*r.scaleY/g.y);c_(t)&&(u*=2,d*=2),t.signX!==y&&o!=="y"&&(t.originX=C0(t.originX),u*=-1,t.signX=y),t.signY!==b&&o!=="x"&&(t.originY=C0(t.originY),d*=-1,t.signY=b)}let w=r.scaleX,x=r.scaleY;return o?(o==="x"&&r.set(ui,u),o==="y"&&r.set(Ai,d)):(!en(r,"lockScalingX")&&r.set(ui,u),!en(r,"lockScalingY")&&r.set(Ai,d)),w!==r.scaleX||x!==r.scaleY}var da=ms(Ec,ir((s,t,e,i)=>mp(s,t,e,i))),x_=ms(Ec,ir((s,t,e,i)=>mp(s,t,e,i,{by:"x"}))),S_=ms(Ec,ir((s,t,e,i)=>mp(s,t,e,i,{by:"y"}))),mM=["target","ex","ey","skewingSide"],gd={x:{counterAxis:"y",scale:ui,skew:oo,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Ai,skew:ao,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},gM=["ns","nesw","ew","nwse"],T_=(s,t,e)=>{if(t.x!==0&&en(e,"lockSkewingY")||t.y!==0&&en(e,"lockSkewingX"))return lc;let i=h_(e,t)%4;return"".concat(gM[i],"-resize")};function I_(s,t,e,i,n){let{target:r}=e,{counterAxis:o,origin:a,lockSkewing:c,skew:u,flip:d}=gd[s];if(en(r,c))return!1;let{origin:g,flip:y}=gd[o],b=Pt(e[g])*(r[y]?-1:1),w=-Math.sign(b)*(r[d]?-1:1),x=.5*-((r[u]===0&&Vc(e,Fe,Fe,i,n)[s]>0||r[u]>0?1:-1)*w)+.5;return ms(Y0,ir((R,L,N,Y)=>function(q,Q,ve){let{target:J,ex:Ee,ey:Ke,skewingSide:it}=Q,Tt=St(Q,mM),{skew:Ze}=gd[q],dt=ve.subtract(new j(Ee,Ke)).divide(new j(J.scaleX,J.scaleY))[q],Yt=J[Ze],Zt=Tt[Ze],yi=Math.tan(Et(Zt)),Qe=q==="y"?J._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:J._getTransformedDimensions({scaleX:1,scaleY:1}).y,pi=2*dt*it/Math.max(Qe,1)+yi,fi=ps(Math.atan(pi));J.set(Ze,fi);let Nn=Yt!==J[Ze];if(Nn&&q==="y"){let{skewX:sn,scaleX:ce}=J,rn=J._getTransformedDimensions({skewY:Yt}),sr=J._getTransformedDimensions(),Fi=sn!==0?rn.x/sr.x:1;Fi!==1&&J.set(ui,Fi*ce)}return Nn}(s,L,new j(N,Y))))(t,F(F({},e),{},{[a]:x,skewingSide:w}),i,n)}var D_=(s,t,e,i)=>I_("x",s,t,e,i),O_=(s,t,e,i)=>I_("y",s,t,e,i);function Pc(s,t){return s[t.canvas.altActionKey]}var pa=(s,t,e)=>{let i=Pc(s,e);return t.x===0?i?oo:Ai:t.y===0?i?ao:ui:""},As=(s,t,e)=>Pc(s,e)?T_(0,t,e):$r(s,t,e),Pd=(s,t,e,i)=>Pc(s,t.target)?O_(s,t,e,i):x_(s,t,e,i),Nd=(s,t,e,i)=>Pc(s,t.target)?D_(s,t,e,i):S_(s,t,e,i),gp=()=>({ml:new li({x:-.5,y:0,cursorStyleHandler:As,actionHandler:Pd,getActionName:pa}),mr:new li({x:.5,y:0,cursorStyleHandler:As,actionHandler:Pd,getActionName:pa}),mb:new li({x:0,y:.5,cursorStyleHandler:As,actionHandler:Nd,getActionName:pa}),mt:new li({x:0,y:-.5,cursorStyleHandler:As,actionHandler:Nd,getActionName:pa}),tl:new li({x:-.5,y:-.5,cursorStyleHandler:$r,actionHandler:da}),tr:new li({x:.5,y:-.5,cursorStyleHandler:$r,actionHandler:da}),bl:new li({x:-.5,y:.5,cursorStyleHandler:$r,actionHandler:da}),br:new li({x:.5,y:.5,cursorStyleHandler:$r,actionHandler:da}),mtr:new li({x:0,y:-.5,actionHandler:b_,cursorStyleHandler:y_,offsetY:-40,withConnection:!0,actionName:np})}),E_=()=>({mr:new li({x:.5,y:0,actionHandler:Ld,cursorStyleHandler:As,actionName:ba}),ml:new li({x:-.5,y:0,actionHandler:Ld,cursorStyleHandler:As,actionName:ba})}),k_=()=>F(F({},gp()),E_()),pc=class s extends En{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),s.ownDefaults),this.setOptions(t)}static createControls(){return{controls:gp()}}_updateCacheCanvas(){let t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){let e=t._currentTransform,i=e.target,n=e.action;if(this===i&&n&&n.startsWith(kc))return!1}return super._updateCacheCanvas()}getActiveControl(){let t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let i=Object.entries(this.oCoords);for(let n=i.length-1;n>=0;n--){let[r,o]=i[n],a=this.controls[r];if(a.shouldActivate(r,this,t,e?o.touchCorner:o.corner))return this.__corner=r,{key:r,control:a,coord:this.oCoords[r]}}}calcOCoords(){let t=this.getViewportTransform(),e=this.getCenterPoint(),i=lo(e.x,e.y),n=co({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),r=kt(i,n),o=kt(t,r),a=kt(o,[1/t[0],0,0,1/t[3],0,0]),c=this.group?to(this.calcTransformMatrix()):void 0;c&&(c.scaleX=Math.abs(c.scaleX),c.scaleY=Math.abs(c.scaleY));let u=this._calculateCurrentDimensions(c),d={};return this.forEachControl((g,y)=>{let b=g.positionHandler(u,a,this,g);d[y]=Object.assign(b,this._calcCornerCoords(g,b))}),d}_calcCornerCoords(t,e){let i=this.getTotalAngle();return{corner:t.calcCornerCoords(i,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(i,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(let e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();let e=this.getRelativeCenterPoint(),i=this._calculateCurrentDimensions(),n=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/n[0],1/n[3]),t.rotate(Et(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=F({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},i);t.save(),t.strokeStyle=n.borderColor,this._setLineDash(t,n.borderDashArray),this.strokeBorders(t,e),n.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:i,hasControls:n}=this,r=F({hasBorders:i,hasControls:n},e),o=this.getViewportTransform(),a=r.hasBorders,c=r.hasControls,u=kt(o,this.calcTransformMatrix()),d=to(u);t.save(),t.translate(d.translateX,d.translateY),t.lineWidth=1*this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(d.angle-=180),t.rotate(Et(this.group?d.angle:this.angle)),a&&this.drawBorders(t,d,e),c&&this.drawControls(t,e),t.restore()}drawBorders(t,e,i){let n;if(i&&i.forActiveSelection||this.group){let r=Fc(this.width,this.height,Da(e)),o=this.isStrokeAccountedForInDimensions()?sp:(this.strokeUniform?new j().scalarAdd(this.canvas?this.canvas.getZoom():1):new j(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);n=r.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else n=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,n,i)}drawControlsConnectingLines(t,e){let i=!1;t.beginPath(),this.forEachControl((n,r)=>{n.withConnection&&n.getVisibility(this,r)&&(i=!0,t.moveTo(n.x*e.x,n.y*e.y),t.lineTo(n.x*e.x+n.offsetX,n.y*e.y+n.offsetY))}),i&&t.stroke()}drawControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();let i=this.getCanvasRetinaScaling(),{cornerStrokeColor:n,cornerDashArray:r,cornerColor:o}=this,a=F({cornerStrokeColor:n,cornerDashArray:r,cornerColor:o},e);t.setTransform(i,0,0,i,0,0),t.strokeStyle=t.fillStyle=a.cornerColor,this.transparentCorners||(t.strokeStyle=a.cornerStrokeColor),this._setLineDash(t,a.cornerDashArray),this.forEachControl((c,u)=>{if(c.getVisibility(this,u)){let d=this.oCoords[u];c.render(t,d.x,d.y,a,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(e=>{let[i,n]=e;return this.setControlVisible(i,n)})}clearContextTop(t){if(!this.canvas)return;let e=this.canvas.contextTop;if(!e)return;let i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e);let n=this.width+4,r=this.height+4;return e.clearRect(-n/2,-r/2,n,r),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}};function M_(s,t){return t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(s.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)||Object.create(null))})}),s}V(pc,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});var Wt=class extends pc{};M_(Wt,[cc]),oe.setClass(Wt),oe.setClass(Wt,"object");var A_=(s,t,e,i)=>{let n=2*(i=Math.round(i))+1,{data:r}=s.getImageData(t-i,e-i,n,n);for(let o=3;o<r.length;o+=4)if(r[o]>0)return!1;return!0},fc=class{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new j(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new j(1/this.options.scaleX,1/this.options.scaleY):new j(1,1)}createSideVector(t,e){let i=hc(t,e);return this.options.strokeUniform?i.multiply(this.scale):i}projectOrthogonally(t,e,i){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,i)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){let e=new j(t);return e.y+=e.x*Math.tan(Et(this.options.skewY)),e.x+=e.y*Math.tan(Et(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}},_M=new j,mc=class s extends fc{static getOrthogonalRotationFactor(t,e){let i=e?dc(t,e):p_(t);return Math.abs(i)<us?-1:1}constructor(t,e,i,n){super(n),V(this,"AB",void 0),V(this,"AC",void 0),V(this,"alpha",void 0),V(this,"bisector",void 0),this.A=new j(t),this.B=new j(e),this.C=new j(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=dc(this.AB,this.AC),this.bisector=Lc(dp(this.AB.eq(_M)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,n=this.createSideVector(t,e),r=pp(n),o=s.getOrthogonalRotationFactor(r,this.bisector);return this.scaleUnitVector(r,i*o)}projectBevel(){let t=[];return(this.alpha%Rn==0?[this.B]:[this.B,this.C]).forEach(e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))}),t}projectMiter(){let t=[],e=Math.abs(this.alpha),i=1/Math.sin(e/2),n=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*i),r=this.options.strokeUniform?uc(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return uc(n)/this.strokeProjectionMagnitude<=r&&t.push(this.applySkew(this.A.add(n))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){let i=[],n=new j(s.getOrthogonalRotationFactor(this.bisector),s.getOrthogonalRotationFactor(new j(this.bisector.y,this.bisector.x)));return[new j(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n),new j(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n)].forEach(r=>{kd(r,t,e)&&i.push(this.A.add(r))}),i}projectRoundWithSkew(t,e){let i=[],{skewX:n,skewY:r,scaleX:o,scaleY:a,strokeUniform:c}=this.options,u=new j(Math.tan(Et(n)),Math.tan(Et(r))),d=this.strokeProjectionMagnitude,g=c?d/a/Math.sqrt(1/a**2+1/o**2*u.y**2):d/Math.sqrt(1+u.y**2),y=new j(Math.sqrt(Math.max(d**2-g**2,0)),g),b=c?d/Math.sqrt(1+u.x**2*(1/a)**2/(1/o+1/o*u.x*u.y)**2):d/Math.sqrt(1+u.x**2/(1+u.x*u.y)**2),w=new j(b,Math.sqrt(Math.max(d**2-b**2,0)));return[w,w.scalarMultiply(-1),y,y.scalarMultiply(-1)].map(x=>this.applySkew(c?x.multiply(this.strokeUniformScalar):x)).forEach(x=>{kd(x,t,e)&&i.push(this.applySkew(this.A).add(x))}),i}projectRound(){let t=[];t.push(...this.projectBevel());let e=this.alpha%Rn==0,i=this.applySkew(this.A),n=t[e?0:2].subtract(i),r=t[e?1:0].subtract(i),o=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=Jr(n,o)>0,c=a?n:r,u=a?r:n;return this.isSkewed()?t.push(...this.projectRoundWithSkew(c,u)):t.push(...this.projectRoundNoSkew(c,u)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}},gc=class extends fc{constructor(t,e,i){super(i),this.A=new j(t),this.T=new j(e)}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,n=this.createSideVector(t,e);return this.scaleUnitVector(pp(n),i)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let t=[];if(!this.isSkewed()&&this.A.eq(this.T)){let e=new j(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new mc(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){let t=[];if(this.A.eq(this.T)){let e=new j(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{let e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),i=this.scaleUnitVector(Lc(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),n=this.A.add(i);t.push(n.add(e),n.subtract(e))}return t.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}},F_=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=[];if(s.length===0)return i;let n=s.reduce((r,o)=>(r[r.length-1].eq(o)||r.push(new j(o)),r),[new j(s[0])]);if(n.length===1)e=!0;else if(!e){let r=n[0],o=((a,c)=>{for(let u=a.length-1;u>=0;u--)if(c(a[u],u,a))return u;return-1})(n,a=>!a.eq(r));n.splice(o+1)}return n.forEach((r,o,a)=>{let c,u;o===0?(u=a[1],c=e?r:a[a.length-1]):o===a.length-1?(c=a[o-1],u=e?r:a[0]):(c=a[o-1],u=a[o+1]),e&&a.length===1?i.push(...new gc(r,r,t).project()):!e||o!==0&&o!==a.length-1?i.push(...new mc(r,c,u,t).project()):i.push(...new gc(r,o===0?u:c,t).project())}),i},_p=s=>{let t={};return Object.keys(s).forEach(e=>{t[e]={},Object.keys(s[e]).forEach(i=>{t[e][i]=F({},s[e][i])})}),t},V_=s=>s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Nc=s=>{let t=[];for(let e,i=0;i<s.length;i++)(e=vM(s,i))!==!1&&t.push(e);return t},vM=(s,t)=>{let e=s.charCodeAt(t);if(isNaN(e))return"";if(e<55296||e>57343)return s.charAt(t);if(55296<=e&&e<=56319){if(s.length<=t+1)throw"High surrogate without following low surrogate";let n=s.charCodeAt(t+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return s.charAt(t)+s.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";let i=s.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1},yM=Object.freeze({__proto__:null,capitalize:function(s){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(s.charAt(0).toUpperCase()).concat(t?s.slice(1):s.slice(1).toLowerCase())},escapeXml:V_,graphemeSplit:Nc}),jc=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.fill!==t.fill||s.stroke!==t.stroke||s.strokeWidth!==t.strokeWidth||s.fontSize!==t.fontSize||s.fontFamily!==t.fontFamily||s.fontWeight!==t.fontWeight||s.fontStyle!==t.fontStyle||s.textBackgroundColor!==t.textBackgroundColor||s.deltaY!==t.deltaY||e&&(s.overline!==t.overline||s.underline!==t.underline||s.linethrough!==t.linethrough)},R_=(s,t)=>{let e=t.split(`
`),i=[],n=-1,r={};s=_p(s);for(let o=0;o<e.length;o++){let a=Nc(e[o]);if(s[o])for(let c=0;c<a.length;c++){n++;let u=s[o][c];u&&Object.keys(u).length>0&&(jc(r,u,!0)?i.push({start:n,end:n+1,style:u}):i[i.length-1].end++),r=u||{}}else n+=a.length,r={}}return i},L_=(s,t)=>{if(!Array.isArray(s))return _p(s);let e=t.split(ip),i={},n=-1,r=0;for(let o=0;o<e.length;o++){let a=Nc(e[o]);for(let c=0;c<a.length;c++)n++,s[r]&&s[r].start<=n&&n<s[r].end&&(i[o]=i[o]||{},i[o][c]=F({},s[r].style),n===s[r].end-1&&r++)}return i},gs=["display","transform",Nt,"fill-opacity","fill-rule","opacity",vi,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function O0(s,t){let e=s.nodeName,i=s.getAttribute("class"),n=s.getAttribute("id"),r="(?![a-zA-Z\\-]+)",o;if(o=new RegExp("^"+e,"i"),t=t.replace(o,""),n&&t.length&&(o=new RegExp("#"+n+r,"i"),t=t.replace(o,"")),i&&t.length){let a=i.split(" ");for(let c=a.length;c--;)o=new RegExp("\\."+a[c]+r,"i"),t=t.replace(o,"")}return t.length===0}function bM(s,t){let e=!0,i=O0(s,t.pop());return i&&t.length&&(e=function(n,r){let o,a=!0;for(;n.parentElement&&n.parentElement.nodeType===1&&r.length;)a&&(o=r.pop()),a=O0(n=n.parentElement,o);return r.length===0}(s,t)),i&&e&&t.length===0}var CM=s=>{var t;return(t=iM[s])!==null&&t!==void 0?t:s},wM=new RegExp("(".concat(Ji,")"),"gi"),xM=s=>s.replace(wM," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),E0,k0,M0,A0,F0,V0,R0,ci="(".concat(Ji,")"),SM=String.raw(E0||(E0=fs(["(skewX)(",")"],["(skewX)\\(","\\)"])),ci),TM=String.raw(k0||(k0=fs(["(skewY)(",")"],["(skewY)\\(","\\)"])),ci),IM=String.raw(M0||(M0=fs(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),ci,ci,ci),DM=String.raw(A0||(A0=fs(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),ci,ci),OM=String.raw(F0||(F0=fs(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),ci,ci),EM=String.raw(V0||(V0=fs(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),ci,ci,ci,ci,ci,ci),vp="(?:".concat(EM,"|").concat(OM,"|").concat(IM,"|").concat(DM,"|").concat(SM,"|").concat(TM,")"),kM="(?:".concat(vp,"*)"),MM=String.raw(R0||(R0=fs(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),kM),AM=new RegExp(MM),FM=new RegExp(vp),VM=new RegExp(vp,"g");function jd(s){let t=[];if(!(s=xM(s).replace(/\s*([()])\s*/gi,"$1"))||s&&!AM.test(s))return[...hi];for(let e of s.matchAll(VM)){let i=FM.exec(e[0]);if(!i)continue;let n=hi,r=i.filter(w=>!!w),[,o,...a]=r,[c,u,d,g,y,b]=a.map(w=>parseFloat(w));switch(o){case"translate":n=lo(c,u);break;case np:n=co({angle:c},{x:u,y:d});break;case kc:n=Ac(c,u);break;case oo:n=op(c);break;case ao:n=ap(c);break;case"matrix":n=[c,u,d,g,y,b]}t.push(n)}return Mc(t)}function RM(s,t,e,i){let n=Array.isArray(t),r,o=t;if(s!==Nt&&s!==vi||t!==_i){if(s==="strokeUniform")return t==="non-scaling-stroke";if(s==="strokeDashArray")o=t===_i?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(s==="transformMatrix")o=e&&e.transformMatrix?kt(e.transformMatrix,jd(t)):jd(t);else if(s==="visible")o=t!==_i&&t!=="hidden",e&&e.visible===!1&&(o=!1);else if(s==="opacity")o=parseFloat(t),e&&e.opacity!==void 0&&(o*=e.opacity);else if(s==="textAnchor")o=t==="start"?rt:t==="end"?Vt:Fe;else if(s==="charSpacing")r=Xs(t,i)/i*1e3;else if(s==="paintFirst"){let a=t.indexOf(Nt),c=t.indexOf(vi);o=Nt,(a>-1&&c>-1&&c<a||a===-1&&c>-1)&&(o=vi)}else{if(s==="href"||s==="xlink:href"||s==="font"||s==="id")return t;if(s==="imageSmoothing")return t==="optimizeQuality";r=n?t.map(Xs):Xs(t,i)}}else o="";return!n&&isNaN(r)?o:r}function LM(s,t){let e=s.match(tM);if(!e)return;let i=e[1],n=e[3],r=e[4],o=e[5],a=e[6];i&&(t.fontStyle=i),n&&(t.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),r&&(t.fontSize=Xs(r)),a&&(t.fontFamily=a),o&&(t.lineHeight=o==="normal"?1:o)}function PM(s,t){s.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;let[i,n]=e.split(":");t[i.trim().toLowerCase()]=n.trim()})}function NM(s){let t={},e=s.getAttribute("style");return e&&(typeof e=="string"?PM(e,t):function(i,n){Object.entries(i).forEach(r=>{let[o,a]=r;a!==void 0&&(n[o.toLowerCase()]=a)})}(e,t)),t}var jM={stroke:"strokeOpacity",fill:"fillOpacity"};function Pn(s,t,e){if(!s)return{};let i,n={},r=tp;s.parentNode&&x0.test(s.parentNode.nodeName)&&(n=Pn(s.parentElement,t,e),n.fontSize&&(i=r=Xs(n.fontSize)));let o=F(F(F({},t.reduce((u,d)=>{let g=s.getAttribute(d);return g&&(u[d]=g),u},{})),function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g={};for(let y in d)bM(u,y.split(" "))&&(g=F(F({},g),d[y]));return g}(s,e)),NM(s));o[pd]&&s.setAttribute(pd,o[pd]),o[dd]&&(i=Xs(o[dd],r),o[dd]="".concat(i));let a={};for(let u in o){let d=CM(u),g=RM(d,o[u],n,i);a[d]=g}a&&a.font&&LM(a.font,a);let c=F(F({},n),a);return x0.test(s.nodeName)?c:function(u){let d=Wt.getDefaults();return Object.entries(jM).forEach(g=>{let[y,b]=g;if(u[b]===void 0||u[y]==="")return;if(u[y]===void 0){if(!d[y])return;u[y]=d[y]}if(u[y].indexOf("url(")===0)return;let w=new di(u[y]);u[y]=w.setAlpha(xt(w.getAlpha()*u[b],2)).toRgba()}),u}(c)}var BM=["left","top","width","height","visible"],P_=["rx","ry"],kn=class s extends Wt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){let{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){let{width:e,height:i}=this,n=-e/2,r=-i/2,o=this.rx?Math.min(this.rx,e/2):0,a=this.ry?Math.min(this.ry,i/2):0,c=o!==0||a!==0;t.beginPath(),t.moveTo(n+o,r),t.lineTo(n+e-o,r),c&&t.bezierCurveTo(n+e-ss*o,r,n+e,r+ss*a,n+e,r+a),t.lineTo(n+e,r+i-a),c&&t.bezierCurveTo(n+e,r+i-ss*a,n+e-ss*o,r+i,n+e-o,r+i),t.lineTo(n+o,r+i),c&&t.bezierCurveTo(n+ss*o,r+i,n,r+i-ss*a,n,r+i-a),t.lineTo(n,r+a),c&&t.bezierCurveTo(n,r+ss*a,n+ss*o,r,n+o,r),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...P_,...t])}_toSVG(){let{width:t,height:e,rx:i,ry:n}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(i,'" ry="').concat(n,'" width="').concat(t,'" height="').concat(e,`" />
`)]}static fromElement(t,e,i){return Gt(this,null,function*(){let n=Pn(t,this.ATTRIBUTE_NAMES,i),{left:r=0,top:o=0,width:a=0,height:c=0,visible:u=!0}=n,d=St(n,BM);return new this(F(F(F({},e),d),{},{left:r,top:o,width:a,height:c,visible:!!(u&&a&&c)}))})}};V(kn,"type","Rect"),V(kn,"cacheProperties",[...Ln,...P_]),V(kn,"ownDefaults",{rx:0,ry:0}),V(kn,"ATTRIBUTE_NAMES",[...gs,"x","y","rx","ry","width","height"]),oe.setClass(kn),oe.setSVGClass(kn);var Mn="initialization",_c="added",yp="removed",vc="imperative",N_=(s,t)=>{let{strokeUniform:e,strokeWidth:i,width:n,height:r,group:o}=t,a=o&&o!==s?Ea(o.calcTransformMatrix(),s.calcTransformMatrix()):null,c=a?t.getRelativeCenterPoint().transform(a):t.getRelativeCenterPoint(),u=!t.isStrokeAccountedForInDimensions(),d=e&&u?l_(new j(i,i),void 0,s.calcTransformMatrix()):sp,g=!e&&u?i:0,y=Fc(n+g,r+g,Mc([a,t.calcOwnMatrix()],!0)).add(d).scalarDivide(2);return[c.subtract(y),c.add(y)]},so=class{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:i,strategy:n}=t;return e===Mn||e===vc||!!i&&n!==i}shouldLayoutClipPath(t){let{type:e,target:{clipPath:i}}=t;return e!==Mn&&i&&!i.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){let{type:i,target:n}=e;if(i===vc&&e.overrides)return e.overrides;if(t.length===0)return;let{left:r,top:o,width:a,height:c}=un(t.map(g=>N_(n,g)).reduce((g,y)=>g.concat(y),[])),u=new j(a,c),d=new j(r,o).add(u.scalarDivide(2));if(i===Mn){let g=this.getInitialSize(e,{size:u,center:d});return{center:d,relativeCorrection:new j(0,0),size:g}}return{center:d.transform(n.calcOwnMatrix()),size:u}}};V(so,"type","strategy");var Ta=class extends so{shouldPerformLayout(t){return!0}};V(Ta,"type","fit-content"),oe.setClass(Ta);var UM=["strategy"],HM=["target","strategy","bubbles","prevStrategy"],j_="layoutManager",Js=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Ta;V(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){let e=F(F({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);let i=this.getLayoutResult(e);i&&this.commitLayout(e,i),this.onAfterLayout(e,i),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){let{target:i}=e;return[nc,z0,ba,W0,Ec,Y0,ic,G0,X3].map(n=>t.on(n,r=>this.performLayout(n===nc?{type:"object_modified",trigger:n,e:r,target:i}:{type:"object_modifying",trigger:n,e:r,target:i})))}subscribe(t,e){this.unsubscribe(t,e);let i=this.attachHandlers(t,e);this._subscriptions.set(t,i)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(i=>i()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(e=>this.unsubscribe(e,t))}subscribeTargets(t){t.targets.forEach(e=>this.subscribe(e,t))}onBeforeLayout(t){let{target:e,type:i}=t,{canvas:n}=e;if(i===Mn||i===_c?this.subscribeTargets(t):i===yp&&this.unsubscribeTargets(t),e.fire("layout:before",{context:t}),n&&n.fire("object:layout:before",{target:e,context:t}),i===vc&&t.deep){let r=St(t,UM);e.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(F(F({},r),{},{bubbles:!1,target:o})))}}getLayoutResult(t){let{target:e,strategy:i,type:n}=t,r=i.calcLayoutResult(t,e.getObjects());if(!r)return;let o=n===Mn?new j:e.getRelativeCenterPoint(),{center:a,correction:c=new j,relativeCorrection:u=new j}=r,d=o.subtract(a).add(c).transform(n===Mn?hi:Mi(e.calcOwnMatrix()),!0).add(u);return{result:r,prevCenter:o,nextCenter:a,offset:d}}commitLayout(t,e){let{target:i}=t,{result:{size:n},nextCenter:r}=e;var o,a;i.set({width:n.x,height:n.y}),this.layoutObjects(t,e),t.type===Mn?i.set({left:(o=t.x)!==null&&o!==void 0?o:r.x+n.x*Pt(i.originX),top:(a=t.y)!==null&&a!==void 0?a:r.y+n.y*Pt(i.originY)}):(i.setPositionByOrigin(r,Fe,Fe),i.setCoords(),i.set("dirty",!0))}layoutObjects(t,e){let{target:i}=t;i.forEachObject(n=>{n.group===i&&this.layoutObject(t,e,n)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,i.clipPath)}layoutObject(t,e,i){let{offset:n}=e;i.set({left:i.left+n.x,top:i.top+n.y})}onAfterLayout(t,e){let{target:i,strategy:n,bubbles:r,prevStrategy:o}=t,a=St(t,HM),{canvas:c}=i;i.fire("layout:after",{context:t,result:e}),c&&c.fire("object:layout:after",{context:t,result:e,target:i});let u=i.parent;r&&u!=null&&u.layoutManager&&((a.path||(a.path=[])).push(i),u.layoutManager.performLayout(F(F({},a),{},{target:u}))),i.set("dirty",!0)}dispose(){let{_subscriptions:t}=this;t.forEach(e=>e.forEach(i=>i())),t.clear()}toObject(){return{type:j_,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}};oe.setClass(Js,j_);var zM=["type","objects","layoutManager"],Bd=class extends Js{performLayout(){}},cs=class s extends $0(Wt){static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),V(this,"_activeObjects",[]),V(this,"__objectSelectionTracker",void 0),V(this,"__objectSelectionDisposer",void 0),Object.assign(this,s.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var i;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(n=>{this.enterGroup(n,!1)}),this.layoutManager=(i=e.layoutManager)!==null&&i!==void 0?i:new Js,this.layoutManager.performLayout({type:Mn,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(hs("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(hs("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((e,i,n)=>this.canEnterGroup(e)&&n.indexOf(e)===i)}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let n=this._filterObjectsBeforeEnteringGroup(e),r=super.add(...n);return this._onAfterObjectsChange(_c,n),r}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=this._filterObjectsBeforeEnteringGroup(i),o=super.insertAt(t,...r);return this._onAfterObjectsChange(_c,r),o}remove(){let t=super.remove(...arguments);return this._onAfterObjectsChange(yp,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,e){let i=this[t];return super._set(t,e),t==="canvas"&&i!==e&&(this._objects||[]).forEach(n=>{n._set(t,e)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:i}=e,n=this._activeObjects;if(t)n.push(i),this._set("dirty",!0);else if(n.length>0){let r=n.indexOf(i);r>-1&&(n.splice(r,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&no(t,kt(Mi(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);let i=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();i&&(i===t||t.isDescendantOf(i))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(no(t,kt(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);let i=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;i>-1&&this._activeObjects.splice(i,1)}shouldCache(){let t=Wt.prototype.shouldCache.call(this);if(t){for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t){this._renderBackground(t);for(let i=0;i<this._objects.length;i++){var e;(e=this.canvas)!==null&&e!==void 0&&e.preserveObjectStacking&&this._objects[i].group!==this?(t.save(),t.transform(...Mi(this.calcTransformMatrix())),this._objects[i].render(t),t.restore()):this._objects[i].group===this&&this._objects[i].render(t)}this._drawClipPath(t,this.clipPath)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(F({target:this,type:vc},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){let i=this.includeDefaultValues;return this._objects.filter(function(n){return!n.excludeFromExport}).map(function(n){let r=n.includeDefaultValues;n.includeDefaultValues=i;let o=n[t||"toObject"](e);return n.includeDefaultValues=r,o})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.layoutManager.toObject();return F(F(F({},super.toObject(["subTargetCheck","interactive",...t])),e.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";let e=kn.prototype._toSVG.call(this),i=e.indexOf("COMMON_PARTS");e[i]='for="group" ';let n=e.join("");return t?t(n):n}_toSVG(t){let e=["<g ","COMMON_PARTS",` >
`],i=this._createSVGBgRect(t);i&&e.push("		",i);for(let n=0;n<this._objects.length;n++)e.push("		",this._objects[n].toSVG(t));return e.push(`</g>
`),e}getSvgStyles(){let t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(t){let e=[],i=this._createSVGBgRect(t);i&&e.push("	",i);for(let n=0;n<this._objects.length;n++)e.push("	",this._objects[n].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:i,objects:n=[],layoutManager:r}=t,o=St(t,zM);return Promise.all([io(n,e),Oa(o,e)]).then(a=>{let[c,u]=a,d=new this(c,F(F(F({},o),u),{},{layoutManager:new Bd}));if(r){let g=oe.getClass(r.type),y=oe.getClass(r.strategy);d.layoutManager=new g(new y)}else d.layoutManager=new Js;return d.layoutManager.subscribeTargets({type:Mn,target:d,targets:d.getObjects()}),d.setCoords(),d})}};V(cs,"type","Group"),V(cs,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),oe.setClass(cs);var B_=(s,t)=>Math.min(t.width/s.width,t.height/s.height),U_=(s,t)=>Math.max(t.width/s.width,t.height/s.height),Ud="\\s*,?\\s*",ua="".concat(Ud,"(").concat(Ji,")"),WM="".concat(ua).concat(ua).concat(ua).concat(Ud,"([01])").concat(Ud,"([01])").concat(ua).concat(ua),YM={m:"l",M:"L"},GM=(s,t,e,i,n,r,o,a,c,u,d)=>{let g=tn(s),y=nn(s),b=tn(t),w=nn(t),x=e*n*b-i*r*w+o,D=i*n*b+e*r*w+a;return["C",u+c*(-e*n*y-i*r*g),d+c*(-i*n*y+e*r*g),x+c*(e*n*w+i*r*b),D+c*(i*n*w-e*r*b),x,D]},L0=(s,t,e,i)=>{let n=Math.atan2(t,s),r=Math.atan2(i,e);return r>=n?r-n:2*Math.PI-(n-r)};function Hd(s,t,e,i,n,r,o,a){let c;if(Xe.cachesBoundsOfCurve&&(c=[...arguments].join(),fa.boundsOfCurveCache[c]))return fa.boundsOfCurveCache[c];let u=Math.sqrt,d=Math.abs,g=[],y=[[0,0],[0,0]],b=6*s-12*e+6*n,w=-3*s+9*e-9*n+3*o,x=3*e-3*s;for(let Y=0;Y<2;++Y){if(Y>0&&(b=6*t-12*i+6*r,w=-3*t+9*i-9*r+3*a,x=3*i-3*t),d(w)<1e-12){if(d(b)<1e-12)continue;let Ee=-x/b;0<Ee&&Ee<1&&g.push(Ee);continue}let q=b*b-4*x*w;if(q<0)continue;let Q=u(q),ve=(-b+Q)/(2*w);0<ve&&ve<1&&g.push(ve);let J=(-b-Q)/(2*w);0<J&&J<1&&g.push(J)}let D=g.length,R=D,L=z_(s,t,e,i,n,r,o,a);for(;D--;){let{x:Y,y:q}=L(g[D]);y[0][D]=Y,y[1][D]=q}y[0][R]=s,y[1][R]=t,y[0][R+1]=o,y[1][R+1]=a;let N=[new j(Math.min(...y[0]),Math.min(...y[1])),new j(Math.max(...y[0]),Math.max(...y[1]))];return Xe.cachesBoundsOfCurve&&(fa.boundsOfCurveCache[c]=N),N}var $M=(s,t,e)=>{let[i,n,r,o,a,c,u,d]=e,g=((y,b,w,x,D,R,L)=>{if(w===0||x===0)return[];let N=0,Y=0,q=0,Q=Math.PI,ve=L*ep,J=nn(ve),Ee=tn(ve),Ke=.5*(-Ee*y-J*b),it=.5*(-Ee*b+J*y),Tt=w**2,Ze=x**2,dt=it**2,Yt=Ke**2,Zt=Tt*Ze-Tt*dt-Ze*Yt,yi=Math.abs(w),Qe=Math.abs(x);if(Zt<0){let on=Math.sqrt(1-Zt/(Tt*Ze));yi*=on,Qe*=on}else q=(D===R?-1:1)*Math.sqrt(Zt/(Tt*dt+Ze*Yt));let pi=q*yi*it/Qe,fi=-q*Qe*Ke/yi,Nn=Ee*pi-J*fi+.5*y,sn=J*pi+Ee*fi+.5*b,ce=L0(1,0,(Ke-pi)/yi,(it-fi)/Qe),rn=L0((Ke-pi)/yi,(it-fi)/Qe,(-Ke-pi)/yi,(-it-fi)/Qe);R===0&&rn>0?rn-=2*Q:R===1&&rn<0&&(rn+=2*Q);let sr=Math.ceil(Math.abs(rn/Q*2)),Fi=[],jn=rn/sr,Hc=8/3*Math.sin(jn/4)*Math.sin(jn/4)/Math.sin(jn/2),ho=ce+jn;for(let on=0;on<sr;on++)Fi[on]=GM(ce,ho,Ee,J,yi,Qe,Nn,sn,Hc,N,Y),N=Fi[on][5],Y=Fi[on][6],ce=ho,ho+=jn;return Fi})(u-s,d-t,n,r,a,c,o);for(let y=0,b=g.length;y<b;y++)g[y][1]+=s,g[y][2]+=t,g[y][3]+=s,g[y][4]+=t,g[y][5]+=s,g[y][6]+=t;return g},H_=s=>{let t=0,e=0,i=0,n=0,r=[],o,a=0,c=0;for(let u of s){let d=[...u],g;switch(d[0]){case"l":d[1]+=t,d[2]+=e;case"L":t=d[1],e=d[2],g=["L",t,e];break;case"h":d[1]+=t;case"H":t=d[1],g=["L",t,e];break;case"v":d[1]+=e;case"V":e=d[1],g=["L",t,e];break;case"m":d[1]+=t,d[2]+=e;case"M":t=d[1],e=d[2],i=d[1],n=d[2],g=["M",t,e];break;case"c":d[1]+=t,d[2]+=e,d[3]+=t,d[4]+=e,d[5]+=t,d[6]+=e;case"C":a=d[3],c=d[4],t=d[5],e=d[6],g=["C",d[1],d[2],a,c,t,e];break;case"s":d[1]+=t,d[2]+=e,d[3]+=t,d[4]+=e;case"S":o==="C"?(a=2*t-a,c=2*e-c):(a=t,c=e),t=d[3],e=d[4],g=["C",a,c,d[1],d[2],t,e],a=g[3],c=g[4];break;case"q":d[1]+=t,d[2]+=e,d[3]+=t,d[4]+=e;case"Q":a=d[1],c=d[2],t=d[3],e=d[4],g=["Q",a,c,t,e];break;case"t":d[1]+=t,d[2]+=e;case"T":o==="Q"?(a=2*t-a,c=2*e-c):(a=t,c=e),t=d[1],e=d[2],g=["Q",a,c,t,e];break;case"a":d[6]+=t,d[7]+=e;case"A":$M(t,e,d).forEach(y=>r.push(y)),t=d[6],e=d[7];break;case"z":case"Z":t=i,e=n,g=["Z"]}g?(r.push(g),o=g[0]):o=""}return r},yc=(s,t,e,i)=>Math.sqrt((e-s)**2+(i-t)**2),z_=(s,t,e,i,n,r,o,a)=>c=>{let u=c**3,d=(b=>3*b**2*(1-b))(c),g=(b=>3*b*(1-b)**2)(c),y=(b=>(1-b)**3)(c);return new j(o*u+n*d+e*g+s*y,a*u+r*d+i*g+t*y)},W_=s=>s**2,Y_=s=>2*s*(1-s),G_=s=>(1-s)**2,qM=(s,t,e,i,n,r,o,a)=>c=>{let u=W_(c),d=Y_(c),g=G_(c),y=3*(g*(e-s)+d*(n-e)+u*(o-n)),b=3*(g*(i-t)+d*(r-i)+u*(a-r));return Math.atan2(b,y)},XM=(s,t,e,i,n,r)=>o=>{let a=W_(o),c=Y_(o),u=G_(o);return new j(n*a+e*c+s*u,r*a+i*c+t*u)},KM=(s,t,e,i,n,r)=>o=>{let a=1-o,c=2*(a*(e-s)+o*(n-e)),u=2*(a*(i-t)+o*(r-i));return Math.atan2(u,c)},P0=(s,t,e)=>{let i=new j(t,e),n=0;for(let r=1;r<=100;r+=1){let o=s(r/100);n+=yc(i.x,i.y,o.x,o.y),i=o}return n},ZM=(s,t)=>{let e,i=0,n=0,r={x:s.x,y:s.y},o=F({},r),a=.01,c=0,u=s.iterator,d=s.angleFinder;for(;n<t&&a>1e-4;)o=u(i),c=i,e=yc(r.x,r.y,o.x,o.y),e+n>t?(i-=a,a/=2):(r=o,i+=a,n+=e);return F(F({},o),{},{angle:d(c)})},bp=s=>{let t,e,i=0,n=0,r=0,o=0,a=0,c=[];for(let u of s){let d={x:n,y:r,command:u[0],length:0};switch(u[0]){case"M":e=d,e.x=o=n=u[1],e.y=a=r=u[2];break;case"L":e=d,e.length=yc(n,r,u[1],u[2]),n=u[1],r=u[2];break;case"C":t=z_(n,r,u[1],u[2],u[3],u[4],u[5],u[6]),e=d,e.iterator=t,e.angleFinder=qM(n,r,u[1],u[2],u[3],u[4],u[5],u[6]),e.length=P0(t,n,r),n=u[5],r=u[6];break;case"Q":t=XM(n,r,u[1],u[2],u[3],u[4]),e=d,e.iterator=t,e.angleFinder=KM(n,r,u[1],u[2],u[3],u[4]),e.length=P0(t,n,r),n=u[3],r=u[4];break;case"Z":e=d,e.destX=o,e.destY=a,e.length=yc(n,r,o,a),n=o,r=a}i+=e.length,c.push(e)}return c.push({length:i,x:n,y:r}),c},$_=function(s,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bp(s),i=0;for(;t-e[i].length>0&&i<e.length-2;)t-=e[i].length,i++;let n=e[i],r=t/n.length,o=s[i];switch(n.command){case"M":return{x:n.x,y:n.y,angle:0};case"Z":return F(F({},new j(n.x,n.y).lerp(new j(n.destX,n.destY),r)),{},{angle:Math.atan2(n.destY-n.y,n.destX-n.x)});case"L":return F(F({},new j(n.x,n.y).lerp(new j(o[1],o[2]),r)),{},{angle:Math.atan2(o[2]-n.y,o[1]-n.x)});case"C":case"Q":return ZM(n,t)}},QM=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),N0=new RegExp(WM,"g"),JM=new RegExp(Ji,"gi"),e4={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},q_=s=>{var t;let e=[],i=(t=s.match(QM))!==null&&t!==void 0?t:[];for(let n of i){let r=n[0];if(r==="z"||r==="Z"){e.push([r]);continue}let o=e4[r.toLowerCase()],a=[];if(r==="a"||r==="A"){N0.lastIndex=0;for(let c=null;c=N0.exec(n);)a.push(...c.slice(1))}else a=n.match(JM)||[];for(let c=0;c<a.length;c+=o){let u=new Array(o),d=YM[r];u[0]=c>0&&d?d:r;for(let g=0;g<o;g++)u[g+1]=parseFloat(a[c+g]);e.push(u)}}return e},t4=function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=new j(s[0]),i=new j(s[1]),n=1,r=0,o=[],a=s.length,c=a>2,u;for(c&&(n=s[2].x<i.x?-1:s[2].x===i.x?0:1,r=s[2].y<i.y?-1:s[2].y===i.y?0:1),o.push(["M",e.x-n*t,e.y-r*t]),u=1;u<a;u++){if(!e.eq(i)){let d=e.midPointFrom(i);o.push(["Q",e.x,e.y,d.x,d.y])}e=s[u],u+1<s.length&&(i=s[u+1])}return c&&(n=e.x>s[u-2].x?1:e.x===s[u-2].x?0:-1,r=e.y>s[u-2].y?1:e.y===s[u-2].y?0:-1),o.push(["L",e.x+n*t,e.y+r*t]),o},X_=(s,t)=>s.map(e=>e.map((i,n)=>n===0||t===void 0?i:xt(i,t)).join(" ")).join(" ");function bc(s,t){let e=s.style;e&&t&&(typeof t=="string"?e.cssText+=";"+t:Object.entries(t).forEach(i=>{let[n,r]=i;return e.setProperty(n,r)}))}var i4=(s,t)=>Math.floor(Math.random()*(t-s+1))+s;function n4(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.onComplete||qs,i=new(Oc()).XMLHttpRequest,n=t.signal,r=function(){i.abort()},o=function(){n&&n.removeEventListener("abort",r),i.onerror=i.ontimeout=qs};if(n&&n.aborted)throw new tc("request");return n&&n.addEventListener("abort",r,{once:!0}),i.onreadystatechange=function(){i.readyState===4&&(o(),e(i),i.onreadystatechange=qs)},i.onerror=i.ontimeout=o,i.open("get",s,!0),i.send(),i}var s4=(s,t)=>{let e=s._findCenterFromElement();s.transformMatrix&&((i=>{if(i.transformMatrix){let{scaleX:n,scaleY:r,angle:o,skewX:a}=to(i.transformMatrix);i.flipX=!1,i.flipY=!1,i.set(ui,n),i.set(Ai,r),i.angle=o,i.skewX=a,i.skewY=0}})(s),e=e.transform(s.transformMatrix)),delete s.transformMatrix,t&&(s.scaleX*=t.scaleX,s.scaleY*=t.scaleY,s.cropX=t.cropX,s.cropY=t.cropY,e.x+=t.offsetLeft,e.y+=t.offsetTop,s.width=t.width,s.height=t.height),s.setPositionByOrigin(e,Fe,Fe)},YL=Object.freeze({__proto__:null,addTransformToObject:o_,animate:fp,animateColor:g_,applyTransformToObject:no,calcAngleBetweenVectors:dc,calcDimensionsMatrix:Da,calcPlaneChangeMatrix:Ea,calcVectorRotation:p_,cancelAnimFrame:q0,capValue:Qs,composeMatrix:J0,copyCanvasElement:s=>{var t;let e=Rt();return e.width=s.width,e.height=s.height,(t=e.getContext("2d"))===null||t===void 0||t.drawImage(s,0,0),e},cos:tn,createCanvasElement:Rt,createImage:X0,createRotateMatrix:co,createScaleMatrix:Ac,createSkewXMatrix:op,createSkewYMatrix:ap,createTranslateMatrix:lo,createVector:hc,crossProduct:Jr,degreesToRadians:Et,dotProduct:f_,ease:oM,enlivenObjectEnlivables:Oa,enlivenObjects:io,findScaleToCover:U_,findScaleToFit:B_,getBoundsOfCurve:Hd,getOrthonormalVector:pp,getPathSegmentsInfo:bp,getPointOnPath:$_,getPointer:r_,getRandomInt:i4,getRegularPolygonPath:(s,t)=>{let e=2*Math.PI/s,i=-us;s%2==0&&(i+=e/2);let n=new Array(s+1);for(let r=0;r<s;r++){let o=r*e+i,{x:a,y:c}=new j(tn(o),nn(o)).scalarMultiply(t);n[r]=[r===0?"M":"L",a,c]}return n[s]=["Z"],n},getSmoothPathFromPoints:t4,getSvgAttributes:s=>{let t=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:Lc,groupSVGElements:(s,t)=>s&&s.length===1?s[0]:new cs(s,t),hasStyleChanged:jc,invertTransform:Mi,isBetweenVectors:kd,isIdentityMatrix:K0,isTouchEvent:ac,isTransparent:A_,joinPath:X_,loadImage:ga,magnitude:uc,makeBoundingBoxFromPoints:un,makePathSimpler:H_,matrixToSVG:Ca,mergeClipPaths:(s,t)=>{var e;let i=s,n=t;i.inverted&&!n.inverted&&(i=t,n=s),Ed(n,(e=n.group)===null||e===void 0?void 0:e.calcTransformMatrix(),i.calcTransformMatrix());let r=i.inverted&&n.inverted;return r&&(i.inverted=n.inverted=!1),new cs([i],{clipPath:n,inverted:r})},multiplyTransformMatrices:kt,multiplyTransformMatrixArray:Mc,parsePath:q_,parsePreserveAspectRatioAttribute:e_,parseUnit:Xs,pick:tr,projectStrokeOnPoints:F_,qrDecompose:to,radiansToDegrees:ps,removeFromArray:Os,removeTransformFromObject:(s,t)=>{let e=Mi(t),i=kt(e,s.calcOwnMatrix());no(s,i)},removeTransformMatrixForSvgParsing:s4,request:n4,requestAnimFrame:ma,resetObjectTransform:a_,rotatePoint:(s,t,e)=>s.rotate(e,t),rotateVector:dp,saveObjectTransform:cp,sendObjectToPlane:Ed,sendPointToPlane:Vn,sendVectorToPlane:l_,setStyle:bc,sin:nn,sizeAfterTransform:Fc,string:yM,stylesFromArray:L_,stylesToArray:R_,toDataURL:rp,toFixed:xt,transformPath:(s,t,e)=>(e&&(t=kt(t,[1,0,0,1,-e.x,-e.y])),s.map(i=>{let n=[...i];for(let r=1;r<i.length-1;r+=2){let{x:o,y:a}=ri({x:i[r],y:i[r+1]},t);n[r]=o,n[r+1]=a}return n})),transformPoint:ri}),zd=class extends oc{constructor(t){let{allowTouchScrolling:e=!1,containerClass:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),V(this,"upper",void 0),V(this,"container",void 0);let{el:n}=this.lower,r=this.createUpperCanvas();this.upper={el:r,ctx:r.getContext("2d")},this.applyCanvasStyle(n,{allowTouchScrolling:e}),this.applyCanvasStyle(r,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}});let o=this.createContainerElement();o.classList.add(i),n.parentNode&&n.parentNode.replaceChild(o,n),o.append(n,r),this.container=o}createUpperCanvas(){let{el:t}=this.lower,e=Rt();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){let t=ro().createElement("div");return t.setAttribute("data-fabric","wrapper"),bc(t,{position:"relative"}),b0(t),t}applyCanvasStyle(t,e){let{styles:i,allowTouchScrolling:n}=e;bc(t,F(F({},i),{},{"touch-action":n?"manipulation":_i})),b0(t)}setDimensions(t,e){super.setDimensions(t,e);let{el:i,ctx:n}=this.upper;s_(i,n,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),Dd(this.upper.el,t),Dd(this.container,t)}cleanupDOM(t){let e=this.container,{el:i}=this.lower,{el:n}=this.upper;super.cleanupDOM(t),e.removeChild(n),e.removeChild(i),e.parentNode&&e.parentNode.replaceChild(i,e)}dispose(){super.dispose(),dn().dispose(this.upper.el),delete this.upper,delete this.container}},Cc=class s extends xa{constructor(){super(...arguments),V(this,"targets",[]),V(this,"_hoveredTargets",[]),V(this,"_objectsToRender",void 0),V(this,"_currentTransform",null),V(this,"_groupSelector",null),V(this,"contextTopDirty",!1)}static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new zd(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(e=>!e.group&&e!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){let t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;let e=this.getRetinaScaling(),i=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=i,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,i){let n=this.targetFindTolerance,r=this.pixelFindContext;this.clearContext(r),r.save(),r.translate(-e+n,-i+n),r.transform(...this.viewportTransform);let o=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(r),t.selectionBackgroundColor=o,r.restore();let a=Math.round(n*this.getRetinaScaling());return A_(r,a,a,a)}_isSelectionKeyPressed(t){let e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find(i=>!!i&&t[i]===!0):t[e])}_shouldClearSelection(t,e){let i=this.getActiveObjects(),n=this._activeObject;return!!(!e||e&&n&&i.length>1&&i.indexOf(e)===-1&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e)}_shouldCenterTransform(t,e,i){if(!t)return;let n;return e===kc||e===ui||e===Ai||e===ba?n=this.centeredScaling||t.centeredScaling:e===np&&(n=this.centeredRotation||t.centeredRotation),n?!i:i}_getOriginFromCorner(t,e){let i={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?i.x=Vt:["mr","tr","br"].includes(e)&&(i.x=rt),["tl","mt","tr"].includes(e)?i.y=Td:["bl","mb","br"].includes(e)&&(i.y=gi)),i}_setupCurrentTransform(t,e,i){var n;let r=e.group?Vn(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:o="",control:a}=e.getActiveControl()||{},c=i&&a?(n=a.getActionHandler(t,e,a))===null||n===void 0?void 0:n.bind(a):u_,u=((b,w,x,D)=>{if(!w||!b)return"drag";let R=D.controls[w];return R.getActionName(x,R,D)})(i,o,t,e),d=t[this.centeredKey],g=this._shouldCenterTransform(e,u,d)?{x:Fe,y:Fe}:this._getOriginFromCorner(e,o),y={target:e,action:u,actionHandler:c,actionPerformed:!1,corner:o,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:r.x-e.left,offsetY:r.y-e.top,originX:g.x,originY:g.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:Et(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:d,original:F(F({},cp(e)),{},{originX:g.x,originY:g.y})};this._currentTransform=y,this.fire("before:transform",{e:t,transform:y})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){let{x:e,y:i,deltaX:n,deltaY:r}=this._groupSelector,o=new j(e,i).transform(this.viewportTransform),a=new j(e+n,i+r).transform(this.viewportTransform),c=this.selectionLineWidth/2,u=Math.min(o.x,a.x),d=Math.min(o.y,a.y),g=Math.max(o.x,a.x),y=Math.max(o.y,a.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(u,d,g-u,y-d)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,u+=c,d+=c,g-=c,y-=c,Wt.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(u,d,g-u,y-d))}findTarget(t){if(this.skipTargetFind)return;let e=this.getViewportPoint(t),i=this._activeObject,n=this.getActiveObjects();if(this.targets=[],i&&n.length>=1){if(i.findControl(e,ac(t))||n.length>1&&this.searchPossibleTargets([i],e))return i;if(i===this.searchPossibleTargets([i],e)){if(this.preserveObjectStacking){let r=this.targets;this.targets=[];let o=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&o&&o!==i?(this.targets=r,i):o}return i}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let i=t.getCoords(),n=this.getZoom(),r=t.padding/n;if(r){let[o,a,c,u]=i,d=Math.atan2(a.y-o.y,a.x-o.x),g=tn(d)*r,y=nn(d)*r,b=g+y,w=g-y;i=[new j(o.x-w,o.y-b),new j(a.x+b,a.y-w),new j(c.x+w,c.y+b),new j(u.x-b,u.y+w)]}return Zs.isPointInPolygon(e,i)}_checkTarget(t,e){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,Vn(e,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,e.x,e.y)))}_searchPossibleTargets(t,e){let i=t.length;for(;i--;){let n=t[i];if(this._checkTarget(n,e)){if(Ql(n)&&n.subTargetCheck){let r=this._searchPossibleTargets(n._objects,e);r&&this.targets.push(r)}return n}}}searchPossibleTargets(t,e){let i=this._searchPossibleTargets(t,e);if(i&&Ql(i)&&i.interactive&&this.targets[0]){let n=this.targets;for(let r=n.length-1;r>0;r--){let o=n[r];if(!Ql(o)||!o.interactive)return o}return n[0]}return i}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.upperCanvasEl,n=i.getBoundingClientRect(),r=r_(t),o=n.width||0,a=n.height||0;o&&a||(gi in n&&Td in n&&(a=Math.abs(n.top-n.bottom)),Vt in n&&rt in n&&(o=Math.abs(n.right-n.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,e||(r=Vn(r,void 0,this.viewportTransform));let c=this.getRetinaScaling();c!==1&&(r.x/=c,r.y/=c);let u=o===0||a===0?new j(1,1):new j(i.width/o,i.height/a);return r.multiply(u)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Rt(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let t=this._activeObject;return Es(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let i=!1,n=!1,r=this.getActiveObjects(),o=[],a=[];t.forEach(c=>{r.includes(c)||(i=!0,c.fire("deselected",{e,target:c}),a.push(c))}),r.forEach(c=>{t.includes(c)||(i=!0,c.fire("selected",{e,target:c}),o.push(c))}),t.length>0&&r.length>0?(n=!0,i&&this.fire("selection:updated",{e,selected:o,deselected:a})):r.length>0?(n=!0,this.fire("selection:created",{e,selected:o})):t.length>0&&(n=!0,this.fire("selection:cleared",{e,deselected:a})),n&&(this._objectsToRender=void 0)}setActiveObject(t,e){let i=this.getActiveObjects(),n=this._setActiveObject(t,e);return this._fireSelectionEvents(i,e),n}_setActiveObject(t,e){let i=this._activeObject;return i!==t&&!(!this._discardActiveObject(e,t)&&this._activeObject)&&!t.onSelect({e})&&(this._activeObject=t,Es(t)&&i!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,e){let i=this._activeObject;return!!i&&!i.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===i&&this.endCurrentTransform(t),Es(i)&&i===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){let e=this.getActiveObjects(),i=this.getActiveObject();e.length&&this.fire("before:selection:cleared",{e:t,deselected:[i]});let n=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),n}endCurrentTransform(t){let e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){let e=this._currentTransform,i=e.target,n={e:t,target:i,transform:e,action:e.action};i._scaling&&(i._scaling=!1),i.setCoords(),e.actionPerformed&&(this.fire("object:modified",n),i.fire(nc,n))}setViewportTransform(t){super.setViewportTransform(t);let e=this._activeObject;e&&e.setCoords()}destroy(){let t=this._activeObject;Es(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){let e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,i){let n=this._realizeGroupTransformOnObject(t),r=super._toObject(t,e,i);return t.set(n),r}_realizeGroupTransformOnObject(t){let{group:e}=t;if(e&&Es(e)&&this._activeObject===e){let i=tr(t,["angle","flipX","flipY",rt,ui,Ai,oo,ao,gi]);return o_(t,e.calcOwnMatrix()),i}return{}}_setSVGObject(t,e,i){let n=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,i),e.set(n)}};V(Cc,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});var Wd=class{constructor(t){V(this,"targets",[]),V(this,"__disposer",void 0);let e=()=>{let{hiddenTextarea:n}=t.getActiveObject()||{};n&&n.focus()},i=t.upperCanvasEl;i.addEventListener("click",e),this.__disposer=()=>i.removeEventListener("click",e)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),Os(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;!((e=this.target)===null||e===void 0)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}},r4=["target","oldTarget","fireCanvas","e"],Ei={passive:!1},Gr=(s,t)=>{let e=s.getViewportPoint(t),i=s.getScenePoint(t);return{viewportPoint:e,scenePoint:i,pointer:e,absolutePointer:i}},rs=function(s){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return s.addEventListener(...e)},Hi=function(s){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return s.removeEventListener(...e)},o4={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}},er=class extends Cc{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),V(this,"_isClick",void 0),V(this,"textEditingManager",new Wd(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(rs,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){let i=this.upperCanvasEl,n=this._getEventPrefix();t(n_(i),"resize",this._onResize),t(i,n+"down",this._onMouseDown),t(i,"".concat(n,"move"),this._onMouseMove,Ei),t(i,"".concat(n,"out"),this._onMouseOut),t(i,"".concat(n,"enter"),this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragstart",this._onDragStart),t(i,"dragend",this._onDragEnd),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,Ei)}removeListeners(){this.addOrRemove(Hi,"remove");let t=this._getEventPrefix(),e=Qi(this.upperCanvasEl);Hi(e,"".concat(t,"up"),this._onMouseUp),Hi(e,"touchend",this._onTouchEnd,Ei),Hi(e,"".concat(t,"move"),this._onMouseMove,Ei),Hi(e,"touchmove",this._onMouseMove,Ei)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){let e=this._hoveredTarget,i=F({e:t},Gr(this,t));this.fire("mouse:out",F(F({},i),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",F({},i)),this._hoveredTargets.forEach(n=>{this.fire("mouse:out",F(F({},i),{},{target:n})),n&&n.fire("mouseout",F({},i))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",F({e:t},Gr(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;let e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;let i={e:t,target:e};return this.fire("dragstart",i),e.fire("dragstart",i),void rs(this.upperCanvasEl,"drag",this._onDragProgress)}Od(t)}_renderDragEffects(t,e,i){let n=!1,r=this._dropTarget;r&&r!==e&&r!==i&&(r.clearContextTop(),n=!0),e?.clearContextTop(),i!==e&&i?.clearContextTop();let o=this.contextTop;o.save(),o.transform(...this.viewportTransform),e&&(o.save(),e.transform(o),e.renderDragSourceEffect(t),o.restore(),n=!0),i&&(o.save(),i.transform(o),i.renderDropTargetEffect(t),o.restore(),n=!0),o.restore(),n&&(this.contextTopDirty=!0)}_onDragEnd(t){let e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==_i,i=e?this._activeObject:void 0,n={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:i};Hi(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",n),this._dragSource&&this._dragSource.fire("dragend",n),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){let e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",e),this._dragSource&&this._dragSource.fire("drag",e)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){let e="dragover",{target:i,targets:n}=this.findDragTargets(t),r=this._dragSource,o={e:t,target:i,subTargets:n,dragSource:r,canDrop:!1,dropTarget:void 0},a;this.fire(e,o),this._fireEnterLeaveEvents(i,o),i&&(i.canDrop(t)&&(a=i),i.fire(e,o));for(let c=0;c<n.length;c++){let u=n[c];u.canDrop(t)&&(a=u),u.fire(e,o)}this._renderDragEffects(t,r,a),this._dropTarget=a}_onDragEnter(t){let{target:e,targets:i}=this.findDragTargets(t),n={e:t,target:e,subTargets:i,dragSource:this._dragSource};this.fire("dragenter",n),this._fireEnterLeaveEvents(e,n)}_onDragLeave(t){let e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){let{target:e,targets:i}=this.findDragTargets(t),n=this._basicEventHandler("drop:before",F({e:t,target:e,subTargets:i,dragSource:this._dragSource},Gr(this,t)));n.didDrop=!1,n.dropTarget=void 0,this._basicEventHandler("drop",n),this.fire("drop:after",n)}_onContextMenu(t){let e=this.findTarget(t),i=this.targets||[],n=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:i});return this.stopContextMenu&&Od(t),this._basicEventHandler("contextmenu",n),!1}_onDoubleClick(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData()}getPointerId(t){let e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){t.preventDefault(),this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),this._resetTransformEventData();let e=this.upperCanvasEl,i=this._getEventPrefix(),n=Qi(e);rs(n,"touchend",this._onTouchEnd,Ei),rs(n,"touchmove",this._onMouseMove,Ei),Hi(e,"".concat(i,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();let e=this.upperCanvasEl,i=this._getEventPrefix();Hi(e,"".concat(i,"move"),this._onMouseMove,Ei);let n=Qi(e);rs(n,"".concat(i,"up"),this._onMouseUp),rs(n,"".concat(i,"move"),this._onMouseMove,Ei)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;let e=this._getEventPrefix(),i=Qi(this.upperCanvasEl);Hi(i,"touchend",this._onTouchEnd,Ei),Hi(i,"touchmove",this._onMouseMove,Ei),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{rs(this.upperCanvasEl,"".concat(e,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();let e=this.upperCanvasEl,i=this._getEventPrefix();if(this._isMainEvent(t)){let n=Qi(this.upperCanvasEl);Hi(n,"".concat(i,"up"),this._onMouseUp),Hi(n,"".concat(i,"move"),this._onMouseMove,Ei),rs(e,"".concat(i,"move"),this._onMouseMove,Ei)}}_onMouseMove(t){let e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){let e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");let i=this._currentTransform,n=this._isClick,r=this._target,{button:o}=t;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let a,c,u=!1;if(i&&(this._finalizeCurrentTransform(t),u=i.actionPerformed),!n){let d=r===this._activeObject;this.handleSelection(t),u||(u=this._shouldRender(r)||!d&&r===this._activeObject)}if(r){let d=r.findControl(this.getViewportPoint(t),ac(t)),{key:g,control:y}=d||{};if(c=g,r.selectable&&r!==this._activeObject&&r.activeOn==="up")this.setActiveObject(r,t),u=!0;else if(y){let b=y.getMouseUpHandler(t,r,y);b&&(a=this.getScenePoint(t),b.call(y,t,i,a.x,a.y))}r.isMoving=!1}if(i&&(i.target!==r||i.corner!==c)){let d=i.target&&i.target.controls[i.corner],g=d&&d.getMouseUpHandler(t,i.target,d);a=a||this.getScenePoint(t),g&&g.call(d,t,i,a.x,a.y)}this._setCursorFromEvent(t,r),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,r&&(r.__corner=void 0),u?this.requestRenderAll():n||(e=this._activeObject)!==null&&e!==void 0&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){let{target:i,subTargets:n=[]}=e;this.fire(t,e),i&&i.fire(t,e);for(let r=0;r<n.length;r++)n[r]!==i&&n[r].fire(t,e);return e}_handleEvent(t,e){let i=this._target,n=this.targets||[],r=F(F({e:t,target:i,subTargets:n},Gr(this,t)),{},{transform:this._currentTransform},e==="up:before"||e==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(e),r),i&&i.fire("mouse".concat(e),r);for(let o=0;o<n.length;o++)n[o]!==i&&n[o].fire("mouse".concat(e),r)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());let e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){let e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){let e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let e=this._target,{button:i}=t;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(t,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let n=this._shouldRender(e),r=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,r=!0,n=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){let o=this.getScenePoint(t);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(e){let o=e===this._activeObject;e.selectable&&e.activeOn==="down"&&this.setActiveObject(e,t);let a=e.findControl(this.getViewportPoint(t),ac(t));if(e===this._activeObject&&(a||!r)){this._setupCurrentTransform(t,e,o);let c=a?a.control:void 0,u=this.getScenePoint(t),d=c&&c.getMouseDownHandler(t,e,c);d&&d.call(c,t,this._currentTransform,u.x,u.y)}}n&&(this._objectsToRender=void 0),this._handleEvent(t,"down"),n&&this.requestRenderAll()}_resetTransformEventData(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=Vn(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;let e=this._groupSelector;if(e){let i=this.getScenePoint(t);e.deltaX=i.x-e.x,e.deltaY=i.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{let i=this.findTarget(t);this._setCursorFromEvent(t,i),this._fireOverOutEvents(t,i)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,e){let i=this._hoveredTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:e,oldTarget:i,fireCanvas:!0});for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("mouse",{e:t,target:r[a],oldTarget:n[a]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){let i=this._draggedoverTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents("drag",F(F({},e),{},{target:t,oldTarget:i,fireCanvas:!0}));for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("drag",F(F({},e),{},{target:r[a],oldTarget:n[a]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:i,oldTarget:n,fireCanvas:r,e:o}=e,a=St(e,r4),{targetIn:c,targetOut:u,canvasIn:d,canvasOut:g}=o4[t],y=n!==i;if(n&&y){let b=F(F({},a),{},{e:o,target:n,nextTarget:i},Gr(this,o));r&&this.fire(g,b),n.fire(u,b)}if(i&&y){let b=F(F({},a),{},{e:o,target:i,previousTarget:n},Gr(this,o));r&&this.fire(d,b),i.fire(c,b)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){let e=this.getScenePoint(t),i=this._currentTransform,n=i.target,r=n.group?Vn(e,void 0,n.group.calcTransformMatrix()):e;i.shiftKey=t.shiftKey,i.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,i,r),i.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,i){let{action:n,actionHandler:r,target:o}=e,a=!!r&&r(t,e,i.x,i.y);a&&o.setCoords(),n==="drag"&&a&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let i=e.hoverCursor||this.hoverCursor,n=Es(this._activeObject)?this._activeObject:null,r=(!n||e.group!==n)&&e.findControl(this.getViewportPoint(t));if(r){let o=r.control;this.setCursor(o.cursorStyleHandler(t,o,e))}else e.subTargetCheck&&this.targets.concat().reverse().map(o=>{i=o.hoverCursor||i}),this.setCursor(i)}handleMultiSelection(t,e){let i=this._activeObject,n=Es(i);if(i&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(i!==e||n)&&(n||!e.isDescendantOf(i)&&!i.isDescendantOf(e))&&!e.onSelect({e:t})&&!i.getActiveControl()){if(n){let r=i.getObjects();if(e===i){let o=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(r,o)||this.searchPossibleTargets(this._objects,o))||!e.selectable)return!1}e.group===i?(i.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],i.size()===1&&this._setActiveObject(i.item(0),t)):(i.multiSelectAdd(e),this._hoveredTarget=i,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(r,t)}else{i.exitEditing&&i.exitEditing();let r=new(oe.getClass("ActiveSelection"))([],{canvas:this});r.multiSelectAdd(i,e),this._hoveredTarget=r,this._setActiveObject(r,t),this._fireSelectionEvents([i],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;let{x:e,y:i,deltaX:n,deltaY:r}=this._groupSelector,o=new j(e,i),a=o.add(new j(n,r)),c=o.min(a),u=o.max(a).subtract(c),d=this.collectObjects({left:c.x,top:c.y,width:u.x,height:u.y},{includeIntersecting:!this.selectionFullyContained}),g=o.eq(a)?d[0]?[d[0]]:[]:d.length>1?d.filter(y=>!y.onSelect({e:t})).reverse():d;if(g.length===1)this.setActiveObject(g[0],t);else if(g.length>1){let y=oe.getClass("ActiveSelection");this.setActiveObject(new y(g,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}},K_={x1:0,y1:0,x2:0,y2:0},a4=F(F({},K_),{},{r1:0,r2:0}),qr=(s,t)=>isNaN(s)&&typeof t=="number"?t:s,l4=/^(\d+\.\d+)%|(\d+)%$/;function Z_(s){return s&&l4.test(s)}function Q_(s,t){let e=typeof s=="number"?s:typeof s=="string"?parseFloat(s)/(Z_(s)?100:1):NaN;return Qs(0,qr(e,t),1)}var c4=/\s*;\s*/,h4=/\s*:\s*/;function u4(s,t){let e,i,n=s.getAttribute("style");if(n){let o=n.split(c4);o[o.length-1]===""&&o.pop();for(let a=o.length;a--;){let[c,u]=o[a].split(h4).map(d=>d.trim());c==="stop-color"?e=u:c==="stop-opacity"&&(i=u)}}let r=new di(e||s.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:Q_(s.getAttribute("offset"),0),color:r.toRgb(),opacity:qr(parseFloat(i||s.getAttribute("stop-opacity")||""),1)*r.getAlpha()*t}}function d4(s,t){let e=[],i=s.getElementsByTagName("stop"),n=Q_(t,1);for(let r=i.length;r--;)e.push(u4(i[r],n));return e}function J_(s){return s.nodeName==="linearGradient"||s.nodeName==="LINEARGRADIENT"?"linear":"radial"}function ev(s){return s.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Zi(s,t){return s.getAttribute(t)}function p4(s,t){return function(e,i){let n,{width:r,height:o,gradientUnits:a}=i;return Object.keys(e).reduce((c,u)=>{let d=e[u];return d==="Infinity"?n=1:d==="-Infinity"?n=0:(n=typeof d=="string"?parseFloat(d):d,typeof d=="string"&&Z_(d)&&(n*=.01,a==="pixels"&&(u!=="x1"&&u!=="x2"&&u!=="r2"||(n*=r),u!=="y1"&&u!=="y2"||(n*=o)))),c[u]=n,c},{})}(J_(s)==="linear"?function(e){return{x1:Zi(e,"x1")||0,y1:Zi(e,"y1")||0,x2:Zi(e,"x2")||"100%",y2:Zi(e,"y2")||0}}(s):function(e){return{x1:Zi(e,"fx")||Zi(e,"cx")||"50%",y1:Zi(e,"fy")||Zi(e,"cy")||"50%",r1:0,x2:Zi(e,"cx")||"50%",y2:Zi(e,"cy")||"50%",r2:Zi(e,"r")||"50%"}}(s),F(F({},t),{},{gradientUnits:ev(s)}))}var Xr=class{constructor(t){let{type:e="linear",gradientUnits:i="pixels",coords:n={},colorStops:r=[],offsetX:o=0,offsetY:a=0,gradientTransform:c,id:u}=t||{};Object.assign(this,{type:e,gradientUnits:i,coords:F(F({},e==="radial"?a4:K_),n),colorStops:r,offsetX:o,offsetY:a,gradientTransform:c,id:u?"".concat(u,"_").concat(ds()):ds()})}addColorStop(t){for(let e in t){let i=new di(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this}toObject(t){return F(F({},tr(this,t)),{},{type:this.type,coords:F({},this.coords),colorStops:this.colorStops.map(e=>F({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[],n=this.gradientTransform?this.gradientTransform.concat():hi.concat(),r=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(g=>F({},g)).sort((g,y)=>g.offset-y.offset),a=-this.offsetX,c=-this.offsetY;var u;r==="objectBoundingBox"?(a/=t.width,c/=t.height):(a+=t.width/2,c+=t.height/2),(u=t)&&typeof u._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=t.pathOffset.x,c-=t.pathOffset.y),n[4]-=a,n[5]-=c;let d=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(r,'"'),'gradientTransform="'.concat(e?e+" ":"").concat(Ca(n),'"'),""].join(" ");if(this.type==="linear"){let{x1:g,y1:y,x2:b,y2:w}=this.coords;i.push("<linearGradient ",d,' x1="',g,'" y1="',y,'" x2="',b,'" y2="',w,`">
`)}else if(this.type==="radial"){let{x1:g,y1:y,x2:b,y2:w,r1:x,r2:D}=this.coords,R=x>D;i.push("<radialGradient ",d,' cx="',R?g:b,'" cy="',R?y:w,'" r="',R?x:D,'" fx="',R?b:g,'" fy="',R?w:y,`">
`),R&&(o.reverse(),o.forEach(N=>{N.offset=1-N.offset}));let L=Math.min(x,D);if(L>0){let N=L/Math.max(x,D);o.forEach(Y=>{Y.offset+=N*(1-Y.offset)})}}return o.forEach(g=>{let{color:y,offset:b,opacity:w}=g;i.push("<stop ",'offset="',100*b+"%",'" style="stop-color:',y,w!==void 0?";stop-opacity: "+w:";",`"/>
`)}),i.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),i.join("")}toLive(t){let{x1:e,y1:i,x2:n,y2:r,r1:o,r2:a}=this.coords,c=this.type==="linear"?t.createLinearGradient(e,i,n,r):t.createRadialGradient(e,i,o,n,r,a);return this.colorStops.forEach(u=>{let{color:d,opacity:g,offset:y}=u;c.addColorStop(y,g!==void 0?new di(d).setAlpha(g).toRgba():d)}),c}static fromObject(t){return Gt(this,null,function*(){let{colorStops:e,gradientTransform:i}=t;return new this(F(F({},t),{},{colorStops:e?e.map(n=>F({},n)):void 0,gradientTransform:i?[...i]:void 0}))})}static fromElement(t,e,i){let n=ev(t),r=e._findCenterFromElement();return new this(F({id:t.getAttribute("id")||void 0,type:J_(t),coords:p4(t,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:d4(t,i.opacity),gradientUnits:n,gradientTransform:jd(t.getAttribute("gradientTransform")||"")},n==="pixels"?{offsetX:e.width/2-r.x,offsetY:e.height/2-r.y}:{offsetX:0,offsetY:0}))}};V(Xr,"type","Gradient"),oe.setClass(Xr,"gradient"),oe.setClass(Xr,"linear"),oe.setClass(Xr,"radial");var f4=["type","source","patternTransform"],_a=class{get type(){return"pattern"}set type(t){hs("warn","Setting type has no effect",t)}constructor(t){V(this,"repeat","repeat"),V(this,"offsetX",0),V(this,"offsetY",0),V(this,"crossOrigin",""),this.id=ds(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:e,crossOrigin:i}=this;return F(F({},tr(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:i,offsetX:xt(this.offsetX,Xe.NUM_FRACTION_DIGITS),offsetY:xt(this.offsetY,Xe.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:i}=t,{source:n,repeat:r,id:o}=this,a=qr(this.offsetX/e,0),c=qr(this.offsetY/i,0),u=r==="repeat-y"||r==="no-repeat"?1+Math.abs(a||0):qr(n.width/e,0),d=r==="repeat-x"||r==="no-repeat"?1+Math.abs(c||0):qr(n.height/i,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(c,'" width="').concat(u,'" height="').concat(d,'">'),'<image x="0" y="0" width="'.concat(n.width,'" height="').concat(n.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static fromObject(t,e){return Gt(this,null,function*(){let{type:i,source:n,patternTransform:r}=t,o=St(t,f4),a=yield ga(n,F(F({},e),{},{crossOrigin:o.crossOrigin}));return new this(F(F({},o),{},{patternTransform:r&&r.slice(0),source:a}))})}};V(_a,"type","Pattern"),oe.setClass(_a),oe.setClass(_a,"pattern");var m4=["path","left","top"],g4=["d"],ks=class s extends Wt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:i,left:n,top:r}=e,o=St(e,m4);super(),Object.assign(this,s.ownDefaults),this.setOptions(o),this._setPath(t||[],!0),typeof n=="number"&&this.set(rt,n),typeof r=="number"&&this.set(gi,r)}_setPath(t,e){this.path=H_(Array.isArray(t)?t:q_(t)),this.setBoundingBox(e)}_findCenterFromElement(){let t=this._calcBoundsFromPath();return new j(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){let e=-this.pathOffset.x,i=-this.pathOffset.y;t.beginPath();for(let n of this.path)switch(n[0]){case"L":t.lineTo(n[1]+e,n[2]+i);break;case"M":t.moveTo(n[1]+e,n[2]+i);break;case"C":t.bezierCurveTo(n[1]+e,n[2]+i,n[3]+e,n[4]+i,n[5]+e,n[6]+i);break;case"Q":t.quadraticCurveTo(n[1]+e,n[2]+i,n[3]+e,n[4]+i);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(t)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){let t=X_(this.path,Xe.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let t=Xe.NUM_FRACTION_DIGITS;return" translate(".concat(xt(-this.pathOffset.x,t),", ").concat(xt(-this.pathOffset.y,t),")")}toClipPathSVG(t){let e=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){let e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){let{width:e,height:i,pathOffset:n}=this._calcDimensions();this.set({width:e,height:i,pathOffset:n}),t&&this.setPositionByOrigin(n,Fe,Fe)}_calcBoundsFromPath(){let t=[],e=0,i=0,n=0,r=0;for(let o of this.path)switch(o[0]){case"L":n=o[1],r=o[2],t.push({x:e,y:i},{x:n,y:r});break;case"M":n=o[1],r=o[2],e=n,i=r;break;case"C":t.push(...Hd(n,r,o[1],o[2],o[3],o[4],o[5],o[6])),n=o[5],r=o[6];break;case"Q":t.push(...Hd(n,r,o[1],o[2],o[1],o[2],o[3],o[4])),n=o[3],r=o[4];break;case"Z":n=e,r=i}return un(t)}_calcDimensions(){let t=this._calcBoundsFromPath();return F(F({},t),{},{pathOffset:new j(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static fromElement(t,e,i){return Gt(this,null,function*(){let n=Pn(t,this.ATTRIBUTE_NAMES,i),{d:r}=n;return new this(r,F(F(F({},St(n,g4)),e),{},{left:void 0,top:void 0}))})}};V(ks,"type","Path"),V(ks,"cacheProperties",[...Ln,"path","fillRule"]),V(ks,"ATTRIBUTE_NAMES",[...gs,"d"]),oe.setClass(ks),oe.setSVGClass(ks);var _4=["left","top","radius"],tv=["radius","startAngle","endAngle","counterClockwise"],os=class s extends Wt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),t==="radius"&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,Et(this.startAngle),Et(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(ui)}getRadiusY(){return this.get("radius")*this.get(Ai)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...tv,...t])}_toSVG(){let t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:e}=this,i=Et(this.startAngle),n=Et(this.endAngle),r=tn(i)*e,o=nn(i)*e,a=tn(n)*e,c=nn(n)*e,u=t>180?1:0,d=this.counterClockwise?0:1;return['<path d="M '.concat(r," ").concat(o," A ").concat(e," ").concat(e," 0 ").concat(u," ").concat(d," ").concat(a," ").concat(c,'" '),"COMMON_PARTS",` />
`]}}static fromElement(t,e,i){return Gt(this,null,function*(){let n=Pn(t,this.ATTRIBUTE_NAMES,i),{left:r=0,top:o=0,radius:a=0}=n;return new this(F(F({},St(n,_4)),{},{radius:a,left:r-a,top:o-a}))})}static fromObject(t){return super._fromObject(t)}};V(os,"type","Circle"),V(os,"cacheProperties",[...Ln,...tv]),V(os,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),V(os,"ATTRIBUTE_NAMES",["cx","cy","r",...gs]),oe.setClass(os),oe.setSVGClass(os);var v4=["x1","y1","x2","y2"],y4=["x1","y1","x2","y2"],Yd=["x1","x2","y1","y2"],Ms=class s extends Wt{constructor(){let[t,e,i,n]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,s.ownDefaults),this.setOptions(r),this.x1=t,this.x2=i,this.y1=e,this.y2=n,this._setWidthHeight();let{left:o,top:a}=r;typeof o=="number"&&this.set(rt,o),typeof a=="number"&&this.set(gi,a)}_setWidthHeight(){let{x1:t,y1:e,x2:i,y2:n}=this;this.width=Math.abs(i-t),this.height=Math.abs(n-e);let{left:r,top:o,width:a,height:c}=un([{x:t,y:e},{x:i,y:n}]),u=new j(r+a/2,o+c/2);this.setPositionByOrigin(u,Fe,Fe)}_set(t,e){return super._set(t,e),Yd.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();let e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;let i=t.strokeStyle;var n;Wi(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(n=this.stroke)!==null&&n!==void 0?n:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i}_findCenterFromElement(){return new j((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){let t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){let{x1:t,x2:e,y1:i,y2:n,width:r,height:o}=this,a=t<=e?-1:1,c=i<=n?-1:1;return{x1:a*r/2,x2:a*-r/2,y1:c*o/2,y2:c*-o/2}}_toSVG(){let{x1:t,x2:e,y1:i,y2:n}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(i,'" x2="').concat(e,'" y2="').concat(n,`" />
`)]}static fromElement(t,e,i){return Gt(this,null,function*(){let n=Pn(t,this.ATTRIBUTE_NAMES,i),{x1:r=0,y1:o=0,x2:a=0,y2:c=0}=n;return new this([r,o,a,c],St(n,v4))})}static fromObject(t){let{x1:e,y1:i,x2:n,y2:r}=t,o=St(t,y4);return this._fromObject(F(F({},o),{},{points:[e,i,n,r]}),{extraParam:"points"})}};V(Ms,"type","Line"),V(Ms,"cacheProperties",[...Ln,...Yd]),V(Ms,"ATTRIBUTE_NAMES",gs.concat(Yd)),oe.setClass(Ms),oe.setSVGClass(Ms);var Kr=class s extends Wt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t)}_render(t){let e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){let t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}};V(Kr,"type","Triangle"),V(Kr,"ownDefaults",{width:100,height:100}),oe.setClass(Kr),oe.setSVGClass(Kr);var iv=["rx","ry"],as=class s extends Wt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t){super(),Object.assign(this,s.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(ui)}getRy(){return this.get("ry")*this.get(Ai)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...iv,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,Rn,!1),t.restore(),this._renderPaintInOrder(t)}static fromElement(t,e,i){return Gt(this,null,function*(){let n=Pn(t,this.ATTRIBUTE_NAMES,i);return n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,new this(n)})}};function b4(s){if(!s)return[];let t=s.replace(/,/g," ").trim().split(/\s+/),e=[];for(let i=0;i<t.length;i+=2)e.push({x:parseFloat(t[i]),y:parseFloat(t[i+1])});return e}V(as,"type","Ellipse"),V(as,"cacheProperties",[...Ln,...iv]),V(as,"ownDefaults",{rx:0,ry:0}),V(as,"ATTRIBUTE_NAMES",[...gs,"cx","cy","rx","ry"]),oe.setClass(as),oe.setSVGClass(as);var C4=["left","top"],nv={exactBoundingBox:!1},cn=class s extends Wt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),V(this,"strokeDiff",void 0),Object.assign(this,s.ownDefaults),this.setOptions(e),this.points=t;let{left:i,top:n}=e;this.initialized=!0,this.setBoundingBox(!0),typeof i=="number"&&this.set(rt,i),typeof n=="number"&&this.set(gi,n)}isOpen(){return!0}_projectStrokeOnPoints(t){return F_(this.points,t,this.isOpen())}_calcDimensions(t){t=F({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});let e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(u=>u.projectedPoint):this.points;if(e.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new j,strokeOffset:new j,strokeDiff:new j};let i=un(e),n=Da(F(F({},t),{},{scaleX:1,scaleY:1})),r=un(this.points.map(u=>ri(u,n,!0))),o=new j(this.scaleX,this.scaleY),a=i.left+i.width/2,c=i.top+i.height/2;return this.exactBoundingBox&&(a-=c*Math.tan(Et(this.skewX)),c-=a*Math.tan(Et(this.skewY))),F(F({},i),{},{pathOffset:new j(a,c),strokeOffset:new j(r.left,r.top).subtract(new j(i.left,i.top)).multiply(o),strokeDiff:new j(i.width,i.height).subtract(new j(r.width,r.height)).multiply(o)})}_findCenterFromElement(){let t=un(this.points);return new j(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){let{left:e,top:i,width:n,height:r,pathOffset:o,strokeOffset:a,strokeDiff:c}=this._calcDimensions();this.set({width:n,height:r,pathOffset:o,strokeOffset:a,strokeDiff:c}),t&&this.setPositionByOrigin(new j(e+n/2,i+r/2),Fe,Fe)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new j(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(t).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var e,i;let{width:a,height:c}=this._calcDimensions(t);o=new j((e=t.width)!==null&&e!==void 0?e:a,(i=t.height)!==null&&i!==void 0?i:c)}else{var n,r;o=new j((n=t.width)!==null&&n!==void 0?n:this.width,(r=t.height)!==null&&r!==void 0?r:this.height)}return o.multiply(new j(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){let i=this.initialized&&this[t]!==e,n=super._set(t,e);return this.exactBoundingBox&&i&&((t===ui||t===Ai)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),n}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(t)),{},{points:this.points.map(e=>{let{x:i,y:n}=e;return{x:i,y:n}})})}_toSVG(){let t=[],e=this.pathOffset.x,i=this.pathOffset.y,n=Xe.NUM_FRACTION_DIGITS;for(let r=0,o=this.points.length;r<o;r++)t.push(xt(this.points[r].x-e,n),",",xt(this.points[r].y-i,n)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){let e=this.points.length,i=this.pathOffset.x,n=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-n);for(let r=0;r<e;r++){let o=this.points[r];t.lineTo(o.x-i,o.y-n)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static fromElement(t,e,i){return Gt(this,null,function*(){return new this(b4(t.getAttribute("points")),F(F({},St(Pn(t,this.ATTRIBUTE_NAMES,i),C4)),e))})}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}};V(cn,"ownDefaults",nv),V(cn,"type","Polyline"),V(cn,"layoutProperties",[oo,ao,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),V(cn,"cacheProperties",[...Ln,"points"]),V(cn,"ATTRIBUTE_NAMES",[...gs]),oe.setClass(cn),oe.setSVGClass(cn);var Zr=class extends cn{isOpen(){return!1}};V(Zr,"ownDefaults",nv),V(Zr,"type","Polygon"),oe.setClass(Zr),oe.setSVGClass(Zr);var sv=["fontSize","fontWeight","fontFamily","fontStyle"],rv=["underline","overline","linethrough"],ov=[...sv,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],av=[...ov,...rv,"textBackgroundColor","direction"],w4=[...sv,...rv,vi,"strokeWidth",Nt,"deltaY","textBackgroundColor"],x4={_reNewline:ip,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:rt,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:rt,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},hn="justify",wc="justify-left",va="justify-right",ya="justify-center",xc=class extends Wt{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;let e=t===void 0?this.styles:{line:this.styles[t]};for(let i in e)for(let n in e[i])for(let r in e[i][n])return!1;return!0}styleHas(t,e){if(!this.styles||e!==void 0&&!this.styles[e])return!1;let i=e===void 0?this.styles:{0:this.styles[e]};for(let n in i)for(let r in i[n])if(i[n][r][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;let e=this.styles,i,n,r=0,o=!0,a=0;for(let c in e){i=0;for(let u in e[c]){let d=e[c][u]||{};r++,d[t]!==void 0?(n?d[t]!==n&&(o=!1):n=d[t],d[t]===this[t]&&delete d[t]):o=!1,Object.keys(d).length!==0?i++:delete e[c][u]}i===0&&delete e[c]}for(let c=0;c<this._textLines.length;c++)a+=this._textLines[c].length;o&&r===a&&(this[t]=n,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;let e=this.styles,i,n,r;for(n in e){for(r in i=e[n],i)delete i[r][t],Object.keys(i[r]).length===0&&delete i[r];Object.keys(i).length===0&&delete e[n]}}_extendStyles(t,e){let{lineIndex:i,charIndex:n}=this.get2DCursorLocation(t);this._getLineStyle(i)||this._setLineStyle(i);let r=lp(F(F({},this._getStyleDeclaration(i,n)),e),o=>o!==void 0);this._setStyleDeclaration(i,n,r)}getSelectionStyles(t,e,i){let n=[];for(let r=t;r<(e||t);r++)n.push(this.getStyleAtPosition(r,i));return n}getStyleAtPosition(t,e){let{lineIndex:i,charIndex:n}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(i,n):this._getStyleDeclaration(i,n)}setSelectionStyles(t,e,i){for(let n=e;n<(i||e);n++)this._extendStyles(n,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var i;let n=this.styles&&this.styles[t];return n&&(i=n[e])!==null&&i!==void 0?i:{}}getCompleteStyleDeclaration(t,e){return F(F({},tr(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,i){this.styles[t][e]=i}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}};V(xc,"_styleProperties",w4);var S4=/  +/g,T4=/"/g;function _d(s,t,e,i,n){return"		".concat(function(r,o){let{left:a,top:c,width:u,height:d}=o,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xe.NUM_FRACTION_DIGITS,y=wa(Nt,r,!1),[b,w,x,D]=[a,c,u,d].map(R=>xt(R,g));return"<rect ".concat(y,' x="').concat(b,'" y="').concat(w,'" width="').concat(x,'" height="').concat(D,'"></rect>')}(s,{left:t,top:e,width:i,height:n}),`
`)}var I4=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],vd,zi=class s extends xc{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t,e){super(),V(this,"__charBounds",[]),Object.assign(this,s.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let t=this.path;t&&(t.segmentsInfo=bp(t.path))}_splitText(){let t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(hn)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,i,n,r,o,a;for(let c=0,u=this._textLines.length;c<u;c++)if((this.textAlign===hn||c!==u-1&&!this.isEndOfWrapping(c))&&(n=0,r=this._textLines[c],e=this.getLineWidth(c),e<this.width&&(a=this.textLines[c].match(this._reSpacesAndTabs)))){i=a.length,t=(this.width-e)/i;for(let d=0;d<=r.length;d++)o=this.__charBounds[c][d],this._reSpaceAndTab.test(r[d])?(o.width+=t,o.kernedWidth+=t,o.left+=n,n+=t):o.left+=n}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){let i=e?this._unwrappedTextLines:this._textLines,n;for(n=0;n<i.length;n++){if(t<=i[n].length)return{lineIndex:n,charIndex:t};t-=i[n].length+this.missingNewlineOffset(n,e)}return{lineIndex:n-1,charIndex:i[n-1].length<t?i[n-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){let e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===vi?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,i){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Fe:t.textBaseline="middle";break;case"ascender":t.textBaseline=gi;break;case"descender":t.textBaseline=Td}t.font=this._getFontDeclaration(e,i)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,i=this._textLines.length;e<i;e++){let n=this.getLineWidth(e);n>t&&(t=n)}return t}_renderTextLine(t,e,i,n,r,o){this._renderChars(t,e,i,n,r,o)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let e=t.fillStyle,i=this._getLeftOffset(),n=this._getTopOffset();for(let r=0,o=this._textLines.length;r<o;r++){let a=this.getHeightOfLine(r);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",r)){n+=a;continue}let c=this._textLines[r].length,u=this._getLineLeftOffset(r),d,g,y=0,b=0,w=this.getValueOfPropertyAt(r,0,"textBackgroundColor");for(let x=0;x<c;x++){let D=this.__charBounds[r][x];g=this.getValueOfPropertyAt(r,x,"textBackgroundColor"),this.path?(t.save(),t.translate(D.renderLeft,D.renderTop),t.rotate(D.angle),t.fillStyle=g,g&&t.fillRect(-D.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),D.width,a/this.lineHeight),t.restore()):g!==w?(d=i+u+b,this.direction==="rtl"&&(d=this.width-d-y),t.fillStyle=w,w&&t.fillRect(d,n,y,a/this.lineHeight),b=D.left,y=D.width,w=g):y+=D.kernedWidth}g&&!this.path&&(d=i+u+b,this.direction==="rtl"&&(d=this.width-d-y),t.fillStyle=g,t.fillRect(d,n,y,a/this.lineHeight)),n+=a}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,i,n){let r=fa.getFontCache(e),o=this._getFontDeclaration(e),a=i+t,c=i&&o===this._getFontDeclaration(n),u=e.fontSize/this.CACHE_FONT_SIZE,d,g,y,b;if(i&&r[i]!==void 0&&(y=r[i]),r[t]!==void 0&&(b=d=r[t]),c&&r[a]!==void 0&&(g=r[a],b=g-y),d===void 0||y===void 0||g===void 0){let w=function(){if(!vd){let x=Rt();x.width=x.height=0,vd=x.getContext("2d")}return vd}();this._setTextStyles(w,e,!0),d===void 0&&(b=d=w.measureText(t).width,r[t]=d),y===void 0&&c&&i&&(y=w.measureText(i).width,r[i]=y),c&&g===void 0&&(g=w.measureText(a).width,r[a]=g,b=g-y)}return{width:d*u,kernedWidth:b*u}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){let e=this._measureLine(t);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,i,n=0,r=this.pathSide===Vt,o=this.path,a=this._textLines[t],c=a.length,u=new Array(c);this.__charBounds[t]=u;for(let d=0;d<c;d++){let g=a[d];i=this._getGraphemeBox(g,t,d,e),u[d]=i,n+=i.kernedWidth,e=g}if(u[c]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let d=0,g=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case rt:d=r?g-n:0;break;case Fe:d=(g-n)/2;break;case Vt:d=r?0:g-n}d+=this.pathStartOffset*(r?-1:1);for(let y=r?c-1:0;r?y>=0:y<c;r?y--:y++)i=u[y],d>g?d%=g:d<0&&(d+=g),this._setGraphemeOnPath(d,i),d+=i.kernedWidth}return{width:n,numOfSpaces:0}}_setGraphemeOnPath(t,e){let i=t+e.kernedWidth/2,n=this.path,r=$_(n.path,i,n.segmentsInfo);e.renderLeft=r.x-n.pathOffset.x,e.renderTop=r.y-n.pathOffset.y,e.angle=r.angle+(this.pathSide===Vt?Math.PI:0)}_getGraphemeBox(t,e,i,n,r){let o=this.getCompleteStyleDeclaration(e,i),a=n?this.getCompleteStyleDeclaration(e,i-1):{},c=this._measureChar(t,o,n,a),u,d=c.kernedWidth,g=c.width;this.charSpacing!==0&&(u=this._getWidthOfCharSpacing(),g+=u,d+=u);let y={width:g,left:0,height:o.fontSize,kernedWidth:d,deltaY:o.deltaY};if(i>0&&!r){let b=this.__charBounds[e][i-1];y.left=b.left+b.width+c.kernedWidth-c.width}return y}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let e=this.getHeightOfChar(t,0);for(let i=1,n=this._textLines[t].length;i<n;i++)e=Math.max(this.getHeightOfChar(t,i),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,e=0;for(let i=0,n=this._textLines.length;i<n;i++)t=this.getHeightOfLine(i),e+=i===n-1?t/this.lineHeight:t;return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let i=0,n=this._getLeftOffset(),r=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++){let c=this.getHeightOfLine(o),u=c/this.lineHeight,d=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],n+d,r+i+u,o),i+=c}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(Nt))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,e,i,n,r,o){let a=this.getHeightOfLine(o),c=this.textAlign.includes(hn),u=this.path,d=!c&&this.charSpacing===0&&this.isEmptyStyles(o)&&!u,g=this.direction==="ltr",y=this.direction==="ltr"?1:-1,b=e.direction,w,x,D,R,L,N="",Y=0;if(e.save(),b!==this.direction&&(e.canvas.setAttribute("dir",g?"ltr":"rtl"),e.direction=g?"ltr":"rtl",e.textAlign=g?rt:Vt),r-=a*this._fontSizeFraction/this.lineHeight,d)return this._renderChar(t,e,o,0,i.join(""),n,r),void e.restore();for(let q=0,Q=i.length-1;q<=Q;q++)R=q===Q||this.charSpacing||u,N+=i[q],D=this.__charBounds[o][q],Y===0?(n+=y*(D.kernedWidth-D.width),Y+=D.width):Y+=D.kernedWidth,c&&!R&&this._reSpaceAndTab.test(i[q])&&(R=!0),R||(w=w||this.getCompleteStyleDeclaration(o,q),x=this.getCompleteStyleDeclaration(o,q+1),R=jc(w,x,!1)),R&&(u?(e.save(),e.translate(D.renderLeft,D.renderTop),e.rotate(D.angle),this._renderChar(t,e,o,q,N,-Y/2,0),e.restore()):(L=n,this._renderChar(t,e,o,q,N,L,r)),N="",w=x,n+=y*Y,Y=0);e.restore()}_applyPatternGradientTransformText(t){let e=Rt(),i=this.width+this.strokeWidth,n=this.height+this.strokeWidth,r=e.getContext("2d");return e.width=i,e.height=n,r.beginPath(),r.moveTo(0,0),r.lineTo(i,0),r.lineTo(i,n),r.lineTo(0,n),r.closePath(),r.translate(i/2,n/2),r.fillStyle=t.toLive(r),this._applyPatternGradientTransform(r,t),r.fill(),r.createPattern(e,"no-repeat")}handleFiller(t,e,i){let n,r;return Wi(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?(n=-this.width/2,r=-this.height/2,t.translate(n,r),t[e]=this._applyPatternGradientTransformText(i),{offsetX:n,offsetY:r}):(t[e]=i.toLive(t),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:i,strokeWidth:n}=e;return t.lineWidth=n,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",i)}_setFillStyles(t,e){let{fill:i}=e;return this.handleFiller(t,"fillStyle",i)}_renderChar(t,e,i,n,r,o,a){let c=this._getStyleDeclaration(i,n),u=this.getCompleteStyleDeclaration(i,n),d=t==="fillText"&&u.fill,g=t==="strokeText"&&u.stroke&&u.strokeWidth;if(g||d){if(e.save(),e.font=this._getFontDeclaration(u),c.textBackgroundColor&&this._removeShadow(e),c.deltaY&&(a+=c.deltaY),d){let y=this._setFillStyles(e,u);e.fillText(r,o-y.offsetX,a-y.offsetY)}if(g){let y=this._setStrokeStyles(e,u);e.strokeText(r,o-y.offsetX,a-y.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,i){let n=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),a={fontSize:r*i.size,deltaY:o+r*i.baseline};this.setSelectionStyles(a,t,e)}_getLineLeftOffset(t){let e=this.getLineWidth(t),i=this.width-e,n=this.textAlign,r=this.direction,o=this.isEndOfWrapping(t),a=0;return n===hn||n===ya&&!o||n===va&&!o||n===wc&&!o?0:(n===Fe&&(a=i/2),n===Vt&&(a=i),n===ya&&(a=i/2),n===va&&(a=i),r==="rtl"&&(n===Vt||n===hn||n===va?a=0:n===rt||n===wc?a=-i:n!==Fe&&n!==ya||(a=-i/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];let{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,i){var n;return(n=this._getStyleDeclaration(t,e)[i])!==null&&n!==void 0?n:this[i]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let i=this._getTopOffset(),n=this._getLeftOffset(),r=this.path,o=this._getWidthOfCharSpacing(),a=this.offsets[e];for(let c=0,u=this._textLines.length;c<u;c++){let d=this.getHeightOfLine(c);if(!this[e]&&!this.styleHas(e,c)){i+=d;continue}let g=this._textLines[c],y=d/this.lineHeight,b=this._getLineLeftOffset(c),w,x,D=0,R=0,L=this.getValueOfPropertyAt(c,0,e),N=this.getValueOfPropertyAt(c,0,Nt),Y=i+y*(1-this._fontSizeFraction),q=this.getHeightOfChar(c,0),Q=this.getValueOfPropertyAt(c,0,"deltaY");for(let J=0,Ee=g.length;J<Ee;J++){let Ke=this.__charBounds[c][J];w=this.getValueOfPropertyAt(c,J,e),x=this.getValueOfPropertyAt(c,J,Nt);let it=this.getHeightOfChar(c,J),Tt=this.getValueOfPropertyAt(c,J,"deltaY");if(r&&w&&x)t.save(),t.fillStyle=N,t.translate(Ke.renderLeft,Ke.renderTop),t.rotate(Ke.angle),t.fillRect(-Ke.kernedWidth/2,a*it+Tt,Ke.kernedWidth,this.fontSize/15),t.restore();else if((w!==L||x!==N||it!==q||Tt!==Q)&&R>0){let Ze=n+b+D;this.direction==="rtl"&&(Ze=this.width-Ze-R),L&&N&&(t.fillStyle=N,t.fillRect(Ze,Y+a*q+Q,R,this.fontSize/15)),D=Ke.left,R=Ke.width,L=w,N=x,q=it,Q=Tt}else R+=Ke.kernedWidth}let ve=n+b+D;this.direction==="rtl"&&(ve=this.width-ve-R),t.fillStyle=x,w&&x&&t.fillRect(ve,Y+a*q+Q,R-o,this.fontSize/15),i+=d}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:i=this.fontWeight,fontSize:n=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=t.includes("'")||t.includes('"')||t.includes(",")||s.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,i,"".concat(r?this.CACHE_FONT_SIZE:n,"px"),o].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return Nc(t)}_splitTextIntoLines(t){let e=t.split(this._reNewline),i=new Array(e.length),n=[`
`],r=[];for(let o=0;o<e.length;o++)i[o]=this.graphemeSplit(e[o]),r=r.concat(i[o],n);return r.pop(),{_unwrappedLines:i,lines:e,graphemeText:r,graphemeLines:i}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject([...av,...t])),{},{styles:R_(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){let{textLayoutProperties:i}=this.constructor;super.set(t,e);let n=!1,r=!1;if(typeof t=="object")for(let o in t)o==="path"&&this.setPathInfo(),n=n||i.includes(o),r=r||o==="path";else n=i.includes(t),r=t==="path";return r&&this.setPathInfo(),n&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static fromElement(t,e,i){return Gt(this,null,function*(){let n=Pn(t,s.ATTRIBUTE_NAMES,i),r=F(F({},e),n),{textAnchor:o=rt,textDecoration:a="",dx:c=0,dy:u=0,top:d=0,left:g=0,fontSize:y=tp,strokeWidth:b=1}=r,w=St(r,I4),x=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),F({left:g+c,top:d+u,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:y},w)),D=x.getScaledHeight()/x.height,R=((x.height+x.strokeWidth)*x.lineHeight-x.height)*D,L=x.getScaledHeight()+R,N=0;return o===Fe&&(N=x.getScaledWidth()/2),o===Vt&&(N=x.getScaledWidth()),x.set({left:x.left-N,top:x.top-(L-x.fontSize*(.07+x._fontSizeFraction))/x.lineHeight,strokeWidth:b}),x})}static fromObject(t){return this._fromObject(F(F({},t),{},{styles:L_(t.styles||{},t.text)}),{extraParam:"text"})}};V(zi,"textLayoutProperties",ov),V(zi,"cacheProperties",[...Ln,...av]),V(zi,"ownDefaults",x4),V(zi,"type","Text"),V(zi,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),V(zi,"ATTRIBUTE_NAMES",gs.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),M_(zi,[class extends cc{_toSVG(){let s=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(s.textTop,s.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(s){return this._createBaseSVGMarkup(this._toSVG(),{reviver:s,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(s){let{textBgRects:t,textSpans:e}=s,i=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(T4,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",i?'text-decoration="'.concat(i,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),`</text>
`]}_getSVGTextAndBg(s,t){let e=[],i=[],n,r=s;this.backgroundColor&&i.push(..._d(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,a=this._textLines.length;o<a;o++)n=this._getLineLeftOffset(o),this.direction==="rtl"&&(n+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(i,o,t+n,r),this._setSVGTextLineText(e,o,t+n,r),r+=this.getHeightOfLine(o);return{textSpans:e,textBgRects:i}}_createTextCharSpan(s,t,e,i){let n=this.getSvgSpanStyles(t,s!==s.trim()||!!s.match(S4)),r=n?'style="'.concat(n,'"'):"",o=t.deltaY,a=o?' dy="'.concat(xt(o,Xe.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(xt(e,Xe.NUM_FRACTION_DIGITS),'" y="').concat(xt(i,Xe.NUM_FRACTION_DIGITS),'" ').concat(a).concat(r,">").concat(V_(s),"</tspan>")}_setSVGTextLineText(s,t,e,i){let n=this.getHeightOfLine(t),r=this.textAlign.includes(hn),o=this._textLines[t],a,c,u,d,g,y="",b=0;i+=n*(1-this._fontSizeFraction)/this.lineHeight;for(let w=0,x=o.length-1;w<=x;w++)g=w===x||this.charSpacing,y+=o[w],u=this.__charBounds[t][w],b===0?(e+=u.kernedWidth-u.width,b+=u.width):b+=u.kernedWidth,r&&!g&&this._reSpaceAndTab.test(o[w])&&(g=!0),g||(a=a||this.getCompleteStyleDeclaration(t,w),c=this.getCompleteStyleDeclaration(t,w+1),g=jc(a,c,!0)),g&&(d=this._getStyleDeclaration(t,w),s.push(this._createTextCharSpan(y,d,e,i)),y="",a=c,this.direction==="rtl"?e-=b:e+=b,b=0)}_setSVGTextLineBg(s,t,e,i){let n=this._textLines[t],r=this.getHeightOfLine(t)/this.lineHeight,o,a=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let d=0;d<n.length;d++){let{left:g,width:y,kernedWidth:b}=this.__charBounds[t][d];o=this.getValueOfPropertyAt(t,d,"textBackgroundColor"),o!==u?(u&&s.push(..._d(u,e+c,i,a,r)),c=g,a=y,u=o):a+=b}o&&s.push(..._d(u,e+c,i,a,r))}_getSVGLineTopOffset(s){let t,e=0;for(t=0;t<s;t++)e+=this.getHeightOfLine(t);let i=this.getHeightOfLine(t);return{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(s){return"".concat(super.getSvgStyles(s)," white-space: pre;")}getSvgSpanStyles(s,t){let{fontFamily:e,strokeWidth:i,stroke:n,fill:r,fontSize:o,fontStyle:a,fontWeight:c,deltaY:u}=s,d=this.getSvgTextDecoration(s);return[n?wa(vi,n):"",i?"stroke-width: ".concat(i,"; "):"",e?"font-family: ".concat(e.includes("'")||e.includes('"')?e:"'".concat(e,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",a?"font-style: ".concat(a,"; "):"",c?"font-weight: ".concat(c,"; "):"",d&&"text-decoration: ".concat(d,"; "),r?wa(Nt,r):"",u?"baseline-shift: ".concat(-u,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(s){return["overline","underline","line-through"].filter(t=>s[t.replace("-","")]).join(" ")}}]),oe.setClass(zi),oe.setSVGClass(zi);var Gd=class{constructor(t){V(this,"target",void 0),V(this,"__mouseDownInPlace",!1),V(this,"__dragStartFired",!1),V(this,"__isDraggingOver",!1),V(this,"__dragStartSelection",void 0),V(this,"__dragImageDisposer",void 0),V(this,"_dispose",void 0),this.target=t;let e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(i=>i()),this._dispose=void 0}}isPointerOverSelection(t){let e=this.target,i=e.getSelectionStartFromPointer(t);return e.isEditing&&i>=e.selectionStart&&i<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){let e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var i;let{selectionStart:n,selectionEnd:r}=e,o=this.target,a=o.canvas,c=new j(o.flipX?-1:1,o.flipY?-1:1),u=o._getCursorBoundaries(n),d=new j(u.left+u.leftOffset,u.top+u.topOffset).multiply(c).transform(o.calcTransformMatrix()),g=a.getScenePoint(t).subtract(d),y=o.getCanvasRetinaScaling(),b=o.getBoundingRect(),w=d.subtract(new j(b.left,b.top)),x=a.viewportTransform,D=w.add(g).transform(x,!0),R=o.backgroundColor,L=_p(o.styles);o.backgroundColor="";let N={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(N,0,n),o.setSelectionStyles(N,r,o.text.length),o.dirty=!0;let Y=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=R,o.styles=L,o.dirty=!0,bc(Y,{position:"fixed",left:"".concat(-Y.width,"px"),border:_i,width:"".concat(Y.width/y,"px"),height:"".concat(Y.height/y,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{Y.remove()},Qi(t.target||this.target.hiddenTextarea).body.appendChild(Y),(i=t.dataTransfer)===null||i===void 0||i.setDragImage(Y,D.x,D.y)}onDragStart(t){this.__dragStartFired=!0;let e=this.target,i=this.isActive();if(i&&t.dataTransfer){let n=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},r=e._text.slice(n.selectionStart,n.selectionEnd).join(""),o=F({text:e.text,value:r},n);t.dataTransfer.setData("text/plain",r),t.dataTransfer.setData("application/fabric",JSON.stringify({value:r,styles:e.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,o)}return e.abortCursorAnimation(),i}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let e=this.target.getSelectionStartFromPointer(t),i=this.__dragStartSelection;return e<i.selectionStart||e>i.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e}=t,i=this.targetCanDrop(e);!this.__isDraggingOver&&i&&(this.__isDraggingOver=!0)}dragOverHandler(t){let{e}=t,i=this.targetCanDrop(e);!this.__isDraggingOver&&i?this.__isDraggingOver=!0:this.__isDraggingOver&&!i&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;let{e:i}=t,n=i.defaultPrevented;this.__isDraggingOver=!1,i.preventDefault();let r=(e=i.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain");if(r&&!n){let o=this.target,a=o.canvas,c=o.getSelectionStartFromPointer(i),{styles:u}=i.dataTransfer.types.includes("application/fabric")?JSON.parse(i.dataTransfer.getData("application/fabric")):{},d=r[Math.max(0,r.length-1)],g=0;if(this.__dragStartSelection){let y=this.__dragStartSelection.selectionStart,b=this.__dragStartSelection.selectionEnd;c>y&&c<=b?c=y:c>b&&(c-=b-y),o.removeChars(y,b),delete this.__dragStartSelection}o._reNewline.test(d)&&(o._reNewline.test(o._text[c])||c===o._text.length)&&(r=r.trimEnd()),t.didDrop=!0,t.dropTarget=o,o.insertChars(r,u,c),a.setActiveObject(o),o.enterEditing(i),o.selectionStart=Math.min(c+g,o._text.length),o.selectionEnd=Math.min(o.selectionStart+r.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(ic,{index:c+g,action:"drop"}),a.fire("text:changed",{target:o}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(t){let{e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var i;let n=this.target,r=this.target.canvas,{selectionStart:o,selectionEnd:a}=this.__dragStartSelection,c=((i=e.dataTransfer)===null||i===void 0?void 0:i.dropEffect)||_i;c===_i?(n.selectionStart=o,n.selectionEnd=a,n._updateTextarea(),n.hiddenTextarea.focus()):(n.clearContextTop(),c==="move"&&(n.removeChars(o,a),n.selectionStart=n.selectionEnd=o,n.hiddenTextarea&&(n.hiddenTextarea.value=n.text),n._updateTextarea(),n.fire(ic,{index:o,action:"dragend"}),r.fire("text:changed",{target:n}),r.requestRenderAll()),n.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}},j0=/[ \n\.,;!\?\-]/,$d=class extends zi{constructor(){super(...arguments),V(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:i,delay:n,onComplete:r}=t;return fp({startValue:this._currentCursorOpacity,endValue:e,duration:i,delay:n,onComplete:r,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(e=>{e&&!e.isDone()&&(t=!0,e.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findWordBoundaryRight(t){let e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}findLineBoundaryLeft(t){let e=0,i=t-1;for(;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findLineBoundaryRight(t){let e=0,i=t;for(;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}searchWordBoundary(t,e){let i=this._text,n=t>0&&this._reSpace.test(i[t])&&(e===-1||!ip.test(i[t-1]))?t-1:t,r=i[n];for(;n>0&&n<i.length&&!j0.test(r);)n+=e,r=i[n];return e===-1&&j0.test(r)&&n++,n}selectWord(t){t=t||this.selectionStart;let e=this.searchWordBoundary(t,-1),i=Math.max(e,this.searchWordBoundary(t,1));this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){t=t||this.selectionStart;let e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(t){!this.isEditing&&this.editable&&(this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;let e=this.hiddenTextarea;Qi(e).activeElement!==e&&e.focus();let i=this.getSelectionStartFromPointer(t),n=this.selectionStart,r=this.selectionEnd;(i===this.__selectionStartOnMouseDown&&n!==r||n!==i&&r!==i)&&(i>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=i):(this.selectionStart=i,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,i){let n=i.slice(0,t),r=this.graphemeSplit(n).length;if(t===e)return{selectionStart:r,selectionEnd:r};let o=i.slice(t,e);return{selectionStart:r,selectionEnd:r+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(t,e,i){let n=i.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+i.slice(t,e).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),n=i.lineIndex,r=i.charIndex,o=this.getValueOfPropertyAt(n,r,"fontSize")*this.lineHeight,a=e.leftOffset,c=this.getCanvasRetinaScaling(),u=this.canvas.upperCanvasEl,d=u.width/c,g=u.height/c,y=d-o,b=g-o,w=new j(e.left+a,e.top+e.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new j(u.clientWidth/d,u.clientHeight/g));return w.x<0&&(w.x=0),w.x>y&&(w.x=y),w.y<0&&(w.y=0),w.y>b&&(w.y=b),w.x+=this.canvas._offset.left,w.y+=this.canvas._offset.top,{left:"".concat(w.x,"px"),top:"".concat(w.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditing(){let t=this._textBeforeEdit!==this.text;return this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire(nc),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){let{lineIndex:i,charIndex:n}=this.get2DCursorLocation(t,!0),{lineIndex:r,charIndex:o}=this.get2DCursorLocation(e,!0);if(i!==r){if(this.styles[i])for(let a=n;a<this._unwrappedTextLines[i].length;a++)delete this.styles[i][a];if(this.styles[r])for(let a=o;a<this._unwrappedTextLines[r].length;a++){let c=this.styles[r][a];c&&(this.styles[i]||(this.styles[i]={}),this.styles[i][n+a-o]=c)}for(let a=i+1;a<=r;a++)delete this.styles[a];this.shiftLineStyles(r,i-r)}else if(this.styles[i]){let a=this.styles[i],c=o-n;for(let u=n;u<o;u++)delete a[u];for(let u in this.styles[i]){let d=parseInt(u,10);d>=o&&(a[d-c]=a[u],delete a[u])}}}shiftLineStyles(t,e){let i=Object.assign({},this.styles);for(let n in this.styles){let r=parseInt(n,10);r>t&&(this.styles[r+e]=i[r],i[r-e]||delete this.styles[r])}}insertNewlineStyleObject(t,e,i,n){let r={},o=this._unwrappedTextLines[t].length,a=o===e,c=!1;i||(i=1),this.shiftLineStyles(t,i);let u=this.styles[t]?this.styles[t][e===0?e:e-1]:void 0;for(let g in this.styles[t]){let y=parseInt(g,10);y>=e&&(c=!0,r[y-e]=this.styles[t][g],a&&e===0||delete this.styles[t][g])}let d=!1;for(c&&!a&&(this.styles[t+i]=r,d=!0),(d||o>e)&&i--;i>0;)n&&n[i-1]?this.styles[t+i]={0:F({},n[i-1])}:u?this.styles[t+i]={0:F({},u)}:delete this.styles[t+i],i--;this._forceClearCache=!0}insertCharStyleObject(t,e,i,n){this.styles||(this.styles={});let r=this.styles[t],o=r?F({},r):{};i||(i=1);for(let c in o){let u=parseInt(c,10);u>=e&&(r[u+i]=o[u],o[u-i]||delete r[u])}if(this._forceClearCache=!0,n){for(;i--;)Object.keys(n[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=F({},n[i]));return}if(!r)return;let a=r[e?e-1:1];for(;a&&i--;)this.styles[t][e+i]=F({},a)}insertNewStyleBlock(t,e,i){let n=this.get2DCursorLocation(e,!0),r=[0],o,a=0;for(let c=0;c<t.length;c++)t[c]===`
`?(a++,r[a]=0):r[a]++;for(r[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,r[0],i),i=i&&i.slice(r[0]+1)),a&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+r[0],a),o=1;o<a;o++)r[o]>0?this.insertCharStyleObject(n.lineIndex+o,0,r[o],i):i&&this.styles[n.lineIndex+o]&&i[0]&&(this.styles[n.lineIndex+o][0]=i[0]),i=i&&i.slice(r[o]+1);r[o]>0&&this.insertCharStyleObject(n.lineIndex+o,0,r[o],i)}removeChars(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i;n>i&&this.removeStyleFromTo(i,n);let r=this.graphemeSplit(t);this.insertNewStyleBlock(r,i,e),this._text=[...this._text.slice(0,i),...r,...this._text.slice(n)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,i){i<=t?(e===t?this._selectionDirection=rt:this._selectionDirection===Vt&&(this._selectionDirection=rt,this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?this._selectionDirection===Vt?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection=Vt:this._selectionDirection===rt&&(this._selectionDirection=Vt,this.selectionStart=e),this.selectionEnd=i)}},qd=class extends $d{initHiddenTextarea(){let t=this.canvas&&Qi(this.canvas.getElement())||ro(),e=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[a,c]=o;return e.setAttribute(a,c)});let{top:i,left:n,fontSize:r}=this._calcTextareaPosition();e.style.cssText="position: absolute; top: ".concat(i,"; left: ").concat(n,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(r,";"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[a,c]=o;return e.addEventListener(a,this[c].bind(this))}),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;let e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){let e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;let i=()=>{this.updateFromTextArea(),this.fire(ic),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void i();let n=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,r=this._text.length,o=n.length,a=this.selectionStart,c=this.selectionEnd,u=a!==c,d,g,y,b,w=o-r,x=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),D=a>x.selectionStart;u?(g=this._text.slice(a,c),w+=c-a):o<r&&(g=D?this._text.slice(c+w,c):this._text.slice(a,a-w));let R=n.slice(x.selectionEnd-w,x.selectionEnd);if(g&&g.length&&(R.length&&(d=this.getSelectionStyles(a,a+1,!1),d=R.map(()=>d[0])),u?(y=a,b=c):D?(y=c-g.length,b=c):(y=c,b=c+g.length),this.removeStyleFromTo(y,b)),R.length){let{copyPasteData:L}=dn();e&&R.join("")===L.copiedText&&!Xe.disableStyleCopyPaste&&(d=L.copiedTextStyle),this.insertNewStyleBlock(R,a,d)}i()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t,{selectionStart:i,selectionEnd:n}=e;this.compositionStart=i,this.compositionEnd=n,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:t}=dn();t.copiedText=this.getSelectedText(),Xe.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let i,n=this._getLineLeftOffset(t);return e>0&&(i=this.__charBounds[t][e-1],n+=i.left+i.width),n}getDownCursorOffset(t,e){let i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-i;let o=n.charIndex,a=this._getWidthBeforeCursor(r,o),c=this._getIndexOnLine(r+1,a);return this._textLines[r].slice(o).length+c+1+this.missingNewlineOffset(r)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){let i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===0||t.metaKey||t.keyCode===33)return-i;let o=n.charIndex,a=this._getWidthBeforeCursor(r,o),c=this._getIndexOnLine(r-1,a),u=this._textLines[r].slice(0,o),d=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+c-u.length+(1-d)}_getIndexOnLine(t,e){let i=this._textLines[t],n,r,o=this._getLineLeftOffset(t),a=0;for(let c=0,u=i.length;c<u;c++)if(n=this.__charBounds[t][c].width,o+=n,o>e){r=!0;let d=o-n,g=o,y=Math.abs(d-e);a=Math.abs(g-e)<y?c:c-1;break}return r||(a=i.length-1),a}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){let i=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===Vt);if(e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),i!==0){let n=this.text.length;this.selectionStart=Qs(0,this.selectionStart,n),this.selectionEnd=Qs(0,this.selectionEnd,n),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){let e=this._selectionDirection===rt?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,e,i){let n;if(t.altKey)n=this["findWordBoundary".concat(i)](this[e]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[e]+=i==="Left"?-1:1,!0;n=this["findLineBoundary".concat(i)](this[e])}return n!==void 0&&this[e]!==n&&(this[e]=n,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=rt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===Vt&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=rt,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){let i="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===rt&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Vt,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=Vt,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}},yd=s=>!!s.button,Xd=class extends qd{constructor(){super(...arguments),V(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new Gd(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}onMouseDown(t){if(!this.canvas)return;this.__newClickTime=+new Date;let e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),Od(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y}doubleClickHandler(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))}tripleClickHandler(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))}_mouseDownHandler(t){let{e}=t;this.canvas&&this.editable&&!yd(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(t){let{e}=t;this.canvas&&this.editable&&!yd(e)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(t){let{e,transform:i}=t,n=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);let r=this.canvas._activeObject;if(r&&r!==this)return}!this.editable||this.group&&!this.group.interactive||i&&i.actionPerformed||yd(e)||n||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(t){let e=this.getSelectionStartFromPointer(t),i=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){let e=this.canvas.getScenePoint(t).transform(Mi(this.calcTransformMatrix())).add(new j(-this._getLeftOffset(),-this._getTopOffset())),i=0,n=0,r=0;for(let u=0;u<this._textLines.length&&i<=e.y;u++)i+=this.getHeightOfLine(u),r=u,u>0&&(n+=this._textLines[u-1].length+this.missingNewlineOffset(u-1));let o=Math.abs(this._getLineLeftOffset(r)),a=this._textLines[r].length,c=this.__charBounds[r];for(let u=0;u<a;u++){let d=o+c[u].kernedWidth;if(e.x<=d){Math.abs(e.x-d)<=Math.abs(e.x-o)&&n++;break}o=d,n++}return Math.min(this.flipX?a-n:n,this._text.length)}},Gl="moveCursorUp",$l="moveCursorDown",ql="moveCursorLeft",Xl="moveCursorRight",Kl="exitEditing",D4=F({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Kl,27:Kl,33:Gl,34:$l,35:Xl,36:ql,37:ql,38:Gl,39:Xl,40:$l},keysMapRtl:{9:Kl,27:Kl,33:Gl,34:$l,35:ql,36:Xl,37:Xl,38:Gl,39:ql,40:$l},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1}),ls=class s extends Xd{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}get type(){let t=super.type;return t==="itext"?"i-text":t}constructor(t,e){super(t,F(F({},s.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(t==="canvas"&&(this.canvas instanceof er&&this.canvas.textEditingManager.remove(this),e instanceof er&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,i=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,i)}setSelectionStyles(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,i)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){let e=this.isEditing;this.isEditing=!1;let i=super.toCanvasElement(t);return this.isEditing=e,i}renderCursorOrSelection(){if(!this.isEditing)return;let t=this.clearContextTop(!0);if(!t)return;let e=this._getCursorBoundaries();this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),this.canvas.contextTopDirty=!0,t.restore()}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0,i=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t,e);return{left:i,top:n,leftOffset:r.left,topOffset:r.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,i=0,{charIndex:n,lineIndex:r}=this.get2DCursorLocation(t);for(let u=0;u<r;u++)e+=this.getHeightOfLine(u);let o=this._getLineLeftOffset(r),a=this.__charBounds[r][n];a&&(i=a.left),this.charSpacing!==0&&n===this._textLines[r].length&&(i-=this._getWidthOfCharSpacing());let c={top:e,left:o+(i>0?i:0)};return this.direction==="rtl"&&(this.textAlign===Vt||this.textAlign===hn||this.textAlign===va?c.left*=-1:this.textAlign===rt||this.textAlign===wc?c.left=o-(i>0?i:0):this.textAlign!==Fe&&this.textAlign!==ya||(c.left=o-(i>0?i:0))),c}renderCursorAt(t){let e=this._getCursorBoundaries(t,!0);this._renderCursor(this.canvas.contextTop,e,t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}_renderCursor(t,e,i){let n=this.get2DCursorLocation(i),r=n.lineIndex,o=n.charIndex>0?n.charIndex-1:0,a=this.getValueOfPropertyAt(r,o,"fontSize"),c=this.getObjectScaling().x*this.canvas.getZoom(),u=this.cursorWidth/c,d=this.getValueOfPropertyAt(r,o,"deltaY"),g=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-a*(1-this._fontSizeFraction);this.inCompositionMode&&this.renderSelection(t,e),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,o,Nt),t.globalAlpha=this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-u/2,g+e.top+d,u,a)}renderSelection(t,e){let i={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,i,e)}renderDragSourceEffect(){let t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){let e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,i){let n=e.selectionStart,r=e.selectionEnd,o=this.textAlign.includes(hn),a=this.get2DCursorLocation(n),c=this.get2DCursorLocation(r),u=a.lineIndex,d=c.lineIndex,g=a.charIndex<0?0:a.charIndex,y=c.charIndex<0?0:c.charIndex;for(let b=u;b<=d;b++){let w=this._getLineLeftOffset(b)||0,x=this.getHeightOfLine(b),D=0,R=0,L=0;if(b===u&&(R=this.__charBounds[u][g].left),b>=u&&b<d)L=o&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===d)if(y===0)L=this.__charBounds[d][y].left;else{let ve=this._getWidthOfCharSpacing();L=this.__charBounds[d][y-1].left+this.__charBounds[d][y-1].width-ve}D=x,(this.lineHeight<1||b===d&&this.lineHeight>1)&&(x/=this.lineHeight);let N=i.left+w+R,Y=x,q=0,Q=L-R;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",Y=1,q=x):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Vt||this.textAlign===hn||this.textAlign===va?N=this.width-N-Q:this.textAlign===rt||this.textAlign===wc?N=i.left+w-L:this.textAlign!==Fe&&this.textAlign!==ya||(N=i.left+w-L)),t.fillRect(N,i.top+i.topOffset+q,Q,Y),i.topOffset+=D}}getCurrentCharFontSize(){let t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){let t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,Nt)}_getCurrentCharIndex(){let t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this._exitEditing(),this.draggableTextDelegate.dispose(),super.dispose()}};V(ls,"ownDefaults",D4),V(ls,"type","IText"),oe.setClass(ls),oe.setClass(ls,"i-text");var An=class s extends ls{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t,e){super(t,F(F({},s.ownDefaults),e))}static createControls(){return{controls:k_()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(hn)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,i=0,n=0,r={};for(let o=0;o<t.graphemeLines.length;o++)t.graphemeText[n]===`
`&&o>0?(i=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&o>0&&(i++,n++),r[o]={line:e,offset:i},n+=t.graphemeLines[o].length,i+=t.graphemeLines[o].length;return r}styleHas(t,e){if(this._styleMap&&!this.isWrapping){let i=this._styleMap[e];i&&(e=i.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,i=0,n=t+1,r=!1,o=this._styleMap[t],a=this._styleMap[t+1];o&&(t=o.line,i=o.offset),a&&(n=a.line,r=n===t,e=a.offset);let c=t===void 0?this.styles:{line:this.styles[t]};for(let u in c)for(let d in c[u]){let g=parseInt(d,10);if(g>=i&&(!r||g<e))for(let y in c[u][d])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){let i=this._styleMap[t];if(!i)return{};t=i.line,e=i.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,i){let n=this._styleMap[t];super._setStyleDeclaration(n.line,n.offset+e,i)}_deleteStyleDeclaration(t,e){let i=this._styleMap[t];super._deleteStyleDeclaration(i.line,i.offset+e)}_getLineStyle(t){let e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){let e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;let i=this.getGraphemeDataForRender(t),n=[];for(let r=0;r<i.wordsData.length;r++)n.push(...this._wrapLine(r,e,i));return this.isWrapping=!1,n}getGraphemeDataForRender(t){let e=this.splitByGrapheme,i=e?"":" ",n=0;return{wordsData:t.map((r,o)=>{let a=0,c=e?this.graphemeSplit(r):this.wordSplit(r);return c.length===0?[{word:[],width:0}]:c.map(u=>{let d=e?[u]:this.graphemeSplit(u),g=this._measureWord(d,o,a);return n=Math.max(g,n),a+=d.length+i.length,{word:d,width:g}})}),largestWordWidth:n}}_measureWord(t,e){let i,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=0;for(let o=0,a=t.length;o<a;o++)r+=this._getGraphemeBox(t[o],e,o+n,i,!0).kernedWidth,i=t[o];return r}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,i){let{largestWordWidth:n,wordsData:r}=i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=this._getWidthOfCharSpacing(),c=this.splitByGrapheme,u=[],d=c?"":" ",g=0,y=[],b=0,w=0,x=!0;e-=o;let D=Math.max(e,n,this.dynamicMinWidth),R=r[t],L;for(b=0,L=0;L<R.length;L++){let{word:N,width:Y}=R[L];b+=N.length,g+=w+Y-a,g>D&&!x?(u.push(y),y=[],g=Y,x=!0):g+=a,x||c||y.push(d),y=y.concat(N),w=c?0:this._measureWord([d],t,b),b++,x=!1}return L&&u.push(y),n+o>this.dynamicMinWidth&&(this.dynamicMinWidth=n-a+o),u}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){let e=super._splitTextIntoLines(t),i=this._wrapText(e.lines,this.width),n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=i[r].join("");return e.lines=n,e.graphemeLines=i,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let t=new Map;for(let e in this._styleMap){let i=parseInt(e,10);if(this._textLines[i]){let n=this._styleMap[e].line;t.set("".concat(n),!0)}}for(let e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}};V(An,"type","Textbox"),V(An,"textLayoutProperties",[...ls.textLayoutProperties,"width"]),V(An,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),oe.setClass(An);var Sc=class extends so{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){let{target:i}=t,{clipPath:n,group:r}=i;if(!n||!this.shouldPerformLayout(t))return;let{width:o,height:a}=un(N_(i,n)),c=new j(o,a);if(n.absolutePositioned)return{center:Vn(n.getRelativeCenterPoint(),void 0,r?r.calcTransformMatrix():void 0),size:c};{let u=n.getRelativeCenterPoint().transform(i.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){let{center:d=new j,correction:g=new j}=this.calcBoundingBox(e,t)||{};return{center:d.add(u),correction:g.subtract(u),size:c}}return{center:i.getRelativeCenterPoint().add(u),size:c}}}};V(Sc,"type","clip-path"),oe.setClass(Sc);var Tc=class extends so{getInitialSize(t,e){let{target:i}=t,{size:n}=e;return new j(i.width||n.x,i.height||n.y)}};V(Tc,"type","fixed"),oe.setClass(Tc);var Kd=class extends Js{subscribeTargets(t){let e=t.target;t.targets.reduce((i,n)=>(n.parent&&i.add(n.parent),i),new Set).forEach(i=>{i.layoutManager.subscribeTargets({target:i,targets:[e]})})}unsubscribeTargets(t){let e=t.target,i=e.getObjects();t.targets.reduce((n,r)=>(r.parent&&n.add(r.parent),n),new Set).forEach(n=>{!i.some(r=>r.parent===n)&&n.layoutManager.unsubscribeTargets({target:n,targets:[e]})})}},Qr=class s extends cs{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,s.ownDefaults),this.setOptions(e);let{left:i,top:n,layoutManager:r}=e;this.groupInit(t,{left:i,top:n,layoutManager:r??new Kd})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.multiSelectionStacking==="selection-order"?this.add(...e):e.forEach(n=>{let r=this._objects.findIndex(a=>a.isInFrontOf(n)),o=r===-1?this.size():r;this.insertAt(o,n)})}canEnterGroup(t){return this.getObjects().some(e=>e.isDescendantOf(t)||t.isDescendantOf(e))?(hs("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);let i=new Set;e.forEach(n=>{let{parent:r}=n;r&&i.add(r)}),t===yp?i.forEach(n=>{n._onAfterObjectsChange(_c,e)}):i.forEach(n=>{n._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let n=F(F({hasControls:!1},i),{},{forActiveSelection:!0});for(let r=0;r<this._objects.length;r++)this._objects[r]._renderControls(t,n);super._renderControls(t,e),t.restore()}};V(Qr,"type","ActiveSelection"),V(Qr,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),oe.setClass(Qr),oe.setClass(Qr,"activeSelection");var Zd=class{constructor(){V(this,"resources",{})}applyFilters(t,e,i,n,r){let o=r.getContext("2d");if(!o)return;o.drawImage(e,0,0,i,n);let a={sourceWidth:i,sourceHeight:n,imageData:o.getImageData(0,0,i,n),originalEl:e,originalImageData:o.getImageData(0,0,i,n),canvasEl:r,ctx:o,filterBackend:this};t.forEach(u=>{u.applyTo(a)});let{imageData:c}=a;return c.width===i&&c.height===n||(r.width=c.width,r.height=c.height),o.putImageData(c,0,0),a}},Ic=class{constructor(){let{tileSize:t=Xe.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};V(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),V(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){let i=Rt();i.width=t,i.height=e;let n=i.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});n&&(n.clearColor(0,0,0,0),this.canvas=i,this.gl=n)}applyFilters(t,e,i,n,r,o){let a=this.gl,c=r.getContext("2d");if(!a||!c)return;let u;o&&(u=this.getCachedTexture(o,e));let d={originalWidth:e.width||e.originalWidth||0,originalHeight:e.height||e.originalHeight||0,sourceWidth:i,sourceHeight:n,destinationWidth:i,destinationHeight:n,context:a,sourceTexture:this.createTexture(a,i,n,u?void 0:e),targetTexture:this.createTexture(a,i,n),originalTexture:u||this.createTexture(a,i,n,u?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},g=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,g),t.forEach(y=>{y&&y.applyTo(d)}),function(y){let b=y.targetCanvas,w=b.width,x=b.height,D=y.destinationWidth,R=y.destinationHeight;w===D&&x===R||(b.width=D,b.height=R)}(d),this.copyGLTo2D(a,d),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(d.sourceTexture),a.deleteTexture(d.targetTexture),a.deleteFramebuffer(g),c.setTransform(1,0,0,1,0,0),d}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,i,n,r){let{NEAREST:o,TEXTURE_2D:a,RGBA:c,UNSIGNED_BYTE:u,CLAMP_TO_EDGE:d,TEXTURE_MAG_FILTER:g,TEXTURE_MIN_FILTER:y,TEXTURE_WRAP_S:b,TEXTURE_WRAP_T:w}=t,x=t.createTexture();return t.bindTexture(a,x),t.texParameteri(a,g,r||o),t.texParameteri(a,y,r||o),t.texParameteri(a,b,d),t.texParameteri(a,w,d),n?t.texImage2D(a,0,c,c,u,n):t.texImage2D(a,0,c,e,i,0,c,u,null),x}getCachedTexture(t,e,i){let{textureCache:n}=this;if(n[t])return n[t];{let r=this.createTexture(this.gl,e.width,e.height,e,i);return r&&(n[t]=r),r}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){let i=t.canvas,n=e.targetCanvas,r=n.getContext("2d");if(!r)return;r.translate(0,n.height),r.scale(1,-1);let o=i.height-n.height;r.drawImage(i,0,o,n.width,n.height,0,0,n.width,n.height)}copyGLTo2DPutImageData(t,e){let i=e.targetCanvas.getContext("2d"),n=e.destinationWidth,r=e.destinationHeight,o=n*r*4;if(!i)return;let a=new Uint8Array(this.imageBuffer,0,o),c=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,a);let u=new ImageData(c,n,r);i.putImageData(u,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let t=this.gl,e={renderer:"",vendor:""};if(!t)return e;let i=t.getExtension("WEBGL_debug_renderer_info");if(i){let n=t.getParameter(i.UNMASKED_RENDERER_WEBGL),r=t.getParameter(i.UNMASKED_VENDOR_WEBGL);n&&(e.renderer=n.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}},bd;function O4(){let{WebGLProbe:s}=dn();return s.queryWebGL(Rt()),Xe.enableGLFiltering&&s.isSupported(Xe.textureSize)?new Ic({tileSize:Xe.textureSize}):new Zd}function Cd(){return!bd&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(bd=O4()),bd}var E4=["filters","resizeFilter","src","crossOrigin","type"],lv=["cropX","cropY"],ki=class s extends Wt{static getDefaults(){return F(F({},super.getDefaults()),s.ownDefaults)}constructor(t,e){super(),V(this,"_lastScaleX",1),V(this,"_lastScaleY",1),V(this,"_filterScalingX",1),V(this,"_filterScalingY",1),this.filters=[],Object.assign(this,s.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(ds()),this.setElement(typeof t=="string"?(this.canvas&&Qi(this.canvas.getElement())||ro()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(e),t.classList.add(s.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){let e=Cd(!1);e instanceof Ic&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{let e=this[t];e&&dn().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;let e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];return this.filters.forEach(i=>{i&&e.push(i.toObject())}),F(F({},super.toObject([...lv,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let t=[],e=this._element,i=-this.width/2,n=-this.height/2,r=[],o=[],a="",c="";if(!e)return[];if(this.hasCrop()){let u=ds();r.push('<clipPath id="imageCrop_'+u+`">
`,'	<rect x="'+i+'" y="'+n+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(c=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(i-this.cropX,'" y="').concat(n-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(c).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){let u=this.fill;this.fill=null,o=['	<rect x="'.concat(i,'" y="').concat(n,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=u}return r=this.paintFirst!==Nt?r.concat(o,t):r.concat(t,o),r}getSrc(t){let e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src")||"":e.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ga(t,{crossOrigin:e,signal:i}).then(n=>{e!==void 0&&this.set({crossOrigin:e}),this.setElement(n)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),n=i.x,r=i.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||n>e&&r>e)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=r);let a=Rt(),c=o.width,u=o.height;a.width=c,a.height=u,this._element=a,this._lastScaleX=t.scaleX=n,this._lastScaleY=t.scaleY=r,Cd().applyFilters([t],o,c,u,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(r=>r&&!r.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let e=this._originalElement,i=e.naturalWidth||e.width,n=e.naturalHeight||e.height;if(this._element===this._originalElement){let r=Rt();r.width=i,r.height=n,this._element=r,this._filteredEl=r}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,n),this._lastScaleX=1,this._lastScaleY=1);Cd().applyFilters(t,this._originalElement,i,n,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){let e=this._element;if(!e)return;let i=this._filterScalingX,n=this._filterScalingY,r=this.width,o=this.height,a=Math.max(this.cropX,0),c=Math.max(this.cropY,0),u=e.naturalWidth||e.width,d=e.naturalHeight||e.height,g=a*i,y=c*n,b=Math.min(r*i,u-g),w=Math.min(o*n,d-y),x=-r/2,D=-o/2,R=Math.min(r,u/i-a),L=Math.min(o,d/n-c);e&&t.drawImage(e,g,y,b,w,x,D,R,L)}_needsResize(){let t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.getOriginalSize();this.width=t||i.width,this.height=e||i.height}parsePreserveAspectRatioAttribute(){let t=e_(this.preserveAspectRatio||""),e=this.width,i=this.height,n={width:e,height:i},r,o=this._element.width,a=this._element.height,c=1,u=1,d=0,g=0,y=0,b=0;return!t||t.alignX===_i&&t.alignY===_i?(c=e/o,u=i/a):(t.meetOrSlice==="meet"&&(c=u=B_(this._element,n),r=(e-o*c)/2,t.alignX==="Min"&&(d=-r),t.alignX==="Max"&&(d=r),r=(i-a*u)/2,t.alignY==="Min"&&(g=-r),t.alignY==="Max"&&(g=r)),t.meetOrSlice==="slice"&&(c=u=U_(this._element,n),r=o-e/c,t.alignX==="Mid"&&(y=r/2),t.alignX==="Max"&&(y=r),r=a-i/u,t.alignY==="Mid"&&(b=r/2),t.alignY==="Max"&&(b=r),o=e/c,a=i/u)),{width:o,height:a,scaleX:c,scaleY:u,offsetLeft:d,offsetTop:g,cropX:y,cropY:b}}static fromObject(t,e){let{filters:i,resizeFilter:n,src:r,crossOrigin:o,type:a}=t,c=St(t,E4);return Promise.all([ga(r,F(F({},e),{},{crossOrigin:o})),i&&io(i,e),n&&io([n],e),Oa(c,e)]).then(u=>{let[d,g=[],[y]=[],b={}]=u;return new this(d,F(F({},c),{},{src:r,filters:g,resizeFilter:y},b))})}static fromURL(t){let{crossOrigin:e=null,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return ga(t,{crossOrigin:e,signal:i}).then(r=>new this(r,n))}static fromElement(e){return Gt(this,arguments,function*(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=Pn(t,this.ATTRIBUTE_NAMES,n);return this.fromURL(r["xlink:href"],i,r).catch(o=>(hs("log","Unable to parse Image",o),null))})}};V(ki,"type","Image"),V(ki,"cacheProperties",[...Ln,...lv]),V(ki,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),V(ki,"CSS_CANVAS","canvas-img"),V(ki,"ATTRIBUTE_NAMES",[...gs,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),oe.setClass(ki),oe.setSVGClass(ki);var GL=Rc(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var cv=G0,B0=s=>function(t,e,i){let{points:n,pathOffset:r}=i;return new j(n[s]).subtract(r).transform(kt(i.getViewportTransform(),i.calcTransformMatrix()))},hv=(s,t,e,i)=>{let{target:n,pointIndex:r}=t,o=n,a=Vn(new j(e,i),void 0,o.calcOwnMatrix());return o.points[r]=a.add(o.pathOffset),o.setDimensions(),!0},uv=(s,t)=>function(e,i,n,r){let o=i.target,a=new j(o.points[(s>0?s:o.points.length)-1]),c=a.subtract(o.pathOffset).transform(o.calcOwnMatrix()),u=t(e,F(F({},i),{},{pointIndex:s}),n,r),d=a.subtract(o.pathOffset).transform(o.calcOwnMatrix()).subtract(c);return o.left-=d.x,o.top-=d.y,u},U0=s=>ms(cv,uv(s,hv)),Qd=(s,t,e)=>{let{path:i,pathOffset:n}=s,r=i[t];return new j(r[e]-n.x,r[e+1]-n.y).transform(kt(s.getViewportTransform(),s.calcTransformMatrix()))};function k4(s,t,e){let{commandIndex:i,pointIndex:n}=this;return Qd(e,i,n)}function M4(s,t,e,i){let{target:n}=t,{commandIndex:r,pointIndex:o}=this,a=((c,u,d,g,y)=>{let{path:b,pathOffset:w}=c,x=b[(g>0?g:b.length)-1],D=new j(x[y],x[y+1]),R=D.subtract(w).transform(c.calcOwnMatrix()),L=Vn(new j(u,d),void 0,c.calcOwnMatrix());b[g][y]=L.x+w.x,b[g][y+1]=L.y+w.y,c.setDimensions();let N=D.subtract(c.pathOffset).transform(c.calcOwnMatrix()).subtract(R);return c.left-=N.x,c.top-=N.y,c.set("dirty",!0),!0})(n,e,i,r,o);return hp(this.actionName,F(F({},up(s,t,e,i)),{},{commandIndex:r,pointIndex:o})),a}var Dc=class extends li{constructor(t){super(t)}render(t,e,i,n,r){let o=F(F({},n),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(t,e,i,o,r)}},Jd=class extends Dc{constructor(t){super(t)}render(t,e,i,n,r){let{path:o}=r,{commandIndex:a,pointIndex:c,connectToCommandIndex:u,connectToPointIndex:d}=this;t.save(),t.strokeStyle=this.controlStroke,this.connectionDashArray&&t.setLineDash(this.connectionDashArray);let[g]=o[a],y=Qd(r,u,d);if(g==="Q"){let b=Qd(r,a,c+2);t.moveTo(b.x,b.y),t.lineTo(e,i)}else t.moveTo(e,i);t.lineTo(y.x,y.y),t.stroke(),t.restore(),super.render(t,e,i,n,r)}},Zl=(s,t,e,i,n,r)=>new(e?Jd:Dc)(F(F({commandIndex:s,pointIndex:t,actionName:"modifyPath",positionHandler:k4,actionHandler:M4,connectToCommandIndex:n,connectToPointIndex:r},i),e?i.controlPointStyle:i.pointStyle)),$L=Object.freeze({__proto__:null,changeWidth:Ld,createObjectDefaultControls:gp,createPathControls:function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={},i="M";return s.path.forEach((n,r)=>{let o=n[0];switch(o!=="Z"&&(e["c_".concat(r,"_").concat(o)]=Zl(r,n.length-2,!1,t)),o){case"C":e["c_".concat(r,"_C_CP_1")]=Zl(r,1,!0,t,r-1,(a=>a==="C"?5:a==="Q"?3:1)(i)),e["c_".concat(r,"_C_CP_2")]=Zl(r,3,!0,t,r,5);break;case"Q":e["c_".concat(r,"_Q_CP_1")]=Zl(r,1,!0,t,r,3)}i=o}),e},createPolyActionHandler:U0,createPolyControls:function(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={};for(let i=0;i<(typeof s=="number"?s:s.points.length);i++)e["p".concat(i)]=new li(F({actionName:cv,positionHandler:B0(i),actionHandler:U0(i)},t));return e},createPolyPositionHandler:B0,createResizeControls:E_,createTextboxDefaultControls:k_,dragHandler:u_,factoryPolyActionHandler:uv,getLocalPoint:Vc,polyActionHandler:hv,renderCircleControl:__,renderSquareControl:v_,rotationStyleHandler:y_,rotationWithSnapping:b_,scaleCursorStyleHandler:$r,scaleOrSkewActionName:pa,scaleSkewCursorStyleHandler:As,scalingEqually:da,scalingX:x_,scalingXOrSkewingY:Pd,scalingY:S_,scalingYOrSkewingX:Nd,skewCursorStyleHandler:T_,skewHandlerX:D_,skewHandlerY:O_,wrapWithFireEvent:ms,wrapWithFixedAnchor:ir}),Bc=s=>s.webgl!==void 0;var Cp="precision highp float",A4=`
    `.concat(Cp,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),F4=["type"],V4=["type"],R4=new RegExp(Cp,"g"),Mt=class{get type(){return this.constructor.type}constructor(){let t=St(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F4);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return A4}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:n="highp"}}=dn();n!=="highp"&&(e=e.replace(R4,Cp.replace("highp",n)));let r=t.createShader(t.VERTEX_SHADER),o=t.createShader(t.FRAGMENT_SHADER),a=t.createProgram();if(!r||!o||!a)throw new Yi("Vertex, fragment shader or program creation error");if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Yi("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(r)));if(t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Yi("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(o)));if(t.attachShader(a,r),t.attachShader(a,o),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Yi('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(a)));let c=this.getUniformLocations(t,a)||{};return c.uStepW=t.getUniformLocation(a,"uStepW"),c.uStepH=t.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(t,a),uniformLocations:c}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(t,e){let i=this.constructor.uniformLocations,n={};for(let r=0;r<i.length;r++)n[i[r]]=t.getUniformLocation(e,i[r]);return n}sendAttributeData(t,e,i){let n=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)}_setupFrameBuffer(t){let e=t.context;if(t.passes>1){let i=t.destinationWidth,n=t.destinationHeight;t.sourceWidth===i&&t.sourceHeight===n||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,i,n)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;let e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){Bc(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){let e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){let e=t.context,i=this.retrieveShader(t);t.pass===0&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){let e=Rt();e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}}toObject(){let t=Object.keys(this.constructor.defaults||{});return F({type:this.type},t.reduce((e,i)=>(e[i]=this[i],e),{}))}toJSON(){return this.toObject()}static fromObject(t,e){return Gt(this,null,function*(){return new this(St(t,V4))})}};V(Mt,"type","BaseFilter"),V(Mt,"uniformLocations",[]);var L4={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `},Fs=class extends Mt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(L4[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:e}}=t,i=new di(this.color).getSource(),n=i[0]*this.alpha,r=i[1]*this.alpha,o=i[2]*this.alpha,a=1-this.alpha;for(let c=0;c<e.length;c+=4){let u=e[c],d=e[c+1],g=e[c+2];switch(this.mode){case"multiply":e[c]=u*n/255,e[c+1]=d*r/255,e[c+2]=g*o/255;break;case"screen":e[c]=255-(255-u)*(255-n)/255,e[c+1]=255-(255-d)*(255-r)/255,e[c+2]=255-(255-g)*(255-o)/255;break;case"add":e[c]=u+n,e[c+1]=d+r,e[c+2]=g+o;break;case"difference":e[c]=Math.abs(u-n),e[c+1]=Math.abs(d-r),e[c+2]=Math.abs(g-o);break;case"subtract":e[c]=u-n,e[c+1]=d-r,e[c+2]=g-o;break;case"darken":e[c]=Math.min(u,n),e[c+1]=Math.min(d,r),e[c+2]=Math.min(g,o);break;case"lighten":e[c]=Math.max(u,n),e[c+1]=Math.max(d,r),e[c+2]=Math.max(g,o);break;case"overlay":e[c]=n<128?2*u*n/255:255-2*(255-u)*(255-n)/255,e[c+1]=r<128?2*d*r/255:255-2*(255-d)*(255-r)/255,e[c+2]=o<128?2*g*o/255:255-2*(255-g)*(255-o)/255;break;case"exclusion":e[c]=n+u-2*n*u/255,e[c+1]=r+d-2*r*d/255,e[c+2]=o+g-2*o*g/255;break;case"tint":e[c]=n+u*a,e[c+1]=r+d*a,e[c+2]=o+g*a}}}sendUniformData(t,e){let i=new di(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(e.uColor,i)}};V(Fs,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),V(Fs,"type","BlendColor"),V(Fs,"uniformLocations",["uColor"]),oe.setClass(Fs);var P4={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},N4=["type","image"],Vs=class extends Mt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return P4[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){let e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){let t=this.image,{width:e,height:i}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]}applyTo2d(t){let{imageData:{data:e,width:i,height:n},filterBackend:{resources:r}}=t,o=this.image;r.blendImage||(r.blendImage=Rt());let a=r.blendImage,c=a.getContext("2d");a.width!==i||a.height!==n?(a.width=i,a.height=n):c.clearRect(0,0,i,n),c.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),c.drawImage(o.getElement(),0,0,i,n);let u=c.getImageData(0,0,i,n).data;for(let d=0;d<e.length;d+=4){let g=e[d],y=e[d+1],b=e[d+2],w=e[d+3],x=u[d],D=u[d+1],R=u[d+2],L=u[d+3];switch(this.mode){case"multiply":e[d]=g*x/255,e[d+1]=y*D/255,e[d+2]=b*R/255,e[d+3]=w*L/255;break;case"mask":e[d+3]=L}}}sendUniformData(t,e){let i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)}toObject(){return F(F({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static fromObject(t,e){return Gt(this,null,function*(){let{type:i,image:n}=t,r=St(t,N4);return ki.fromObject(n,e).then(o=>new this(F(F({},r),{},{image:o})))})}};V(Vs,"type","BlendImage"),V(Vs,"defaults",{mode:"multiply",alpha:1}),V(Vs,"uniformLocations",["uTransformMatrix","uImage"]),oe.setClass(Vs);var Rs=class extends Mt{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(t){Bc(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){let{ctx:e,imageData:i,filterBackend:{resources:n}}=t,{width:r,height:o}=i;n.blurLayer1||(n.blurLayer1=Rt(),n.blurLayer2=Rt());let a=n.blurLayer1,c=n.blurLayer2;a.width===r&&a.height===o||(c.width=a.width=r,c.height=a.height=o);let u=a.getContext("2d"),d=c.getContext("2d"),g=15,y=.06*this.blur*.5,b,w,x,D;for(u.putImageData(i,0,0),d.clearRect(0,0,r,o),D=-15;D<=g;D++)b=(Math.random()-.5)/4,w=D/g,x=y*w*r+b,d.globalAlpha=1-Math.abs(w),d.drawImage(a,x,b),u.drawImage(c,0,0),d.globalAlpha=1,d.clearRect(0,0,c.width,c.height);for(D=-15;D<=g;D++)b=(Math.random()-.5)/4,w=D/g,x=y*w*o+b,d.globalAlpha=1-Math.abs(w),d.drawImage(a,b,x),u.drawImage(c,0,0),d.globalAlpha=1,d.clearRect(0,0,c.width,c.height);e.drawImage(a,0,0);let R=e.getImageData(0,0,a.width,a.height);return u.globalAlpha=1,u.clearRect(0,0,a.width,a.height),R}sendUniformData(t,e){let i=this.chooseRightDelta();t.uniform2fv(e.uDelta,i)}isNeutralState(){return this.blur===0}chooseRightDelta(){let t=1,e=[0,0];this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio);let i=t*this.blur*.12;return this.horizontal?e[0]=i:e[1]=i,e}};V(Rs,"type","Blur"),V(Rs,"defaults",{blur:0}),V(Rs,"uniformLocations",["uDelta"]),oe.setClass(Rs);var Ls=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=Math.round(255*this.brightness);for(let n=0;n<e.length;n+=4)e[n]=e[n]+i,e[n+1]=e[n+1]+i,e[n+2]=e[n+2]+i}isNeutralState(){return this.brightness===0}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}};V(Ls,"type","Brightness"),V(Ls,"defaults",{brightness:0}),V(Ls,"uniformLocations",["uBrightness"]),oe.setClass(Ls);var Fn=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){let e=t.imageData.data,i=this.matrix,n=this.colorsOnly;for(let r=0;r<e.length;r+=4){let o=e[r],a=e[r+1],c=e[r+2];if(n)e[r]=o*i[0]+a*i[1]+c*i[2]+255*i[4],e[r+1]=o*i[5]+a*i[6]+c*i[7]+255*i[9],e[r+2]=o*i[10]+a*i[11]+c*i[12]+255*i[14];else{let u=e[r+3];e[r]=o*i[0]+a*i[1]+c*i[2]+u*i[3]+255*i[4],e[r+1]=o*i[5]+a*i[6]+c*i[7]+u*i[8]+255*i[9],e[r+2]=o*i[10]+a*i[11]+c*i[12]+u*i[13]+255*i[14],e[r+3]=o*i[15]+a*i[16]+c*i[17]+u*i[18]+255*i[19]}}}sendUniformData(t,e){let i=this.matrix,n=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],r=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,r)}toObject(){return F(F({},super.toObject()),{},{matrix:[...this.matrix]})}};function nr(s,t){var e;let i=(V(e=class extends Fn{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",s),V(e,"defaults",{colorsOnly:!1,matrix:t}),e);return oe.setClass(i,s),i}V(Fn,"type","ColorMatrix"),V(Fn,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),V(Fn,"uniformLocations",["uColorMatrix","uConstants"]),oe.setClass(Fn);var j4=nr("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),B4=nr("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),U4=nr("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),H4=nr("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),z4=nr("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),W4=nr("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),Y4=nr("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]),Ia=class extends Mt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){Bc(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(e=>{e.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(i=>oe.getClass(i.type).fromObject(i,e))).then(i=>new this({subFilters:i}))}};V(Ia,"type","Composed"),oe.setClass(Ia);var Ps=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:e}}=t,i=Math.floor(255*this.contrast),n=259*(i+255)/(255*(259-i));for(let r=0;r<e.length;r+=4)e[r]=n*(e[r]-128)+128,e[r+1]=n*(e[r+1]-128)+128,e[r+2]=n*(e[r+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}};V(Ps,"type","Contrast"),V(Ps,"defaults",{contrast:0}),V(Ps,"uniformLocations",["uContrast"]),oe.setClass(Ps);var G4={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `},Ns=class extends Mt{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return G4[this.getCacheKey()]}applyTo2d(t){let e=t.imageData,i=e.data,n=this.matrix,r=Math.round(Math.sqrt(n.length)),o=Math.floor(r/2),a=e.width,c=e.height,u=t.ctx.createImageData(a,c),d=u.data,g=this.opaque?1:0,y,b,w,x,D,R,L,N,Y,q,Q,ve,J;for(Q=0;Q<c;Q++)for(q=0;q<a;q++){for(D=4*(Q*a+q),y=0,b=0,w=0,x=0,J=0;J<r;J++)for(ve=0;ve<r;ve++)L=Q+J-o,R=q+ve-o,L<0||L>=c||R<0||R>=a||(N=4*(L*a+R),Y=n[J*r+ve],y+=i[N]*Y,b+=i[N+1]*Y,w+=i[N+2]*Y,g||(x+=i[N+3]*Y));d[D]=y,d[D+1]=b,d[D+2]=w,d[D+3]=g?i[D+3]:x}t.imageData=u}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return F(F({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}};V(Ns,"type","Convolute"),V(Ns,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),V(Ns,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),oe.setClass(Ns);var dv="Gamma",js=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t,i=this.gamma,n=1/i[0],r=1/i[1],o=1/i[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let a=this.rgbValues;for(let c=0;c<256;c++)a.r[c]=255*Math.pow(c/255,n),a.g[c]=255*Math.pow(c/255,r),a.b[c]=255*Math.pow(c/255,o);for(let c=0;c<e.length;c+=4)e[c]=a.r[e[c]],e[c+1]=a.g[e[c+1]],e[c+2]=a.b[e[c+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){let{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:dv,gamma:this.gamma.concat()}}};V(js,"type",dv),V(js,"defaults",{gamma:[1,1,1]}),V(js,"uniformLocations",["uGamma"]),oe.setClass(js);var $4={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `},Bs=class extends Mt{applyTo2d(t){let{imageData:{data:e}}=t;for(let i,n=0;n<e.length;n+=4){switch(this.mode){case"average":i=(e[n]+e[n+1]+e[n+2])/3;break;case"lightness":i=(Math.min(e[n],e[n+1],e[n+2])+Math.max(e[n],e[n+1],e[n+2]))/2;break;case"luminosity":i=.21*e[n]+.72*e[n+1]+.07*e[n+2]}e[n]=i,e[n+1]=i,e[n+2]=i}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return $4[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}};V(Bs,"type","Grayscale"),V(Bs,"defaults",{mode:"average"}),V(Bs,"uniformLocations",["uMode"]),oe.setClass(Bs);var eo=class extends Fn{calculateMatrix(){let t=this.rotation*Math.PI,e=tn(t),i=nn(t),n=1/3,r=Math.sqrt(n)*i,o=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+o/3,this.matrix[1]=n*o-r,this.matrix[2]=n*o+r,this.matrix[5]=n*o+r,this.matrix[6]=e+n*o,this.matrix[7]=n*o-r,this.matrix[10]=n*o-r,this.matrix[11]=n*o+r,this.matrix[12]=e+n*o}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}};V(eo,"type","HueRotation"),V(eo,"defaults",{rotation:0}),oe.setClass(eo);var Us=class extends Mt{applyTo2d(t){let{imageData:{data:e}}=t;for(let i=0;i<e.length;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2],this.alpha&&(e[i+3]=255-e[i+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}};V(Us,"type","Invert"),V(Us,"defaults",{alpha:!1,invert:!0}),V(Us,"uniformLocations",["uInvert","uAlpha"]),oe.setClass(Us);var Hs=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=this.noise;for(let n=0;n<e.length;n+=4){let r=(.5-Math.random())*i;e[n]+=r,e[n+1]+=r,e[n+2]+=r}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return this.noise===0}};V(Hs,"type","Noise"),V(Hs,"defaults",{noise:0}),V(Hs,"uniformLocations",["uNoise","uSeed"]),oe.setClass(Hs);var zs=class extends Mt{applyTo2d(t){let{imageData:{data:e,width:i,height:n}}=t;for(let r=0;r<n;r+=this.blocksize)for(let o=0;o<i;o+=this.blocksize){let a=4*r*i+4*o,c=e[a],u=e[a+1],d=e[a+2],g=e[a+3];for(let y=r;y<Math.min(r+this.blocksize,n);y++)for(let b=o;b<Math.min(o+this.blocksize,i);b++){let w=4*y*i+4*b;e[w]=c,e[w+1]=u,e[w+2]=d,e[w+3]=g}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}};V(zs,"type","Pixelate"),V(zs,"defaults",{blocksize:4}),V(zs,"uniformLocations",["uBlocksize"]),oe.setClass(zs);var Ws=class extends Mt{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:e}}=t,i=255*this.distance,n=new di(this.color).getSource(),r=[n[0]-i,n[1]-i,n[2]-i],o=[n[0]+i,n[1]+i,n[2]+i];for(let a=0;a<e.length;a+=4){let c=e[a],u=e[a+1],d=e[a+2];c>r[0]&&u>r[1]&&d>r[2]&&c<o[0]&&u<o[1]&&d<o[2]&&(e[a+3]=0)}}sendUniformData(t,e){let i=new di(this.color).getSource(),n=this.distance,r=[0+i[0]/255-n,0+i[1]/255-n,0+i[2]/255-n,1],o=[i[0]/255+n,i[1]/255+n,i[2]/255+n,1];t.uniform4fv(e.uLow,r),t.uniform4fv(e.uHigh,o)}};V(Ws,"type","RemoveColor"),V(Ws,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),V(Ws,"uniformLocations",["uLow","uHigh"]),oe.setClass(Ws);var Ys=class extends Mt{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){let t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){let t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){let t=this.getFilterWindow();return this.generateShader(t)}getTaps(){let t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),n=new Array(i);for(let r=1;r<=i;r++)n[r-1]=t(r*e);return n}generateShader(t){let e=new Array(t);for(let i=1;i<=t;i++)e[i-1]="".concat(i,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((i,n)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(i,") * uTaps[").concat(n,"] + texture2D(uTexture, vTexCoord - ").concat(i,") * uTaps[").concat(n,`];
              sum += 2.0 * uTaps[`).concat(n,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){Bc(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<11920929e-14&&e>-11920929e-14)return 1;let i=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(i)/i}}applyTo2d(t){let e=t.imageData,i=this.scaleX,n=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/n;let r=e.width,o=e.height,a=Math.round(r*i),c=Math.round(o*n),u;u=this.resizeType==="sliceHack"?this.sliceByTwo(t,r,o,a,c):this.resizeType==="hermite"?this.hermiteFastResize(t,r,o,a,c):this.resizeType==="bilinear"?this.bilinearFiltering(t,r,o,a,c):this.resizeType==="lanczos"?this.lanczosResize(t,r,o,a,c):new ImageData(a,c),t.imageData=u}sliceByTwo(t,e,i,n,r){let o=t.imageData,a=.5,c=!1,u=!1,d=e*a,g=i*a,y=t.filterBackend.resources,b=0,w=0,x=e,D=0;y.sliceByTwo||(y.sliceByTwo=Rt());let R=y.sliceByTwo;(R.width<1.5*e||R.height<i)&&(R.width=1.5*e,R.height=i);let L=R.getContext("2d");for(L.clearRect(0,0,1.5*e,i),L.putImageData(o,0,0),n=Math.floor(n),r=Math.floor(r);!c||!u;)e=d,i=g,n<Math.floor(d*a)?d=Math.floor(d*a):(d=n,c=!0),r<Math.floor(g*a)?g=Math.floor(g*a):(g=r,u=!0),L.drawImage(R,b,w,e,i,x,D,d,g),b=x,w=D,D+=g;return L.getImageData(b,w,n,r)}lanczosResize(t,e,i,n,r){let o=t.imageData.data,a=t.ctx.createImageData(n,r),c=a.data,u=this.lanczosCreate(this.lanczosLobes),d=this.rcpScaleX,g=this.rcpScaleY,y=2/this.rcpScaleX,b=2/this.rcpScaleY,w=Math.ceil(d*this.lanczosLobes/2),x=Math.ceil(g*this.lanczosLobes/2),D={},R={x:0,y:0},L={x:0,y:0};return function N(Y){let q,Q,ve,J,Ee,Ke,it,Tt,Ze,dt,Yt;for(R.x=(Y+.5)*d,L.x=Math.floor(R.x),q=0;q<r;q++){for(R.y=(q+.5)*g,L.y=Math.floor(R.y),Ee=0,Ke=0,it=0,Tt=0,Ze=0,Q=L.x-w;Q<=L.x+w;Q++)if(!(Q<0||Q>=e)){dt=Math.floor(1e3*Math.abs(Q-R.x)),D[dt]||(D[dt]={});for(let Zt=L.y-x;Zt<=L.y+x;Zt++)Zt<0||Zt>=i||(Yt=Math.floor(1e3*Math.abs(Zt-R.y)),D[dt][Yt]||(D[dt][Yt]=u(Math.sqrt(Math.pow(dt*y,2)+Math.pow(Yt*b,2))/1e3)),ve=D[dt][Yt],ve>0&&(J=4*(Zt*e+Q),Ee+=ve,Ke+=ve*o[J],it+=ve*o[J+1],Tt+=ve*o[J+2],Ze+=ve*o[J+3]))}J=4*(q*n+Y),c[J]=Ke/Ee,c[J+1]=it/Ee,c[J+2]=Tt/Ee,c[J+3]=Ze/Ee}return++Y<n?N(Y):a}(0)}bilinearFiltering(t,e,i,n,r){let o,a,c,u,d,g,y,b,w,x,D,R,L,N=0,Y=this.rcpScaleX,q=this.rcpScaleY,Q=4*(e-1),ve=t.imageData.data,J=t.ctx.createImageData(n,r),Ee=J.data;for(y=0;y<r;y++)for(b=0;b<n;b++)for(d=Math.floor(Y*b),g=Math.floor(q*y),w=Y*b-d,x=q*y-g,L=4*(g*e+d),D=0;D<4;D++)o=ve[L+D],a=ve[L+4+D],c=ve[L+Q+D],u=ve[L+Q+4+D],R=o*(1-w)*(1-x)+a*w*(1-x)+c*x*(1-w)+u*w*x,Ee[N++]=R;return J}hermiteFastResize(t,e,i,n,r){let o=this.rcpScaleX,a=this.rcpScaleY,c=Math.ceil(o/2),u=Math.ceil(a/2),d=t.imageData.data,g=t.ctx.createImageData(n,r),y=g.data;for(let b=0;b<r;b++)for(let w=0;w<n;w++){let x=4*(w+b*n),D=0,R=0,L=0,N=0,Y=0,q=0,Q=0,ve=(b+.5)*a;for(let J=Math.floor(b*a);J<(b+1)*a;J++){let Ee=Math.abs(ve-(J+.5))/u,Ke=(w+.5)*o,it=Ee*Ee;for(let Tt=Math.floor(w*o);Tt<(w+1)*o;Tt++){let Ze=Math.abs(Ke-(Tt+.5))/c,dt=Math.sqrt(it+Ze*Ze);dt>1&&dt<-1||(D=2*dt*dt*dt-3*dt*dt+1,D>0&&(Ze=4*(Tt+J*e),Q+=D*d[Ze+3],L+=D,d[Ze+3]<255&&(D=D*d[Ze+3]/250),N+=D*d[Ze],Y+=D*d[Ze+1],q+=D*d[Ze+2],R+=D))}}y[x]=N/R,y[x+1]=Y/R,y[x+2]=q/R,y[x+3]=Q/L}return g}};V(Ys,"type","Resize"),V(Ys,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),V(Ys,"uniformLocations",["uDelta","uTaps"]),oe.setClass(Ys);var Gs=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=-this.saturation;for(let n=0;n<e.length;n+=4){let r=Math.max(e[n],e[n+1],e[n+2]);e[n]+=r!==e[n]?(r-e[n])*i:0,e[n+1]+=r!==e[n+1]?(r-e[n+1])*i:0,e[n+2]+=r!==e[n+2]?(r-e[n+2])*i:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}};V(Gs,"type","Saturation"),V(Gs,"defaults",{saturation:0}),V(Gs,"uniformLocations",["uSaturation"]),oe.setClass(Gs);var $s=class extends Mt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t,i=-this.vibrance;for(let n=0;n<e.length;n+=4){let r=Math.max(e[n],e[n+1],e[n+2]),o=(e[n]+e[n+1]+e[n+2])/3,a=2*Math.abs(r-o)/255*i;e[n]+=r!==e[n]?(r-e[n])*a:0,e[n+1]+=r!==e[n+1]?(r-e[n+1])*a:0,e[n+2]+=r!==e[n+2]?(r-e[n+2])*a:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}};V($s,"type","Vibrance"),V($s,"defaults",{vibrance:0}),V($s,"uniformLocations",["uVibrance"]),oe.setClass($s);var qL=Object.freeze({__proto__:null,BaseFilter:Mt,BlackWhite:Y4,BlendColor:Fs,BlendImage:Vs,Blur:Rs,Brightness:Ls,Brownie:j4,ColorMatrix:Fn,Composed:Ia,Contrast:Ps,Convolute:Ns,Gamma:js,Grayscale:Bs,HueRotation:eo,Invert:Us,Kodachrome:U4,Noise:Hs,Pixelate:zs,Polaroid:z4,RemoveColor:Ws,Resize:Ys,Saturation:Gs,Sepia:W4,Technicolor:H4,Vibrance:$s,Vintage:B4});var lP=(()=>{class s{amountToWordsService;canvas;canvasBack;textboxBackgroundColor="#f3fbfd";textboxBorderColor="#059bb4";currentTextboxBackgroundColor="#f3fbfd";objectSelected=new G;constructor(e){this.amountToWordsService=e}ngOnInit(){this.initializeCanvas(),this.addInitialTexts(),this.enableDragAndDrop()}resizeAndLoadCanvas(e){if(e){this.canvas.setDimensions({width:e.canvasWidth,height:e.canvasHeight}),this.canvasBack.setDimensions({width:e.canvasWidth,height:e.canvasHeight});let i=JSON.parse(e.chequeConfigFront),n=JSON.parse(e.chequeConfigBack);this.canvas.loadFromJSON(i).then(()=>{this.canvas.renderAll(),console.log("Canvas Front has been successfully loaded from JSON")}),this.canvasBack.loadFromJSON(n).then(()=>{this.canvasBack.renderAll(),console.log("Canvas Back has been successfully loaded from JSON")})}}initializeCanvas(){this.canvas=new er("canvas",{backgroundColor:"#f3f4f6"}),this.canvas.renderAll.bind(this.canvas),this.canvasBack=new er("canvasBack",{backgroundColor:"transparent"}),this.canvasBack.renderAll.bind(this.canvasBack)}loadBackgroundImage(e,i,n){this.canvas.setDimensions({width:e,height:i}),this.canvasBack.setDimensions({width:e,height:i}),this.canvas.renderAll(),this.canvasBack.renderAll(),ki.fromURL(n,{crossOrigin:"anonymous"}).then(r=>{let o=this.canvas.width/r.width,a=this.canvas.height/r.height,c=Math.min(o,a);r.scale(c),r.set({left:(this.canvas.width-r.width*c)/2,top:(this.canvas.height-r.height*c)/2}),this.canvas.backgroundImage=r,this.canvas.renderAll(),this.canvasBack.renderAll()})}resizeBackgroundImage(e,i){this.canvas.setDimensions({width:e,height:i}),this.canvasBack.setDimensions({width:e,height:i}),this.canvas.renderAll(),this.canvasBack.renderAll();let n=this.canvas.backgroundImage;if(n){let r=this.canvas.width/n.width,o=this.canvas.height/n.height,a=Math.min(r,o);n.scale(a),n.set({left:(this.canvas.width-n.width*a)/2,top:(this.canvas.height-n.height*a)/2}),this.canvas.backgroundImage=n}this.canvas.renderAll(),this.canvasBack.renderAll()}addInitialTexts(){this.addText("Date",30,20,80),this.addText("National Finance Company",30,50,180),this.addText("Amount in line1",30,90,130),this.addText("Amount in line2",30,130,130),this.addText("Rials",30,170,50),this.addText("Baiza",30,210,50),this.addText("A/C PAYEE",30,250,80),this.addTextBack("",100)}enableDragAndDrop(){this.canvas.on("object:moving",e=>{e.target.set({left:e.target.left,top:e.target.top})}),this.canvas.on("selection:created",()=>{this.objectSelected.emit(this.canvas.getActiveObject())}),this.canvasBack.on("selection:created",()=>{this.objectSelected.emit(this.canvasBack.getActiveObject())}),this.canvas.on("selection:updated",()=>{this.objectSelected.emit(this.canvas.getActiveObject())}),this.canvasBack.on("selection:updated",()=>{this.objectSelected.emit(this.canvasBack.getActiveObject())}),this.canvas.on("selection:cleared",()=>{this.objectSelected.emit(this.canvas.getActiveObject())}),this.canvasBack.on("selection:cleared",()=>{this.objectSelected.emit(this.canvasBack.getActiveObject())})}addText(e,i,n,r){let o=new An(e,{left:i,top:n,fill:"black",fontSize:14,editable:!1,hasControls:!0,hasBorders:!0,borderColor:this.textboxBorderColor,selectable:!0,lockRotation:!0,fontFamily:'"Inter var", sans-serif',width:r,padding:2,backgroundColor:this.textboxBackgroundColor,splitByGrapheme:!1,lineHeight:1,textAlign:"left"});this.canvas.add(o),o.on("modified",()=>{o.setCoords(),this.canvas.renderAll()}),o.on("moving",()=>{o.setCoords(),this.canvas.renderAll()})}addTextBack(e,i){let n=new An(e,{left:this.canvasBack.width/2-50,top:this.canvasBack.height/2,fill:"black",fontSize:20,editable:!1,hasControls:!0,hasBorders:!0,borderColor:this.textboxBorderColor,selectable:!0,lockRotation:!0,fontFamily:'"Inter var", sans-serif',width:i,padding:2,backgroundColor:this.textboxBackgroundColor,splitByGrapheme:!1,lineHeight:1,textAlign:"left"});this.canvasBack.add(n),n.on("modified",()=>{n.setCoords(),this.canvasBack.renderAll()}),n.on("moving",()=>{n.setCoords(),this.canvasBack.renderAll()})}toggleBackgroundColor(e){let i=this.canvas.getObjects(),n=this.canvasBack.getObjects();e?(i.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor",this.textboxBackgroundColor)}),n.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor",this.textboxBackgroundColor)})):(i.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor","transparent")}),n.forEach(r=>{r.type==="textbox"&&r.set("backgroundColor","transparent")})),this.canvas.renderAll(),this.canvasBack.renderAll()}printCanvas(e,i,n,r,o,a,c){let u=0;r?u=i[0]?.periods||0:u=i.reduce((N,Y)=>N+(Y?Y.periods:0),0);let d=ha.generateDatePeriods(e,u,a),g=this.canvas.backgroundImage,y=this.canvas.backgroundColor,b=this.canvas.getObjects(),w=this.canvasBack.getObjects();b.forEach((N,Y)=>{N.type==="textbox"&&(N.set("backgroundColor","transparent"),Y===0&&(this.currentTextboxBackgroundColor=N.backgroundColor))}),w.forEach(N=>{N.type==="textbox"&&N.set("backgroundColor","transparent")}),this.canvas.backgroundImage=void 0,this.canvas.backgroundColor="transparent",this.canvasBack.backgroundImage=void 0,this.canvasBack.backgroundColor="transparent";let x=[];this.updateTextBack(n+"",0);let D=this.canvasBack.toDataURL({format:"png",quality:1,multiplier:3}),R=0;i.forEach(N=>{let Y=R+N.periods-1;for(let q=R;q<=Y;q++){let Q=d[q];q===R&&N.periods>1?(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(N.periodAmount),2,3),this.updateText(N.periodAmount+"/",4),this.updateText("---",5)):q===Y&&(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(N.periodLastAmount),2,3),this.updateText(N.periodLastAmount+"/",4),this.updateText("---",5)),this.updateText(Q,0),this.canvas.renderAll();let ve=this.canvas.toDataURL({format:"png",quality:1,multiplier:3});Q.trim()!==""&&x.push(ve)}R+=N.periods}),this.canvas.backgroundImage=g,this.canvas.backgroundColor=y||"transparent",b.forEach(N=>{N.type==="textbox"&&N.set("backgroundColor",this.currentTextboxBackgroundColor)}),w.forEach(N=>{N.type==="textbox"&&N.set("backgroundColor",this.currentTextboxBackgroundColor)}),this.canvas.renderAll(),this.canvasBack.renderAll();let L=window.open("","_blank");if(L){let N=x.map((Y,q)=>{let Q=o==="both"||o==="front"?`<div class="page" style="${q<x.length-1?"page-break-after: always;":""}">
                   <img src="${Y}" style="width: 100%; height: auto;" />
                 </div>`:"",ve=o==="both"||o==="back"?`<div class="page" style="${q<x.length-1?"page-break-after: always;":""}">
                   <img src="${D}" style="width: 100%; height: auto;" />
                 </div>`:"";return Q+ve}).join("");L.document.write(`
        <html>
        <head>
          <title>Print</title>
          <style>
            @page {
              size: A4 portrait;
              margin: 0;
            }
            body {
              margin: 0;
              background-color: white;
            }
            .page {
              position: relative;
              width: 100%;
              height: 100%;
              overflow: hidden; /* Prevent overflow */            
            }
          
            @media print {
              img {
                width: 100%;  /* Ensure the image fits the width of the page */
                height: auto;  /* Maintain aspect ratio */
                transform: rotate(90deg);  /* Rotate the image 90 degrees */
                top: 0;  /* Position it at the top of the page */
                left: 0;  /* Position it at the left of the page */
                margin-top: ${c}%;               
              }
            }
          </style>
        </head>
        <body>
          ${N}
        </body>
        </html>
      `),L.document.close(),L.onload=()=>{setTimeout(()=>{L.print(),L.close()},500)}}else console.error("Failed to open print window. Please check your browser settings.")}printSettingsCanvas(e){let i=this.canvas.toDataURL({format:"png",quality:1,multiplier:3}),n=this.canvasBack.toDataURL({format:"png",quality:1,multiplier:3}),r=`<div class="page" >
    <img src="${i}" style="width: 100%; height: auto;" />
  </div>`,o=`<div class="page" >
            <img src="${n}" style="width: 100%; height: auto;" />
          </div>`,a=r+o,c=window.open("","_blank");c?(c.document.write(`
        <html>
        <head>
          <title>Print</title>
          <style>
            @page {
              size: A4 portrait;
              margin: 0;
            }
            body {
              margin: 0;
              background-color: white;
            }
            .page {
              position: relative;
              width: 100%;
              height: 100%;
              overflow: hidden; /* Prevent overflow */
            }
          
            @media print {
              img {
                width: 100%;  /* Ensure the image fits the width of the page */
                height: auto;  /* Maintain aspect ratio */
                transform: rotate(90deg);  /* Rotate the image 90 degrees */
                top: 0;  /* Position it at the top of the page */
                left: 0;  /* Position it at the left of the page */
                margin-top: ${e}%;               
              }
            }
          </style>
        </head>
        <body>
          ${a}
        </body>
        </html>
      `),c.document.close(),c.onload=()=>{setTimeout(()=>{c.print(),c.close()},500)}):console.error("Failed to open print window. Please check your browser settings.")}printPreviewCanvas(e,i,n,r,o,a){let c=0;r?c=i[0]?.periods||0:c=i.reduce((L,N)=>L+(N?N.periods:0),0);let u=ha.generateDatePeriods(e,c,a),d=this.canvas.backgroundImage,g=this.canvas.backgroundColor,y=this.canvas.getObjects(),b=this.canvasBack.getObjects();y.forEach((L,N)=>{L.type==="textbox"&&(L.set("backgroundColor","transparent"),N==0&&(this.currentTextboxBackgroundColor=L.backgroundColor))}),b.forEach(L=>{L.type==="textbox"&&L.set("backgroundColor","transparent")}),this.canvas.backgroundImage=void 0,this.canvas.backgroundColor="transparent",this.canvasBack.backgroundImage=void 0,this.canvasBack.backgroundColor="transparent";let w=[];this.updateTextBack(n+"",0);let x=this.canvasBack.toDataURL({format:"png",quality:1,multiplier:3}),D=0;i.forEach(L=>{let N=D+L.periods-1;for(let Y=D;Y<=N;Y++){let q=u[Y];Y===D&&L.periods>1?(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(L.periodAmount),2,3),this.updateText(L.periodAmount+"/",4),this.updateText("---",5)):Y===N&&(this.splitTextBetweenTwoObjects(this.amountToWordsService.convert(L.periodLastAmount),2,3),this.updateText(L.periodLastAmount+"/",4),this.updateText("---",5)),this.updateText(q,0),this.canvas.renderAll();let Q=this.canvas.toDataURL({format:"png",quality:1,multiplier:3});q.trim()!==""&&w.push(Q)}D+=L.periods}),this.canvas.backgroundImage=d,this.canvas.backgroundColor=g||"transparent",y.forEach(L=>{L.type==="textbox"&&L.set("backgroundColor",this.currentTextboxBackgroundColor)}),b.forEach(L=>{L.type==="textbox"&&L.set("backgroundColor",this.currentTextboxBackgroundColor)}),this.canvas.renderAll(),this.canvasBack.renderAll();let R=window.open("","_blank");if(R){let L=w.map((N,Y)=>{let q=o==="both"||o==="back"?`<div class="page">
                   <img src="${x}" />
                 </div>`:"";return(o==="both"||o==="front"?`<div class="page" style="${Y<w.length-1?"page-break-after: always;":""}">
                   <img src="${N}" />
                 </div>`:"")+q}).join("");R.document.write(`
        <html>
        <head>
          <title>Print</title>
          <style>
            @page {
              size: A4 portrait;
              margin: 0;
            }
            body {
              margin: 0;
              background-color: white;
            }
            .page {
              position: relative;
              width: 100%;
              height: 100%;
              overflow: hidden; /* Prevent overflow */
            }
          
            @media print {
              img {
                width: 100%;  /* Ensure the image fits the width of the page */
                height: auto;  /* Maintain aspect ratio */
                transform: rotate(90deg);  /* Rotate the image 90 degrees */
                top: 0;  /* Position it at the top of the page */
                left: 0;  /* Position it at the left of the page */
                margin-top: 29.0%;               
              }
            }
          </style>
        </head>
        <body>
          ${L}
        </body>
        </html>
      `),R.document.close(),R.onload=()=>{}}else console.error("Failed to open print window. Please check your browser settings.")}moveText(e){let i=this.canvas.getActiveObject(),n=!1;if(i||(i=this.canvasBack.getActiveObject(),n=!0),i){switch(e){case"left":i.set({left:i.left-1});break;case"right":i.set({left:i.left+1});break;case"up":i.set({top:i.top-1});break;case"down":i.set({top:i.top+1});break}i.setCoords(),n?this.canvasBack.renderAll():this.canvas.renderAll()}}disposeCanvas(){this.canvas.dispose(),this.canvasBack.dispose();let e=document.getElementById("canvas");e&&e.remove();let i=document.getElementById("canvasBack");i&&i.remove()}resetCanvas(){this.canvas&&(this.canvas.clear(),this.canvasBack.clear(),this.canvas.backgroundColor="#f3f4f6",this.canvas.setDimensions({width:722,height:341}),this.canvasBack.setDimensions({width:722,height:341}),this.addInitialTexts(),this.enableDragAndDrop(),this.canvas.renderAll(),this.canvasBack.renderAll())}setBackgroundImage(){let e=prompt("Enter the URL of the background image:");e&&ki.fromURL(e,{crossOrigin:"anonymous"}).then(i=>{let n=this.canvas.width/i.width,r=this.canvas.height/i.height,o=Math.min(n,r);i.scale(o),i.set({left:(this.canvas.width-i.width*o)/2,top:(this.canvas.height-i.height*o)/2}),this.canvas.backgroundImage=i,this.canvas.renderAll()})}exportJSON(){let e=this.canvas.toJSON();return JSON.stringify(e,null,2)}exportBackJSON(){let e=this.canvasBack.toJSON();return JSON.stringify(e,null,2)}findTextObject(e){return this.canvas.getObjects("Textbox")[e]}updateText(e,i){this.canvas.getObjects("Textbox")[i].set({text:e}),this.canvas.renderAll()}splitTextBetweenTwoObjects(e,i,n){let o=this.findTextObject(i)?.width||100;o=o!=130?o-130:o;let a=this.canvas.getContext(),c=e.split(" "),u="",d=c.length;for(let g=0;g<c.length;g++){let y=u+c[g]+" ";if(a.measureText(y).width>o){d=g;break}u=y}if(this.updateText(u.trim(),i),d>0&&d<c.length){let g=c.slice(d).join(" ").trim();this.updateText(g,n)}else this.updateText("",n)}increaseTextboxWidth(){let e=this.canvas.getActiveObject(),i=!1;e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"?(e.width+=5,e.set({textAlign:"left"}),e.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()):console.log("No textbox selected")}decreaseTextboxWidth(){let e=this.canvas.getActiveObject(),i=!1;e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"?e.width>5&&(e.width-=5,e.set({textAlign:"left"}),e.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()):console.log("No textbox selected")}increaseFontSize(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("fontSize",n.fontSize+1),n.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()}else console.log("No textbox selected")}decreaseFontSize(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e,r=n.fontSize-1;n.set("fontSize",r>0?r:1),n.dirty=!0,i?this.canvasBack.renderAll():this.canvas.renderAll()}}toggleBold(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("fontWeight",n.fontWeight==="bold"?"normal":"bold"),i?this.canvasBack.renderAll():this.canvas.renderAll()}}toggleItalic(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("fontStyle",n.fontStyle==="italic"?"normal":"italic"),i?this.canvasBack.renderAll():this.canvas.renderAll()}}toggleUnderline(){let e=this.canvas.getActiveObject(),i=!1;if(e||(e=this.canvasBack.getActiveObject(),i=!0),e&&e.type==="textbox"){let n=e;n.set("underline",!n.underline),i?this.canvasBack.renderAll():this.canvas.renderAll()}}hideShowTextbox(e,i){let n=this.canvas.getObjects()[e];n&&n.type==="textbox"&&(n.set("visible",i),this.canvas.renderAll())}updateTextBack(e,i){this.canvasBack.getObjects("Textbox")[i].set({text:e}),this.canvasBack.renderAll()}static \u0275fac=function(i){return new(i||s)(U(u0))};static \u0275cmp=$({type:s,selectors:[["app-image-manipulation"]],outputs:{objectSelected:"objectSelected"},decls:6,vars:0,consts:[[1,"col","p-0"],["id","canvas","width","722","height","341",1,"border-1","border-round"],[1,"font-bold","my-2"],[1,"col","p-0","mt-2"],["id","canvasBack","width","722","height","341",1,"border-1","border-round"]],template:function(i,n){i&1&&(T(0,"div",0),P(1,"canvas",1),I(),T(2,"div",2),fe(3,"Cheque Back"),I(),T(4,"div",3),P(5,"canvas",4),I())}})}return s})();var Uc={production:!0,apiUrl:"http://10.10.46.203:9001/cheque",featureFlag:!0,logging:{level:"error"}};var pv=(()=>{class s{http;baseUrl=Uc.apiUrl+"/api/cheques";constructor(e){this.http=e}createCheque(e){return this.http.post(`${this.baseUrl}/v1/save`,e)}getCheque(e){return this.http.get(`${this.baseUrl}/v1/${e}`)}getBanks(){return this.http.get(`${this.baseUrl}/v1/banks`)}updateCheque(e,i){return this.http.put(`${this.baseUrl}/v1/${e}`,i)}deleteCheque(e){return this.http.delete(`${this.baseUrl}/v1/${e}`)}static \u0275fac=function(i){return new(i||s)(ke(xs))};static \u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var fv=["container"],X4=s=>[s,"p-toast-message"],K4=(s,t,e,i)=>({showTransformParams:s,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}),Z4=s=>({value:"visible",params:s}),Q4=(s,t)=>({$implicit:s,closeFn:t}),J4=s=>({$implicit:s});function e5(s,t){s&1&&pe(0)}function t5(s,t){if(s&1&&(ee(0),S(1,e5,1,0,"ng-container",4),te()),s&2){let e=v();_(),f("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",Pe(2,Q4,e.message,e.onCloseIconClick))}}function i5(s,t){if(s&1&&P(0,"span"),s&2){let e=v(3);W("p-toast-message-icon pi "+e.message.icon)}}function n5(s,t){s&1&&P(0,"CheckIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function s5(s,t){s&1&&P(0,"InfoCircleIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function r5(s,t){s&1&&P(0,"TimesCircleIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function o5(s,t){s&1&&P(0,"ExclamationTriangleIcon"),s&2&&k("aria-hidden",!0)("data-pc-section","icon")}function a5(s,t){if(s&1&&(T(0,"span",13),ee(1),S(2,n5,1,2,"CheckIcon",6)(3,s5,1,2,"InfoCircleIcon",6)(4,r5,1,2,"TimesCircleIcon",6)(5,o5,1,2,"ExclamationTriangleIcon",6),te(),I()),s&2){let e=v(3);k("aria-hidden",!0)("data-pc-section","icon"),_(2),f("ngIf",e.message.severity==="success"),_(),f("ngIf",e.message.severity==="info"),_(),f("ngIf",e.message.severity==="error"),_(),f("ngIf",e.message.severity==="warn")}}function l5(s,t){if(s&1&&(ee(0),S(1,i5,1,2,"span",8)(2,a5,6,6,"span",9),T(3,"div",10)(4,"div",11),fe(5),I(),T(6,"div",12),fe(7),I()(),te()),s&2){let e=v(2);_(),f("ngIf",e.message.icon),_(),f("ngIf",!e.message.icon),_(),k("data-pc-section","text"),_(),k("data-pc-section","summary"),_(),We(e.message.summary),_(),k("data-pc-section","detail"),_(),We(e.message.detail)}}function c5(s,t){s&1&&pe(0)}function h5(s,t){if(s&1&&P(0,"span"),s&2){let e=v(3);W("pt-1 text-base p-toast-message-icon pi "+e.message.closeIcon)}}function u5(s,t){s&1&&P(0,"TimesIcon",16),s&2&&(f("styleClass","p-toast-icon-close-icon"),k("aria-hidden",!0)("data-pc-section","closeicon"))}function d5(s,t){if(s&1){let e=Z();T(0,"button",14),z("click",function(n){O(e);let r=v(2);return E(r.onCloseIconClick(n))})("keydown.enter",function(n){O(e);let r=v(2);return E(r.onCloseIconClick(n))}),S(1,h5,1,2,"span",8)(2,u5,1,3,"TimesIcon",15),I()}if(s&2){let e=v(2);k("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),_(),f("ngIf",e.message.closeIcon),_(),f("ngIf",!e.message.closeIcon)}}function p5(s,t){if(s&1&&(T(0,"div",5),S(1,l5,8,7,"ng-container",6)(2,c5,1,0,"ng-container",4)(3,d5,3,4,"button",7),I()),s&2){let e=v();f("ngClass",e.message==null?null:e.message.contentStyleClass),k("data-pc-section","content"),_(),f("ngIf",!e.template),_(),f("ngTemplateOutlet",e.template)("ngTemplateOutletContext",he(6,J4,e.message)),_(),f("ngIf",(e.message==null?null:e.message.closable)!==!1)}}function f5(s,t){if(s&1){let e=Z();T(0,"p-toastItem",3),z("onClose",function(n){O(e);let r=v();return E(r.onMessageClose(n))})("@toastAnimation.start",function(n){O(e);let r=v();return E(r.onAnimationStart(n))})("@toastAnimation.done",function(n){O(e);let r=v();return E(r.onAnimationEnd(n))}),I()}if(s&2){let e=t.$implicit,i=t.index,n=v();f("message",e)("index",i)("life",n.life)("template",n.template)("headlessTemplate",n.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",n.showTransformOptions)("hideTransformOptions",n.hideTransformOptions)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}}var m5=(()=>{class s{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new G;containerViewChild;timeout;constructor(e,i){this.zone=e,this.config=i}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=e=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(i){return new(i||s)(U(nt),U(ht))};static \u0275cmp=$({type:s,selectors:[["p-toastItem"]],viewQuery:function(i,n){if(i&1&&ye(fv,5),i&2){let r;ie(r=ne())&&(n.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",ge],life:[2,"life","life",ge],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[Me],decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,n){if(i&1){let r=Z();T(0,"div",2,0),z("mouseenter",function(){return O(r),E(n.onMouseEnter())})("mouseleave",function(){return O(r),E(n.onMouseLeave())}),S(2,t5,2,5,"ng-container",3)(3,p5,4,8,"ng-template",null,1,It),I()}if(i&2){let r=at(4);W(n.message==null?null:n.message.styleClass),f("ngClass",he(9,X4,"p-toast-message-"+(n.message==null?null:n.message.severity)))("@messageState",he(16,Z4,qn(11,K4,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions))),k("id",n.message==null?null:n.message.id)("data-pc-name","toast")("data-pc-section","root"),_(2),f("ngIf",n.headlessTemplate)("ngIfElse",r)}},dependencies:()=>[Le,He,qe,zt,ai,Hr,zr,Ur,ut],encapsulation:2,data:{animation:[Ti("messageState",[ll("visible",Ct({transform:"translateY(0)",opacity:1})),Ft("void => *",[Ct({transform:"{{showTransformParams}}",opacity:0}),Lt("{{showTransitionParams}}")]),Ft("* => void",[Lt("{{hideTransitionParams}}",Ct({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return s})(),VP=(()=>{class s{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(e){this._position=e,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new G;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(e,i,n,r,o){this.document=e,this.renderer=i,this.messageService=n,this.cd=r,this.config=o}styleElement;id=Ye();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(Array.isArray(e)){let i=e.filter(n=>this.canAdd(n));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return e?e.find(n=>n.summary===i.summary&&n.detail==i.detail&&n.severity===i.severity)!=null:!1}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"message":this.template=e.template;break;case"headless":this.headlessTemplate=e.template;break;default:this.template=e.template;break}})}onMessageClose(e){this.messages?.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){e.fromState==="void"&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&this.containerViewChild?.nativeElement.style.zIndex===""&&wt.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){e.toState==="void"&&this.autoZIndex&&ae.isEmpty(this.messages)&&wt.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let i in this.breakpoints){let n="";for(let r in this.breakpoints[i])n+=r+":"+this.breakpoints[i][r]+" !important;";e+=`
                    @media screen and (max-width: ${i}) {
                        .p-toast[${this.id}] {
                           ${n}
                        }
                    }
                `}this.renderer.setProperty(this.styleElement,"innerHTML",e)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&wt.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(i){return new(i||s)(U(Re),U(pt),U(Fr),U(Ue),U(ht))};static \u0275cmp=$({type:s,selectors:[["p-toast"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,4),i&2){let o;ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ye(fv,5),i&2){let r;ie(r=ne())&&(n.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",B],baseZIndex:[2,"baseZIndex","baseZIndex",ge],life:[2,"life","life",ge],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",B],preventDuplicates:[2,"preventDuplicates","preventDuplicates",B],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[Me],decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(i,n){i&1&&(T(0,"div",1,0),S(2,f5,1,10,"p-toastItem",2),I()),i&2&&(W(n.styleClass),f("ngClass","p-toast-"+n._position)("ngStyle",n.style),_(2),f("ngForOf",n.messages))},dependencies:[Le,ti,Ne,m5],styles:[`@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}
`],encapsulation:2,data:{animation:[Ti("toastAnimation",[Ft(":enter, :leave",[um("@*",hm())])])]},changeDetection:0})}return s})(),wp=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,si,ai,Hr,zr,Ur,ut,Oe]})}return s})();var g5=["content"],_5=[[["p-footer"]]],v5=["p-footer"],y5=s=>({"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":s}),b5=(s,t)=>({transform:s,transition:t}),C5=s=>({value:"visible",params:s}),mv=s=>({$implicit:s}),w5=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function x5(s,t){s&1&&pe(0)}function S5(s,t){if(s&1&&(ee(0),S(1,x5,1,0,"ng-container",7),te()),s&2){let e=v(3);_(),f("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",he(2,mv,e.confirmation))}}function T5(s,t){s&1&&pe(0)}function I5(s,t){if(s&1&&(T(0,"div",14),S(1,T5,1,0,"ng-container",15),I()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.headerTemplate)}}function D5(s,t){if(s&1&&(T(0,"span",19),fe(1),I()),s&2){let e=v(5);f("id",e.ariaLabelledBy),_(),We(e.option("header"))}}function O5(s,t){if(s&1){let e=Z();T(0,"button",20),z("click",function(n){O(e);let r=v(5);return E(r.close(n))})("keydown.enter",function(n){O(e);let r=v(5);return E(r.close(n))}),P(1,"TimesIcon"),I()}if(s&2){let e=v(5);f("ngClass",qi(2,w5)),k("aria-label",e.closeAriaLabel)}}function E5(s,t){if(s&1&&(T(0,"div",14),S(1,D5,2,2,"span",16),T(2,"div",17),S(3,O5,2,3,"button",18),I()()),s&2){let e=v(4);_(),f("ngIf",e.option("header")),_(2),f("ngIf",e.closable)}}function k5(s,t){if(s&1&&P(0,"i",3),s&2){let e=v(4);W(e.option("icon")),f("ngClass","p-confirm-dialog-icon")}}function M5(s,t){}function A5(s,t){s&1&&S(0,M5,0,0,"ng-template")}function F5(s,t){if(s&1&&(ee(0),S(1,A5,1,0,null,15),te()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.iconTemplate)}}function V5(s,t){if(s&1&&P(0,"span",21),s&2){let e=v(4);f("innerHTML",e.option("message"),So)}}function R5(s,t){}function L5(s,t){s&1&&S(0,R5,0,0,"ng-template")}function P5(s,t){if(s&1&&(ee(0),S(1,L5,1,0,null,7),te()),s&2){let e=v(4);_(),f("ngTemplateOutlet",e.messageTemplate)("ngTemplateOutletContext",he(2,mv,e.confirmation))}}function N5(s,t){s&1&&pe(0)}function j5(s,t){if(s&1&&(T(0,"div",22),ct(1),S(2,N5,1,0,"ng-container",15),I()),s&2){let e=v(4);_(2),f("ngTemplateOutlet",e.footerTemplate)}}function B5(s,t){if(s&1&&P(0,"i"),s&2){let e=v(7);W(e.option("rejectIcon"))}}function U5(s,t){s&1&&P(0,"TimesIcon",28),s&2&&f("styleClass","p-button-icon-left")}function H5(s,t){if(s&1&&(ee(0),S(1,B5,1,2,"i",26)(2,U5,1,1,"TimesIcon",27),te()),s&2){let e=v(6);_(),f("ngIf",e.option("rejectIcon")),_(),f("ngIf",!e.option("rejectIcon"))}}function z5(s,t){}function W5(s,t){s&1&&S(0,z5,0,0,"ng-template")}function Y5(s,t){if(s&1&&(T(0,"span",29),S(1,W5,1,0,null,15),I()),s&2){let e=v(6);_(),f("ngTemplateOutlet",e.rejectIconTemplate)}}function G5(s,t){if(s&1){let e=Z();T(0,"button",24),z("click",function(){O(e);let n=v(5);return E(n.reject())}),S(1,H5,3,2,"ng-container",11)(2,Y5,2,1,"span",25),I()}if(s&2){let e=v(5);W(e.option("rejectButtonStyleClass")),f("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),k("aria-label",e.rejectAriaLabel),_(),f("ngIf",!e.rejectIconTemplate),_(),f("ngIf",e.rejectIconTemplate)}}function $5(s,t){if(s&1&&P(0,"i"),s&2){let e=v(7);W(e.option("acceptIcon"))}}function q5(s,t){s&1&&P(0,"CheckIcon",28),s&2&&f("styleClass","p-button-icon-left")}function X5(s,t){if(s&1&&(ee(0),S(1,$5,1,2,"i",26)(2,q5,1,1,"CheckIcon",27),te()),s&2){let e=v(6);_(),f("ngIf",e.option("acceptIcon")),_(),f("ngIf",!e.option("acceptIcon"))}}function K5(s,t){}function Z5(s,t){s&1&&S(0,K5,0,0,"ng-template")}function Q5(s,t){if(s&1&&(T(0,"span",29),S(1,Z5,1,0,null,15),I()),s&2){let e=v(6);_(),f("ngTemplateOutlet",e.acceptIconTemplate)}}function J5(s,t){if(s&1){let e=Z();T(0,"button",24),z("click",function(){O(e);let n=v(5);return E(n.accept())}),S(1,X5,3,2,"ng-container",11)(2,Q5,2,1,"span",25),I()}if(s&2){let e=v(5);W(e.option("acceptButtonStyleClass")),f("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),k("aria-label",e.acceptAriaLabel),_(),f("ngIf",!e.acceptIconTemplate),_(),f("ngIf",e.acceptIconTemplate)}}function eA(s,t){if(s&1&&(T(0,"div",22),S(1,G5,3,7,"button",23)(2,J5,3,7,"button",23),I()),s&2){let e=v(4);_(),f("ngIf",e.option("rejectVisible")),_(),f("ngIf",e.option("acceptVisible"))}}function tA(s,t){if(s&1&&(S(0,I5,2,1,"div",8)(1,E5,4,2,"div",8),T(2,"div",9,1),S(4,k5,1,3,"i",10)(5,F5,2,1,"ng-container",11)(6,V5,1,1,"span",12)(7,P5,2,4,"ng-container",11),I(),S(8,j5,3,1,"div",13)(9,eA,3,2,"div",13)),s&2){let e=v(3);f("ngIf",e.headerTemplate),_(),f("ngIf",!e.headerTemplate),_(3),f("ngIf",!e.iconTemplate&&e.option("icon")),_(),f("ngIf",e.iconTemplate),_(),f("ngIf",!e.messageTemplate),_(),f("ngIf",e.messageTemplate),_(),f("ngIf",e.footer||e.footerTemplate),_(),f("ngIf",!e.footer&&!e.footerTemplate)}}function iA(s,t){if(s&1){let e=Z();T(0,"div",5),z("@animation.start",function(n){O(e);let r=v(2);return E(r.onAnimationStart(n))})("@animation.done",function(n){O(e);let r=v(2);return E(r.onAnimationEnd(n))}),S(1,S5,2,4,"ng-container",6)(2,tA,10,8,"ng-template",null,0,It),I()}if(s&2){let e=at(3),i=v(2);W(i.styleClass),f("ngClass",he(9,y5,i.rtl))("ngStyle",i.style)("@animation",he(14,C5,Pe(11,b5,i.transformOptions,i.transitionOptions))),k("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),_(),f("ngIf",i.headlessTemplate)("ngIfElse",e)}}function nA(s,t){if(s&1&&(T(0,"div",3),S(1,iA,4,16,"div",4),I()),s&2){let e=v();W(e.maskStyleClass),f("ngClass",e.getMaskClass()),_(),f("ngIf",e.visible)}}var sA=br([Ct({transform:"{{transform}}",opacity:0}),Lt("{{transition}}",Ct({transform:"none",opacity:1}))]),rA=br([Lt("{{transition}}",Ct({transform:"{{transform}}",opacity:0}))]),iN=(()=>{class s{el;renderer;confirmationService;zone;cd;config;document;header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo;key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onHide=new G;footer;contentViewChild;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"message":this.messageTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"rejecticon":this.rejectIconTemplate=e.template;break;case"accepticon":this.acceptIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break}})}headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;confirmation;_visible;_style;maskVisible;documentEscapeListener;container;wrapper;contentContainer;subscription;maskClickListener;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=Ye();ariaLabelledBy=this.getAriaLabelledBy();confirmationOptions;translationSubscription;constructor(e,i,n,r,o,a,c){this.el=e,this.renderer=i,this.confirmationService=n,this.zone=r,this.cd=o,this.config=a,this.document=c,this.subscription=this.confirmationService.requireConfirmation$.subscribe(u=>{if(!u){this.hide();return}u.key===this.key&&(this.confirmation=u,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:this.confirmation.rejectVisible==null?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:this.confirmation.acceptVisible==null?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:this.confirmation.blockScroll===!1||this.confirmation.blockScroll===!0?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:this.confirmation.closeOnEscape===!1||this.confirmation.closeOnEscape===!0?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:this.confirmation.dismissableMask===!1||this.confirmation.dismissableMask===!0?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new G,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new G,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return this.header!==null?Ye()+"_header":null}option(e){let i=this.confirmationOptions||this;if(i.hasOwnProperty(e))return i[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.contentContainer=M.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();let i=this.getElementToFocus();i&&i.focus();break}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return M.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return M.findSingle(this.container,".p-confirm-dialog-reject");case"close":return M.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return M.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):M.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&M.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&M.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`
                    @media screen and (max-width: ${i}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[i]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e}}close(e){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(Ds.CANCEL),this.hide(Ds.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(wt.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){let i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(n=>n===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){if(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{if(i.which==27&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===wt.get(this.container)&&this.visible&&this.close(i),i.which===9&&this.focusTrap){i.preventDefault();let n=M.getFocusableElements(this.container);if(n&&n.length>0)if(!n[0].ownerDocument.activeElement)n[0].focus();else{let r=n.indexOf(n[0].ownerDocument.activeElement);i.shiftKey?r==-1||r===0?n[n.length-1].focus():n[r-1].focus():r==-1||r===n.length-1?n[0].focus():n[r+1].focus()}}})}}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&wt.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Ds.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Ds.REJECT),this.hide(Ds.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(_t.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(_t.REJECT)}static \u0275fac=function(i){return new(i||s)(U(Ve),U(pt),U(Vl),U(nt),U(Ue),U(ht),U(Re))};static \u0275cmp=$({type:s,selectors:[["p-confirmDialog"]],contentQueries:function(i,n,r){if(i&1&&(je(r,Ll,5),je(r,Ge,4)),i&2){let o;ie(o=ne())&&(n.footer=o.first),ie(o=ne())&&(n.templates=o)}},viewQuery:function(i,n){if(i&1&&ye(g5,5),i&2){let r;ie(r=ne())&&(n.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",B],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",B],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",B],dismissableMask:[2,"dismissableMask","dismissableMask",B],blockScroll:[2,"blockScroll","blockScroll",B],rtl:[2,"rtl","rtl",B],closable:[2,"closable","closable",B],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",B],baseZIndex:[2,"baseZIndex","baseZIndex",ge],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",B],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},features:[Me],ngContentSelectors:v5,decls:1,vars:1,consts:[["notHeadless",""],["content",""],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],["class","p-confirm-dialog-message",3,"innerHTML",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"click","keydown.enter","ngClass"],[1,"p-confirm-dialog-message",3,"innerHTML"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"click","label","ngClass"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(i,n){i&1&&(bt(_5),S(0,nA,2,4,"div",2)),i&2&&f("ngIf",n.maskVisible)},dependencies:()=>[Le,He,qe,Ne,ns,zt,ut,ai],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[Ti("animation",[Ft("void => visible",[Cr(sA)]),Ft("visible => void",[Cr(rA)])])]},changeDetection:0})}return s})(),xp=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Ki,si,ut,ai,Ki,Oe]})}return s})();var oA=["container"],aA=(s,t,e)=>({"p-highlight":s,"p-disabled":t,"p-button-icon-only":e}),lA=(s,t)=>({$implicit:s,index:t});function cA(s,t){if(s&1&&P(0,"span",8),s&2){let e=v(2).$implicit;W(e.icon),f("ngClass","p-button-icon p-button-icon-left"),k("data-pc-section","icon")}}function hA(s,t){if(s&1&&(ee(0),S(1,cA,1,4,"span",6),T(2,"span",7),fe(3),I(),te()),s&2){let e=v().$implicit,i=v();_(),f("ngIf",e.icon),_(),k("data-pc-section","label"),_(),We(i.getOptionLabel(e))}}function uA(s,t){s&1&&pe(0)}function dA(s,t){if(s&1&&S(0,uA,1,0,"ng-container",9),s&2){let e=v(),i=e.$implicit,n=e.index,r=v();f("ngTemplateOutlet",r.selectButtonTemplate)("ngTemplateOutletContext",Pe(2,lA,i,n))}}function pA(s,t){if(s&1){let e=Z();T(0,"div",4),z("click",function(n){let r=O(e),o=r.$implicit,a=r.index,c=v();return E(c.onOptionSelect(n,o,a))})("keydown",function(n){let r=O(e),o=r.$implicit,a=r.index,c=v();return E(c.onKeyDown(n,o,a))})("focus",function(n){let r=O(e).index,o=v();return E(o.onFocus(n,r))})("blur",function(){O(e);let n=v();return E(n.onBlur())}),S(1,hA,4,3,"ng-container",5)(2,dA,1,5,"ng-template",null,1,It),I()}if(s&2){let e=t.$implicit,i=t.index,n=at(3),r=v();W(e.styleClass),f("role",r.multiple?"checkbox":"radio")("ngClass",Si(14,aA,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e)))("autofocus",r.autofocus),k("tabindex",i===r.focusedIndex&&!r.disabled?"0":"-1")("aria-label",e.label)("aria-checked",r.isSelected(e))("aria-disabled",r.optionDisabled)("title",e.title)("aria-labelledby",r.getOptionLabel(e))("data-pc-section","button"),_(),f("ngIf",!r.itemTemplate)("ngIfElse",n)}}var fA={provide:ni,useExisting:Bt(()=>mA),multi:!0},mA=(()=>{class s{cd;options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;disabled;dataKey;autofocus;onOptionClick=new G;onChange=new G;container;itemTemplate;get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;constructor(e){this.cd=e}getOptionLabel(e){return this.optionLabel?ae.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?ae.resolveFieldData(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?ae.resolveFieldData(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionSelect(e,i,n){if(this.disabled||this.isOptionDisabled(i))return;let r=this.isSelected(i);if(r&&this.unselectable)return;let o=this.getOptionValue(i),a;if(this.multiple)r?a=this.value.filter(c=>!ae.equals(c,o,this.equalityKey)):a=this.value?[...this.value,o]:[o];else{if(r&&!this.allowEmpty)return;a=r?null:o}this.focusedIndex=n,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:i,index:n})}onKeyDown(e,i,n){switch(e.code){case"Space":{this.onOptionSelect(e,i,n),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(e,"next"),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(e,"prev"),e.preventDefault();break}default:break}}changeTabIndexes(e,i){let n,r;for(let o=0;o<=this.container.nativeElement.children.length-1;o++)this.container.nativeElement.children[o].getAttribute("tabindex")==="0"&&(n={elem:this.container.nativeElement.children[o],index:o});i==="prev"?n.index===0?r=this.container.nativeElement.children.length-1:r=n.index-1:n.index===this.container.nativeElement.children.length-1?r=0:r=n.index+1,this.focusedIndex=r,this.container.nativeElement.children[r].focus()}onFocus(e,i){this.focusedIndex=i}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!ae.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,n=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let r of this.value)if(ae.equals(r,n,this.dataKey)){i=!0;break}}}else i=ae.equals(this.getOptionValue(e),this.value,this.equalityKey);return i}static \u0275fac=function(i){return new(i||s)(U(Ue))};static \u0275cmp=$({type:s,selectors:[["p-selectButton"]],contentQueries:function(i,n,r){if(i&1&&je(r,Ge,5),i&2){let o;ie(o=ne())&&(n.itemTemplate=o.first)}},viewQuery:function(i,n){if(i&1&&ye(oA,5),i&2){let r;ie(r=ne())&&(n.container=r.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",B],tabindex:[2,"tabindex","tabindex",ge],multiple:[2,"multiple","multiple",B],allowEmpty:[2,"allowEmpty","allowEmpty",B],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",B],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",B]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Kt([fA]),Me],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(T(0,"div",2,0),S(2,pA,4,18,"div",3),I()),i&2&&(W(n.styleClass),f("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",n.style),k("aria-labelledby",n.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),_(2),f("ngForOf",n.options))},dependencies:[Le,ti,He,qe,Ne,zt,mi],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0})}return s})(),Sp=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,si,Oe,Ui,Oe]})}return s})();var gv=(()=>{class s{http;baseUrl=Uc.apiUrl+"/api/contracts";constructor(e){this.http=e}getAgreement(e){return this.http.get(`${this.baseUrl}/v1/view/${e}`)}static \u0275fac=function(i){return new(i||s)(ke(xs))};static \u0275prov=Se({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var gA=["sliderHandle"],_A=["sliderHandleStart"],vA=["sliderHandleEnd"],yA=(s,t,e,i)=>({"p-slider p-component":!0,"p-disabled":s,"p-slider-horizontal":t,"p-slider-vertical":e,"p-slider-animate":i}),bA=(s,t)=>({left:s,width:t}),CA=(s,t)=>({bottom:s,height:t}),wA=s=>({height:s}),xA=s=>({width:s}),Tp=(s,t)=>({left:s,bottom:t}),_v=s=>({"p-slider-handle-active":s});function SA(s,t){if(s&1&&P(0,"span",8),s&2){let e=v();f("ngStyle",Pe(2,bA,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),k("data-pc-section","range")}}function TA(s,t){if(s&1&&P(0,"span",8),s&2){let e=v();f("ngStyle",Pe(2,CA,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),k("data-pc-section","range")}}function IA(s,t){if(s&1&&P(0,"span",8),s&2){let e=v();f("ngStyle",he(2,wA,e.handleValue+"%")),k("data-pc-section","range")}}function DA(s,t){if(s&1&&P(0,"span",8),s&2){let e=v();f("ngStyle",he(2,xA,e.handleValue+"%")),k("data-pc-section","range")}}function OA(s,t){if(s&1){let e=Z();T(0,"span",9,0),z("touchstart",function(n){O(e);let r=v();return E(r.onDragStart(n))})("touchmove",function(n){O(e);let r=v();return E(r.onDrag(n))})("touchend",function(n){O(e);let r=v();return E(r.onDragEnd(n))})("mousedown",function(n){O(e);let r=v();return E(r.onMouseDown(n))})("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n))}),I()}if(s&2){let e=v();$n("transition",e.dragging?"none":null),f("ngStyle",Pe(12,Tp,e.orientation=="horizontal"?e.handleValue+"%":null,e.orientation=="vertical"?e.handleValue+"%":null))("autofocus",e.autofocus),k("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","handle")}}function EA(s,t){if(s&1){let e=Z();T(0,"span",10,1),z("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n,0))})("mousedown",function(n){O(e);let r=v();return E(r.onMouseDown(n,0))})("touchstart",function(n){O(e);let r=v();return E(r.onDragStart(n,0))})("touchmove",function(n){O(e);let r=v();return E(r.onDrag(n,0))})("touchend",function(n){O(e);let r=v();return E(r.onDragEnd(n))}),I()}if(s&2){let e=v();$n("transition",e.dragging?"none":null),f("ngStyle",Pe(13,Tp,e.rangeStartLeft,e.rangeStartBottom))("ngClass",he(16,_v,e.handleIndex==0))("autofocus",e.autofocus),k("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","startHandler")}}function kA(s,t){if(s&1){let e=Z();T(0,"span",11,2),z("keydown",function(n){O(e);let r=v();return E(r.onKeyDown(n,1))})("mousedown",function(n){O(e);let r=v();return E(r.onMouseDown(n,1))})("touchstart",function(n){O(e);let r=v();return E(r.onDragStart(n,1))})("touchmove",function(n){O(e);let r=v();return E(r.onDrag(n,1))})("touchend",function(n){O(e);let r=v();return E(r.onDragEnd(n))}),I()}if(s&2){let e=v();$n("transition",e.dragging?"none":null),f("ngStyle",Pe(12,Tp,e.rangeEndLeft,e.rangeEndBottom))("ngClass",he(15,_v,e.handleIndex==1)),k("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","endHandler")}}var MA={provide:ni,useExisting:Bt(()=>AA),multi:!0},AA=(()=>{class s{document;platformId;el;renderer;ngZone;cd;animate;disabled;min=0;max=100;orientation="horizontal";step;range;style;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;autofocus;onChange=new G;onSlideEnd=new G;sliderHandle;sliderHandleStart;sliderHandleEnd;value;values;handleValue;handleValues=[];diff;offset;bottom;onModelChange=()=>{};onModelTouched=()=>{};dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;constructor(e,i,n,r,o,a){this.document=e,this.platformId=i,this.el=n,this.renderer=r,this.ngZone=o,this.cd=a}onMouseDown(e,i){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&M.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onDragStart(e,i){if(!this.disabled){var n=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[i]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.orientation==="horizontal"?(this.startx=parseInt(n.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(n.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&M.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onDrag(e){if(!this.disabled){var i=e.changedTouches[0],n=0;this.orientation==="horizontal"?n=Math.floor((parseInt(i.clientX,10)-this.startx)*100/this.barWidth)+this.startHandleValue:n=Math.floor((this.starty-parseInt(i.clientY,10))*100/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,n),e.preventDefault()}}onDragEnd(e){this.disabled||(this.dragging=!1,this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value}),this.animate&&M.addClass(this.el.nativeElement.children[0],"p-slider-animate"))}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e),this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(e,i){switch(this.handleIndex=i,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,i),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,i),e.preventDefault();break;case"PageDown":this.decrementValue(e,i,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,i,!0),e.preventDefault();break;case"Home":this.updateValue(this.min,e),e.preventDefault();break;case"End":this.updateValue(this.max,e),e.preventDefault();break;case"Tab":this.onDragEnd(e);break;default:break}}decrementValue(e,i,n=!1){let r;this.range?this.step?r=this.values[i]-this.step:r=this.values[i]-1:this.step?r=this.value-this.step:!this.step&&n?r=this.value-10:r=this.value-1,this.updateValue(r,e),e.preventDefault()}incrementValue(e,i,n=!1){let r;this.range?this.step?r=this.values[i]+this.step:r=this.values[i]+1:this.step?r=this.value+this.step:!this.step&&n?r=this.value+10:r=this.value+1,this.updateValue(r,e),e.preventDefault()}handleChange(e){let i=this.calculateHandleValue(e);this.setValueFromHandle(e,i)}bindDragListeners(){Ot(this.platformId)&&this.ngZone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",i=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(i)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",i=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.range?this.onSlideEnd.emit({originalEvent:i,values:this.values}):this.onSlideEnd.emit({originalEvent:i,value:this.value}),this.animate&&M.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(e,i){let n=this.getValueFromHandle(i);this.range?this.step?this.handleStepChange(n,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=i,this.updateValue(n,e)):this.step?this.handleStepChange(n,this.value):(this.handleValue=i,this.updateValue(n,e)),this.cd.markForCheck()}handleStepChange(e,i){let n=e-i,r=i,o=this.step;n<0?r=i+Math.ceil(e/o-i/o)*o:n>0&&(r=i+Math.floor(e/o-i/o)*o),this.updateValue(r),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return this.orientation==="vertical"}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+M.getWindowScrollLeft(),this.initY=e.top+M.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return this.orientation==="horizontal"?(e.pageX-this.initX)*100/this.barWidth:(this.initY+this.barHeight-e.pageY)*100/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=(this.values[0]<this.min?0:this.values[0]-this.min)*100/(this.max-this.min),this.handleValues[1]=(this.values[1]>this.max?100:this.values[1]-this.min)*100/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=(this.value-this.min)*100/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,i){if(this.range){let n=e;this.handleIndex==0?(n<this.min?(n=this.min,this.handleValues[0]=0):n>this.values[1]&&n>this.max&&(n=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(n>this.max?(n=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):n<this.min?(n=this.min,this.handleValues[1]=0):n<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(n);let r=[this.minVal,this.maxVal];this.onModelChange(r),this.onChange.emit({event:i,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:i,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(e){return(this.max-this.min)*(e/100)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let i=this.getDecimalsCount(this.step);return i>0?+parseFloat(e.toString()).toFixed(i):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}static \u0275fac=function(i){return new(i||s)(U(Re),U(gt),U(Ve),U(pt),U(nt),U(Ue))};static \u0275cmp=$({type:s,selectors:[["p-slider"]],viewQuery:function(i,n){if(i&1&&(ye(gA,5),ye(_A,5),ye(vA,5)),i&2){let r;ie(r=ne())&&(n.sliderHandle=r.first),ie(r=ne())&&(n.sliderHandleStart=r.first),ie(r=ne())&&(n.sliderHandleEnd=r.first)}},hostAttrs:[1,"p-element"],inputs:{animate:[2,"animate","animate",B],disabled:[2,"disabled","disabled",B],min:[2,"min","min",ge],max:[2,"max","max",ge],orientation:"orientation",step:[2,"step","step",ge],range:[2,"range","range",B],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",ge],autofocus:[2,"autofocus","autofocus",B]},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[Kt([MA]),Me],decls:8,vars:18,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"click","ngStyle","ngClass"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","autofocus","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","ngClass","autofocus","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle","role","slider",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle","autofocus"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass","autofocus"],["role","slider",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass"]],template:function(i,n){i&1&&(T(0,"div",3),z("click",function(o){return n.onBarClick(o)}),S(1,SA,1,5,"span",4)(2,TA,1,5,"span",4)(3,IA,1,4,"span",4)(4,DA,1,4,"span",4)(5,OA,2,15,"span",5)(6,EA,2,18,"span",6)(7,kA,2,17,"span",7),I()),i&2&&(W(n.styleClass),f("ngStyle",n.style)("ngClass",qn(13,yA,n.disabled,n.orientation=="horizontal",n.orientation=="vertical",n.animate)),k("data-pc-name","slider")("data-pc-section","root"),_(),f("ngIf",n.range&&n.orientation=="horizontal"),_(),f("ngIf",n.range&&n.orientation=="vertical"),_(),f("ngIf",!n.range&&n.orientation=="vertical"),_(),f("ngIf",!n.range&&n.orientation=="horizontal"),_(),f("ngIf",!n.range),_(),f("ngIf",n.range),_(),f("ngIf",n.range))},dependencies:[Le,He,Ne,mi],styles:[`@layer primeng{.p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}}
`],encapsulation:2,changeDetection:0})}return s})(),Ip=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({imports:[Te,Ui]})}return s})();var oj=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=de({type:s});static \u0275inj=ue({providers:[wm(),pv,Fr,Vl,gv],imports:[Te,Ou,zu,Ru,qu,Xu,Ku,Ju,ed,Ip,ca,td,id,ad,wp,xp,Sp,Ou,zu,Ru,qu,Xu,Ku,Ju,ed,Ip,ca,td,id,ad,Te,wp,xp,Sp]})}return s})();export{xm as a,fF as b,Ew as c,Qn as d,RF as e,LF as f,Vl as g,Fr as h,ht as i,Ge as j,X6 as k,jg as l,p9 as m,Vu as n,pI as o,Wu as p,yO as q,iE as r,nE as s,_E as t,r0 as u,KE as v,v8 as w,w8 as x,I8 as y,NL as z,h0 as A,ha as B,u0 as C,lP as D,Uc as E,pv as F,VP as G,iN as H,mA as I,gv as J,oj as K};
